function _show_error(e){$(".modal-body .dialog_message").removeClass("hidden"),$(".modal-body .dialog_message").text(e),$(".modal-body .dialog_message").addClass("red")}function _hide_error(){$(".modal-body .dialog_message").addClass("hidden"),$(".modal-body .dialog_message").removeClass("red"),$(".modal-body .dialog_message").text("")}function text_truncate(e,t,n){return null==t&&(t=100),null==n&&(n="..."),e.length>t?e.substring(0,t-n.length)+n:e}function enable_btn(e){var t=$(e).attr("data-title");$(e).html(t),$(e).attr("disabled",!1)}function disable_btn(e){var t=$(e).html();$(e).html("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$(e).attr("disabled",!0),$(e).attr("data-title",t)}function isElementInViewport(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function array_unique_values(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))}function merge_object(e,t){for(var n in t)e[n]=t[n];return e}function clean_object(e){for(var t in e)null!==e[t]&&void 0!==e[t]||delete e[t];return e}function hsoub_grs(e){var t="",n=e/10;for(i=0;i<n;i++)t+=Math.random().toString(36).substr(2,10);return t}function update_total_price(){var e=[],t=parseInt($("#service_base_price").val()),n=parseInt($("#service_quantity").val()),r=$("#service_id").val(),i=$("#user_id").val(),o=parseInt($("#user_credit").val());$.each($(".service_upgrade_check:checked"),(function(){var n=$(this);e.push(n.val()),t+=parseInt(n.closest("tr").find(".service-upgrade-price").attr("data-price"))}));var s=t*n;$("#paypal_payment").length&&($('#paypal_payment input[name="quantity"]').val(n),$('#paypal_payment input[name="custom"]').val(i+":"+r+":"+e.join(":"))),$("#khamsat_payment").length&&($('#khamsat_payment input[name="quantity"]').val(n),$('#khamsat_payment input[name="custom"]').val(i+":"+r+":"+e.join(":")),s>o?$("#khamsat_payment").fadeOut(1):$("#khamsat_payment").fadeIn(1)),$("#show_cc_form").length&&($('#cc_payment_form input[name="quantity"]').val(n),$('#cc_payment_form input[name="custom"]').val(i+":"+r+":"+e.join(":"))),$(".order_price").text(t),$(".total_order_price").text(s)}function getSubCategories(e,t,n=!1){var r="";r=n?"/admin/ajax/sub_category":"/ajax/sub_category",$.ajax({url:r,method:"POST",dataType:"json",data:{category_name:e}}).done((function(e){var n=$(t)[0].selectize;n.clear(),n.clearOptions(),n.load((function(t){var r=[],i=!1;e.sub_categories.forEach((e=>{"true"==escapeHtml(e.disable)&&(i=!0),r.push({disable:i,itemName:escapeHtml(e.title),itemValue:escapeHtml(e.name),itemNested:escapeHtml(e.nested)}),i=!1})),n.refreshOptions(),t(r)}))}))}function loadSubCategories(e,t){$("#new-service-form").length>0||$("#admin_service_edit").length>0?getSubCategories(e,t):getSubCategories(e,t,!0)}function labnolIframe(){var e=document.createElement("iframe"),t="https://www.youtube.com/embed/ID?autoplay=1";e.setAttribute("src",t.replace("ID",this.dataset.id)+this.dataset.ido),e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","1"),this.appendChild(e)}function getUrlFloatParam(e){var t=new URLSearchParams(window.location.search),n=parseFloat(t.get(e));return isNaN(n)||(n=n.toFixed(2)),n}function hideHsoubTabs(){$("body").addClass("hsoub-tab-bar-hidden")}function showHsoubTabs(){$("body").removeClass("hsoub-tab-bar-hidden")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function __guard__(e,t){return null!=e?t(e):void 0}function __guardMethod__(e,t,n){return null!=e&&"function"==typeof e[t]?n(e,t):void 0}function RecordRTC(e,t){function n(n){return n&&(t=new RecordRTCConfiguration(e,n)),t.disableLogs||console.log("started recording "+t.type+" stream."),f?(f.clearRecordedData(),f.record(),u("recording"),h.recordingDuration&&c(),h):(r((function(){h.recordingDuration&&c()})),h)}function r(n){n&&(t.initCallback=function(){n(),n=t.initCallback=null});var r=new GetRecorderType(e,t);(f=new r(e,t)).record(),u("recording"),t.disableLogs||console.log("Initialized recorderType:",f.constructor.name,"for output-type:",t.type)}function i(e){function n(n){if(f){Object.keys(f).forEach((function(e){"function"!=typeof f[e]&&(h[e]=f[e])}));var r=f.blob;if(!r){if(!n)throw"Recording failed.";f.blob=r=n}if(r&&!t.disableLogs&&console.log(r.type,"->",bytesToSize(r.size)),e){var i;try{i=URL.createObjectURL(r)}catch(e){}"function"==typeof e.call?e.call(h,i):e(i)}t.autoWriteToDisk&&l((function(e){var n={};n[t.type+"Blob"]=e,DiskStorage.Store(n)}))}else"function"==typeof e.call?e.call(h,""):e("")}return e=e||function(){},f?"paused"===h.state?(h.resumeRecording(),void setTimeout((function(){i(e)}),1)):("recording"===h.state||t.disableLogs||console.warn('Recording state should be: "recording", however current state is: ',h.state),t.disableLogs||console.log("Stopped recording "+t.type+" stream."),"gif"!==t.type?f.stop(n):(f.stop(),n()),void u("stopped")):void d()}function o(){return f?"recording"!==h.state?void(t.disableLogs||console.warn("Unable to pause the recording. Recording state: ",h.state)):(u("paused"),f.pause(),void(t.disableLogs||console.log("Paused recording."))):void d()}function s(){return f?"paused"!==h.state?void(t.disableLogs||console.warn("Unable to resume the recording. Recording state: ",h.state)):(u("recording"),f.resume(),void(t.disableLogs||console.log("Resumed recording."))):void d()}function a(e){postMessage((new FileReaderSync).readAsDataURL(e))}function l(e,n){function r(e){try{var t=URL.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return URL.revokeObjectURL(t),n}catch(e){}}if(!e)throw"Pass a callback function over getDataURL.";var i=n?n.blob:(f||{}).blob;if(!i)return t.disableLogs||console.warn("Blob encoder did not finish its job yet."),void setTimeout((function(){l(e,n)}),1e3);if("undefined"==typeof Worker||navigator.mozGetUserMedia){var o=new FileReader;o.readAsDataURL(i),o.onload=function(t){e(t.target.result)}}else{var s=r(a);s.onmessage=function(t){e(t.data)},s.postMessage(i)}}function c(e){if(e=e||0,"paused"!==h.state){if("stopped"!==h.state){if(e>=h.recordingDuration)return void i(h.onRecordingStopped);e+=1e3,setTimeout((function(){c(e)}),1e3)}}else setTimeout((function(){c(e)}),1e3)}function u(e){h&&(h.state=e,"function"==typeof h.onStateChanged.call?h.onStateChanged.call(h,e):h.onStateChanged(e))}function d(){!0!==t.disableLogs&&console.warn(p)}if(!e)throw"First parameter is required.";t=new RecordRTCConfiguration(e,t=t||{type:"video"});var f,h=this,p='It seems that recorder is destroyed or "startRecording" is not invoked for '+t.type+" recorder.",m={startRecording:n,stopRecording:i,pauseRecording:o,resumeRecording:s,initRecorder:r,setRecordingDuration:function(e,t){if(void 0===e)throw"recordingDuration is required.";if("number"!=typeof e)throw"recordingDuration must be a number.";return h.recordingDuration=e,h.onRecordingStopped=t||function(){},{onRecordingStopped:function(e){h.onRecordingStopped=e}}},clearRecordedData:function(){return f?(f.clearRecordedData(),void(t.disableLogs||console.log("Cleared old recorded data."))):void d()},getBlob:function(){return f?f.blob:void d()},getDataURL:l,toURL:function(){return f?URL.createObjectURL(f.blob):void d()},getInternalRecorder:function(){return f},save:function(e){return f?void invokeSaveAsDialog(f.blob,e):void d()},getFromDisk:function(e){return f?void RecordRTC.getFromDisk(t.type,e):void d()},setAdvertisementArray:function(e){t.advertisement=[];for(var n=e.length,r=0;r<n;r++)t.advertisement.push({duration:r,image:e[r]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){f&&"function"==typeof f.clearRecordedData&&f.clearRecordedData(),f=null,u("inactive"),h.blob=null},onStateChanged:function(e){t.disableLogs||console.log("Recorder state changed:",e)},state:"inactive",getState:function(){return h.state},destroy:function(){var e=t.disableLogs;t={disableLogs:!0},h.reset(),u("destroyed"),m=h=null,Storage.AudioContextConstructor&&(Storage.AudioContextConstructor.close(),Storage.AudioContextConstructor=null),t.disableLogs=e,t.disableLogs||console.warn("RecordRTC is destroyed.")},version:"5.5.7"};if(!this)return h=m,m;for(var g in m)this[g]=m[g];return h=this,m}function RecordRTCConfiguration(e,t){return t.recorderType||t.type||(t.audio&&t.video?t.type="video":t.audio&&!t.video&&(t.type="audio")),t.recorderType&&!t.type&&(t.recorderType===WhammyRecorder||t.recorderType===CanvasRecorder||void 0!==WebAssemblyRecorder&&t.recorderType===WebAssemblyRecorder?t.type="video":t.recorderType===GifRecorder?t.type="gif":t.recorderType===StereoAudioRecorder?t.type="audio":t.recorderType===MediaStreamRecorder&&(getTracks(e,"audio").length&&getTracks(e,"video").length||!getTracks(e,"audio").length&&getTracks(e,"video").length?t.type="video":getTracks(e,"audio").length&&!getTracks(e,"video").length&&(t.type="audio"))),void 0!==MediaStreamRecorder&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(t.mimeType||(t.mimeType="video/webm"),t.type||(t.type=t.mimeType.split("/")[0]),t.bitsPerSecond),t.type||(t.mimeType&&(t.type=t.mimeType.split("/")[0]),t.type||(t.type="audio")),t}function GetRecorderType(e,t){var n;return(isChrome||isEdge||isOpera)&&(n=StereoAudioRecorder),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&!isChrome&&(n=MediaStreamRecorder),"video"===t.type&&(isChrome||isOpera)&&(n=WhammyRecorder,void 0!==WebAssemblyRecorder&&"undefined"!=typeof ReadableStream&&(n=WebAssemblyRecorder)),"gif"===t.type&&(n=GifRecorder),"canvas"===t.type&&(n=CanvasRecorder),isMediaRecorderCompatible()&&n!==CanvasRecorder&&n!==GifRecorder&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(getTracks(e,"video").length||getTracks(e,"audio").length)&&("audio"===t.type?"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm")&&(n=MediaStreamRecorder):"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("video/webm")&&(n=MediaStreamRecorder)),e instanceof Array&&e.length&&(n=MultiStreamRecorder),t.recorderType&&(n=t.recorderType),!t.disableLogs&&n&&n.name&&console.log("Using recorderType:",n.name||n.constructor.name),!n&&isSafari&&(n=MediaStreamRecorder),n}function MRecordRTC(e){this.addStream=function(t){t&&(e=t)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var t,n=this.mediaType,r=this.mimeType||{audio:null,video:null,gif:null};if("function"!=typeof n.audio&&isMediaRecorderCompatible()&&!getTracks(e,"audio").length&&(n.audio=!1),"function"!=typeof n.video&&isMediaRecorderCompatible()&&!getTracks(e,"video").length&&(n.video=!1),"function"!=typeof n.gif&&isMediaRecorderCompatible()&&!getTracks(e,"video").length&&(n.gif=!1),!n.audio&&!n.video&&!n.gif)throw"MediaStream must have either audio or video tracks.";if(n.audio&&(t=null,"function"==typeof n.audio&&(t=n.audio),this.audioRecorder=new RecordRTC(e,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:t,mimeType:r.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),n.video||this.audioRecorder.startRecording()),n.video){t=null,"function"==typeof n.video&&(t=n.video);var i=e;if(isMediaRecorderCompatible()&&n.audio&&"function"==typeof n.audio){var o=getTracks(e,"video")[0];isFirefox?((i=new MediaStream).addTrack(o),t&&t===WhammyRecorder&&(t=MediaStreamRecorder)):(i=new MediaStream).addTrack(o)}this.videoRecorder=new RecordRTC(i,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:t,mimeType:r.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),n.audio||this.videoRecorder.startRecording()}if(n.audio&&n.video){var s=this,a=!0===isMediaRecorderCompatible();(n.audio instanceof StereoAudioRecorder&&n.video||!0!==n.audio&&!0!==n.video&&n.audio!==n.video)&&(a=!1),!0===a?(s.audioRecorder=null,s.videoRecorder.startRecording()):s.videoRecorder.initRecorder((function(){s.audioRecorder.initRecorder((function(){s.videoRecorder.startRecording(),s.audioRecorder.startRecording()}))}))}n.gif&&(t=null,"function"==typeof n.gif&&(t=n.gif),this.gifRecorder=new RecordRTC(e,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:t,mimeType:r.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(e){e=e||function(){},this.audioRecorder&&this.audioRecorder.stopRecording((function(t){e(t,"audio")})),this.videoRecorder&&this.videoRecorder.stopRecording((function(t){e(t,"video")})),this.gifRecorder&&this.gifRecorder.stopRecording((function(t){e(t,"gif")}))},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(e){var t={};return this.audioRecorder&&(t.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(t.video=this.videoRecorder.getBlob()),this.gifRecorder&&(t.gif=this.gifRecorder.getBlob()),e&&e(t),t},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(e){function t(e,t){if("undefined"!=typeof Worker){var r=n((function(e){postMessage((new FileReaderSync).readAsDataURL(e))}));r.onmessage=function(e){t(e.data)},r.postMessage(e)}else{var i=new FileReader;i.readAsDataURL(e),i.onload=function(e){t(e.target.result)}}}function n(e){var t,n=URL.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),r=new Worker(n);if(void 0!==URL)t=URL;else{if("undefined"==typeof webkitURL)throw"Neither URL nor webkitURL detected.";t=webkitURL}return t.revokeObjectURL(n),r}this.getBlob((function(n){n.audio&&n.video?t(n.audio,(function(r){t(n.video,(function(t){e({audio:r,video:t})}))})):n.audio?t(n.audio,(function(t){e({audio:t})})):n.video&&t(n.video,(function(t){e({video:t})}))}))},this.writeToDisk=function(){RecordRTC.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(e){(e=e||{audio:!0,video:!0,gif:!0}).audio&&this.audioRecorder&&this.audioRecorder.save("string"==typeof e.audio?e.audio:""),e.video&&this.videoRecorder&&this.videoRecorder.save("string"==typeof e.video?e.video:""),e.gif&&this.gifRecorder&&this.gifRecorder.save("string"==typeof e.gif?e.gif:"")}}function bytesToSize(e){var t=1e3,n=["Bytes","KB","MB","GB","TB"];if(0===e)return"0 Bytes";var r=parseInt(Math.floor(Math.log(e)/Math.log(t)),10);return(e/Math.pow(t,r)).toPrecision(3)+" "+n[r]}function invokeSaveAsDialog(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(e){}var n=(e.type||"video/webm").split("/")[1];if(t&&-1!==t.indexOf(".")){var r=t.split(".");t=r[0],n=r[1]}var i=(t||Math.round(9999999999*Math.random())+888888888)+"."+n;if(void 0!==navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,i);if(void 0!==navigator.msSaveBlob)return navigator.msSaveBlob(e,i);var o=document.createElement("a");o.href=URL.createObjectURL(e),o.download=i,o.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(o),"function"==typeof o.click?o.click():(o.target="_blank",o.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),URL.revokeObjectURL(o.href)}function isElectron(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}function getTracks(e,t){return e&&e.getTracks?e.getTracks().filter((function(e){return e.kind===(t||"audio")})):[]}function setSrcObject(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}function getSeekableBlob(e,t){if("undefined"==typeof EBML)throw new Error("Please link: https://cdn.webrtc-experiment.com/EBML.js");var n=new EBML.Reader,r=new EBML.Decoder,i=EBML.tools,o=new FileReader;o.onload=function(){r.decode(this.result).forEach((function(e){n.read(e)})),n.stop();var e=i.makeMetadataSeekable(n.metadatas,n.duration,n.cues),o=this.result.slice(n.metadataSize),s=new Blob([e,o],{type:"video/webm"});t(s)},o.readAsArrayBuffer(e)}function isMediaRecorderCompatible(){if(isFirefox||isSafari||isEdge)return!0;var e,t,n=(navigator.appVersion,navigator.userAgent),r=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10);return(isChrome||isOpera)&&(e=n.indexOf("Chrome"),r=n.substring(e+7)),-1!==(t=r.indexOf(";"))&&(r=r.substring(0,t)),-1!==(t=r.indexOf(" "))&&(r=r.substring(0,t)),i=parseInt(""+r,10),isNaN(i)&&(r=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10)),i>=49}function MediaStreamRecorder(e,t){function n(){s.timestamps.push((new Date).getTime()),"function"==typeof t.onTimeStamp&&t.onTimeStamp(s.timestamps[s.timestamps.length-1],s.timestamps)}function r(e){return l&&l.mimeType?l.mimeType:e.mimeType||"video/webm"}function i(){c=[],l=null,s.timestamps=[]}function o(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}var s=this;if(void 0===e)throw'First argument "MediaStream" is required.';if("undefined"==typeof MediaRecorder)throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if("audio"===(t=t||{mimeType:"video/webm"}).type){var a;if(getTracks(e,"video").length&&getTracks(e,"audio").length)navigator.mozGetUserMedia?(a=new MediaStream).addTrack(getTracks(e,"audio")[0]):a=new MediaStream(getTracks(e,"audio")),e=a;t.mimeType&&-1!==t.mimeType.toString().toLowerCase().indexOf("audio")||(t.mimeType=isChrome?"audio/webm":"audio/ogg"),t.mimeType&&"audio/ogg"!==t.mimeType.toString().toLowerCase()&&navigator.mozGetUserMedia&&(t.mimeType="audio/ogg")}var l,c=[];this.getArrayOfBlobs=function(){return c},this.record=function(){s.blob=null,s.clearRecordedData(),s.timestamps=[],u=[],c=[];var i=t;t.disableLogs||console.log("Passing following config over MediaRecorder API.",i),l&&(l=null),isChrome&&!isMediaRecorderCompatible()&&(i="video/vp8"),"function"==typeof MediaRecorder.isTypeSupported&&i.mimeType&&(MediaRecorder.isTypeSupported(i.mimeType)||(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",i.mimeType),i.mimeType="audio"===t.type?"audio/webm":"video/webm"));try{l=new MediaRecorder(e,i),t.mimeType=i.mimeType}catch(t){l=new MediaRecorder(e)}i.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in l&&!1===l.canRecordMimeType(i.mimeType)&&(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",i.mimeType)),l.ondataavailable=function(e){if(e.data&&u.push("ondataavailable: "+bytesToSize(e.data.size)),"number"!=typeof t.timeSlice){if(!e.data||!e.data.size||e.data.size<100||s.blob)return void(s.recordingCallback&&(s.recordingCallback(new Blob([],{type:r(i)})),s.recordingCallback=null));s.blob=t.getNativeBlob?e.data:new Blob([e.data],{type:r(i)}),s.recordingCallback&&(s.recordingCallback(s.blob),s.recordingCallback=null)}else if(e.data&&e.data.size&&e.data.size>100&&(c.push(e.data),n(),"function"==typeof t.ondataavailable)){var o=t.getNativeBlob?e.data:new Blob([e.data],{type:r(i)});t.ondataavailable(o)}},l.onstart=function(){u.push("started")},l.onpause=function(){u.push("paused")},l.onresume=function(){u.push("resumed")},l.onstop=function(){u.push("stopped")},l.onerror=function(e){var n;e&&(e.name||(e.name="UnknownError"),u.push("error: "+e),t.disableLogs||(-1!==e.name.toString().toLowerCase().indexOf("invalidstate")?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",e):-1!==e.name.toString().toLowerCase().indexOf("notsupported")?console.error("MIME type (",i.mimeType,") is not supported.",e):-1!==e.name.toString().toLowerCase().indexOf("security")?console.error("MediaRecorder security error",e):"OutOfMemory"===e.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"IllegalStreamModification"===e.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"OtherRecordingError"===e.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"GenericError"===e.name?console.error("The UA cannot provide the codec or recording option that has been requested.",e):console.error("MediaRecorder Error",e)),!s.manuallyStopped&&l&&"inactive"===l.state?(delete t.timeslice,l.start(6e5)):setTimeout(n,1e3),"inactive"!==l.state&&"stopped"!==l.state&&l.stop())},"number"==typeof t.timeSlice?(n(),l.start(t.timeSlice)):l.start(36e5),t.initCallback&&t.initCallback()},this.timestamps=[],this.stop=function(e){e=e||function(){},s.manuallyStopped=!0,l&&(this.recordingCallback=e,"recording"===l.state&&l.stop(),"number"==typeof t.timeSlice&&setTimeout((function(){s.blob=new Blob(c,{type:r(t)}),s.recordingCallback(s.blob)}),100))},this.pause=function(){l&&"recording"===l.state&&l.pause()},this.resume=function(){l&&"paused"===l.state&&l.resume()},this.clearRecordedData=function(){l&&"recording"===l.state&&s.stop(i),i()},this.getInternalRecorder=function(){return l},this.blob=null,this.getState=function(){return l&&l.state||"inactive"};var u=[];this.getAllStates=function(){return u},void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!1);s=this;!function e(){if(l&&!1!==t.checkForInactiveTracks)return!1===o()?(t.disableLogs||console.log("MediaStream seems stopped."),void s.stop()):void setTimeout(e,1e3)}(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}function StereoAudioRecorder(e,t){function n(){if(!1===t.checkForInactiveTracks)return!0;if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}function r(e,t){function n(e,t){function n(e,t,n){var i=Math.round(e.length*(t/n)),o=[],s=Number((e.length-1)/(i-1));o[0]=e[0];for(var a=1;a<i-1;a++){var l=a*s,c=Number(Math.floor(l)).toFixed(),u=Number(Math.ceil(l)).toFixed(),d=l-c;o[a]=r(e[c],e[u],d)}return o[i-1]=e[e.length-1],o}function r(e,t,n){return e+(t-e)*n}function i(e,t){for(var n=new Float64Array(t),r=0,i=e.length,o=0;o<i;o++){var s=e[o];n.set(s,r),r+=s.length}return n}function o(e,t){for(var n=e.length+t.length,r=new Float64Array(n),i=0,o=0;o<n;)r[o++]=e[i],r[o++]=t[i],i++;return r}function s(e,t,n){for(var r=n.length,i=0;i<r;i++)e.setUint8(t+i,n.charCodeAt(i))}var a,l=e.numberOfAudioChannels,c=e.leftBuffers.slice(0),u=e.rightBuffers.slice(0),d=e.sampleRate,f=e.internalInterleavedLength,h=e.desiredSampRate;2===l&&(c=i(c,f),u=i(u,f),h&&(c=n(c,h,d),u=n(u,h,d))),1===l&&(c=i(c,f),h&&(c=n(c,h,d))),h&&(d=h),2===l&&(a=o(c,u)),1===l&&(a=c);var p=a.length,m=new ArrayBuffer(44+2*p),g=new DataView(m);s(g,0,"RIFF"),g.setUint32(4,36+2*p,!0),s(g,8,"WAVE"),s(g,12,"fmt "),g.setUint32(16,16,!0),g.setUint16(20,1,!0),g.setUint16(22,l,!0),g.setUint32(24,d,!0),g.setUint32(28,2*d,!0),g.setUint16(32,2*l,!0),g.setUint16(34,16,!0),s(g,36,"data"),g.setUint32(40,2*p,!0);for(var v=p,y=44,b=1,_=0;_<v;_++)g.setInt16(y,a[_]*(32767*b),!0),y+=2;return t?t({buffer:m,view:g}):void postMessage({buffer:m,view:g})}if(e.noWorker)n(e,(function(e){t(e.buffer,e.view)}));else{var r=i(n);r.onmessage=function(e){t(e.data.buffer,e.data.view),URL.revokeObjectURL(r.workerURL),r.terminate()},r.postMessage(e)}}function i(e){var t=URL.createObjectURL(new Blob([e.toString(),";this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return n.workerURL=t,n}function o(){d=[],f=[],p=0,E=!1,h=!1,x=!1,y=null,u.leftchannel=d,u.rightchannel=f,u.numberOfAudioChannels=m,u.desiredSampRate=g,u.sampleRate=C,u.recordingLength=p,S={left:[],right:[],recordingLength:0}}function s(){c&&(c.onaudioprocess=null,c.disconnect(),c=null),b&&(b.disconnect(),b=null),o()}function a(e){if(!x){if(!1===n()&&(t.disableLogs||console.log("MediaStream seems stopped."),c.disconnect(),h=!1),!h)return void(b&&(b.disconnect(),b=null));E||(E=!0,t.onAudioProcessStarted&&t.onAudioProcessStarted(),t.initCallback&&t.initCallback());var r=e.inputBuffer.getChannelData(0),i=new Float32Array(r);if(d.push(i),2===m){var o=e.inputBuffer.getChannelData(1),s=new Float32Array(o);f.push(s)}p+=w,u.recordingLength=p,void 0!==t.timeSlice&&(S.recordingLength+=w,S.left.push(i),2===m&&S.right.push(s))}}function l(){h&&"function"==typeof t.ondataavailable&&void 0!==t.timeSlice&&(S.left.length?(r({desiredSampRate:g,sampleRate:C,numberOfAudioChannels:m,internalInterleavedLength:S.recordingLength,leftBuffers:S.left,rightBuffers:1===m?[]:S.right},(function(e,n){var r=new Blob([n],{type:"audio/wav"});t.ondataavailable(r),setTimeout(l,t.timeSlice)})),S={left:[],right:[],recordingLength:0}):setTimeout(l,t.timeSlice))}if(!getTracks(e,"audio").length)throw"Your stream has no audio tracks.";var c,u=this,d=[],f=[],h=!1,p=0,m=2,g=(t=t||{}).desiredSampRate;if(!0===t.leftChannel&&(m=1),1===t.numberOfAudioChannels&&(m=1),(!m||m<1)&&(m=2),t.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+m),void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!0),this.record=function(){if(!1===n())throw"Please make sure MediaStream is active.";o(),E=x=!1,h=!0,void 0!==t.timeSlice&&l()},this.stop=function(e){e=e||function(){},h=!1,r({desiredSampRate:g,sampleRate:C,numberOfAudioChannels:m,internalInterleavedLength:p,leftBuffers:d,rightBuffers:1===m?[]:f,noWorker:t.noWorker},(function(t,n){u.blob=new Blob([n],{type:"audio/wav"}),u.buffer=new ArrayBuffer(n.buffer.byteLength),u.view=n,u.sampleRate=g||C,u.bufferSize=w,u.length=p,E=!1,e&&e(u.blob)}))},void 0===v)var v={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext};v.AudioContextConstructor||(v.AudioContextConstructor=new v.AudioContext);var y=v.AudioContextConstructor,b=y.createMediaStreamSource(e),_=[0,256,512,1024,2048,4096,8192,16384],w=void 0===t.bufferSize?4096:t.bufferSize;if(-1===_.indexOf(w)&&(t.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(_,null,"\t"))),y.createJavaScriptNode)c=y.createJavaScriptNode(w,m,m);else{if(!y.createScriptProcessor)throw"WebAudio API has no support on this browser.";c=y.createScriptProcessor(w,m,m)}b.connect(c),t.bufferSize||(w=c.bufferSize);var C=void 0!==t.sampleRate?t.sampleRate:y.sampleRate||44100;(C<22050||C>96e3)&&(t.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),t.disableLogs||t.desiredSampRate&&console.log("Desired sample-rate: "+t.desiredSampRate);var x=!1;this.pause=function(){x=!0},this.resume=function(){if(!1===n())throw"Please make sure MediaStream is active.";return h?void(x=!1):(t.disableLogs||console.log("Seems recording has been restarted."),void this.record())},this.clearRecordedData=function(){t.checkForInactiveTracks=!1,h&&this.stop(s),s()},this.name="StereoAudioRecorder",this.toString=function(){return this.name};var E=!1;c.onaudioprocess=a,y.createMediaStreamDestination?c.connect(y.createMediaStreamDestination()):c.connect(y.destination),this.leftchannel=d,this.rightchannel=f,this.numberOfAudioChannels=m,this.desiredSampRate=g,this.sampleRate=C,u.recordingLength=p;var S={left:[],right:[],recordingLength:0}}function CanvasRecorder(e,t){function n(){p.frames=[],l=!1,f=!1}function r(){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),t}function i(){if(f)return h=(new Date).getTime(),setTimeout(i,500);if("canvas"===e.nodeName.toLowerCase()){var n=(new Date).getTime()-h;return h=(new Date).getTime(),p.frames.push({image:r(),duration:n}),void(l&&setTimeout(i,t.frameInterval))}html2canvas(e,{grabMouse:void 0===t.showMousePointer||t.showMousePointer,onrendered:function(e){var n=(new Date).getTime()-h;return n?(h=(new Date).getTime(),p.frames.push({image:e.toDataURL("image/webp",1),duration:n}),void(l&&setTimeout(i,t.frameInterval))):setTimeout(i,t.frameInterval)}})}if("undefined"==typeof html2canvas)throw"Please link: https://cdn.webrtc-experiment.com/screenshot.js";(t=t||{}).frameInterval||(t.frameInterval=10);var o=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach((function(e){e in document.createElement("canvas")&&(o=!0)}));var s,a,l,c=!(!window.webkitRTCPeerConnection&&!window.webkitGetUserMedia||!window.chrome),u=50,d=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(c&&d&&d[2]&&(u=parseInt(d[2],10)),c&&u<52&&(o=!1),t.useWhammyRecorder&&(o=!1),o)if(t.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),e instanceof HTMLCanvasElement)s=e;else{if(!(e instanceof CanvasRenderingContext2D))throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";s=e.canvas}else navigator.mozGetUserMedia&&(t.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));this.record=function(){if(l=!0,o&&!t.useWhammyRecorder){var e;"captureStream"in s?e=s.captureStream(25):"mozCaptureStream"in s?e=s.mozCaptureStream(25):"webkitCaptureStream"in s&&(e=s.webkitCaptureStream(25));try{var n=new MediaStream;n.addTrack(getTracks(e,"video")[0]),e=n}catch(e){}if(!e)throw"captureStream API are NOT available.";(a=new MediaStreamRecorder(e,{mimeType:t.mimeType||"video/webm"})).record()}else p.frames=[],h=(new Date).getTime(),i();t.initCallback&&t.initCallback()},this.getWebPImages=function(n){if("canvas"===e.nodeName.toLowerCase()){var r=p.frames.length;p.frames.forEach((function(e,n){var i=r-n;t.disableLogs||console.log(i+"/"+r+" frames remaining"),t.onEncodingCallback&&t.onEncodingCallback(i,r);var o=e.image.toDataURL("image/webp",1);p.frames[n].image=o})),t.disableLogs||console.log("Generating WebM"),n()}else n()},this.stop=function(e){l=!1;var n=this;return o&&a?void a.stop(e):void this.getWebPImages((function(){p.compile((function(r){t.disableLogs||console.log("Recording finished!"),n.blob=r,n.blob.forEach&&(n.blob=new Blob([],{type:"video/webm"})),e&&e(n.blob),p.frames=[]}))}))};var f=!1;this.pause=function(){f=!0,a instanceof MediaStreamRecorder&&a.pause()},this.resume=function(){return f=!1,a instanceof MediaStreamRecorder?void a.resume():void(l||this.record())},this.clearRecordedData=function(){l&&this.stop(n),n()},this.name="CanvasRecorder",this.toString=function(){return this.name};var h=(new Date).getTime(),p=new Whammy.Video(100)}function WhammyRecorder(e,t){function n(e){e=void 0!==e?e:10;var t=(new Date).getTime()-c;return t?a?(c=(new Date).getTime(),setTimeout(n,100)):(c=(new Date).getTime(),l.paused&&l.play(),f.drawImage(l,0,0,d.width,d.height),u.frames.push({duration:t,image:d.toDataURL("image/webp")}),void(s||setTimeout(n,e,e))):setTimeout(n,e,e)}function r(e){var t=-1,n=e.length;!function r(){return++t===n?void e.callback():void setTimeout((function(){e.functionToLoop(r,t)}),1)}()}function i(e,t,n,i,o){var s=document.createElement("canvas");s.width=d.width,s.height=d.height;var a=s.getContext("2d"),l=[],c=-1===t,u=t&&t>0&&t<=e.length?t:e.length,f={r:0,g:0,b:0
},h=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),p=n&&n>=0&&n<=1?n:0,m=i&&i>=0&&i<=1?i:0,g=!1;r({length:u,functionToLoop:function(t,n){var r,i,o,s=function(){!g&&o-r<=o*m||(c&&(g=!0),l.push(e[n])),t()};if(g)s();else{var u=new Image;u.onload=function(){a.drawImage(u,0,0,d.width,d.height);var e=a.getImageData(0,0,d.width,d.height);r=0,i=e.data.length,o=e.data.length/4;for(var t=0;t<i;t+=4){var n={r:e.data[t],g:e.data[t+1],b:e.data[t+2]};Math.sqrt(Math.pow(n.r-f.r,2)+Math.pow(n.g-f.g,2)+Math.pow(n.b-f.b,2))<=h*p&&r++}s()},u.src=e[n].image}},callback:function(){(l=l.concat(e.slice(u))).length<=0&&l.push(e[e.length-1]),o(l)}})}function o(){u.frames=[],s=!0,a=!1}(t=t||{}).frameInterval||(t.frameInterval=10),t.disableLogs||console.log("Using frames-interval:",t.frameInterval),this.record=function(){t.width||(t.width=320),t.height||(t.height=240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),d.width=t.canvas.width||320,d.height=t.canvas.height||240,f=d.getContext("2d"),t.video&&t.video instanceof HTMLVideoElement?(l=t.video.cloneNode(),t.initCallback&&t.initCallback()):(l=document.createElement("video"),setSrcObject(e,l),l.onloadedmetadata=function(){t.initCallback&&t.initCallback()},l.width=t.video.width,l.height=t.video.height),l.muted=!0,l.play(),c=(new Date).getTime(),u=new Whammy.Video,t.disableLogs||(console.log("canvas resolutions",d.width,"*",d.height),console.log("video width/height",l.width||d.width,"*",l.height||d.height)),n(t.frameInterval)};var s=!1;this.stop=function(e){e=e||function(){},s=!0;var n=this;setTimeout((function(){i(u.frames,-1,null,null,(function(r){u.frames=r,t.advertisement&&t.advertisement.length&&(u.frames=t.advertisement.concat(u.frames)),u.compile((function(t){n.blob=t,n.blob.forEach&&(n.blob=new Blob([],{type:"video/webm"})),e&&e(n.blob)}))}))}),10)};var a=!1;this.pause=function(){a=!0},this.resume=function(){a=!1,s&&this.record()},this.clearRecordedData=function(){s||this.stop(o),o()},this.name="WhammyRecorder",this.toString=function(){return this.name};var l,c,u,d=document.createElement("canvas"),f=d.getContext("2d")}function GifRecorder(e,t){function n(){d&&(d.stream().bin=[])}if("undefined"==typeof GIFEncoder){var r=document.createElement("script");r.src="https://cdn.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(r)}t=t||{};var i=e instanceof CanvasRenderingContext2D||e instanceof HTMLCanvasElement;this.record=function(){function e(n){if(!0!==h.clearedRecordedData){if(o)return setTimeout((function(){e(n)}),100);f=requestAnimationFrame(e),void 0===typeof u&&(u=n),n-u<90||(!i&&c.paused&&c.play(),i||a.drawImage(c,0,0,s.width,s.height),t.onGifPreview&&t.onGifPreview(s.toDataURL("image/png")),d.addFrame(a),u=n)}}return"undefined"==typeof GIFEncoder?void setTimeout(h.record,1e3):l?(i||(t.width||(t.width=c.offsetWidth||320),t.height||(t.height=c.offsetHeight||240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),s.width=t.canvas.width||320,s.height=t.canvas.height||240,c.width=t.video.width||320,c.height=t.video.height||240),(d=new GIFEncoder).setRepeat(0),d.setDelay(t.frameRate||200),d.setQuality(t.quality||10),d.start(),"function"==typeof t.onGifRecordingStarted&&t.onGifRecordingStarted(),Date.now(),f=requestAnimationFrame(e),void(t.initCallback&&t.initCallback())):void setTimeout(h.record,1e3)},this.stop=function(e){e=e||function(){},f&&cancelAnimationFrame(f),Date.now(),this.blob=new Blob([new Uint8Array(d.stream().bin)],{type:"image/gif"}),e(this.blob),d.stream().bin=[]};var o=!1;this.pause=function(){o=!0},this.resume=function(){o=!1},this.clearRecordedData=function(){h.clearedRecordedData=!0,n()},this.name="GifRecorder",this.toString=function(){return this.name};var s=document.createElement("canvas"),a=s.getContext("2d");i&&(e instanceof CanvasRenderingContext2D?s=(a=e).canvas:e instanceof HTMLCanvasElement&&(a=e.getContext("2d"),s=e));var l=!0;if(!i){var c=document.createElement("video");c.muted=!0,c.autoplay=!0,l=!1,c.onloadedmetadata=function(){l=!0},setSrcObject(e,c),c.play()}var u,d,f=null,h=this}function MultiStreamsMixer(e,t){function n(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}function r(){if(!h){var e=f.length,t=!1,n=[];if(f.forEach((function(e){e.stream||(e.stream={}),e.stream.fullcanvas?t=e:n.push(e)})),t)p.width=t.stream.width,p.height=t.stream.height;else if(n.length){p.width=e>1?2*n[0].width:n[0].width;var o=1;3!==e&&4!==e||(o=2),5!==e&&6!==e||(o=3),7!==e&&8!==e||(o=4),9!==e&&10!==e||(o=5),p.height=n[0].height*o}else p.width=g.width||360,p.height=g.height||240;t&&t instanceof HTMLVideoElement&&i(t),n.forEach((function(e,t){i(e,t)})),setTimeout(r,g.frameInterval)}}function i(e,t){if(!h){var n=0,r=0,i=e.width,o=e.height;1===t&&(n=e.width),2===t&&(r=e.height),3===t&&(n=e.width,r=e.height),4===t&&(r=2*e.height),5===t&&(n=e.width,r=2*e.height),6===t&&(r=3*e.height),7===t&&(n=e.width,r=3*e.height),void 0!==e.stream.left&&(n=e.stream.left),void 0!==e.stream.top&&(r=e.stream.top),void 0!==e.stream.width&&(i=e.stream.width),void 0!==e.stream.height&&(o=e.stream.height),m.drawImage(e,n,r,i,o),"function"==typeof e.stream.onRender&&e.stream.onRender(m,n,r,i,o,t)}}function o(){h=!1;var t=s(),n=a();return n&&n.getTracks().filter((function(e){return"audio"===e.kind})).forEach((function(e){t.addTrack(e)})),e.forEach((function(e){e.fullcanvas&&!0})),t}function s(){var e;c(),"captureStream"in p?e=p.captureStream():"mozCaptureStream"in p?e=p.mozCaptureStream():g.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var t=new b;return e.getTracks().filter((function(e){return"video"===e.kind})).forEach((function(e){t.addTrack(e)})),p.stream=t,t}function a(){_.AudioContextConstructor||(_.AudioContextConstructor=new _.AudioContext),g.audioContext=_.AudioContextConstructor,g.audioSources=[],!0===g.useGainNode&&(g.gainNode=g.audioContext.createGain(),g.gainNode.connect(g.audioContext.destination),g.gainNode.gain.value=0);var t=0;if(e.forEach((function(e){if(e.getTracks().filter((function(e){return"audio"===e.kind})).length){t++;var n=g.audioContext.createMediaStreamSource(e);!0===g.useGainNode&&n.connect(g.gainNode),g.audioSources.push(n)}})),t)return g.audioDestination=g.audioContext.createMediaStreamDestination(),g.audioSources.forEach((function(e){e.connect(g.audioDestination)})),g.audioDestination.stream}function l(e){var r=document.createElement("video");return n(e,r),r.className=t,r.muted=!0,r.volume=0,r.width=e.width||g.width||360,r.height=e.height||g.height||240,r.play(),r}function c(t){f=[],(t=t||e).forEach((function(e){if(e.getTracks().filter((function(e){return"video"===e.kind})).length){var t=l(e);t.stream=e,f.push(t)}}))}var u,d="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";u="undefined"!=typeof global?global:null,void 0===RecordRTC&&u&&"undefined"==typeof window&&"undefined"!=typeof global&&(global.navigator={userAgent:d,getUserMedia:function(){}},global.console||(global.console={}),void 0!==global.console.log&&void 0!==global.console.error||(global.console.error=global.console.log=global.console.log||function(){console.log(arguments)}),"undefined"==typeof document&&(u.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},u.HTMLVideoElement=function(){}),"undefined"==typeof location&&(u.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(u.screen={width:0,height:0}),void 0===y&&(u.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),u.window=global),t=t||"multi-streams-mixer";var f=[],h=!1,p=document.createElement("canvas"),m=p.getContext("2d");p.style.opacity=0,p.style.position="absolute",p.style.zIndex=-1,p.style.top="-1000em",p.style.left="-1000em",p.className=t,(document.body||document.documentElement).appendChild(p),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var g=this,v=window.AudioContext;void 0===v&&("undefined"!=typeof webkitAudioContext&&(v=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(v=mozAudioContext));var y=window.URL;void 0===y&&"undefined"!=typeof webkitURL&&(y=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var b=window.MediaStream;void 0===b&&"undefined"!=typeof webkitMediaStream&&(b=webkitMediaStream),void 0!==b&&void 0===b.prototype.stop&&(b.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))});var _={};void 0!==v?_.AudioContext=v:"undefined"!=typeof webkitAudioContext&&(_.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){r()},this.appendStreams=function(t){if(!t)throw"First parameter is required.";t instanceof Array||(t=[t]),e=e.concat(t),t.forEach((function(e){if(e.getTracks().filter((function(e){return"video"===e.kind})).length){var t=l(e);t.stream=e,f.push(t)}if(e.getTracks().filter((function(e){return"audio"===e.kind})).length&&g.audioContext&&g.audioDestination){var n=g.audioContext.createMediaStreamSource(e);n.connect(g.audioDestination),g.audioSources.push(n)}}))},this.releaseStreams=function(){f=[],h=!0,g.gainNode&&(g.gainNode.disconnect(),g.gainNode=null),g.audioSources.length&&(g.audioSources.forEach((function(e){e.disconnect()})),g.audioSources=[]),g.audioDestination&&(g.audioDestination.disconnect(),g.audioDestination=null),g.audioContext&&g.audioContext.close(),g.audioContext=null,m.clearRect(0,0,p.width,p.height),p.stream&&(p.stream.stop(),p.stream=null)},this.resetVideoStreams=function(e){!e||e instanceof Array||(e=[e]),c(e)},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=o}function MultiStreamRecorder(e,t){function n(){var t=[];return e.forEach((function(e){getTracks(e,"video").forEach((function(e){t.push(e)}))})),t}e=e||[];var r,i,o=this;(t=t||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}}).frameInterval||(t.frameInterval=10),t.video||(t.video={}),t.video.width||(t.video.width=360),t.video.height||(t.video.height=240),this.record=function(){r=new MultiStreamsMixer(e,t.elementClass||"multi-streams-mixer"),n().length&&(r.frameInterval=t.frameInterval||10,r.width=t.video.width||360,r.height=t.video.height||240,r.startDrawingFrames()),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(r.getMixedStream()),(i=new MediaStreamRecorder(r.getMixedStream(),t)).record()},this.stop=function(e){i&&i.stop((function(t){o.blob=t,e(t),o.clearRecordedData()}))},this.pause=function(){i&&i.pause()},this.resume=function(){i&&i.resume()},this.clearRecordedData=function(){i&&(i.clearRecordedData(),i=null),r&&(r.releaseStreams(),r=null)},this.addStreams=function(t){if(!t)throw"First parameter is required.";t instanceof Array||(t=[t]),e.concat(t),i&&r&&r.appendStreams(t)},this.resetVideoStreams=function(e){r&&(!e||e instanceof Array||(e=[e]),r.resetVideoStreams(e))},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}function RecordRTCPromisesHandler(e,t){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(void 0===e)throw'First argument "MediaStream" is required.';var n=this;n.recordRTC=new RecordRTC(e,t),this.startRecording=function(){return new Promise((function(e,t){try{n.recordRTC.startRecording(),e()}catch(e){t(e)}}))},this.stopRecording=function(){return new Promise((function(e,t){try{n.recordRTC.stopRecording((function(r){return n.blob=n.recordRTC.getBlob(),n.blob&&n.blob.size?void e(r):void t("Empty blob.",n.blob)}))}catch(e){t(e)}}))},this.getDataURL=function(){return new Promise((function(e,t){try{n.recordRTC.getDataURL((function(t){e(t)}))}catch(e){t(e)}}))},this.getBlob=function(){return new Promise((function(e,t){try{e(n.recordRTC.getBlob())}catch(e){t(e)}}))},this.blob=null}function WebAssemblyRecorder(e,t){function n(){return new ReadableStream({start:function(n){var r=document.createElement("canvas"),i=document.createElement("video");i.srcObject=e,i.onplaying=function(){r.width=t.width,r.height=t.height;var e=r.getContext("2d"),o=1e3/t.frameRate;setTimeout((function r(){e.drawImage(i,0,0),n.enqueue(e.getImageData(0,0,t.width,t.height)),setTimeout(r,o)}),o)},i.play()}})}function r(e,i){if(t.workerPath||i){if(!t.workerPath&&i instanceof ArrayBuffer){var l=new Blob([i],{type:"text/javascript"});t.workerPath=URL.createObjectURL(l)}t.workerPath||console.error("workerPath parameter is missing."),(o=new Worker(t.workerPath)).postMessage(t.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),o.addEventListener("message",(function(e){"READY"===e.data?(o.postMessage({width:t.width,height:t.height,bitrate:t.bitrate||1200,timebaseDen:t.frameRate||30,realtime:!0}),n().pipeTo(new WritableStream({write:function(e){o&&o.postMessage(e.data.buffer,[e.data.buffer])}}))):e.data&&(s||a.push(e.data))}))}else fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then((function(t){t.arrayBuffer().then((function(t){r(e,t)}))}))}function i(){o&&(o.postMessage(null),o.terminate(),o=null)}var o,s;"undefined"!=typeof ReadableStream&&"undefined"!=typeof WritableStream||console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),(t=t||{}).width=t.width||640,t.height=t.height||480,t.frameRate=t.frameRate||30,t.bitrate=t.bitrate||1200,this.record=function(){a=[],s=!1,this.blob=null,r(e),"function"==typeof t.initCallback&&t.initCallback()},this.pause=function(){s=!0},this.resume=function(){s=!1};var a=[];this.stop=function(e){i(),this.blob=new Blob(a,{type:"video/webm"}),e(this.blob)},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){a=[],s=!1,this.blob=null},this.blob=null}function init_tooltip(){[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(e){return new bootstrap.Tooltip(e)}))}function getOptionsArray(e,t){return arr=[],e.forEach((e=>{arr.push({text:escapeHtml(e[t]),value:escapeHtml(e[t])})})),arr}function onChangeHandler(e){return function(){$(e).hasClass("predicted")||(selectizeElement=$(e)[0].selectize,selectizeElement.blur()),$(e).removeClass("predicted")}}function customizeSelectizeHash(e){switch(e){case"tag":selectizeHash.closeAfterSelect=!1,selectizeHash.plugins={remove_button:{label:'<i class="fa fa-fw fa-times"></i>',title:"\u062d\u0630\u0641",className:"remove"}};break;case"job_title":selectizeHash.openOnFocus=!0,selectizeHash.closeAfterSelect=!0,selectizeHash.plugins=[],selectizeHash.maxOptions=30}}function getOptions(e,t,n,r,i){$.ajax({url:t,method:"GET",dataType:"json",data:n}).done((function(n){for(var o=getOptionsArray(n.result,e),s=$(r).val().split(","),a=0;a<s.length;a++)o.push({text:escapeHtml(s[a]),value:escapeHtml(s[a])});customizeSelectizeHash(e),selectizeHash.searchField=["text","value"],selectizeHash.maxItems=i,selectizeHash.onChange=onChangeHandler(r),selectizeHash.options=o,selectizeHash.load=function(r,i){i(),n.query=r,$.ajax({url:t,type:"GET",data:n,error:function(){i()},success:function(t){var n=getOptionsArray(t.result,e);i(n)}})},$(r).selectize(selectizeHash)}))}function tagsSelectizeInput(){var e=$("#service_id").val(),t=$("#select-tags").attr("data-tags-count");t<5&&(t=5),null==e&&(e=null),getOptions("tag","/ajax/tags",{service_id:e},".multi-select-or-create-selectize",t)}function jobTitlesSelectizeInput(){getOptions("job_title","/ajax/job_titles",{},".single_select_or_create_selectize",1)}function initSelectizeInputs(){$(".multi-select-or-create-selectize#select-tags").length>0&&tagsSelectizeInput(),$(".single_select_or_create_selectize#job_titles").length>0&&jobTitlesSelectizeInput(),$(".multi-create-selectize").selectize(selectizeHash)}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){function n(e){var t=e.length,n=ie.type(e);return"function"!==n&&!ie.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function r(e,t,n){if(ie.isFunction(t))return ie.grep(e,(function(e,r){return!!t.call(e,r,e)!==n}));if(t.nodeType)return ie.grep(e,(function(e){return e===t!==n}));if("string"==typeof t){if(fe.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,(function(e){return ie.inArray(e,t)>=0!==n}))}function i(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function o(e){var t=we[e]={};return ie.each(e.match(_e)||[],(function(e,n){t[n]=!0})),t}function s(){pe.addEventListener?(pe.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1)):(pe.detachEvent("onreadystatechange",a),e.detachEvent("onload",a))}function a(){(pe.addEventListener||"load"===event.type||"complete"===pe.readyState)&&(s(),ie.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Se,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ee.test(n)?ie.parseJSON(n):n)}catch(e){}ie.data(e,t,n)}else n=void 0}return n}function c(e){var t;for(t in e)if(("data"!==t||!ie.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,n,r){if(ie.acceptData(e)){var i,o,s=ie.expando,a=e.nodeType,l=a?ie.cache:e,c=a?e[s]:e[s]&&s;if(c&&l[c]&&(r||l[c].data)||void 0!==n||"string"!=typeof t)return c||(c=a?e[s]=Y.pop()||ie.guid++:s),l[c]||(l[c]=a?{}:{toJSON:ie.noop}),("object"==typeof t||"function"==typeof t)&&(r?l[c]=ie.extend(l[c],t):l[c].data=ie.extend(l[c].data,t)),o=l[c],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ie.camelCase(t)]=n),"string"==typeof t?null==(i=o[t])&&(i=o[ie.camelCase(t)]):i=o,i}}function d(e,t,n){if(ie.acceptData(e)){var r,i,o=e.nodeType,s=o?ie.cache:e,a=o?e[ie.expando]:ie.expando;if(s[a]){if(t&&(r=n?s[a]:s[a].data)){ie.isArray(t)?t=t.concat(ie.map(t,ie.camelCase)):t in r?t=[t]:t=(t=ie.camelCase(t))in r?[t]:t.split(" "),i=t.length;for(;i--;)delete r[t[i]];if(n?!c(r):!ie.isEmptyObject(r))return}(n||(delete s[a].data,c(s[a])))&&(o?ie.cleanData([e],!0):ne.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}function f(){return!0}function h(){return!1}function p(){try{return pe.activeElement}catch(e){}}function m(e){var t=Le.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==xe?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==xe?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||ie.nodeName(r,t)?o.push(r):ie.merge(o,g(r,t));return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],o):o}function v(e){Ne.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ie.find.attr(e,"type"))+"/"+e.type,e}function _(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)ie._data(n,"globalEval",!t||ie._data(t[r],"globalEval"))}function C(e,t){if(1===t.nodeType&&ie.hasData(e)){var n,r,i,o=ie._data(e),s=ie._data(t,o),a=o.events;if(a)for(n in delete s.handle,s.events={},a)for(r=0,i=a[n].length;i>r;r++)ie.event.add(t,n,a[n][r]);s.data&&(s.data=ie.extend({},s.data))}}function x(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[ie.expando]){for(r in(i=ie._data(t)).events)ie.removeEvent(t,r,i.handle);t.removeAttribute(ie.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,_(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!ie.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ne.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function E(t,n){var r,i=ie(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:ie.css(i[0],"display");return i.detach(),o}function S(e){var t=pe,n=Qe[e];return n||("none"!==(n=E(e,t))&&n||((t=((Xe=(Xe||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||Xe[0].contentDocument).document).write(),t.close(),n=E(e,t),Xe.detach()),Qe[e]=n),n}function k(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function D(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=dt.length;i--;)if((t=dt[i]+n)in e)return t;return r}function T(e,t){for(var n,r,i,o=[],s=0,a=e.length;a>s;s++)(r=e[s]).style&&(o[s]=ie._data(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Te(r)&&(o[s]=ie._data(r,"olddisplay",S(r.nodeName)))):(i=Te(r),(n&&"none"!==n||!i)&&ie._data(r,"olddisplay",i?n:ie.css(r,"display"))));for(s=0;a>s;s++)(r=e[s]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function A(e,t,n){var r=at.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function N(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=ie.css(e,n+De[o],!0,i)),r?("content"===n&&(s-=ie.css(e,"padding"+De[o],!0,i)),"margin"!==n&&(s-=ie.css(e,"border"+De[o]+"Width",!0,i))):(s+=ie.css(e,"padding"+De[o],!0,i),"padding"!==n&&(s+=ie.css(e,"border"+De[o]+"Width",!0,i)));return s}function O(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Ze(e),s=ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,o);if(0>=i||null==i){if((0>(i=et(e,t,o))||null==i)&&(i=e.style[t]),nt.test(i))return i;r=s&&(ne.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+N(e,t,n||(s?"border":"content"),r,o)+"px"}function j(e,t,n,r,i){return new j.prototype.init(e,t,n,r,i)}function M(){return setTimeout((function(){ft=void 0})),ft=ie.now()}function R(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)r["margin"+(n=De[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function F(e,t,n){for(var r,i=(yt[t]||[]).concat(yt["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,t,e))return r}function L(e,t,n){var r,i,o,s,a,l,c,u=this,d={},f=e.style,h=e.nodeType&&Te(e),p=ie._data(e,"fxshow");for(r in n.queue||(null==(a=ie._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always((function(){u.always((function(){a.unqueued--,ie.queue(e,"fx").length||a.empty.fire()}))}))),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===("none"===(c=ie.css(e,"display"))?ie._data(e,"olddisplay")||S(e.nodeName):c)&&"none"===ie.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==S(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",ne.shrinkWrapBlocks()||u.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),t)if(i=t[r],pt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!p||void 0===p[r])continue;h=!0}d[r]=p&&p[r]||ie.style(e,r)}else c=void 0;if(ie.isEmptyObject(d))"inline"===("none"===c?S(e.nodeName):c)&&(f.display=c);else for(r in p?"hidden"in p&&(h=p.hidden):p=ie._data(e,"fxshow",{}),o&&(p.hidden=!h),h?ie(e).show():u.done((function(){ie(e).hide()})),u.done((function(){var t;for(t in ie._removeData(e,"fxshow"),d)ie.style(e,t,d[t])})),d)s=F(h?p[r]:0,r,u),r in p||(p[r]=s.start,h&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}function P(e,t){var n,r,i,o,s;for(n in e)if(i=t[r=ie.camelCase(n)],o=e[n],ie.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=ie.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}function I(e,t,n){var r,i,o=0,s=vt.length,a=ie.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=ft||M(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,s=c.tweens.length;s>o;o++)c.tweens[o].run(r);return a.notifyWith(e,[c,r,n]),1>r&&s?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:ft||M(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ie.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),u=c.props;for(P(u,c.opts.specialEasing);s>o;o++)if(r=vt[o].call(c,e,u,c.opts))return r;return ie.map(u,F,c),ie.isFunction(c.opts.start)&&c.opts.start.call(e,c),ie.fx.timer(ie.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function $(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(_e)||[];if(ie.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function z(e,t,n,r){function i(a){var l;return o[a]=!0,ie.each(e[a]||[],(function(e,a){var c=a(t,n,r);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),i(c),!1)})),l}var o={},s=e===Ut;return i(t.dataTypes[0])||!o["*"]&&i("*")}function B(e,t){var n,r,i=ie.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&ie.extend(!0,e,n),e}function U(e,t,n){for(var r,i,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||e.converters[s+" "+l[0]]){o=s;break}r||(r=s)}o=o||r}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function H(e,t,n,r){var i,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function W(e,t,n,r){var i;if(ie.isArray(t))ie.each(t,(function(t,i){n||Kt.test(e)?r(e,i):W(e+"["+("object"==typeof i?t:"")+"]",i,n,r)}));else if(n||"object"!==ie.type(t))r(e,t);else for(i in t)W(e+"["+i+"]",t[i],n,r)}function K(){try{return new e.XMLHttpRequest}catch(e){}}function q(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function V(e){return ie.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var Y=[],J=Y.slice,G=Y.concat,X=Y.push,Q=Y.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ne={},re="1.11.2",ie=function(e,t){return new ie.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,ae=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:re,constructor:ie,selector:"",length:0,toArray:function(){return J.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:J.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ie.each(this,e,t)},map:function(e){return this.pushStack(ie.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(J.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:Y.sort,splice:Y.splice},ie.extend=ie.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||ie.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(i=arguments[a]))for(r in i)e=s[r],s!==(n=i[r])&&(c&&n&&(ie.isPlainObject(n)||(t=ie.isArray(n)))?(t?(t=!1,o=e&&ie.isArray(e)?e:[]):o=e&&ie.isPlainObject(e)?e:{},s[r]=ie.extend(c,o,n)):void 0!==n&&(s[r]=n));return s},ie.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray||function(e){return"array"===ie.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ie.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&ie.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(se,"ms-").replace(ae,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i=0,o=e.length,s=n(e);if(r){if(s)for(;o>i&&!1!==t.apply(e[i],r);i++);else for(i in e)if(!1===t.apply(e[i],r))break}else if(s)for(;o>i&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ie.merge(r,"string"==typeof e?[e]:e):X.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(Q)return Q.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!=n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;o>i;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,r){var i,o=0,s=e.length,a=[];if(n(e))for(;s>o;o++)null!=(i=t(e[o],o,r))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,r))&&a.push(i);return G.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),ie.isFunction(e)?(n=J.call(arguments,2),r=function(){return e.apply(t||this,n.concat(J.call(arguments)))},r.guid=e.guid=e.guid||ie.guid++,r):void 0},now:function(){return+new Date},support:ne}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){Z["[object "+t+"]"]=t.toLowerCase()}));var ce=function(e){function t(e,t,n,r){var i,o,s,a,l,c,d,h,p,m;if((t?t.ownerDocument||t:z)!==j&&O(t),n=n||[],a=(t=t||j).nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!r&&R){if(11!==a&&(i=ye.exec(e)))if(s=i[1]){if(9===a){if(!(o=t.getElementById(s))||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&I(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((s=i[3])&&w.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(s)),n}if(w.qsa&&(!F||!F.test(e))){if(h=d=$,p=t,m=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=S(e),(d=t.getAttribute("id"))?h=d.replace(_e,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+f(c[l]);p=be.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return Q.apply(n,p.querySelectorAll(m)),n}catch(e){}finally{d||t.removeAttribute("id")}}}return D(e.replace(le,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>C.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}
function r(e){return e[$]=!0,e}function i(e){var t=j.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)C.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return r((function(t){return t=+t,r((function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))}))}))}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=U++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,l,c=[B,o];if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((a=(l=t[$]||(t[$]={}))[r])&&a[0]===B&&a[1]===o)return c[2]=a[2];if(l[r]=c,c[2]=e(t,n,s))return!0}}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,s=[],a=0,l=e.length,c=null!=t;l>a;a++)(o=e[a])&&(!n||n(o,r,i))&&(s.push(o),c&&t.push(a));return s}function v(e,t,n,i,o,s){return i&&!i[$]&&(i=v(i)),o&&!o[$]&&(o=v(o,s)),r((function(r,s,a,l){var c,u,d,f=[],h=[],p=s.length,v=r||m(t||"*",a.nodeType?[a]:a,[]),y=!e||!r&&t?v:g(v,f,e,a,l),b=n?o||(r?e:p||i)?[]:s:y;if(n&&n(y,b,a,l),i)for(c=g(b,h),i(c,[],a,l),u=c.length;u--;)(d=c[u])&&(b[h[u]]=!(y[h[u]]=d));if(r){if(o||e){if(o){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);o(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=o?ee(r,d):f[u])>-1&&(r[c]=!(s[c]=d))}}else b=g(b===s?b.splice(p,b.length):b),o?o(null,s,b,l):Q.apply(s,b)}))}function y(e){for(var t,n,r,i=e.length,o=C.relative[e[0].type],s=o||C.relative[" "],a=o?1:0,l=h((function(e){return e===t}),s,!0),c=h((function(e){return ee(t,e)>-1}),s,!0),u=[function(e,n,r){var i=!o&&(r||n!==T)||((t=n).nodeType?l(e,n,r):c(e,n,r));return t=null,i}];i>a;a++)if(n=C.relative[e[a].type])u=[h(p(u),n)];else{if((n=C.filter[e[a].type].apply(null,e[a].matches))[$]){for(r=++a;i>r&&!C.relative[e[r].type];r++);return v(a>1&&p(u),a>1&&f(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(le,"$1"),n,r>a&&y(e.slice(a,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}u.push(n)}return p(u)}function b(e,n){var i=n.length>0,o=e.length>0,s=function(r,s,a,l,c){var u,d,f,h=0,p="0",m=r&&[],v=[],y=T,b=r||o&&C.find.TAG("*",c),_=B+=null==y?1:Math.random()||.1,w=b.length;for(c&&(T=s!==j&&s);p!==w&&null!=(u=b[p]);p++){if(o&&u){for(d=0;f=e[d++];)if(f(u,s,a)){l.push(u);break}c&&(B=_)}i&&((u=!f&&u)&&h--,r&&m.push(u))}if(h+=p,i&&p!==h){for(d=0;f=n[d++];)f(m,v,s,a);if(r){if(h>0)for(;p--;)m[p]||v[p]||(v[p]=G.call(l));v=g(v)}Q.apply(l,v),c&&!r&&v.length>0&&h+n.length>1&&t.uniqueSort(l)}return c&&(B=_,T=y),m};return i?r(s):s}var _,w,C,x,E,S,k,D,T,A,N,O,j,M,R,F,L,P,I,$="sizzle"+1*new Date,z=e.document,B=0,U=0,H=n(),W=n(),K=n(),q=function(e,t){return e===t&&(N=!0),0},V=1<<31,Y={}.hasOwnProperty,J=[],G=J.pop,X=J.push,Q=J.push,Z=J.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",se=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(se),he=new RegExp("^"+ie+"$"),pe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,_e=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Ce=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xe=function(){O()};try{Q.apply(J=Z.call(z.childNodes),z.childNodes),J[z.childNodes.length].nodeType}catch(e){Q={apply:J.length?function(e,t){X.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}for(_ in w=t.support={},E=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},O=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:z;return r!==j&&9===r.nodeType&&r.documentElement?(j=r,M=r.documentElement,(n=r.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",xe,!1):n.attachEvent&&n.attachEvent("onunload",xe)),R=!E(r),w.attributes=i((function(e){return e.className="i",!e.getAttribute("className")})),w.getElementsByTagName=i((function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length})),w.getElementsByClassName=ve.test(r.getElementsByClassName),w.getById=i((function(e){return M.appendChild(e).id=$,!r.getElementsByName||!r.getElementsByName($).length})),w.getById?(C.find.ID=function(e,t){if(void 0!==t.getElementById&&R){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(e){var t=e.replace(we,Ce);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(we,Ce);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},C.find.CLASS=w.getElementsByClassName&&function(e,t){return R?t.getElementsByClassName(e):void 0},L=[],F=[],(w.qsa=ve.test(r.querySelectorAll))&&(i((function(e){M.appendChild(e).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+$+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+$+"+*").length||F.push(".#.+[+~]")})),i((function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")}))),(w.matchesSelector=ve.test(P=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&i((function(e){w.disconnectedMatch=P.call(e,"div"),P.call(e,"[s!='']:x"),L.push("!=",se)})),F=F.length&&new RegExp(F.join("|")),L=L.length&&new RegExp(L.join("|")),t=ve.test(M.compareDocumentPosition),I=t||ve.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return N=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===z&&I(z,e)?-1:t===r||t.ownerDocument===z&&I(z,t)?1:A?ee(A,e)-ee(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return N=!0,0;var n,i=0,o=e.parentNode,a=t.parentNode,l=[e],c=[t];if(!o||!a)return e===r?-1:t===r?1:o?-1:a?1:A?ee(A,e)-ee(A,t):0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[i]===c[i];)i++;return i?s(l[i],c[i]):l[i]===z?-1:c[i]===z?1:0},r):j},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==j&&O(e),n=n.replace(de,"='$1']"),!(!w.matchesSelector||!R||L&&L.test(n)||F&&F.test(n)))try{var r=P.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,j,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==j&&O(e),I(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==j&&O(e);var n=C.attrHandle[t.toLowerCase()],r=n&&Y.call(C.attrHandle,t.toLowerCase())?n(e,t,!R):void 0;return void 0!==r?r:w.attributes||!R?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(N=!w.detectDuplicates,A=!w.sortStable&&e.slice(0),e.sort(q),N){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return A=null,e},x=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=x(t);return n},C=t.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Ce),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Ce),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Ce).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&H(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,h,p,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(h=(c=(u=g[$]||(g[$]={}))[e]||[])[0]===B&&c[1],f=c[0]===B&&c[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===t){u[e]=[B,h,f];break}}else if(y&&(c=(t[$]||(t[$]={}))[e])&&c[0]===B)f=c[1];else for(;(d=++h&&d&&d[m]||(f=h=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[$]||(d[$]={}))[e]=[B,f]),d!==t)););return(f-=i)===r||f%r==0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[$]?o(n):o.length>1?(i=[e,e,"",n],C.setFilters.hasOwnProperty(e.toLowerCase())?r((function(e,t){for(var r,i=o(e,n),s=i.length;s--;)e[r=ee(e,i[s])]=!(t[r]=i[s])})):function(e){return o(e,0,i)}):o}},pseudos:{not:r((function(e){var t=[],n=[],i=k(e.replace(le,"$1"));return i[$]?r((function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))})):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}})),has:r((function(e){return function(n){return t(e,n).length>0}})),contains:r((function(e){return e=e.replace(we,Ce),function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}})),lang:r((function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Ce).toLowerCase(),function(t){var n;do{if(n=R?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c((function(){return[0]})),last:c((function(e,t){return[t-1]})),eq:c((function(e,t,n){return[0>n?n+t:n]})),even:c((function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e})),odd:c((function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e})),lt:c((function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e})),gt:c((function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e}))}},C.pseudos.nth=C.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[_]=a(_);for(_ in{submit:!0,reset:!0})C.pseudos[_]=l(_);return d.prototype=C.filters=C.pseudos,C.setFilters=new d,S=t.tokenize=function(e,n){var r,i,o,s,a,l,c,u=W[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=C.preFilter;a;){for(s in(!r||(i=ce.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),r=!1,(i=ue.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(le," ")}),a=a.slice(r.length)),C.filter)!(i=pe[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?t.error(e):W(e,l).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=K[e+" "];if(!o){for(t||(t=S(e)),n=t.length;n--;)(o=y(t[n]))[$]?r.push(o):i.push(o);(o=K(e,b(i,r))).selector=e}return o},D=t.select=function(e,t,n,r){var i,o,s,a,l,c="function"==typeof e&&e,d=!r&&S(e=c.selector||e);if(n=n||[],1===d.length){if((o=d[0]=d[0].slice(0)).length>2&&"ID"===(s=o[0]).type&&w.getById&&9===t.nodeType&&R&&C.relative[o[1].type]){if(!(t=(C.find.ID(s.matches[0].replace(we,Ce),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=pe.needsContext.test(e)?0:o.length;i--&&(s=o[i],!C.relative[a=s.type]);)if((l=C.find[a])&&(r=l(s.matches[0].replace(we,Ce),be.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&f(o)))return Q.apply(n,r),n;break}}return(c||k(e,d))(r,t,!R,n,be.test(e)&&u(t.parentNode)||t),n},w.sortStable=$.split("").sort(q).join("")===$,w.detectDuplicates=!!N,O(),w.sortDetached=i((function(e){return 1&e.compareDocumentPosition(j.createElement("div"))})),i((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||o("type|href|height|width",(function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),w.attributes&&i((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||o("value",(function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue})),i((function(e){return null==e.getAttribute("disabled")}))||o(te,(function(e,t,n){var r;return n?void 0:!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),t}(e);ie.find=ce,ie.expr=ce.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=ce.uniqueSort,ie.text=ce.getText,ie.isXMLDoc=ce.isXML,ie.contains=ce.contains;var ue=ie.expr.match.needsContext,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fe=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,(function(e){return 1===e.nodeType})))},ie.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ie(e).filter((function(){for(t=0;i>t;t++)if(ie.contains(r[t],this))return!0})));for(t=0;i>t;t++)ie.find(e,r[t],n);return(n=this.pushStack(i>1?ie.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ue.test(e)?ie(e):e||[],!1).length}});var he,pe=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=ie.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e))||!n[1]&&t)return!t||t.jquery?(t||he).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:pe,!0)),de.test(n[1])&&ie.isPlainObject(t))for(n in t)ie.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((r=pe.getElementById(n[2]))&&r.parentNode){if(r.id!==n[2])return he.find(e);this.length=1,this[0]=r}return this.context=pe,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?void 0!==he.ready?he.ready(e):e(ie):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))};ge.prototype=ie.fn,he=ie(pe);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!ie(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ie.fn.extend({has:function(e){var t,n=ie(e,this),r=n.length;return this.filter((function(){for(t=0;r>t;t++)if(ie.contains(this,n[t]))return!0}))},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=ue.test(e)||"string"!=typeof e?ie(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ie.unique(o):o)},index:function(e){return e?"string"==typeof e?ie.inArray(this[0],ie(e)):ie.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.unique(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ie.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ie.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ie.dir(e,"nextSibling")},prevAll:function(e){return ie.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ie.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ie.dir(e,"previousSibling",n)},siblings:function(e){return ie.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ie.sibling(e.firstChild)},contents:function(e){return ie.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ie.merge([],e.childNodes)}},(function(e,t){ie.fn[e]=function(n,r){var i=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ie.filter(r,i)),this.length>1&&(ye[e]||(i=ie.unique(i)),ve.test(e)&&(i=i.reverse())),this.pushStack(i)}}));var be,_e=/\S+/g,we={};ie.Callbacks=function(e){e="string"==typeof e?we[e]||o(e):ie.extend({},e);var t,n,r,i,s,a,l=[],c=!e.once&&[],u=function(o){for(n=e.memory&&o,r=!0,s=a||0,a=0,i=l.length,t=!0;l&&i>s;s++)if(!1===l[s].apply(o[0],o[1])&&e.stopOnFalse){n=!1;break}t=!1,l&&(c?c.length&&u(c.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var r=l.length;!function t(n){ie.each(n,(function(n,r){var i=ie.type(r);"function"===i?e.unique&&d.has(r)||l.push(r):r&&r.length&&"string"!==i&&t(r)}))}(arguments),t?i=l.length:n&&(a=r,u(n))}return this},remove:function(){return l&&ie.each(arguments,(function(e,n){for(var r;(r=ie.inArray(n,l,r))>-1;)l.splice(r,1),t&&(i>=r&&i--,s>=r&&s--)})),this},has:function(e){return e?ie.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],i=0,this},disable:function(){return l=c=n=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,n||d.disable(),this},locked:function(){return!c},fireWith:function(e,n){return!l||r&&!c||(n=[e,(n=n||[]).slice?n.slice():n],t?c.push(n):u(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred((function(n){ie.each(t,(function(t,o){var s=ie.isFunction(e[t])&&e[t];i[o[1]]((function(){var e=s&&s.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?ie.extend(e,r):r}},i={};return r.pipe=r.then,ie.each(t,(function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add((function(){n=a}),t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith})),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=J.call(arguments),s=o.length,a=1!==s||e&&ie.isFunction(e.promise)?s:0,l=1===a?e:ie.Deferred(),c=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?J.call(arguments):i,r===t?l.notifyWith(n,r):--a||l.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);s>i;i++)o[i]&&ie.isFunction(o[i].promise)?o[i].promise().done(c(i,r,o)).fail(l.reject).progress(c(i,n,t)):--a;return a||l.resolveWith(r,o),l.promise()}}),ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){if(!0===e?! --ie.readyWait:!ie.isReady){if(!pe.body)return setTimeout(ie.ready);ie.isReady=!0,!0!==e&&--ie.readyWait>0||(be.resolveWith(pe,[ie]),ie.fn.triggerHandler&&(ie(pe).triggerHandler("ready"),ie(pe).off("ready")))}}}),ie.ready.promise=function(t){if(!be)if(be=ie.Deferred(),"complete"===pe.readyState)setTimeout(ie.ready);else if(pe.addEventListener)pe.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1);else{pe.attachEvent("onreadystatechange",a),e.attachEvent("onload",a);var n=!1;try{n=null==e.frameElement&&pe.documentElement}catch(e){}n&&n.doScroll&&function e(){if(!ie.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}s(),ie.ready()}}()}return be.promise(t)};var Ce,xe="undefined";for(Ce in ie(ne))break;ne.ownLast="0"!==Ce,ne.inlineBlockNeedsLayout=!1,ie((function(){var e,t,n,r;(n=pe.getElementsByTagName("body")[0])&&n.style&&(t=pe.createElement("div"),(r=pe.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==xe&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))})),function(){var e=pe.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(e){ne.deleteExpando=!1}}e=null}(),ie.acceptData=function(e){var t=ie.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var Ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Se=/([A-Z])/g;ie.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?ie.cache[e[ie.expando]]:e[ie.expando])&&!c(e)},data:function(e,t,n){return u(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return u(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),ie.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=ie.data(o),1===o.nodeType&&!ie._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(0===(r=s[n].name).indexOf("data-")&&l(o,r=ie.camelCase(r.slice(5)),i[r]));ie._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each((function(){ie.data(this,e)})):arguments.length>1?this.each((function(){ie.data(this,e,t)})):o?l(o,e,ie.data(o,e)):void 0},removeData:function(e){return this.each((function(){ie.removeData(this,e)}))}}),ie.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ie._data(e,t),n&&(!r||ie.isArray(n)?r=ie._data(e,t,ie.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,i=n.shift(),o=ie._queueHooks(e,t),s=function(){ie.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ie._data(e,n)||ie._data(e,n,{empty:ie.Callbacks("once memory").add((function(){ie._removeData(e,t+"queue"),ie._removeData(e,n)}))})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):void 0===t?this:this.each((function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){ie.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ie.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=ie._data(o[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,De=["Top","Right","Bottom","Left"],Te=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},Ae=ie.access=function(e,t,n,r,i,o,s){var a=0,l=e.length,c=null==n;if("object"===ie.type(n))for(a in i=!0,n)ie.access(e,t,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,ie.isFunction(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(ie(e),n)})),t))for(;l>a;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:c?t.call(e):l?t(e[0],n):o},Ne=/^(?:checkbox|radio)$/i;!function(){var e=pe.createElement("input"),t=pe.createElement("div"),n=pe.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==pe.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",(function(){ne.noCloneEvent=!1})),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(e){ne.deleteExpando=!1}}}(),function(){var t,n,r=pe.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),ne[t+"Bubbles"]=!1===r.attributes[n].expando);r=null}();var Oe=/^(?:input|select|textarea)$/i,je=/^key/,Me=/^(?:mouse|pointer|contextmenu)|click/,Re=/^(?:focusinfocus|focusoutblur)$/,Fe=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(e,t,n,r,i){var o,s,a,l,c,u,d,f,h,p,m,g=ie._data(e);if(g){for(n.handler&&(n=(l=n).handler,i=l.selector),n.guid||(n.guid=ie.guid++),(s=g.events)||(s=g.events={}),(u=g.handle)||(u=g.handle=function(e){return typeof ie===xe||e&&ie.event.triggered===e.type?void 0:ie.event.dispatch.apply(u.elem,arguments)},u.elem=e),a=(t=(t||"").match(_e)||[""]).length;a--;)h=m=(o=Fe.exec(t[a])||[])[1],p=(o[2]||"").split(".").sort(),h&&(c=ie.event.special[h]||{},h=(i?c.delegateType:c.bindType)||h,c=ie.event.special[h]||{},d=ie.extend({type:h,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:p.join(".")},l),(f=s[h])||((f=s[h]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,r,p,u)||(e.addEventListener?e.addEventListener(h,u,!1):e.attachEvent&&e.attachEvent("on"+h,u))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),ie.event.global[h]=!0);e=null}},remove:function(e,t,n,r,i){var o,s,a,l,c,u,d,f,h,p,m,g=ie.hasData(e)&&ie._data(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(_e)||[""]).length;c--;)if(h=m=(a=Fe.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),h){for(d=ie.event.special[h]||{},f=u[h=(r?d.delegateType:d.bindType)||h]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;o--;)s=f[o],!i&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||r&&r!==s.selector&&("**"!==r||!s.selector)||(f.splice(o,1),s.selector&&f.delegateCount--,d.remove&&d.remove.call(e,s));l&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,p,g.handle)||ie.removeEvent(e,h,g.handle),delete u[h])}else for(h in u)ie.event.remove(e,h+t[c],n,r,!0);ie.isEmptyObject(u)&&(delete g.handle,ie._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,s,a,l,c,u,d,f=[r||pe],h=te.call(t,"type")?t.type:t,p=te.call(t,"namespace")?t.namespace.split("."):[];if(a=u=r=r||pe,3!==r.nodeType&&8!==r.nodeType&&!Re.test(h+ie.event.triggered)&&(h.indexOf(".")>=0&&(p=h.split("."),h=p.shift(),p.sort()),s=h.indexOf(":")<0&&"on"+h,(t=t[ie.expando]?t:new ie.Event(h,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:ie.makeArray(n,[t]),c=ie.event.special[h]||{},i||!c.trigger||!1!==c.trigger.apply(r,n))){if(!i&&!c.noBubble&&!ie.isWindow(r)){for(l=c.delegateType||h,Re.test(l+h)||(a=a.parentNode);a;a=a.parentNode)f.push(a),u=a;u===(r.ownerDocument||pe)&&f.push(u.defaultView||u.parentWindow||e)}for(d=0;(a=f[d++])&&!t.isPropagationStopped();)t.type=d>1?l:c.bindType||h,(o=(ie._data(a,"events")||{})[t.type]&&ie._data(a,"handle"))&&o.apply(a,n),(o=s&&a[s])&&o.apply&&ie.acceptData(a)&&(t.result=o.apply(a,n),!1===t.result&&t.preventDefault());if(t.type=h,!i&&!t.isDefaultPrevented()&&(!c._default||!1===c._default.apply(f.pop(),n))&&ie.acceptData(r)&&s&&r[h]&&!ie.isWindow(r)){(u=r[s])&&(r[s]=null),ie.event.triggered=h;try{r[h]()}catch(e){}ie.event.triggered=void 0,u&&(r[s]=u)}return t.result}},dispatch:function(e){e=ie.event.fix(e)
;var t,n,r,i,o,s=[],a=J.call(arguments),l=(ie._data(this,"events")||{})[e.type]||[],c=ie.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(s=ie.event.handlers.call(this,e,l),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,void 0!==(n=((ie.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,a))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(i=[],o=0;a>o;o++)void 0===i[n=(r=t[o]).selector+" "]&&(i[n]=r.needsContext?ie(n,this).index(l)>=0:ie.find(n,this,null,[l]).length),i[n]&&i.push(r);i.length&&s.push({elem:l,handlers:i})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},fix:function(e){if(e[ie.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Me.test(i)?this.mouseHooks:je.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new ie.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=o.srcElement||pe),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(r=e.target.ownerDocument||pe).documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ie.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ie.extend(new ie.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ie.event.trigger(i,null,t):ie.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=pe.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===xe&&(e[r]=null),e.detachEvent(r,n))},ie.Event=function(e,t){return this instanceof ie.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?f:h):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(e,t)},ie.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!ie.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),ne.submitBubbles||(ie.event.special.submit={setup:function(){return!ie.nodeName(this,"form")&&void ie.event.add(this,"click._submit keypress._submit",(function(e){var t=e.target,n=ie.nodeName(t,"input")||ie.nodeName(t,"button")?t.form:void 0;n&&!ie._data(n,"submitBubbles")&&(ie.event.add(n,"submit._submit",(function(e){e._submit_bubble=!0})),ie._data(n,"submitBubbles",!0))}))},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ie.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!ie.nodeName(this,"form")&&void ie.event.remove(this,"._submit")}}),ne.changeBubbles||(ie.event.special.change={setup:function(){return Oe.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ie.event.add(this,"propertychange._change",(function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)})),ie.event.add(this,"click._change",(function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ie.event.simulate("change",this,e,!0)}))),!1):void ie.event.add(this,"beforeactivate._change",(function(e){var t=e.target;Oe.test(t.nodeName)&&!ie._data(t,"changeBubbles")&&(ie.event.add(t,"change._change",(function(e){!this.parentNode||e.isSimulated||e.isTrigger||ie.event.simulate("change",this.parentNode,e,!0)})),ie._data(t,"changeBubbles",!0))}))},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ie.event.remove(this,"._change"),!Oe.test(this.nodeName)}}),ne.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e),!0)};ie.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ie._data(r,t);i||r.addEventListener(e,n,!0),ie._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ie._data(r,t)-1;i?ie._data(r,t,i):(r.removeEventListener(e,n,!0),ie._removeData(r,t))}}})),ie.fn.extend({on:function(e,t,n,r,i){var o,s;if("object"==typeof e){for(o in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=h;else if(!r)return this;return 1===i&&(s=r,r=function(e){return ie().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ie.guid++)),this.each((function(){ie.event.add(this,e,r,n,t)}))},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ie(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(!1===t||"function"==typeof t)&&(n=t,t=void 0),!1===n&&(n=h),this.each((function(){ie.event.remove(this,e,n,t)}))},trigger:function(e,t){return this.each((function(){ie.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];return n?ie.event.trigger(e,t,n,!0):void 0}});var Le="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Pe=/ jQuery\d+="(?:null|\d+)"/g,Ie=new RegExp("<(?:"+Le+")[\\s/>]","i"),$e=/^\s+/,ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Be=/<([\w:]+)/,Ue=/<tbody/i,He=/<|&#?\w+;/,We=/<(?:script|style|link)/i,Ke=/checked\s*(?:[^=]|=\s*.checked.)/i,qe=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,Ye=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Je={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ge=m(pe).appendChild(pe.createElement("div"));Je.optgroup=Je.option,Je.tbody=Je.tfoot=Je.colgroup=Je.caption=Je.thead,Je.th=Je.td,ie.extend({clone:function(e,t,n){var r,i,o,s,a,l=ie.contains(e.ownerDocument,e);if(ne.html5Clone||ie.isXMLDoc(e)||!Ie.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Ge.innerHTML=e.outerHTML,Ge.removeChild(o=Ge.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(r=g(o),a=g(e),s=0;null!=(i=a[s]);++s)r[s]&&x(i,r[s]);if(t)if(n)for(a=a||g(e),r=r||g(o),s=0;null!=(i=a[s]);s++)C(i,r[s]);else C(e,o);return(r=g(o,"script")).length>0&&w(r,!l&&g(e,"script")),r=a=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,s,a,l,c,u,d=e.length,f=m(t),h=[],p=0;d>p;p++)if((o=e[p])||0===o)if("object"===ie.type(o))ie.merge(h,o.nodeType?[o]:o);else if(He.test(o)){for(a=a||f.appendChild(t.createElement("div")),l=(Be.exec(o)||["",""])[1].toLowerCase(),u=Je[l]||Je._default,a.innerHTML=u[1]+o.replace(ze,"<$1></$2>")+u[2],i=u[0];i--;)a=a.lastChild;if(!ne.leadingWhitespace&&$e.test(o)&&h.push(t.createTextNode($e.exec(o)[0])),!ne.tbody)for(i=(o="table"!==l||Ue.test(o)?"<table>"!==u[1]||Ue.test(o)?0:a:a.firstChild)&&o.childNodes.length;i--;)ie.nodeName(c=o.childNodes[i],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(ie.merge(h,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=f.lastChild}else h.push(t.createTextNode(o));for(a&&f.removeChild(a),ne.appendChecked||ie.grep(g(h,"input"),v),p=0;o=h[p++];)if((!r||-1===ie.inArray(o,r))&&(s=ie.contains(o.ownerDocument,o),a=g(f.appendChild(o),"script"),s&&w(a),n))for(i=0;o=a[i++];)qe.test(o.type||"")&&n.push(o);return a=null,f},cleanData:function(e,t){for(var n,r,i,o,s=0,a=ie.expando,l=ie.cache,c=ne.deleteExpando,u=ie.event.special;null!=(n=e[s]);s++)if((t||ie.acceptData(n))&&(o=(i=n[a])&&l[i])){if(o.events)for(r in o.events)u[r]?ie.event.remove(n,r):ie.removeEvent(n,r,o.handle);l[i]&&(delete l[i],c?delete n[a]:typeof n.removeAttribute!==xe?n.removeAttribute(a):n[a]=null,Y.push(i))}}}),ie.fn.extend({text:function(e){return Ae(this,(function(e){return void 0===e?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pe).createTextNode(e))}),null,e,arguments.length)},append:function(){return this.domManip(arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||y(this,e).appendChild(e)}))},prepend:function(){return this.domManip(arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},remove:function(e,t){for(var n,r=e?ie.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ie.cleanData(g(n)),n.parentNode&&(t&&ie.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ie.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ie.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return ie.clone(this,e,t)}))},html:function(e){return Ae(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Pe,""):void 0;if(!("string"!=typeof e||We.test(e)||!ne.htmlSerialize&&Ie.test(e)||!ne.leadingWhitespace&&$e.test(e)||Je[(Be.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(ze,"<$1></$2>");try{for(;r>n;n++)1===(t=this[n]||{}).nodeType&&(ie.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,(function(t){e=this.parentNode,ie.cleanData(g(this)),e&&e.replaceChild(t,this)})),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=G.apply([],e);var n,r,i,o,s,a,l=0,c=this.length,u=this,d=c-1,f=e[0],h=ie.isFunction(f);if(h||c>1&&"string"==typeof f&&!ne.checkClone&&Ke.test(f))return this.each((function(n){var r=u.eq(n);h&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)}));if(c&&(n=(a=ie.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===a.childNodes.length&&(a=n),n)){for(i=(o=ie.map(g(a,"script"),b)).length;c>l;l++)r=a,l!==d&&(r=ie.clone(r,!0,!0),i&&ie.merge(o,g(r,"script"))),t.call(this[l],r,l);if(i)for(s=o[o.length-1].ownerDocument,ie.map(o,_),l=0;i>l;l++)r=o[l],qe.test(r.type||"")&&!ie._data(r,"globalEval")&&ie.contains(s,r)&&(r.src?ie._evalUrl&&ie._evalUrl(r.src):ie.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Ye,"")));a=n=null}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){ie.fn[e]=function(e){for(var n,r=0,i=[],o=ie(e),s=o.length-1;s>=r;r++)n=r===s?this:this.clone(!0),ie(o[r])[t](n),X.apply(i,n.get());return this.pushStack(i)}}));var Xe,Qe={};!function(){var e;ne.shrinkWrapBlocks=function(){return null!=e?e:(e=!1,(n=pe.getElementsByTagName("body")[0])&&n.style?(t=pe.createElement("div"),(r=pe.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==xe&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(pe.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0);var t,n,r}}();var Ze,et,tt=/^margin/,nt=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),rt=/^(top|right|bottom|left)$/;e.getComputedStyle?(Ze=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},et=function(e,t,n){var r,i,o,s,a=e.style;return s=(n=n||Ze(e))?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==s||ie.contains(e.ownerDocument,e)||(s=ie.style(e,t)),nt.test(s)&&tt.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0===s?s:s+""}):pe.documentElement.currentStyle&&(Ze=function(e){return e.currentStyle},et=function(e,t,n){var r,i,o,s,a=e.style;return null==(s=(n=n||Ze(e))?n[t]:void 0)&&a&&a[t]&&(s=a[t]),nt.test(s)&&!rt.test(t)&&(r=a.left,(o=(i=e.runtimeStyle)&&i.left)&&(i.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s,s=a.pixelLeft+"px",a.left=r,o&&(i.left=o)),void 0===s?s:s+""||"auto"}),function(){var t,n,r,i,o,s,a;if((t=pe.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=(r=t.getElementsByTagName("a")[0])&&r.style){function l(){var t,n,r,l;(n=pe.getElementsByTagName("body")[0])&&n.style&&(t=pe.createElement("div"),(r=pe.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",i=o=!1,a=!0,e.getComputedStyle&&(i="1%"!==(e.getComputedStyle(t,null)||{}).top,o="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,(l=t.appendChild(pe.createElement("div"))).style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",l.style.marginRight=l.style.width="0",t.style.width="1px",a=!parseFloat((e.getComputedStyle(l,null)||{}).marginRight),t.removeChild(l)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(l=t.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(s=0===l[0].offsetHeight)&&(l[0].style.display="",l[1].style.display="none",s=0===l[0].offsetHeight),n.removeChild(r))}n.cssText="float:left;opacity:.5",ne.opacity="0.5"===n.opacity,ne.cssFloat=!!n.cssFloat,t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===t.style.backgroundClip,ne.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,ie.extend(ne,{reliableHiddenOffsets:function(){return null==s&&l(),s},boxSizingReliable:function(){return null==o&&l(),o},pixelPosition:function(){return null==i&&l(),i},reliableMarginRight:function(){return null==a&&l(),a}})}}(),ie.swap=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=s[o];return i};var it=/alpha\([^)]*\)/i,ot=/opacity\s*=\s*([^)]*)/,st=/^(none|table(?!-c[ea]).+)/,at=new RegExp("^("+ke+")(.*)$","i"),lt=new RegExp("^([+-])=("+ke+")","i"),ct={position:"absolute",visibility:"hidden",display:"block"},ut={letterSpacing:"0",fontWeight:"400"},dt=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=et(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=ie.camelCase(t),l=e.style;if(t=ie.cssProps[a]||(ie.cssProps[a]=D(l,a)),s=ie.cssHooks[t]||ie.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:l[t];if("string"===(o=typeof n)&&(i=lt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ie.css(e,t)),o="number"),null!=n&&n==n&&("number"!==o||ie.cssNumber[a]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!s||!("set"in s)||void 0!==(n=s.set(e,n,r))))try{l[t]=n}catch(e){}}},css:function(e,t,n,r){var i,o,s,a=ie.camelCase(t);return t=ie.cssProps[a]||(ie.cssProps[a]=D(e.style,a)),(s=ie.cssHooks[t]||ie.cssHooks[a])&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=et(e,t,r)),"normal"===o&&t in ut&&(o=ut[t]),""===n||n?(i=parseFloat(o),!0===n||ie.isNumeric(i)?i||0:o):o}}),ie.each(["height","width"],(function(e,t){ie.cssHooks[t]={get:function(e,n,r){return n?st.test(ie.css(e,"display"))&&0===e.offsetWidth?ie.swap(e,ct,(function(){return O(e,t,r)})):O(e,t,r):void 0},set:function(e,n,r){var i=r&&Ze(e);return A(e,n,r?N(e,t,r,ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,i),i):0)}}})),ne.opacity||(ie.cssHooks.opacity={get:function(e,t){return ot.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ie.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ie.trim(o.replace(it,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=it.test(o)?o.replace(it,i):o+" "+i)}}),ie.cssHooks.marginRight=k(ne.reliableMarginRight,(function(e,t){return t?ie.swap(e,{display:"inline-block"},et,[e,"marginRight"]):void 0})),ie.each({margin:"",padding:"",border:"Width"},(function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+De[r]+t]=o[r]||o[r-2]||o[0];return i}},tt.test(e)||(ie.cssHooks[e+t].set=A)})),ie.fn.extend({css:function(e,t){return Ae(this,(function(e,t,n){var r,i,o={},s=0;if(ie.isArray(t)){for(r=Ze(e),i=t.length;i>s;s++)o[t[s]]=ie.css(e,t[s],!1,r);return o}return void 0!==n?ie.style(e,t,n):ie.css(e,t)}),e,t,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){Te(this)?ie(this).show():ie(this).hide()}))}}),ie.Tween=j,j.prototype={constructor:j,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ie.cssNumber[n]?"":"px")},cur:function(){var e=j.propHooks[this.prop];return e&&e.get?e.get(this):j.propHooks._default.get(this)},run:function(e){var t,n=j.propHooks[this.prop];return this.pos=t=this.options.duration?ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ie.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ie.cssProps[e.prop]]||ie.cssHooks[e.prop])?ie.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ie.fx=j.prototype.init,ie.fx.step={};var ft,ht,pt=/^(?:toggle|show|hide)$/,mt=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),gt=/queueHooks$/,vt=[L],yt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=mt.exec(t),o=i&&i[3]||(ie.cssNumber[e]?"":"px"),s=(ie.cssNumber[e]||"px"!==o&&+r)&&mt.exec(ie.css(n.elem,e)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do{s/=a=a||".5",ie.style(n.elem,e,s+o)}while(a!==(a=n.cur()/r)&&1!==a&&--l)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(I,{tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],yt[n]=yt[n]||[],yt[n].unshift(t)},prefilter:function(e,t){t?vt.unshift(e):vt.push(e)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Te).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ie.isEmptyObject(e),o=ie.speed(t,n,r),s=function(){var t=I(this,ie.extend({},e),o);(i||ie._data(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=ie.timers,s=ie._data(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&gt.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&ie.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=ie._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ie.timers,s=r?r.length:0;for(n.finish=!0,ie.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),ie.each(["toggle","show","hide"],(function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(R(t,!0),e,r,i)}})),ie.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){ie.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),ie.timers=[],ie.fx.tick=function(){var e,t=ie.timers,n=0;for(ft=ie.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||ie.fx.stop(),ft=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){ht||(ht=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(ht),ht=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(e,t){return e=ie.fx&&ie.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}}))},function(){var e,t,n,r,i;(t=pe.createElement("div")).setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],i=(n=pe.createElement("select")).appendChild(pe.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(r.getAttribute("style")),ne.hrefNormalized="/a"===r.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=i.selected,ne.enctype=!!pe.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,(e=pe.createElement("input")).setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var bt=/\r/g;ie.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=ie.isFunction(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,ie(this).val()):e)?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,(function(e){return null==e?"":e+""}))),(t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(bt,""):null==n?"":n:void 0}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,s=o?null:[],a=o?i+1:r.length,l=0>i?a:o?i:0;a>l;l++)if(!(!(n=r[l]).selected&&l!==i||(ne.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=ie.makeArray(t),s=i.length;s--;)if(r=i[s],ie.inArray(ie.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(e){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],(function(){ie.valHooks[this]={set:function(e,t){return ie.isArray(t)?e.checked=ie.inArray(ie(e).val(),t)>=0:void 0}},ne.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var _t,wt,Ct=ie.expr.attrHandle,xt=/^(?:checked|selected)$/i,Et=ne.getSetAttribute,St=ne.input;ie.fn.extend({attr:function(e,t){return Ae(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){ie.removeAttr(this,e)}))}}),ie.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===xe?ie.prop(e,t,n):(1===o&&ie.isXMLDoc(e)||(t=t.toLowerCase(),r=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?wt:_t)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=ie.find.attr(e,t))?void 0:i:null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void ie.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(_e);if(o&&1===e.nodeType)for(;n=o[i++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)?St&&Et||!xt.test(n)?e[r]=!1:e[ie.camelCase("default-"+n)]=e[r]=!1:ie.attr(e,n,""),e.removeAttribute(Et?n:r)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),wt={set:function(e,t,n){return!1===t?ie.removeAttr(e,n):St&&Et||!xt.test(n)?e.setAttribute(!Et&&ie.propFix[n]||n,n):e[ie.camelCase("default-"+n)]=e[n]=!0,n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=Ct[t]||ie.find.attr;Ct[t]=St&&Et||!xt.test(t)?function(e,t,r){var i,o;return r||(o=Ct[t],Ct[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Ct[t]=o),i}:function(e,t,n){return n?void 0:e[ie.camelCase("default-"+t)]?t.toLowerCase():null}})),St&&Et||(ie.attrHooks.value={set:function(e,t,n){return ie.nodeName(e,"input")?void(e.defaultValue=t):_t&&_t.set(e,t,n)}}),Et||(_t={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Ct.id=Ct.name=Ct.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},ie.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:_t.set},ie.attrHooks.contenteditable={set:function(e,t,n){_t.set(e,""!==t&&t,n)}},ie.each(["width","height"],(function(e,t){ie.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}}))),ne.style||(ie.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var kt=/^(?:input|select|textarea|button|object)$/i,Dt=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return Ae(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ie.propFix[e]||e,this.each((function(){try{this[e]=void 0,delete this[e]}catch(e){}}))}}),ie.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!ie.isXMLDoc(e))&&(t=ie.propFix[t]||t,i=ie.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):kt.test(e.nodeName)||Dt.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||ie.each(["href","src"],(function(e,t){ie.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),ne.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){ie.propFix[this.toLowerCase()]=this})),ne.enctype||(ie.propFix.enctype="encoding");var Tt=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,r,i,o,s,a=0,l=this.length,c="string"==typeof e&&e;if(ie.isFunction(e))return this.each((function(t){ie(this).addClass(e.call(this,t,this.className))}));if(c)for(t=(e||"").match(_e)||[];l>a;a++)if(r=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(Tt," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=ie.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,r,i,o,s,a=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(ie.isFunction(e))return this.each((function(t){ie(this).removeClass(e.call(this,t,this.className))}));if(c)for(t=(e||"").match(_e)||[];l>a;a++)if(r=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(Tt," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=e?ie.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ie.isFunction(e)?function(n){ie(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=ie(this),o=e.match(_e)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===xe||"boolean"===n)&&(this.className&&ie._data(this,"__className__",this.className),this.className=this.className||!1===e?"":ie._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Tt," ").indexOf(t)>=0)return!0;return!1}}),
ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var At=ie.now(),Nt=/\?/,Ot=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ie.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=ie.trim(t+"");return i&&!ie.trim(i.replace(Ot,(function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")})))?Function("return "+i)():ie.error("Invalid JSON: "+t)},ie.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?n=(new DOMParser).parseFromString(t,"text/xml"):((n=new ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(t))}catch(e){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var jt,Mt,Rt=/#.*$/,Ft=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,It=/^(?:GET|HEAD)$/,$t=/^\/\//,zt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Bt={},Ut={},Ht="*/".concat("*");try{Mt=location.href}catch(e){(Mt=pe.createElement("a")).href="",Mt=Mt.href}jt=zt.exec(Mt.toLowerCase())||[],ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mt,type:"GET",isLocal:Pt.test(jt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?B(B(e,ie.ajaxSettings),t):B(ie.ajaxSettings,e)},ajaxPrefilter:$(Bt),ajaxTransport:$(Ut),ajax:function(e,t){function n(e,t,n,r){var i,u,v,y,_,C=t;2!==b&&(b=2,a&&clearTimeout(a),c=void 0,s=r||"",w.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(y=U(d,w,n)),y=H(d,y,w,i),i?(d.ifModified&&((_=w.getResponseHeader("Last-Modified"))&&(ie.lastModified[o]=_),(_=w.getResponseHeader("etag"))&&(ie.etag[o]=_)),204===e||"HEAD"===d.type?C="nocontent":304===e?C="notmodified":(C=y.state,u=y.data,i=!(v=y.error))):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),w.status=e,w.statusText=(t||C)+"",i?p.resolveWith(f,[u,C,w]):p.rejectWith(f,[w,C,v]),w.statusCode(g),g=void 0,l&&h.trigger(i?"ajaxSuccess":"ajaxError",[w,d,i?u:v]),m.fireWith(f,[w,C]),l&&(h.trigger("ajaxComplete",[w,d]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,s,a,l,c,u,d=ie.ajaxSetup({},t),f=d.context||d,h=d.context&&(f.nodeType||f.jquery)?ie(f):ie.event,p=ie.Deferred(),m=ie.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!u)for(u={};t=Lt.exec(s);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||_;return c&&c.abort(t),n(0,t),this}};if(p.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||Mt)+"").replace(Rt,"").replace($t,jt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ie.trim(d.dataType||"*").toLowerCase().match(_e)||[""],null==d.crossDomain&&(r=zt.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===jt[1]&&r[2]===jt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(jt[3]||("http:"===jt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ie.param(d.data,d.traditional)),z(Bt,d,t,w),2===b)return w;for(i in(l=ie.event&&d.global)&&0==ie.active++&&ie.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!It.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Nt.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=Ft.test(o)?o.replace(Ft,"$1_="+At++):o+(Nt.test(o)?"&":"?")+"_="+At++)),d.ifModified&&(ie.lastModified[o]&&w.setRequestHeader("If-Modified-Since",ie.lastModified[o]),ie.etag[o]&&w.setRequestHeader("If-None-Match",ie.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ht+"; q=0.01":""):d.accepts["*"]),d.headers)w.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(!1===d.beforeSend.call(f,w,d)||2===b))return w.abort();for(i in _="abort",{success:1,error:1,complete:1})w[i](d[i]);if(c=z(Ut,d,t,w)){w.readyState=1,l&&h.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(a=setTimeout((function(){w.abort("timeout")}),d.timeout));try{b=1,c.send(v,n)}catch(e){if(!(2>b))throw e;n(-1,e)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],(function(e,t){ie[t]=function(e,n,r,i){return ie.isFunction(n)&&(i=i||r,r=n,n=void 0),ie.ajax({url:e,type:t,dataType:i,data:n,success:r})}})),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ie.fn.extend({wrapAll:function(e){if(ie.isFunction(e))return this.each((function(t){ie(this).wrapAll(e.call(this,t))}));if(this[0]){var t=ie(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e})).append(this)}return this},wrapInner:function(e){return this.each(ie.isFunction(e)?function(t){ie(this).wrapInner(e.call(this,t))}:function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each((function(n){ie(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(){return this.parent().each((function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)})).end()}}),ie.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ie.css(e,"display"))},ie.expr.filters.visible=function(e){return!ie.expr.filters.hidden(e)};var Wt=/%20/g,Kt=/\[\]$/,qt=/\r?\n/g,Vt=/^(?:submit|button|image|reset|file)$/i,Yt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,r=[],i=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,(function(){i(this.name,this.value)}));else for(n in e)W(n,e[n],t,i);return r.join("&").replace(Wt,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Yt.test(this.nodeName)&&!Vt.test(e)&&(this.checked||!Ne.test(e))})).map((function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,(function(e){return{name:t.name,value:e.replace(qt,"\r\n")}})):{name:t.name,value:n.replace(qt,"\r\n")}})).get()}}),ie.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&K()||q()}:K;var Jt=0,Gt={},Xt=ie.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",(function(){for(var e in Gt)Gt[e](void 0,!0)})),ne.cors=!!Xt&&"withCredentials"in Xt,(Xt=ne.ajax=!!Xt)&&ie.ajaxTransport((function(e){var t;if(!e.crossDomain||ne.cors)return{send:function(n,r){var i,o=e.xhr(),s=++Jt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];for(i in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var a,l,c;if(t&&(i||4===o.readyState))if(delete Gt[s],t=void 0,o.onreadystatechange=ie.noop,i)4!==o.readyState&&o.abort();else{c={},a=o.status,"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(e){l=""}a||!e.isLocal||e.crossDomain?1223===a&&(a=204):a=c.text?200:404}c&&r(a,l,c,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Gt[s]=t:t()},abort:function(){t&&t(void 0,!0)}}})),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)})),ie.ajaxTransport("script",(function(e){if(e.crossDomain){var t,n=pe.head||ie("head")[0]||pe.documentElement;return{send:function(r,i){(t=pe.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}}));var Qt=[],Zt=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Qt.pop()||ie.expando+"_"+At++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",(function(t,n,r){var i,o,s,a=!1!==t.jsonp&&(Zt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Zt,"$1"+i):!1!==t.jsonp&&(t.url+=(Nt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||ie.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always((function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Qt.push(i)),s&&ie.isFunction(o)&&o(s[0]),s=o=void 0})),"script"):void 0})),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||pe;var r=de.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ie.buildFragment([e],t,i),i&&i.length&&ie(i).remove(),ie.merge([],r.childNodes))};var en=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&en)return en.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>=0&&(r=ie.trim(e.slice(a,e.length)),e=e.slice(0,a)),ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&ie.ajax({url:e,type:o,dataType:"html",data:t}).done((function(e){i=arguments,s.html(r?ie("<div>").append(ie.parseHTML(e)).find(r):e)})).complete(n&&function(e,t){s.each(n,i||[e.responseText,t,e])}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){ie.fn[t]=function(e){return this.on(t,e)}})),ie.expr.filters.animated=function(e){return ie.grep(ie.timers,(function(t){return e===t.elem})).length};var tn=e.document.documentElement;ie.offset={setOffset:function(e,t,n){var r,i,o,s,a,l,c=ie.css(e,"position"),u=ie(e),d={};"static"===c&&(e.style.position="relative"),a=u.offset(),o=ie.css(e,"top"),l=ie.css(e,"left"),("absolute"===c||"fixed"===c)&&ie.inArray("auto",[o,l])>-1?(s=(r=u.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),ie.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+i),"using"in t?t.using.call(e,d):u.css(d)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){ie.offset.setOffset(this,e,t)}));var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(t=o.documentElement,ie.contains(t,i)?(typeof i.getBoundingClientRect!==xe&&(r=i.getBoundingClientRect()),n=V(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ie.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(n=e.offset()),n.top+=ie.css(e[0],"borderTopWidth",!0),n.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ie.css(r,"marginTop",!0),left:t.left-n.left-ie.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||tn;e&&!ie.nodeName(e,"html")&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||tn}))}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n=/Y/.test(t);ie.fn[e]=function(r){return Ae(this,(function(e,r,i){var o=V(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?ie(o).scrollLeft():i,n?i:ie(o).scrollTop()):e[r]=i)}),e,r,arguments.length,null)}})),ie.each(["top","left"],(function(e,t){ie.cssHooks[t]=k(ne.pixelPosition,(function(e,n){return n?(n=et(e,t),nt.test(n)?ie(e).position()[t]+"px":n):void 0}))})),ie.each({Height:"height",Width:"width"},(function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){ie.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===i?"margin":"border");return Ae(this,(function(t,n,r){var i;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ie.css(t,n,s):ie.style(t,n,r,s)}),t,o?r:void 0,o,null)}}))})),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return ie}));var nn=e.jQuery,rn=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=rn),t&&e.jQuery===ie&&(e.jQuery=nn),ie},typeof t===xe&&(e.jQuery=e.$=ie),ie})),void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;o[n]||(o[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+n),e.migrateTrace&&r.trace&&r.trace()))}function i(t,i,o,s){if(Object.defineProperty)try{return Object.defineProperty(t,i,{configurable:!0,enumerable:!0,get:function(){return r(s),o},set:function(e){r(s),o=e}}),n}catch(e){}e._definePropertyBroken=!0,t[i]=o}var o={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){o={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var s=e("<input/>",{size:1}).attr("size")&&e.attrFn,a=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},u=/^(?:input|button)$/i,d=/^[238]$/,f=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,h=/^(?:checked|selected)$/i;i(e,"attrFn",s||{},"jQuery.attrFn is deprecated"),e.attr=function(t,i,o,l){var c=i.toLowerCase(),p=t&&t.nodeType;return l&&(4>a.length&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(p)&&(s?i in s:e.isFunction(e.fn[i])))?e(t)[i](o):("type"===i&&o!==n&&u.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&f.test(c)&&(e.attrHooks[c]={get:function(t,r){var i,o=e.prop(t,r);return!0===o||"boolean"!=typeof o&&(i=t.getAttributeNode(r))&&!1!==i.nodeValue?r.toLowerCase():n},set:function(t,n,r){var i;return!1===n?e.removeAttr(t,r):((i=e.propFix[r]||r)in t&&(t[i]=!0),t.setAttribute(r,r.toLowerCase())),r}},h.test(c)&&r("jQuery.fn.attr('"+c+"') may use property instead of attribute")),a.call(e,t,i,o))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?l.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var i=(e.nodeName||"").toLowerCase();return"button"===i?c.apply(this,arguments):("input"!==i&&"option"!==i&&r("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var p,m,g=e.fn.init,v=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,i){var o;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(o=y.exec(e.trim(t)))&&o[0]&&("<"!==t.charAt(0)&&r("$(html) HTML strings must start with '<' character"),o[3]&&r("$(html) HTML text after last tag is ignored"),"#"===o[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?g.call(this,e.parseHTML(o[2],n,!0),n,i):g.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?v.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(m={},(p=e.uaMatch(navigator.userAgent)).browser&&(m[p.browser]=!0,m.version=p.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),e.browser=m),i(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,i){return i&&i instanceof e&&!(i instanceof t)&&(i=t(i)),e.fn.init.call(this,r,i,n)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var i,o,s=this[0];return!s||"events"!==t||1!==arguments.length||(i=e.data(s,t),o=e._data(s,t),i!==n&&i!==o||o===n)?b.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),o)};var _=/\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),w.apply(this,arguments)},e.clean||(e.clean=function(t,i,o,s){i=(i=!(i=i||document).nodeType&&i[0]||i).ownerDocument||i,r("jQuery.clean() is deprecated");var a,l,c,u,d=[];if(e.merge(d,e.buildFragment(t,i).childNodes),o)for(c=function(e){return!e.type||_.test(e.type)?s?s.push(e.parentNode?e.parentNode.removeChild(e):e):o.appendChild(e):n},a=0;null!=(l=d[a]);a++)e.nodeName(l,"script")&&c(l)||(o.appendChild(l),l.getElementsByTagName!==n&&(u=e.grep(e.merge([],l.getElementsByTagName("script")),c),d.splice.apply(d,[a+1,0].concat(u)),a+=u.length));return d});var C=e.event.add,x=e.event.remove,E=e.event.trigger,S=e.fn.toggle,k=e.fn.live,D=e.fn.die,T="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",A=RegExp("\\b(?:"+T+")\\b"),N=/(?:^|\s)hover(\.\S+|)\b/,O=function(t){return"string"!=typeof t||e.event.special.hover?t:(N.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(N,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&i(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,i,o){e!==document&&A.test(t)&&r("AJAX events should be attached to document: "+t),C.call(this,e,O(t||""),n,i,o)},e.event.remove=function(e,t,n,r,i){x.call(this,e,O(t)||"",n,r,i)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return S.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var i=arguments,o=t.guid||e.guid++,s=0,a=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%s;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),i[r].apply(this,arguments)||!1};for(a.guid=o;i.length>s;)i[s++].guid=o;return this.click(a)},e.fn.live=function(t,n,i){return r("jQuery.fn.live() is deprecated"),k?k.apply(this,arguments):(e(this.context).on(t,this.selector,n,i),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),D?D.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,i){return n||A.test(e)||r("Global events are undocumented and deprecated"),E.call(this,e,t,n||document,i)},e.each(T.split("|"),(function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,(function(){e.event.trigger(n,null,t,!0)})),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}}))}(jQuery,window),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).bootstrap=t()}(this,(function(){"use strict";function e(e,t){return t&&`${t}::${be++}`||e.uidEvent||be++}function t(t){const n=e(t);return t.uidEvent=n,ye[n]=ye[n]||{},ye[n]}function n(e,t,n=null){const r=Object.keys(e);for(let i=0,o=r.length;i<o;i++){const o=e[r[i]];if(o.originalHandler===t&&o.delegationSelector===n)return o}return null}function r(e,t,n){const r="string"==typeof t,i=r?n:t;let o=s(e);return Ce.has(o)||(o=e),[r,i,o]}function i(i,o,s,a,l){if("string"!=typeof o||!i)return;if(s||(s=a,a=null),we.test(o)){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};a?a=e(a):s=e(s)}const[c,u,d]=r(o,s,a),f=t(i),h=f[d]||(f[d]={}),p=n(h,u,c?s:null);if(p)return void(p.oneOff=p.oneOff&&l);const m=e(u,o.replace(me,"")),g=c?function(e,t,n){return function r(i){const o=e.querySelectorAll(t);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(let a=o.length;a--;)if(o[a]===s)return i.delegateTarget=s,r.oneOff&&xe.off(e,i.type,t,n),n.apply(s,[i]);return null}}(i,s,a):function(e,t){return function n(r){return r.delegateTarget=e,n.oneOff&&xe.off(e,r.type,t),t.apply(e,[r])}}(i,s);g.delegationSelector=c?s:null,g.originalHandler=u,g.oneOff=l,g.uidEvent=m,h[m]=g,i.addEventListener(d,g,c)}function o(e,t,r,i,o){const s=n(t[r],i,o);s&&(e.removeEventListener(r,s,Boolean(o)),delete t[r][s.uidEvent])}function s(e){return e=e.replace(ge,""),_e[e]||e}function a(e){return"true"===e||"false"!==e&&(e===Number(e).toString()?Number(e):""===e||"null"===e?null:e)}function l(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}function c(e){return e?(e.nodeName||"").toLowerCase():null}function u(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function d(e){return e instanceof u(e).Element||e instanceof Element}function f(e){return e instanceof u(e).HTMLElement||e instanceof HTMLElement}function h(e){return"undefined"!=typeof ShadowRoot&&(e instanceof u(e).ShadowRoot||e instanceof ShadowRoot)}function p(e){return e.split("-")[0]}function m(e){var t=e.getBoundingClientRect();return{width:t.width/1,height:t.height/1,top:t.top/1,right:t.right/1,bottom:t.bottom/1,left:t.left/1,x:t.left/1,y:t.top/1}}function g(e){var t=m(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function v(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&h(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function y(e){return u(e).getComputedStyle(e)}function b(e){return["table","td","th"].indexOf(c(e))>=0}function _(e){return((d(e)?e.ownerDocument:e.document)||window.document).documentElement}function w(e){return"html"===c(e)?e:e.assignedSlot||e.parentNode||(h(e)?e.host:null)||_(e)}function C(e){return f(e)&&"fixed"!==y(e).position?e.offsetParent:null}function x(e){for(var t=u(e),n=C(e);n&&b(n)&&"static"===y(n).position;)n=C(n);return n&&("html"===c(n)||"body"===c(n)&&"static"===y(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&f(e)&&"fixed"===y(e).position)return null;for(var n=w(e);f(n)&&["html","body"].indexOf(c(n))<0;){var r=y(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function E(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function S(e,t,n){return kt(e,Dt(t,n))}function k(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function D(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function T(e){return e.split("-")[1]}function A(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,f=!0===d?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Tt(Tt(t*r)/r)||0,y:Tt(Tt(n*r)/r)||0}}(s):"function"==typeof d?d(s):s,h=f.x,p=void 0===h?0:h,m=f.y,g=void 0===m?0:m,v=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),w=it,C=tt,E=window;if(c){var S=x(n),k="clientHeight",D="clientWidth";S===u(n)&&"static"!==y(S=_(n)).position&&"absolute"===a&&(k="scrollHeight",D="scrollWidth"),i!==tt&&(i!==it&&i!==rt||o!==lt)||(C=nt,g-=S[k]-r.height,g*=l?1:-1),i!==it&&(i!==tt&&i!==nt||o!==lt)||(w=rt,p-=S[D]-r.width,p*=l?1:-1)}var T,A=Object.assign({position:a},c&&Nt);return l?Object.assign({},A,((T={})[C]=b?"0":"",T[w]=v?"0":"",T.transform=(E.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",T)):Object.assign({},A,((t={})[C]=b?g+"px":"",t[w]=v?p+"px":"",t.transform="",t))}function N(e){return e.replace(/left|right|bottom|top/g,(function(e){return Rt[e]}))}function O(e){return e.replace(/start|end/g,(function(e){return Ft[e]}))}function j(e){var t=u(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function M(e){return m(_(e)).left+j(e).scrollLeft}function R(e){var t=y(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function F(e){return["html","body","#document"].indexOf(c(e))>=0?e.ownerDocument.body:f(e)&&R(e)?e:F(w(e))}function L(e,t){var n;void 0===t&&(t=[]);var r=F(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=u(r),s=i?[o].concat(o.visualViewport||[],R(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(L(w(s)))}function P(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function I(e,t){return t===ut?P(function(e){var t=u(e),n=_(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,s=0,a=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,a=r.offsetTop)),{width:i,height:o,x:s+M(e),y:a}}(e)):f(t)?function(e){var t=m(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):P(function(e){var t,n=_(e),r=j(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=kt(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=kt(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+M(e),l=-r.scrollTop;return"rtl"===y(i||n).direction&&(a+=kt(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(_(e)))}function $(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?p(i):null,s=i?T(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case tt:t={x:a,y:n.y-r.height};break;case nt:t={x:a,y:n.y+n.height};break;case rt:t={x:n.x+n.width,y:l};break;case it:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?E(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case at:t[c]=t[c]-(n[u]/2-r[u]/2);break;case lt:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function z(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.boundary,s=void 0===o?ct:o,a=n.rootBoundary,l=void 0===a?ut:a,u=n.elementContext,h=void 0===u?dt:u,p=n.altBoundary,g=void 0!==p&&p,b=n.padding,C=void 0===b?0:b,E=k("number"!=typeof C?C:D(C,st)),S=h===dt?ft:dt,T=e.rects.popper,A=e.elements[g?S:h],N=function(e,t,n){var r="clippingParents"===t?function(e){var t=L(w(e)),n=["absolute","fixed"].indexOf(y(e).position)>=0&&f(e)?x(e):e;return d(n)?t.filter((function(e){return d(e)&&v(e,n)&&"body"!==c(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),o=i[0],s=i.reduce((function(t,n){var r=I(e,n);return t.top=kt(r.top,t.top),t.right=Dt(r.right,t.right),t.bottom=Dt(r.bottom,t.bottom),t.left=kt(r.left,t.left),t}),I(e,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(d(A)?A:A.contextElement||_(e.elements.popper),s,l),O=m(e.elements.reference),j=$({reference:O,element:T,strategy:"absolute",placement:i}),M=P(Object.assign({},T,j)),R=h===dt?M:O,F={top:N.top-R.top+E.top,bottom:R.bottom-N.bottom+E.bottom,left:N.left-R.left+E.left,right:R.right-N.right+E.right},z=e.modifiersData.offset;if(h===dt&&z){var B=z[i];Object.keys(F).forEach((function(e){var t=[rt,nt].indexOf(e)>=0?1:-1,n=[tt,nt].indexOf(e)>=0?"y":"x";F[e]+=B[n]*t}))}return F}function B(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?pt:l,u=T(r),d=u?a?ht:ht.filter((function(e){return T(e)===u})):st,f=d.filter((function(e){return c.indexOf(e)>=0}));0===f.length&&(f=d);var h=f.reduce((function(t,n){return t[n]=z(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[p(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}function U(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function H(e){return[tt,rt,nt,it].some((function(t){return e[t]>=0}))}function W(e,t,n){void 0===n&&(n=!1);var r=f(t);f(t)&&function(e){var t=e.getBoundingClientRect();t.width,e.offsetWidth,t.height,e.offsetHeight}(t);var i,o,s=_(t),a=m(e),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!n)&&(("body"!==c(t)||R(s))&&(l=(i=t)!==u(i)&&f(i)?{scrollLeft:(o=i).scrollLeft,scrollTop:o.scrollTop}:j(i)),f(t)?((d=m(t)).x+=t.clientLeft,d.y+=t.clientTop):s&&(d.x=M(s))),{x:a.left+l.scrollLeft-d.x,y:a.top+l.scrollTop-d.y,width:a.width,height:a.height}}function K(e){function t(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!r.has(e)){var i=n.get(e);i&&t(i)}})),i.push(e)}var n=new Map,r=new Set,i=[];return e.forEach((function(e){n.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||t(e)})),i}function q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function V(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?Bt:i;return function(e,t,n){function i(){c.forEach((function(e){return e()})),c=[]}void 0===n&&(n=o);var s,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},Bt,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],u=!1,f={state:l,setOptions:function(n){var s="function"==typeof n?n(l.options):n;i(),l.options=Object.assign({},o,l.options,s),l.scrollParents={reference:d(e)?L(e):e.contextElement?L(e.contextElement):[],popper:L(t)};var a,u,h=function(e){var t=K(e);return Et.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))
}),[])}((a=[].concat(r,l.options.modifiers),u=a.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(u).map((function(e){return u[e]}))));return l.orderedModifiers=h.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:l,name:t,instance:f,options:r});c.push(o||function(){})}})),f.update()},forceUpdate:function(){if(!u){var e=l.elements,t=e.reference,n=e.popper;if(q(t,n)){l.rects={reference:W(t,x(n),"fixed"===l.options.strategy),popper:g(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<l.orderedModifiers.length;r++)if(!0!==l.reset){var i=l.orderedModifiers[r],o=i.fn,s=i.options,a=void 0===s?{}:s,c=i.name;"function"==typeof o&&(l=o({state:l,options:a,name:c,instance:f})||l)}else l.reset=!1,r=-1}}},update:(s=function(){return new Promise((function(e){f.forceUpdate(),e(l)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(s())}))}))),a}),destroy:function(){i(),u=!0}};return q(e,t)?(f.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),f):f}}function Y(e,t,n){if(!e.length)return e;if(n&&"function"==typeof n)return n(e);const r=(new window.DOMParser).parseFromString(e,"text/html"),i=[].concat(...r.body.querySelectorAll("*"));for(let e=0,n=i.length;e<n;e++){const n=i[e],r=n.nodeName.toLowerCase();if(!Object.keys(t).includes(r)){n.remove();continue}const o=[].concat(...n.attributes),s=[].concat(t["*"]||[],t[r]||[]);o.forEach((e=>{Gn(e,s)||n.removeAttribute(e.nodeName)}))}return r.body.innerHTML}const J="transitionend",G=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&"#"!==n?n.trim():null}return t},X=e=>{const t=G(e);return t&&document.querySelector(t)?t:null},Q=e=>{const t=G(e);return t?document.querySelector(t):null},Z=e=>{e.dispatchEvent(new Event(J))},ee=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),te=e=>ee(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(e):null,ne=(e,t,n)=>{Object.keys(n).forEach((r=>{const i=n[r],o=t[r],s=o&&ee(o)?"element":null==(a=o)?`${a}`:{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();var a;if(!new RegExp(i).test(s))throw new TypeError(`${e.toUpperCase()}: Option "${r}" provided type "${s}" but expected type "${i}".`)}))},re=e=>!(!ee(e)||0===e.getClientRects().length)&&"visible"===getComputedStyle(e).getPropertyValue("visibility"),ie=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),oe=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?oe(e.parentNode):null},se=()=>{},ae=e=>{e.offsetHeight},le=()=>{const{jQuery:e}=window;return e&&!document.body.hasAttribute("data-bs-no-jquery")?e:null},ce=[],ue=()=>"rtl"===document.documentElement.dir,de=e=>{var t;t=()=>{const t=le();if(t){const n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=r,e.jQueryInterface)}},"loading"===document.readyState?(ce.length||document.addEventListener("DOMContentLoaded",(()=>{ce.forEach((e=>e()))})),ce.push(t)):t()},fe=e=>{"function"==typeof e&&e()},he=(e,t,n=!0)=>{if(!n)return void fe(e);const r=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const r=Number.parseFloat(t),i=Number.parseFloat(n);return r||i?(t=t.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(n))):0})(t)+5;let i=!1;const o=({target:n})=>{n===t&&(i=!0,t.removeEventListener(J,o),fe(e))};t.addEventListener(J,o),setTimeout((()=>{i||Z(t)}),r)},pe=(e,t,n,r)=>{let i=e.indexOf(t);if(-1===i)return e[!n&&r?e.length-1:0];const o=e.length;return i+=n?1:-1,r&&(i=(i+o)%o),e[Math.max(0,Math.min(i,o-1))]},me=/[^.]*(?=\..*)\.|.*/,ge=/\..*/,ve=/::\d+$/,ye={};let be=1;const _e={mouseenter:"mouseover",mouseleave:"mouseout"},we=/^(mouseenter|mouseleave)/i,Ce=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]),xe={on(e,t,n,r){i(e,t,n,r,!1)},one(e,t,n,r){i(e,t,n,r,!0)},off(e,n,i,s){if("string"!=typeof n||!e)return;const[a,l,c]=r(n,i,s),u=c!==n,d=t(e),f=n.startsWith(".");if(void 0!==l){if(!d||!d[c])return;return void o(e,d,c,l,a?i:null)}f&&Object.keys(d).forEach((t=>{!function(e,t,n,r){const i=t[n]||{};Object.keys(i).forEach((s=>{if(s.includes(r)){const r=i[s];o(e,t,n,r.originalHandler,r.delegationSelector)}}))}(e,d,t,n.slice(1))}));const h=d[c]||{};Object.keys(h).forEach((t=>{const r=t.replace(ve,"");if(!u||n.includes(r)){const n=h[t];o(e,d,c,n.originalHandler,n.delegationSelector)}}))},trigger(e,t,n){if("string"!=typeof t||!e)return null;const r=le(),i=s(t),o=t!==i,a=Ce.has(i);let l,c=!0,u=!0,d=!1,f=null;return o&&r&&(l=r.Event(t,n),r(e).trigger(l),c=!l.isPropagationStopped(),u=!l.isImmediatePropagationStopped(),d=l.isDefaultPrevented()),a?(f=document.createEvent("HTMLEvents"),f.initEvent(i,c,!0)):f=new CustomEvent(t,{bubbles:c,cancelable:!0}),void 0!==n&&Object.keys(n).forEach((e=>{Object.defineProperty(f,e,{get:()=>n[e]})})),d&&f.preventDefault(),u&&e.dispatchEvent(f),f.defaultPrevented&&void 0!==l&&l.preventDefault(),f}},Ee=new Map,Se={set(e,t,n){Ee.has(e)||Ee.set(e,new Map);const r=Ee.get(e);r.has(t)||0===r.size?r.set(t,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get:(e,t)=>Ee.has(e)&&Ee.get(e).get(t)||null,remove(e,t){if(!Ee.has(e))return;const n=Ee.get(e);n.delete(t),0===n.size&&Ee.delete(e)}};class ke{constructor(e){(e=te(e))&&(this._element=e,Se.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Se.remove(this._element,this.constructor.DATA_KEY),xe.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach((e=>{this[e]=null}))}_queueCallback(e,t,n=!0){he(e,t,n)}static getInstance(e){return Se.get(te(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const De=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;xe.on(document,n,`[data-bs-dismiss="${r}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),ie(this))return;const i=Q(this)||this.closest(`.${r}`);e.getOrCreateInstance(i)[t]()}))};class Te extends ke{static get NAME(){return"alert"}close(){if(xe.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),xe.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=Te.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}De(Te,"close"),de(Te);const Ae='[data-bs-toggle="button"]';class Ne extends ke{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each((function(){const t=Ne.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}xe.on(document,"click.bs.button.data-api",Ae,(e=>{e.preventDefault();const t=e.target.closest(Ae);Ne.getOrCreateInstance(t).toggle()})),de(Ne);const Oe={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${l(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${l(t)}`)},getDataAttributes(e){if(!e)return{};const t={};return Object.keys(e.dataset).filter((e=>e.startsWith("bs"))).forEach((n=>{let r=n.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),t[r]=a(e.dataset[n])})),t},getDataAttribute:(e,t)=>a(e.getAttribute(`data-bs-${l(t)}`)),offset(e){const t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}},position:e=>({top:e.offsetTop,left:e.offsetLeft})},je={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const n=[];let r=e.parentNode;for(;r&&r.nodeType===Node.ELEMENT_NODE&&3!==r.nodeType;)r.matches(t)&&n.push(r),r=r.parentNode;return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(", ");return this.find(t,e).filter((e=>!ie(e)&&re(e)))}},Me="carousel",Re={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Fe={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Le="next",Pe="prev",Ie="left",$e="right",ze={ArrowLeft:$e,ArrowRight:Ie},Be="slid.bs.carousel",Ue="active",He=".active.carousel-item";class We extends ke{constructor(e,t){super(e),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._indicatorsElement=je.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return Re}static get NAME(){return Me}next(){this._slide(Le)}nextWhenVisible(){!document.hidden&&re(this._element)&&this.next()}prev(){this._slide(Pe)}pause(e){e||(this._isPaused=!0),je.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(Z(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(e){this._activeElement=je.findOne(He,this._element);const t=this._getItemIndex(this._activeElement);if(e>this._items.length-1||e<0)return;if(this._isSliding)return void xe.one(this._element,Be,(()=>this.to(e)));if(t===e)return this.pause(),void this.cycle();const n=e>t?Le:Pe;this._slide(n,this._items[e])}_getConfig(e){return e={...Re,...Oe.getDataAttributes(this._element),..."object"==typeof e?e:{}},ne(Me,e,Fe),e}_handleSwipe(){const e=Math.abs(this.touchDeltaX);if(e<=40)return;const t=e/this.touchDeltaX;this.touchDeltaX=0,t&&this._slide(t>0?$e:Ie)}_addEventListeners(){this._config.keyboard&&xe.on(this._element,"keydown.bs.carousel",(e=>this._keydown(e))),"hover"===this._config.pause&&(xe.on(this._element,"mouseenter.bs.carousel",(e=>this.pause(e))),xe.on(this._element,"mouseleave.bs.carousel",(e=>this.cycle(e)))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const e=e=>this._pointerEvent&&("pen"===e.pointerType||"touch"===e.pointerType),t=t=>{e(t)?this.touchStartX=t.clientX:this._pointerEvent||(this.touchStartX=t.touches[0].clientX)},n=e=>{this.touchDeltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this.touchStartX},r=t=>{e(t)&&(this.touchDeltaX=t.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((e=>this.cycle(e)),500+this._config.interval))};je.find(".carousel-item img",this._element).forEach((e=>{xe.on(e,"dragstart.bs.carousel",(e=>e.preventDefault()))})),this._pointerEvent?(xe.on(this._element,"pointerdown.bs.carousel",(e=>t(e))),xe.on(this._element,"pointerup.bs.carousel",(e=>r(e))),this._element.classList.add("pointer-event")):(xe.on(this._element,"touchstart.bs.carousel",(e=>t(e))),xe.on(this._element,"touchmove.bs.carousel",(e=>n(e))),xe.on(this._element,"touchend.bs.carousel",(e=>r(e))))}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=ze[e.key];t&&(e.preventDefault(),this._slide(t))}_getItemIndex(e){return this._items=e&&e.parentNode?je.find(".carousel-item",e.parentNode):[],this._items.indexOf(e)}_getItemByOrder(e,t){const n=e===Le;return pe(this._items,t,n,this._config.wrap)}_triggerSlideEvent(e,t){const n=this._getItemIndex(e),r=this._getItemIndex(je.findOne(He,this._element));return xe.trigger(this._element,"slide.bs.carousel",{relatedTarget:e,direction:t,from:r,to:n})}_setActiveIndicatorElement(e){if(this._indicatorsElement){const t=je.findOne(".active",this._indicatorsElement);t.classList.remove(Ue),t.removeAttribute("aria-current");const n=je.find("[data-bs-target]",this._indicatorsElement);for(let t=0;t<n.length;t++)if(Number.parseInt(n[t].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(e)){n[t].classList.add(Ue),n[t].setAttribute("aria-current","true");break}}}_updateInterval(){const e=this._activeElement||je.findOne(He,this._element);if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(e,t){const n=this._directionToOrder(e),r=je.findOne(He,this._element),i=this._getItemIndex(r),o=t||this._getItemByOrder(n,r),s=this._getItemIndex(o),a=Boolean(this._interval),l=n===Le,c=l?"carousel-item-start":"carousel-item-end",u=l?"carousel-item-next":"carousel-item-prev",d=this._orderToDirection(n);if(o&&o.classList.contains(Ue))return void(this._isSliding=!1);if(this._isSliding)return;if(this._triggerSlideEvent(o,d).defaultPrevented)return;if(!r||!o)return;this._isSliding=!0,a&&this.pause(),this._setActiveIndicatorElement(o),this._activeElement=o;const f=()=>{xe.trigger(this._element,Be,{relatedTarget:o,direction:d,from:i,to:s})};if(this._element.classList.contains("slide")){o.classList.add(u),ae(o),r.classList.add(c),o.classList.add(c);const e=()=>{o.classList.remove(c,u),o.classList.add(Ue),r.classList.remove(Ue,u,c),this._isSliding=!1,setTimeout(f,0)};this._queueCallback(e,r,!0)}else r.classList.remove(Ue),o.classList.add(Ue),this._isSliding=!1,f();a&&this.cycle()}_directionToOrder(e){return[$e,Ie].includes(e)?ue()?e===Ie?Pe:Le:e===Ie?Le:Pe:e}_orderToDirection(e){return[Le,Pe].includes(e)?ue()?e===Pe?Ie:$e:e===Pe?$e:Ie:e}static carouselInterface(e,t){const n=We.getOrCreateInstance(e,t);let{_config:r}=n;"object"==typeof t&&(r={...r,...t});const i="string"==typeof t?t:r.slide;if("number"==typeof t)n.to(t);else if("string"==typeof i){if(void 0===n[i])throw new TypeError(`No method named "${i}"`);n[i]()}else r.interval&&r.ride&&(n.pause(),n.cycle())}static jQueryInterface(e){return this.each((function(){We.carouselInterface(this,e)}))}static dataApiClickHandler(e){const t=Q(this);if(!t||!t.classList.contains("carousel"))return;const n={...Oe.getDataAttributes(t),...Oe.getDataAttributes(this)},r=this.getAttribute("data-bs-slide-to");r&&(n.interval=!1),We.carouselInterface(t,n),r&&We.getInstance(t).to(r),e.preventDefault()}}xe.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",We.dataApiClickHandler),xe.on(window,"load.bs.carousel.data-api",(()=>{const e=je.find('[data-bs-ride="carousel"]');for(let t=0,n=e.length;t<n;t++)We.carouselInterface(e[t],We.getInstance(e[t]))})),de(We);const Ke="collapse",qe={toggle:!0,parent:null},Ve={toggle:"boolean",parent:"(null|element)"},Ye="show",Je="collapse",Ge="collapsing",Xe="collapsed",Qe=":scope .collapse .collapse",Ze='[data-bs-toggle="collapse"]';class et extends ke{constructor(e,t){super(e),this._isTransitioning=!1,this._config=this._getConfig(t),this._triggerArray=[];const n=je.find(Ze);for(let e=0,t=n.length;e<t;e++){const t=n[e],r=X(t),i=je.find(r).filter((e=>e===this._element));null!==r&&i.length&&(this._selector=r,this._triggerArray.push(t))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return qe}static get NAME(){return Ke}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e,t=[];if(this._config.parent){const e=je.find(Qe,this._config.parent);t=je.find(".collapse.show, .collapse.collapsing",this._config.parent).filter((t=>!e.includes(t)))}const n=je.findOne(this._selector);if(t.length){const r=t.find((e=>n!==e));if(e=r?et.getInstance(r):null,e&&e._isTransitioning)return}if(xe.trigger(this._element,"show.bs.collapse").defaultPrevented)return;t.forEach((t=>{n!==t&&et.getOrCreateInstance(t,{toggle:!1}).hide(),e||Se.set(t,"bs.collapse",null)}));const r=this._getDimension();this._element.classList.remove(Je),this._element.classList.add(Ge),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(Ge),this._element.classList.add(Je,Ye),this._element.style[r]="",xe.trigger(this._element,"shown.bs.collapse")}),this._element,!0),this._element.style[r]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(xe.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,ae(this._element),this._element.classList.add(Ge),this._element.classList.remove(Je,Ye);const t=this._triggerArray.length;for(let e=0;e<t;e++){const t=this._triggerArray[e],n=Q(t);n&&!this._isShown(n)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(Ge),this._element.classList.add(Je),xe.trigger(this._element,"hidden.bs.collapse")}),this._element,!0)}_isShown(e=this._element){return e.classList.contains(Ye)}_getConfig(e){return(e={...qe,...Oe.getDataAttributes(this._element),...e}).toggle=Boolean(e.toggle),e.parent=te(e.parent),ne(Ke,e,Ve),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=je.find(Qe,this._config.parent);je.find(Ze,this._config.parent).filter((t=>!e.includes(t))).forEach((e=>{const t=Q(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}))}_addAriaAndCollapsedClass(e,t){e.length&&e.forEach((e=>{t?e.classList.remove(Xe):e.classList.add(Xe),e.setAttribute("aria-expanded",t)}))}static jQueryInterface(e){return this.each((function(){const t={};"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1);const n=et.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}}))}}xe.on(document,"click.bs.collapse.data-api",Ze,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();const t=X(this);je.find(t).forEach((e=>{et.getOrCreateInstance(e,{toggle:!1}).toggle()}))})),de(et);var tt="top",nt="bottom",rt="right",it="left",ot="auto",st=[tt,nt,rt,it],at="start",lt="end",ct="clippingParents",ut="viewport",dt="popper",ft="reference",ht=st.reduce((function(e,t){return e.concat([t+"-"+at,t+"-"+lt])}),[]),pt=[].concat(st,[ot]).reduce((function(e,t){return e.concat([t,t+"-"+at,t+"-"+lt])}),[]),mt="beforeRead",gt="read",vt="afterRead",yt="beforeMain",bt="main",_t="afterMain",wt="beforeWrite",Ct="write",xt="afterWrite",Et=[mt,gt,vt,yt,bt,_t,wt,Ct,xt];const St={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];f(i)&&c(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});f(r)&&c(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var kt=Math.max,Dt=Math.min,Tt=Math.round;const At={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=p(n.placement),l=E(a),c=[it,rt].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return k("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:D(e,st))}(i.padding,n),d=g(o),f="y"===l?tt:it,h="y"===l?nt:rt,m=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],v=s[l]-n.rects.reference[l],y=x(o),b=y?"y"===l?y.clientHeight||0:y.clientWidth||0:0,_=m/2-v/2,w=u[f],C=b-d[c]-u[h],T=b/2-d[c]/2+_,A=S(w,T,C),N=l;n.modifiersData[r]=((t={})[N]=A,t.centerOffset=A-T,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&v(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};var Nt={top:"auto",right:"auto",bottom:"auto",left:"auto"};const Ot={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:p(t.placement),variation:T(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,A(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,A(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var jt={passive:!0};const Mt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=u(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,jt)})),a&&l.addEventListener("resize",n.update,jt),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,jt)})),a&&l.removeEventListener("resize",n.update,jt)}},data:{}};var Rt={left:"right",right:"left",bottom:"top",top:"bottom"},Ft={start:"end",end:"start"};const Lt={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,m=void 0===h||h,g=n.allowedAutoPlacements,v=t.options.placement,y=p(v),b=l||(y!==v&&m?function(e){if(p(e)===ot)return[];var t=N(e);return[O(e),t,O(t)]}(v):[N(v)]),_=[v].concat(b).reduce((function(e,n){return e.concat(p(n)===ot?B(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:g}):n)}),[]),w=t.rects.reference,C=t.rects.popper,x=new Map,E=!0,S=_[0],k=0;k<_.length;k++){var D=_[k],A=p(D),j=T(D)===at,M=[tt,nt].indexOf(A)>=0,R=M?"width":"height",F=z(t,{placement:D,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),L=M?j?rt:it:j?nt:tt;w[R]>C[R]&&(L=N(L));var P=N(L),I=[];if(o&&I.push(F[A]<=0),a&&I.push(F[L]<=0,F[P]<=0),I.every((function(e){return e}))){S=D,E=!1;break}x.set(D,I)}if(E)for(var $=function(e){var t=_.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},U=m?3:1;U>0&&"break"!==$(U);U--);t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Pt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=z(t,{elementContext:"reference"}),a=z(t,{altBoundary:!0}),l=U(s,r),c=U(a,i,o),u=H(l),d=H(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},It={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=pt.reduce((function(e,n){return e[n]=function(e,t,n){var r=p(e),i=[it,tt].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[it,rt].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}},$t={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=$({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},zt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,h=void 0===f||f,m=n.tetherOffset,v=void 0===m?0:m,y=z(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),b=p(t.placement),_=T(t.placement),w=!_,C=E(b),k="x"===C?"y":"x",D=t.modifiersData.popperOffsets,A=t.rects.reference,N=t.rects.popper,O="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,j={x:0,y:0};if(D){if(o||a){var M="y"===C?tt:it,R="y"===C?nt:rt,F="y"===C?"height":"width",L=D[C],P=D[C]+y[M],I=D[C]-y[R],$=h?-N[F]/2:0,B=_===at?A[F]:N[F],U=_===at?-N[F]:-A[F],H=t.elements.arrow,W=h&&H?g(H):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=K[M],V=K[R],Y=S(0,A[F],W[F]),J=w?A[F]/2-$-Y-q-O:B-Y-q-O,G=w?-A[F]/2+$+Y+V+O:U+Y+V+O,X=t.elements.arrow&&x(t.elements.arrow),Q=X?"y"===C?X.clientTop||0:X.clientLeft||0:0,Z=t.modifiersData.offset?t.modifiersData.offset[t.placement][C]:0,ee=D[C]+J-Z-Q,te=D[C]+G-Z;if(o){var ne=S(h?Dt(P,ee):P,L,h?kt(I,te):I);D[C]=ne,j[C]=ne-L}if(a){var re="x"===C?tt:it,ie="x"===C?nt:rt,oe=D[k],se=oe+y[re],ae=oe-y[ie],le=S(h?Dt(se,ee):se,oe,h?kt(ae,te):ae);D[k]=le,j[k]=le-oe}}t.modifiersData[r]=j}},requiresIfExists:["offset"]};var Bt={placement:"bottom",modifiers:[],strategy:"absolute"},Ut=V(),Ht=V({defaultModifiers:[Mt,$t,Ot,St]}),Wt=V({defaultModifiers:[Mt,$t,Ot,St,It,Lt,zt,At,Pt]});const Kt=Object.freeze({__proto__:null,popperGenerator:V,detectOverflow:z,createPopperBase:Ut,createPopper:Wt,createPopperLite:Ht,top:tt,bottom:nt,right:rt,left:it,auto:ot,basePlacements:st,start:at,end:lt,clippingParents:ct,viewport:ut,popper:dt,reference:ft,variationPlacements:ht,placements:pt,beforeRead:mt,read:gt,afterRead:vt,beforeMain:yt,main:bt,afterMain:_t,beforeWrite:wt,write:Ct,afterWrite:xt,modifierPhases:Et,applyStyles:St,arrow:At,computeStyles:Ot,eventListeners:Mt,flip:Lt,hide:Pt,offset:It,popperOffsets:$t,preventOverflow:zt}),qt="dropdown",Vt="Escape",Yt="Space",Jt="ArrowUp",Gt="ArrowDown",Xt=new RegExp("ArrowUp|ArrowDown|Escape"),Qt="click.bs.dropdown.data-api",Zt="keydown.bs.dropdown.data-api",en="show",tn='[data-bs-toggle="dropdown"]',nn=".dropdown-menu",rn=ue()?"top-end":"top-start",on=ue()?"top-start":"top-end",sn=ue()?"bottom-end":"bottom-start",an=ue()?"bottom-start":"bottom-end",ln=ue()?"left-start":"right-start",cn=ue()?"right-start":"left-start",un={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},dn={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class fn extends ke{constructor(e,t){super(e),this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return un}static get DefaultType(){return dn}static get NAME(){return qt}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ie(this._element)||this._isShown(this._menu))return;const e={relatedTarget:this._element};if(xe.trigger(this._element,"show.bs.dropdown",e).defaultPrevented)return;const t=fn.getParentFromElement(this._element);this._inNavbar?Oe.setDataAttribute(this._menu,"popper","none"):this._createPopper(t),"ontouchstart"in document.documentElement&&!t.closest(".navbar-nav")&&[].concat(...document.body.children).forEach((e=>xe.on(e,"mouseover",se))),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(en),this._element.classList.add(en),xe.trigger(this._element,"shown.bs.dropdown",e)}hide(){if(ie(this._element)||!this._isShown(this._menu))return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){xe.trigger(this._element,"hide.bs.dropdown",e).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((e=>xe.off(e,"mouseover",se))),this._popper&&this._popper.destroy(),this._menu.classList.remove(en),this._element.classList.remove(en),this._element.setAttribute("aria-expanded","false"),Oe.removeDataAttribute(this._menu,"popper"),xe.trigger(this._element,"hidden.bs.dropdown",e))}_getConfig(e){if(e={...this.constructor.Default,...Oe.getDataAttributes(this._element),...e},ne(qt,e,this.constructor.DefaultType),"object"==typeof e.reference&&!ee(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${qt.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(e){if(void 0===Kt)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=e:ee(this._config.reference)?t=te(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const n=this._getPopperConfig(),r=n.modifiers.find((e=>"applyStyles"===e.name&&!1===e.enabled));this._popper=Wt(t,this._menu,n),r&&Oe.setDataAttribute(this._menu,"popper","static")}_isShown(e=this._element){return e.classList.contains(en)}_getMenuElement(){return je.next(this._element,nn)[0]}_getPlacement(){const e=this._element.parentNode;if(e.classList.contains("dropend"))return ln;if(e.classList.contains("dropstart"))return cn
;const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?on:rn:t?an:sn}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:t}){const n=je.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(re);n.length&&pe(n,t,e===Gt,!n.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=fn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(e&&(2===e.button||"keyup"===e.type&&"Tab"!==e.key))return;const t=je.find(tn);for(let n=0,r=t.length;n<r;n++){const r=fn.getInstance(t[n]);if(!r||!1===r._config.autoClose)continue;if(!r._isShown())continue;const i={relatedTarget:r._element};if(e){const t=e.composedPath(),n=t.includes(r._menu);if(t.includes(r._element)||"inside"===r._config.autoClose&&!n||"outside"===r._config.autoClose&&n)continue;if(r._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;"click"===e.type&&(i.clickEvent=e)}r._completeHide(i)}}static getParentFromElement(e){return Q(e)||e.parentNode}static dataApiKeydownHandler(e){if(/input|textarea/i.test(e.target.tagName)?e.key===Yt||e.key!==Vt&&(e.key!==Gt&&e.key!==Jt||e.target.closest(nn)):!Xt.test(e.key))return;const t=this.classList.contains(en);if(!t&&e.key===Vt)return;if(e.preventDefault(),e.stopPropagation(),ie(this))return;const n=this.matches(tn)?this:je.prev(this,tn)[0],r=fn.getOrCreateInstance(n);if(e.key!==Vt)return e.key===Jt||e.key===Gt?(t||r.show(),void r._selectMenuItem(e)):void(t&&e.key!==Yt||fn.clearMenus());r.hide()}}xe.on(document,Zt,tn,fn.dataApiKeydownHandler),xe.on(document,Zt,nn,fn.dataApiKeydownHandler),xe.on(document,Qt,fn.clearMenus),xe.on(document,"keyup.bs.dropdown.data-api",fn.clearMenus),xe.on(document,Qt,tn,(function(e){e.preventDefault(),fn.getOrCreateInstance(this).toggle()})),de(fn);const hn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",pn=".sticky-top";class mn{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",(t=>t+e)),this._setElementAttributes(hn,"paddingRight",(t=>t+e)),this._setElementAttributes(pn,"marginRight",(t=>t-e))}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const r=this.getWidth();this._applyManipulationCallback(e,(e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+r)return;this._saveInitialAttribute(e,t);const i=window.getComputedStyle(e)[t];e.style[t]=`${n(Number.parseFloat(i))}px`}))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(hn,"paddingRight"),this._resetElementAttributes(pn,"marginRight")}_saveInitialAttribute(e,t){const n=e.style[t];n&&Oe.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,(e=>{const n=Oe.getDataAttribute(e,t);void 0===n?e.style.removeProperty(t):(Oe.removeDataAttribute(e,t),e.style[t]=n)}))}_applyManipulationCallback(e,t){ee(e)?t(e):je.find(e,this._element).forEach(t)}isOverflowing(){return this.getWidth()>0}}const gn={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},vn={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},yn="show",bn="mousedown.bs.backdrop";class _n{constructor(e){this._config=this._getConfig(e),this._isAppended=!1,this._element=null}show(e){this._config.isVisible?(this._append(),this._config.isAnimated&&ae(this._getElement()),this._getElement().classList.add(yn),this._emulateAnimation((()=>{fe(e)}))):fe(e)}hide(e){this._config.isVisible?(this._getElement().classList.remove(yn),this._emulateAnimation((()=>{this.dispose(),fe(e)}))):fe(e)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_getConfig(e){return(e={...gn,..."object"==typeof e?e:{}}).rootElement=te(e.rootElement),ne("backdrop",e,vn),e}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),xe.on(this._getElement(),bn,(()=>{fe(this._config.clickCallback)})),this._isAppended=!0)}dispose(){this._isAppended&&(xe.off(this._element,bn),this._element.remove(),this._isAppended=!1)}_emulateAnimation(e){he(e,this._getElement(),this._config.isAnimated)}}const wn={trapElement:null,autofocus:!0},Cn={trapElement:"element",autofocus:"boolean"},xn=".bs.focustrap",En="backward";class Sn{constructor(e){this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:e,autofocus:t}=this._config;this._isActive||(t&&e.focus(),xe.off(document,xn),xe.on(document,"focusin.bs.focustrap",(e=>this._handleFocusin(e))),xe.on(document,"keydown.tab.bs.focustrap",(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,xe.off(document,xn))}_handleFocusin(e){const{target:t}=e,{trapElement:n}=this._config;if(t===document||t===n||n.contains(t))return;const r=je.focusableChildren(n);0===r.length?n.focus():this._lastTabNavDirection===En?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?En:"forward")}_getConfig(e){return e={...wn,..."object"==typeof e?e:{}},ne("focustrap",e,Cn),e}}const kn="modal",Dn="Escape",Tn={backdrop:!0,keyboard:!0,focus:!0},An={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Nn="hidden.bs.modal",On="show.bs.modal",jn="resize.bs.modal",Mn="click.dismiss.bs.modal",Rn="keydown.dismiss.bs.modal",Fn="mousedown.dismiss.bs.modal",Ln="modal-open",Pn="show",In="modal-static";class $n extends ke{constructor(e,t){super(e),this._config=this._getConfig(t),this._dialog=je.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new mn}static get Default(){return Tn}static get NAME(){return kn}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||xe.trigger(this._element,On,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(Ln),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),xe.on(this._dialog,Fn,(()=>{xe.one(this._element,"mouseup.dismiss.bs.modal",(e=>{e.target===this._element&&(this._ignoreBackdropClick=!0)}))})),this._showBackdrop((()=>this._showElement(e))))}hide(){if(!this._isShown||this._isTransitioning)return;if(xe.trigger(this._element,"hide.bs.modal").defaultPrevented)return;this._isShown=!1;const e=this._isAnimated();e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(Pn),xe.off(this._element,Mn),xe.off(this._dialog,Fn),this._queueCallback((()=>this._hideModal()),this._element,e)}dispose(){[window,this._dialog].forEach((e=>xe.off(e,".bs.modal"))),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new _n({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Sn({trapElement:this._element})}_getConfig(e){return e={...Tn,...Oe.getDataAttributes(this._element),..."object"==typeof e?e:{}},ne(kn,e,An),e}_showElement(e){const t=this._isAnimated(),n=je.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,n&&(n.scrollTop=0),t&&ae(this._element),this._element.classList.add(Pn),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,xe.trigger(this._element,"shown.bs.modal",{relatedTarget:e})}),this._dialog,t)}_setEscapeEvent(){this._isShown?xe.on(this._element,Rn,(e=>{this._config.keyboard&&e.key===Dn?(e.preventDefault(),this.hide()):this._config.keyboard||e.key!==Dn||this._triggerBackdropTransition()})):xe.off(this._element,Rn)}_setResizeEvent(){this._isShown?xe.on(window,jn,(()=>this._adjustDialog())):xe.off(window,jn)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(Ln),this._resetAdjustments(),this._scrollBar.reset(),xe.trigger(this._element,Nn)}))}_showBackdrop(e){xe.on(this._element,Mn,(e=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:e.target===e.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())})),this._backdrop.show(e)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(xe.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const{classList:e,scrollHeight:t,style:n}=this._element,r=t>document.documentElement.clientHeight;!r&&"hidden"===n.overflowY||e.contains(In)||(r||(n.overflowY="hidden"),e.add(In),this._queueCallback((()=>{e.remove(In),r||this._queueCallback((()=>{n.overflowY=""}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;(!n&&e&&!ue()||n&&!e&&ue())&&(this._element.style.paddingLeft=`${t}px`),(n&&!e&&!ue()||!n&&e&&ue())&&(this._element.style.paddingRight=`${t}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const n=$n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e](t)}}))}}xe.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',(function(e){const t=Q(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),xe.one(t,On,(e=>{e.defaultPrevented||xe.one(t,Nn,(()=>{re(this)&&this.focus()}))}));const n=je.findOne(".modal.show");n&&$n.getInstance(n).hide(),$n.getOrCreateInstance(t).toggle(this)})),De($n),de($n);const zn="offcanvas",Bn={backdrop:!0,keyboard:!0,scroll:!1},Un={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},Hn="show",Wn=".offcanvas.show",Kn="hidden.bs.offcanvas";class qn extends ke{constructor(e,t){super(e),this._config=this._getConfig(t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return zn}static get Default(){return Bn}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||xe.trigger(this._element,"show.bs.offcanvas",{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new mn).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Hn),this._queueCallback((()=>{this._config.scroll||this._focustrap.activate(),xe.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:e})}),this._element,!0))}hide(){this._isShown&&(xe.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(Hn),this._backdrop.hide(),this._queueCallback((()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new mn).reset(),xe.trigger(this._element,Kn)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(e){return e={...Bn,...Oe.getDataAttributes(this._element),..."object"==typeof e?e:{}},ne(zn,e,Un),e}_initializeBackDrop(){return new _n({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new Sn({trapElement:this._element})}_addEventListeners(){xe.on(this._element,"keydown.dismiss.bs.offcanvas",(e=>{this._config.keyboard&&"Escape"===e.key&&this.hide()}))}static jQueryInterface(e){return this.each((function(){const t=qn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}xe.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',(function(e){const t=Q(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),ie(this))return;xe.one(t,Kn,(()=>{re(this)&&this.focus()}));const n=je.findOne(Wn);n&&n!==t&&qn.getInstance(n).hide(),qn.getOrCreateInstance(t).toggle(this)})),xe.on(window,"load.bs.offcanvas.data-api",(()=>je.find(Wn).forEach((e=>qn.getOrCreateInstance(e).show())))),De(qn),de(qn);const Vn=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Yn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Jn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Gn=(e,t)=>{const n=e.nodeName.toLowerCase();if(t.includes(n))return!Vn.has(n)||Boolean(Yn.test(e.nodeValue)||Jn.test(e.nodeValue));const r=t.filter((e=>e instanceof RegExp));for(let e=0,t=r.length;e<t;e++)if(r[e].test(n))return!0;return!1},Xn="tooltip",Qn=new Set(["sanitize","allowList","sanitizeFn"]),Zn={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},er={AUTO:"auto",TOP:"top",RIGHT:ue()?"left":"right",BOTTOM:"bottom",LEFT:ue()?"right":"left"},tr={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},nr={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},rr="fade",ir="show",or="show",sr="out",ar=".tooltip-inner",lr=".modal",cr="hide.bs.modal",ur="hover",dr="focus";class fr extends ke{constructor(e,t){if(void 0===Kt)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(t),this.tip=null,this._setListeners()}static get Default(){return tr}static get NAME(){return Xn}static get Event(){return nr}static get DefaultType(){return Zn}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(e){if(this._isEnabled)if(e){const t=this._initializeOnDelegatedTarget(e);t._activeTrigger.click=!t._activeTrigger.click,t._isWithActiveTrigger()?t._enter(null,t):t._leave(null,t)}else{if(this.getTipElement().classList.contains(ir))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),xe.off(this._element.closest(lr),cr,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const e=xe.trigger(this._element,this.constructor.Event.SHOW),t=oe(this._element),n=null===t?this._element.ownerDocument.documentElement.contains(this._element):t.contains(this._element);if(e.defaultPrevented||!n)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(ar).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const r=this.getTipElement(),i=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME);r.setAttribute("id",i),this._element.setAttribute("aria-describedby",i),this._config.animation&&r.classList.add(rr);const o="function"==typeof this._config.placement?this._config.placement.call(this,r,this._element):this._config.placement,s=this._getAttachment(o);this._addAttachmentClass(s);const{container:a}=this._config;Se.set(r,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(r),xe.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=Wt(this._element,r,this._getPopperConfig(s)),r.classList.add(ir);const l=this._resolvePossibleFunction(this._config.customClass);l&&r.classList.add(...l.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((e=>{xe.on(e,"mouseover",se)}));const c=this.tip.classList.contains(rr);this._queueCallback((()=>{const e=this._hoverState;this._hoverState=null,xe.trigger(this._element,this.constructor.Event.SHOWN),e===sr&&this._leave(null,this)}),this.tip,c)}hide(){if(!this._popper)return;const e=this.getTipElement();if(xe.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;e.classList.remove(ir),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((e=>xe.off(e,"mouseover",se))),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;const t=this.tip.classList.contains(rr);this._queueCallback((()=>{this._isWithActiveTrigger()||(this._hoverState!==or&&e.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),xe.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())}),this.tip,t),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const e=document.createElement("div");e.innerHTML=this._config.template;const t=e.children[0];return this.setContent(t),t.classList.remove(rr,ir),this.tip=t,this.tip}setContent(e){this._sanitizeAndSetContent(e,this.getTitle(),ar)}_sanitizeAndSetContent(e,t,n){const r=je.findOne(n,e);t||!r?this.setElementContent(r,t):r.remove()}setElementContent(e,t){if(null!==e)return ee(t)?(t=te(t),void(this._config.html?t.parentNode!==e&&(e.innerHTML="",e.append(t)):e.textContent=t.textContent)):void(this._config.html?(this._config.sanitize&&(t=Y(t,this._config.allowList,this._config.sanitizeFn)),e.innerHTML=t):e.textContent=t)}getTitle(){const e=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(e)}updateAttachment(e){return"right"===e?"end":"left"===e?"start":e}_initializeOnDelegatedTarget(e,t){return t||this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return"function"==typeof e?e.call(this._element):e}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:e=>this._handlePopperPlacementChange(e)}],onFirstUpdate:e=>{e.options.placement!==e.placement&&this._handlePopperPlacementChange(e)}};return{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_addAttachmentClass(e){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(e)}`)}_getAttachment(e){return er[e.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach((e=>{if("click"===e)xe.on(this._element,this.constructor.Event.CLICK,this._config.selector,(e=>this.toggle(e)));else if("manual"!==e){const t=e===ur?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,n=e===ur?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;xe.on(this._element,t,this._config.selector,(e=>this._enter(e))),xe.on(this._element,n,this._config.selector,(e=>this._leave(e)))}})),this._hideModalHandler=()=>{this._element&&this.hide()},xe.on(this._element.closest(lr),cr,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const e=this._element.getAttribute("title"),t=typeof this._element.getAttribute("data-bs-original-title");(e||"string"!==t)&&(this._element.setAttribute("data-bs-original-title",e||""),!e||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",e),this._element.setAttribute("title",""))}_enter(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusin"===e.type?dr:ur]=!0),t.getTipElement().classList.contains(ir)||t._hoverState===or?t._hoverState=or:(clearTimeout(t._timeout),t._hoverState=or,t._config.delay&&t._config.delay.show?t._timeout=setTimeout((()=>{t._hoverState===or&&t.show()}),t._config.delay.show):t.show())}_leave(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusout"===e.type?dr:ur]=t._element.contains(e.relatedTarget)),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState=sr,t._config.delay&&t._config.delay.hide?t._timeout=setTimeout((()=>{t._hoverState===sr&&t.hide()}),t._config.delay.hide):t.hide())}_isWithActiveTrigger(){for(const e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}_getConfig(e){const t=Oe.getDataAttributes(this._element);return Object.keys(t).forEach((e=>{Qn.has(e)&&delete t[e]})),(e={...this.constructor.Default,...t,..."object"==typeof e&&e?e:{}}).container=!1===e.container?document.body:te(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),ne(Xn,e,this.constructor.DefaultType),e.sanitize&&(e.template=Y(e.template,e.allowList,e.sanitizeFn)),e}_getDelegateConfig(){const e={};for(const t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e}_cleanTipClass(){const e=this.getTipElement(),t=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),n=e.getAttribute("class").match(t);null!==n&&n.length>0&&n.map((e=>e.trim())).forEach((t=>e.classList.remove(t)))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(e){const{state:t}=e;t&&(this.tip=t.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(t.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(e){return this.each((function(){const t=fr.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}de(fr);const hr={...fr.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},pr={...fr.DefaultType,content:"(string|element|function)"},mr={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"};class gr extends fr{static get Default(){return hr}static get NAME(){return"popover"}static get Event(){return mr}static get DefaultType(){return pr}isWithContent(){return this.getTitle()||this._getContent()}setContent(e){this._sanitizeAndSetContent(e,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(e,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(e){return this.each((function(){const t=gr.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}de(gr);const vr="scrollspy",yr={offset:10,method:"auto",target:""},br={offset:"number",method:"string",target:"(string|element)"},_r="active",wr=".nav-link, .list-group-item, .dropdown-item",Cr="position";class xr extends ke{constructor(e,t){super(e),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(t),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,xe.on(this._scrollElement,"scroll.bs.scrollspy",(()=>this._process())),this.refresh(),this._process()}static get Default(){return yr}static get NAME(){return vr}refresh(){const e=this._scrollElement===this._scrollElement.window?"offset":Cr,t="auto"===this._config.method?e:this._config.method,n=t===Cr?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),je.find(wr,this._config.target).map((e=>{const r=X(e),i=r?je.findOne(r):null;if(i){const e=i.getBoundingClientRect();if(e.width||e.height)return[Oe[t](i).top+n,r]}return null})).filter((e=>e)).sort(((e,t)=>e[0]-t[0])).forEach((e=>{this._offsets.push(e[0]),this._targets.push(e[1])}))}dispose(){xe.off(this._scrollElement,".bs.scrollspy"),super.dispose()}_getConfig(e){return(e={...yr,...Oe.getDataAttributes(this._element),..."object"==typeof e&&e?e:{}}).target=te(e.target)||document.documentElement,ne(vr,e,br),e}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){const e=this._targets[this._targets.length-1];this._activeTarget!==e&&this._activate(e)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let t=this._offsets.length;t--;)this._activeTarget!==this._targets[t]&&e>=this._offsets[t]&&(void 0===this._offsets[t+1]||e<this._offsets[t+1])&&this._activate(this._targets[t])}}_activate(e){this._activeTarget=e,this._clear();const t=wr.split(",").map((t=>`${t}[data-bs-target="${e}"],${t}[href="${e}"]`)),n=je.findOne(t.join(","),this._config.target);n.classList.add(_r),n.classList.contains("dropdown-item")?je.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add(_r):je.parents(n,".nav, .list-group").forEach((e=>{je.prev(e,".nav-link, .list-group-item").forEach((e=>e.classList.add(_r))),je.prev(e,".nav-item").forEach((e=>{je.children(e,".nav-link").forEach((e=>e.classList.add(_r)))}))})),xe.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:e})}_clear(){je.find(wr,this._config.target).filter((e=>e.classList.contains(_r))).forEach((e=>e.classList.remove(_r)))}static jQueryInterface(e){return this.each((function(){const t=xr.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}xe.on(window,"load.bs.scrollspy.data-api",(()=>{je.find('[data-bs-spy="scroll"]').forEach((e=>new xr(e)))})),de(xr);const Er="active",Sr="fade",kr="show",Dr=".active",Tr=":scope > li > .active";class Ar extends ke{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(Er))return;let e;const t=Q(this._element),n=this._element.closest(".nav, .list-group");if(n){const t="UL"===n.nodeName||"OL"===n.nodeName?Tr:Dr;e=je.find(t,n),e=e[e.length-1]}const r=e?xe.trigger(e,"hide.bs.tab",{relatedTarget:this._element}):null;if(xe.trigger(this._element,"show.bs.tab",{relatedTarget:e}).defaultPrevented||null!==r&&r.defaultPrevented)return;this._activate(this._element,n);const i=()=>{xe.trigger(e,"hidden.bs.tab",{relatedTarget:this._element}),xe.trigger(this._element,"shown.bs.tab",{relatedTarget:e})};t?this._activate(t,t.parentNode,i):i()}_activate(e,t,n){const r=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?je.children(t,Dr):je.find(Tr,t))[0],i=n&&r&&r.classList.contains(Sr),o=()=>this._transitionComplete(e,r,n);r&&i?(r.classList.remove(kr),this._queueCallback(o,e,!0)):o()}_transitionComplete(e,t,n){if(t){t.classList.remove(Er);const e=je.findOne(":scope > .dropdown-menu .active",t.parentNode);e&&e.classList.remove(Er),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)}e.classList.add(Er),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),ae(e),e.classList.contains(Sr)&&e.classList.add(kr);let r=e.parentNode;if(r&&"LI"===r.nodeName&&(r=r.parentNode),r&&r.classList.contains("dropdown-menu")){const t=e.closest(".dropdown");t&&je.find(".dropdown-toggle",t).forEach((e=>e.classList.add(Er))),e.setAttribute("aria-expanded",!0)}n&&n()}static jQueryInterface(e){return this.each((function(){const t=Ar.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}xe.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),ie(this)||Ar.getOrCreateInstance(this).show()})),de(Ar);const Nr="toast",Or="hide",jr="show",Mr="showing",Rr={animation:"boolean",autohide:"boolean",delay:"number"},Fr={animation:!0,autohide:!0,delay:5e3};class Lr extends ke{constructor(e,t){super(e),this._config=this._getConfig(t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return Rr}static get Default(){return Fr}static get NAME(){return Nr}show(){xe.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Or),ae(this._element),this._element.classList.add(jr),this._element.classList.add(Mr),this._queueCallback((()=>{this._element.classList.remove(Mr),xe.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){
this._element.classList.contains(jr)&&(xe.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(Mr),this._queueCallback((()=>{this._element.classList.add(Or),this._element.classList.remove(Mr),this._element.classList.remove(jr),xe.trigger(this._element,"hidden.bs.toast")}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this._element.classList.contains(jr)&&this._element.classList.remove(jr),super.dispose()}_getConfig(e){return e={...Fr,...Oe.getDataAttributes(this._element),..."object"==typeof e&&e?e:{}},ne(Nr,e,this.constructor.DefaultType),e}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){xe.on(this._element,"mouseover.bs.toast",(e=>this._onInteraction(e,!0))),xe.on(this._element,"mouseout.bs.toast",(e=>this._onInteraction(e,!1))),xe.on(this._element,"focusin.bs.toast",(e=>this._onInteraction(e,!0))),xe.on(this._element,"focusout.bs.toast",(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=Lr.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}return De(Lr),de(Lr),{Alert:Te,Button:Ne,Carousel:We,Collapse:et,Dropdown:fn,Modal:$n,Offcanvas:qn,Popover:gr,ScrollSpy:xr,Tab:Ar,Toast:Lr,Tooltip:fr}})),function(){"use strict";var e="initCookieConsent";"undefined"!=typeof window&&"function"!=typeof window[e]&&(window[e]=function(e){var t,n,r,i,o,s,a,l,c,u,d,f,h,p,m,g,v,y,b,_,w,C,x,E,S,k,D,T,A,N,O,j,M={mode:"opt-in",current_lang:"en",auto_language:null,autorun:!0,page_scripts:!0,hide_from_bots:!0,cookie_name:"cc_cookie",cookie_expiration:182,cookie_domain:window.location.hostname,cookie_path:"/",cookie_same_site:"Lax",use_rfc_cookie:!1,autoclear_cookies:!0,revision:0,script_selector:"data-cookiecategory"},R={},F={},L=null,P=!0,I=!1,$=!1,z=!1,B=!1,U=!1,H=!0,W=[],K=!1,q=[],V=[],Y=[],J=!1,G=[],X=[],Q=[],Z=[],ee=[],te=document.documentElement,ne=function(e){"number"==typeof(t=e).cookie_expiration&&(M.cookie_expiration=t.cookie_expiration),"number"==typeof t.cookie_necessary_only_expiration&&(M.cookie_necessary_only_expiration=t.cookie_necessary_only_expiration),"boolean"==typeof t.autorun&&(M.autorun=t.autorun),"string"==typeof t.cookie_domain&&(M.cookie_domain=t.cookie_domain),"string"==typeof t.cookie_same_site&&(M.cookie_same_site=t.cookie_same_site),"string"==typeof t.cookie_path&&(M.cookie_path=t.cookie_path),"string"==typeof t.cookie_name&&(M.cookie_name=t.cookie_name),"function"==typeof t.onAccept&&(l=t.onAccept),"function"==typeof t.onFirstAction&&(u=t.onFirstAction),"function"==typeof t.onChange&&(c=t.onChange),"opt-out"===t.mode&&(M.mode="opt-out"),"number"==typeof t.revision&&(t.revision>-1&&(M.revision=t.revision),U=!0),"boolean"==typeof t.autoclear_cookies&&(M.autoclear_cookies=t.autoclear_cookies),!0===t.use_rfc_cookie&&(M.use_rfc_cookie=!0),"boolean"==typeof t.hide_from_bots&&(M.hide_from_bots=t.hide_from_bots),M.hide_from_bots&&(J=navigator&&(navigator.userAgent&&/bot|crawl|spider|slurp|teoma/i.test(navigator.userAgent)||navigator.webdriver)),M.page_scripts=!0===t.page_scripts,"browser"===t.auto_language||!0===t.auto_language?M.auto_language="browser":"document"===t.auto_language&&(M.auto_language="document"),M.auto_language,M.current_lang=ue(t.languages,t.current_lang)},re=function(e){function t(t){return(e||document).querySelectorAll('a[data-cc="'+t+'"], button[data-cc="'+t+'"]')}function n(e,t){e.preventDefault(),R.accept(t),R.hideSettings(),R.hide()}for(var r="accept-",i=t("c-settings"),o=t(r+"all"),s=t(r+"necessary"),a=t(r+"custom"),l=0;l<i.length;l++)i[l].setAttribute("aria-haspopup","dialog"),ye(i[l],"click",(function(e){e.preventDefault(),R.showSettings(0)}));for(l=0;l<o.length;l++)ye(o[l],"click",(function(e){n(e,"all")}));for(l=0;l<a.length;l++)ye(a[l],"click",(function(e){n(e)}));for(l=0;l<s.length;l++)ye(s[l],"click",(function(e){n(e,[])}))},ie=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)?e:be(t).length>0?Object.prototype.hasOwnProperty.call(t,M.current_lang)?M.current_lang:be(t)[0]:void 0},oe=function(e){if(!0===t.force_consent&&_e(te,"force--consent"),!g){g=ce("div");var n=ce("div"),r=ce("div");g.id="cm",n.id="c-inr-i",r.id="cm-ov",g.setAttribute("role","dialog"),g.setAttribute("aria-modal","true"),g.setAttribute("aria-hidden","false"),g.setAttribute("aria-labelledby","c-ttl"),g.setAttribute("aria-describedby","c-txt"),m.appendChild(g),m.appendChild(r),g.style.visibility=r.style.visibility="hidden",r.style.opacity=0}var i=t.languages[e].consent_modal.title;i&&(v||((v=ce("div")).id="c-ttl",v.setAttribute("role","heading"),v.setAttribute("aria-level","2"),n.appendChild(v)),v.innerHTML=i);var o=t.languages[e].consent_modal.description;U&&(o=H?o.replace("{{revision_message}}",""):o.replace("{{revision_message}}",t.languages[e].consent_modal.revision_message||"")),y||((y=ce("div")).id="c-txt",n.appendChild(y)),y.innerHTML=o;var s,a=t.languages[e].consent_modal.primary_btn,l=t.languages[e].consent_modal.secondary_btn;a&&(b||((b=ce("button")).id="c-p-bn",b.className="c-bn","accept_all"===a.role&&(s="all"),ye(b,"click",(function(){R.hide(),R.accept(s)}))),b.innerHTML=t.languages[e].consent_modal.primary_btn.text),l&&(_||((_=ce("button")).id="c-s-bn",_.className="c-bn c_link","accept_necessary"===l.role?ye(_,"click",(function(){R.hide(),R.accept([])})):ye(_,"click",(function(){R.showSettings(0)}))),_.innerHTML=t.languages[e].consent_modal.secondary_btn.text);var c=t.gui_options;C||((C=ce("div")).id="c-inr",C.appendChild(n)),w||((w=ce("div")).id="c-bns",c&&c.consent_modal&&!0===c.consent_modal.swap_buttons?(l&&w.appendChild(_),a&&w.appendChild(b),w.className="swap"):(a&&w.appendChild(b),l&&w.appendChild(_)),(a||l)&&C.appendChild(w),g.appendChild(C)),I=!0,re(C)},se=function(e){if(x)(T=ce("div")).id="s-bl";else{x=ce("div");var n=ce("div"),r=ce("div"),i=ce("div");E=ce("div"),S=ce("div");var o=ce("div");k=ce("button");var l=ce("div");D=ce("div");var c=ce("div");x.id="s-cnt",n.id="c-vln",i.id="c-s-in",r.id="cs",S.id="s-ttl",E.id="s-inr",o.id="s-hdr",D.id="s-bl",k.id="s-c-bn",c.id="cs-ov",l.id="s-c-bnc",k.className="c-bn",x.setAttribute("role","dialog"),x.setAttribute("aria-modal","true"),x.setAttribute("aria-hidden","true"),x.setAttribute("aria-labelledby","s-ttl"),S.setAttribute("role","heading"),x.style.visibility=c.style.visibility="hidden",c.style.opacity=0,l.appendChild(k),ye(n,"keydown",(function(e){27===(e=e||window.event).keyCode&&R.hideSettings(0)}),!0),ye(k,"click",(function(){R.hideSettings(0)}))}k.setAttribute("aria-label",t.languages[e].settings_modal.close_btn_label||"Close"),a=t.languages[e].settings_modal.blocks,s=t.languages[e].settings_modal.cookie_table_headers;var u=a.length;S.innerHTML=t.languages[e].settings_modal.title;for(var d=0;d<u;++d){var f=a[d].title,h=a[d].description,p=a[d].toggle,g=a[d].cookie_table,v=!0===t.remove_cookie_tables,y=(h||!v&&g)&&"truthy",b=ce("div"),_=ce("div");if(h){var w=ce("div");w.className="p",w.insertAdjacentHTML("beforeend",h)}var C=ce("div");if(C.className="title",b.className="c-bl",_.className="desc",void 0!==p){var M="c-ac-"+d,L=ce(y?"button":"div"),I=ce("label"),$=ce("input"),z=ce("span"),B=ce("span"),U=ce("span"),H=ce("span");L.className=y?"b-tl exp":"b-tl",I.className="b-tg",$.className="c-tgl",U.className="on-i",H.className="off-i",z.className="c-tg",B.className="t-lb",y&&(L.setAttribute("aria-expanded","false"),L.setAttribute("aria-controls",M)),$.type="checkbox",z.setAttribute("aria-hidden","true");var W=p.value;$.value=W,B.textContent=f,L.insertAdjacentHTML("beforeend",f),C.appendChild(L),z.appendChild(U),z.appendChild(H),P?p.enabled?($.checked=!0,!T&&Q.push(!0),p.enabled&&!T&&Y.push(W)):!T&&Q.push(!1):le(F.categories,W)>-1?($.checked=!0,!T&&Q.push(!0)):!T&&Q.push(!1),!T&&Z.push(W),p.readonly?($.disabled=!0,_e(z,"c-ro"),!T&&ee.push(!0)):!T&&ee.push(!1),_e(_,"b-acc"),_e(C,"b-bn"),_e(b,"b-ex"),_.id=M,_.setAttribute("aria-hidden","true"),I.appendChild($),I.appendChild(z),I.appendChild(B),C.appendChild(I),y&&function(e,t,n){ye(L,"click",(function(){Ce(t,"act")?(we(t,"act"),n.setAttribute("aria-expanded","false"),e.setAttribute("aria-hidden","true")):(_e(t,"act"),n.setAttribute("aria-expanded","true"),e.setAttribute("aria-hidden","false"))}),!1)}(_,b,L)}else if(f){var K=ce("div");K.className="b-tl",K.setAttribute("role","heading"),K.setAttribute("aria-level","3"),K.insertAdjacentHTML("beforeend",f),C.appendChild(K)}if(f&&b.appendChild(C),h&&_.appendChild(w),!v&&void 0!==g){for(var q=document.createDocumentFragment(),V=0;V<s.length;++V){var J=ce("th"),G=s[V];if(J.setAttribute("scope","col"),G){var X=G&&be(G)[0];J.textContent=s[V][X],q.appendChild(J)}}var te=ce("tr");te.appendChild(q);var ne=ce("thead");ne.appendChild(te);var re=ce("table");re.appendChild(ne);for(var ie=document.createDocumentFragment(),oe=0;oe<g.length;oe++){for(var se=ce("tr"),ae=0;ae<s.length;++ae)if(G=s[ae]){X=be(G)[0];var ue=ce("td");ue.insertAdjacentHTML("beforeend",g[oe][X]),ue.setAttribute("data-column",G[X]),se.appendChild(ue)}ie.appendChild(se)}var de=ce("tbody");de.appendChild(ie),re.appendChild(de),_.appendChild(re)}(p&&f||!p&&(f||h))&&(b.appendChild(_),T?T.appendChild(b):D.appendChild(b))}A||((A=ce("div")).id="s-bns"),O||((O=ce("button")).id="s-all-bn",O.className="c-bn",A.appendChild(O),ye(O,"click",(function(){R.hideSettings(),R.hide(),R.accept("all")}))),O.innerHTML=t.languages[e].settings_modal.accept_all_btn;var fe=t.languages[e].settings_modal.reject_all_btn;if(fe&&(j||((j=ce("button")).id="s-rall-bn",j.className="c-bn",ye(j,"click",(function(){R.hideSettings(),R.hide(),R.accept([])})),E.className="bns-t",A.appendChild(j)),j.innerHTML=fe),N||((N=ce("button")).id="s-sv-bn",N.className="c-bn",A.appendChild(N),ye(N,"click",(function(){R.hideSettings(),R.hide(),R.accept()}))),N.innerHTML=t.languages[e].settings_modal.save_settings_btn,T)return E.replaceChild(T,D),void(D=T);o.appendChild(S),o.appendChild(l),E.appendChild(o),E.appendChild(D),E.appendChild(A),i.appendChild(E),r.appendChild(i),n.appendChild(r),x.appendChild(n),m.appendChild(x),m.appendChild(c)};R.updateLanguage=function(e,n){if("string"==typeof e){var r=ie(e,t.languages);return(r!==M.current_lang||!0===n)&&(M.current_lang=r,I&&oe(r),se(r),!0)}};var ae=function(e){var t=a.length,n=-1;K=!1;var r=ge("","all"),i=[M.cookie_domain,"."+M.cookie_domain];if("www."===M.cookie_domain.slice(0,4)){var o=M.cookie_domain.substr(4);i.push(o),i.push("."+o)}for(var l=0;l<t;l++){var c=a[l];if(Object.prototype.hasOwnProperty.call(c,"toggle")){var u=le(W,c.toggle.value)>-1;if(!Q[++n]&&Object.prototype.hasOwnProperty.call(c,"cookie_table")&&(e||u)){var d=c.cookie_table,f=be(s[0])[0],h=d.length;"on_disable"===c.toggle.reload&&u&&(K=!0);for(var p=0;p<h;p++){var m=i,g=d[p],v=[],y=g[f],b=g.is_regex||!1,_=g.domain||null,w=g.path||!1;if(_&&(m=[_,"."+_]),b)for(var C=0;C<r.length;C++)r[C].match(y)&&v.push(r[C]);else{var x=le(r,y);x>-1&&v.push(r[x])}v.length>0&&(ve(v,w,m),"on_clear"===c.toggle.reload&&(K=!0))}}}}},le=function(e,t){return e.indexOf(t)},ce=function(e){var t=document.createElement(e);return"button"===e&&t.setAttribute("type",e),t},ue=function(e,t){return"browser"===M.auto_language?ie(de(),e):"document"===M.auto_language?ie(document.documentElement.lang,e):"string"==typeof t?M.current_lang=ie(t,e):(M.current_lang,M.current_lang)},de=function(){var e=navigator.language||navigator.browserLanguage;return e.length>2&&(e=e[0]+e[1]),e.toLowerCase()};R.allowedCategory=function(e){if(P&&"opt-in"!==M.mode)t=Y;else var t=JSON.parse(ge(M.cookie_name,"one",!0)||"{}").categories||[];return le(t,e)>-1},R.run=function(t){if(!document.getElementById("cc_div")){if(ne(t),J)return;F=JSON.parse(ge(M.cookie_name,"one",!0)||"{}");var s=void 0!==(i=F.consent_uuid);if((n=F.consent_date)&&(n=new Date(n)),(r=F.last_consent_update)&&(r=new Date(r)),L=void 0!==F.data?F.data:null,U&&F.revision!==M.revision&&(H=!1),I=P=!(s&&H&&n&&r&&i),function(){(p=ce("div")).id="cc--main",p.style.position="fixed",p.style.zIndex="2147483647",p.innerHTML='<!--[if lt IE 9 ]><div id="cc_div" class="cc_div ie"></div><![endif]--><!--[if (gt IE 8)|!(IE)]><!--><div id="cc_div" class="cc_div"></div><!--<![endif]-->',m=p.children[0];var t=M.current_lang;I&&oe(t),se(t),(e||document.body).appendChild(p)}(),function(){function e(e,n){var r=!1,i=!1;try{for(var o,s=e.querySelectorAll(t.join(':not([tabindex="-1"]), ')),a=s.length,l=0;l<a;)o=s[l].getAttribute("data-focus"),i||"1"!==o?"0"===o&&(r=s[l],i||"0"===s[l+1].getAttribute("data-focus")||(i=s[l+1])):i=s[l],l++}catch(n){return e.querySelectorAll(t.join(", "))}n[0]=s[0],n[1]=s[s.length-1],n[2]=r,n[3]=i}var t=["[href]","button","input","details",'[tabindex="0"]'];e(E,X),I&&e(g,G)}(),function(e){function t(e,t,n,r,i,o,s){if(o=o&&o.split(" ")||[],le(t,i)>-1&&(_e(e,i),("bar"!==i||"middle"!==o[0])&&le(n,o[0])>-1))for(var a=0;a<o.length;a++)_e(e,o[a]);le(r,s)>-1&&_e(e,s)}if("object"==typeof e){var n=e.consent_modal,r=e.settings_modal;I&&n&&t(g,["box","bar","cloud"],["top","middle","bottom"],["zoom","slide"],n.layout,n.position,n.transition),r&&t(x,["bar"],["left","right"],["zoom","slide"],r.layout,r.position,r.transition)}}(t.gui_options),re(),M.autorun&&I&&R.show(t.delay||0),setTimeout((function(){_e(p,"c--anim")}),30),setTimeout((function(){var e,t;e=!1,t=!1,ye(document,"keydown",(function(n){"Tab"===(n=n||window.event).key&&(o&&(n.shiftKey?document.activeElement===o[0]&&(o[1].focus(),n.preventDefault()):document.activeElement===o[1]&&(o[0].focus(),n.preventDefault()),t||B||(t=!0,!e&&n.preventDefault(),n.shiftKey?o[3]?o[2]?o[2].focus():o[0].focus():o[1].focus():o[3]?o[3].focus():o[0].focus())),!t&&(e=!0))})),document.contains&&ye(p,"click",(function(e){e=e||window.event,z?E.contains(e.target)?B=!0:(R.hideSettings(0),B=!1):$&&g.contains(e.target)&&(B=!0)}),!0)}),100),P)"opt-out"===M.mode&&(M.mode,fe(Y));else{var a="boolean"==typeof F.rfc_cookie;(!a||a&&F.rfc_cookie!==M.use_rfc_cookie)&&(F.rfc_cookie=M.use_rfc_cookie,me(M.cookie_name,JSON.stringify(F))),d=pe(he()),fe(),"function"==typeof l&&l(F)}}},R.showSettings=function(e){setTimeout((function(){_e(te,"show--settings"),x.setAttribute("aria-hidden","false"),z=!0,setTimeout((function(){$?h=document.activeElement:f=document.activeElement,0!==X.length&&(X[3]?X[3].focus():X[0].focus(),o=X)}),200)}),e>0?e:0)};var fe=function(e){if(M.page_scripts){var t=document.querySelectorAll("script["+M.script_selector+"]"),n=e||F.categories||[],r=function(e,t){if(t<e.length){var i=e[t],o=i.getAttribute(M.script_selector);if(le(n,o)>-1){i.type="text/javascript",i.removeAttribute(M.script_selector);var s=i.getAttribute("data-src");s&&i.removeAttribute("data-src");var a=ce("script");if(a.textContent=i.innerHTML,function(e,t){for(var n=t.attributes,r=n.length,i=0;i<r;i++){var o=n[i].nodeName;e.setAttribute(o,t[o]||t.getAttribute(o))}}(a,i),s?a.src=s:s=i.src,s&&(a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,r(e,++t))}:a.onload=function(){a.onload=null,r(e,++t)}),i.parentNode.replaceChild(a,i),s)return}r(e,++t)}};r(t,0)}};R.set=function(e,t){return"data"===e&&function(e,t){var n=!1;if("update"===t){var r=typeof(L=R.get("data"))==typeof e;if(r&&"object"==typeof L)for(var i in!L&&(L={}),e)L[i]!==e[i]&&(L[i]=e[i],n=!0);else!r&&L||L===e||(L=e,n=!0)}else L=e,n=!0;return n&&(F.data=L,me(M.cookie_name,JSON.stringify(F))),n}(t.value,t.mode)},R.get=function(e,t){return JSON.parse(ge(t||M.cookie_name,"one",!0)||"{}")[e]},R.getConfig=function(e){return M[e]||t[e]};var he=function(){return q=F.categories||[],V=Z.filter((function(e){return-1===le(q,e)})),{accepted:q,rejected:V}},pe=function(e){var t="custom",n=ee.filter((function(e){return!0===e})).length;return e.accepted.length===Z.length?t="all":e.accepted.length===n&&(t="necessary"),t};R.getUserPreferences=function(){var e=he();return{accept_type:pe(e),accepted_categories:e.accepted,rejected_categories:e.rejected}},R.loadScript=function(e,t,n){var r="function"==typeof t;if(document.querySelector('script[src="'+e+'"]'))r&&t();else{var i=ce("script");if(n&&n.length>0)for(var o=0;o<n.length;++o)n[o]&&i.setAttribute(n[o].name,n[o].value);r&&(i.onload=t),i.src=e,document.head.appendChild(i)}},R.updateScripts=function(){fe()},R.show=function(e,t){!0===t&&oe(M.current_lang),I&&setTimeout((function(){_e(te,"show--consent"),g.setAttribute("aria-hidden","false"),$=!0,setTimeout((function(){f=document.activeElement,o=G}),200)}),e>0?e:t?30:0)},R.hide=function(){I&&(we(te,"show--consent"),g.setAttribute("aria-hidden","true"),$=!1,setTimeout((function(){f.focus(),o=null}),200))},R.hideSettings=function(){we(te,"show--settings"),z=!1,x.setAttribute("aria-hidden","true"),setTimeout((function(){$?(h&&h.focus(),o=G):(f&&f.focus(),o=null),B=!1}),200)},R.accept=function(e,t){var o=e||void 0,s=t||[],a=[];if(o)if("object"==typeof o&&"number"==typeof o.length)for(var f=0;f<o.length;f++)-1!==le(Z,o[f])&&a.push(o[f]);else"string"==typeof o&&("all"===o?a=Z.slice():-1!==le(Z,o)&&a.push(o));else a=function(){for(var e=document.querySelectorAll(".c-tgl")||[],t=[],n=0;n<e.length;n++)e[n].checked&&t.push(e[n].value);return t}();if(s.length>=1)for(f=0;f<s.length;f++)a=a.filter((function(e){return e!==s[f]}));for(f=0;f<Z.length;f++)!0===ee[f]&&-1===le(a,Z[f])&&a.push(Z[f]);!function(e){W=[];var t=document.querySelectorAll(".c-tgl")||[];if(t.length>0)for(var o=0;o<t.length;o++)-1!==le(e,Z[o])?(t[o].checked=!0,Q[o]||(W.push(Z[o]),Q[o]=!0)):(t[o].checked=!1,Q[o]&&(W.push(Z[o]),Q[o]=!1));!P&&M.autoclear_cookies&&W.length>0&&ae(),n||(n=new Date),i||(i=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){try{return(e^(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}catch(e){return""}}))),F={categories:e,level:e,revision:M.revision,data:L,rfc_cookie:M.use_rfc_cookie,consent_date:n.toISOString(),consent_uuid:i},(P||W.length>0)&&(H=!0,r=r?new Date:n,F.last_consent_update=r.toISOString(),d=pe(he()),me(M.cookie_name,JSON.stringify(F)),fe()),P&&(M.autoclear_cookies&&ae(!0),"function"==typeof u&&u(R.getUserPreferences(),F),"function"==typeof l&&l(F),P=!1,"opt-in"===M.mode)||("function"==typeof c&&W.length>0&&c(F,W),K&&window.location.reload())}(a)},R.eraseCookies=function(e,t,n){var r=[],i=n?[n,"."+n]:[M.cookie_domain,"."+M.cookie_domain];if("object"==typeof e&&e.length>0)for(var o=0;o<e.length;o++)this.validCookie(e[o])&&r.push(e[o]);else this.validCookie(e)&&r.push(e);ve(r,t,i)};var me=function(e,t){var n=M.cookie_expiration;"number"==typeof M.cookie_necessary_only_expiration&&"necessary"===d&&(n=M.cookie_necessary_only_expiration),t=M.use_rfc_cookie?encodeURIComponent(t):t;var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var i=e+"="+(t||"")+"; expires="+r.toUTCString()+"; Path="+M.cookie_path+";";i+=" SameSite="+M.cookie_same_site+";",window.location.hostname.indexOf(".")>-1&&(i+=" Domain="+M.cookie_domain+";"),"https:"===window.location.protocol&&(i+=" Secure;"),document.cookie=i},ge=function(e,t,n){var r;if("one"===t){if((r=(r=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)"))?n?r.pop():e:"")&&e===M.cookie_name){try{r=JSON.parse(r)}catch(e){try{r=JSON.parse(decodeURIComponent(r))}catch(e){r={}}}r=JSON.stringify(r)}}else if("all"===t){var i=document.cookie.split(/;\s*/);r=[];for(var o=0;o<i.length;o++)r.push(i[o].split("=")[0])}return r},ve=function(e,t,n){for(var r=t||"/",i=0;i<e.length;i++){for(var o=0;o<n.length;o++)document.cookie=e[i]+"=; path="+r+(0==n[o].indexOf(".")?"; domain="+n[o]:"")+"; Expires=Thu, 01 Jan 1970 00:00:01 GMT;";e[i]}};R.validCookie=function(e){return""!==ge(e,"one",!0)};var ye=function(e,t,n,r){e.addEventListener(t,n,!0===r&&{passive:!0})},be=function(e){if("object"==typeof e)return Object.keys(e)},_e=function(e,t){e.classList.add(t)},we=function(e,t){e.classList.remove(t)},Ce=function(e,t){return e.classList.contains(t)};return R})}(),function(e){var t;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var n=window.Cookies,r=window.Cookies=e();r.noConflict=function(){return window.Cookies=n,r}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,!0!==o[l]&&(a+="="+o[l].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),l=a.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(a[0]);if(l=(r.read||r)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(i[c]=l,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return s(e,!1)},i.getJSON=function(e){return s(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))})),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):e.Selectize=t(e.jQuery)}(this,(function(e){"use strict";function t(e,t){return navigator.userAgentData?e===navigator.userAgentData.platform:t.test(navigator.userAgent)}var n=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,r=function(e){var t=0;if(3===e.nodeType){var i=e.data.search(n);if(i>=0&&e.data.length>0){var o=e.data.match(n),s=document.createElement("span");s.className="highlight";var a=e.splitText(i),l=(a.splitText(o[0].length),a.cloneNode(!0));s.appendChild(l),a.parentNode.replaceChild(s,a),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&("highlight"!==e.className||"SPAN"!==e.tagName))for(var c=0;c<e.childNodes.length;++c)c+=r(e.childNodes[c]);return t};return e.each((function(){r(this)}))}};e.fn.removeHighlight=function(){return this.find("span.highlight").each((function(){this.parentNode.firstChild.nodeName;var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()})).end()};var r=function(){};r.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){const t=this._events=this._events||{};if(e in t!=!1)for(var n=0;n<t[e].length;n++)t[e][n].apply(this,Array.prototype.slice.call(arguments,1))}},r.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=r.prototype[t[n]]};var i={mixin:function(e){e.plugins={},e.prototype.initializePlugins=function(e){var t,n,r,i=this,s=[];if(i.plugins={names:[],settings:{},requested:{},loaded:{}},o.isArray(e))for(t=0,n=e.length;t<n;t++)"string"==typeof e[t]?s.push(e[t]):(i.plugins.settings[e[t].name]=e[t].options,s.push(e[t].name));else if(e)for(r in e)e.hasOwnProperty(r)&&(i.plugins.settings[r]=e[r],s.push(r));for(;s.length;)i.require(s.shift())},e.prototype.loadPlugin=function(t){var n=this,r=n.plugins,i=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');r.requested[t]=!0,r.loaded[t]=i.fn.apply(n,[n.plugins.settings[t]||{}]),r.names.push(t)},e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}}},o={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},s=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};s.prototype.tokenize=function(e,t){if(!(e=u(String(e||"").toLowerCase()))||!e.length)return[];var n,r,i,o,s=[],a=e.split(/ +/);for(n=0,r=a.length;n<r;n++){if(i=d(a[n]),this.settings.diacritics)for(o in h)h.hasOwnProperty(o)&&(i=i.replace(new RegExp(o,"g"),h[o]));t&&(i="\\b"+i),s.push({string:a[n],regex:new RegExp(i,"i")})}return s},s.prototype.iterator=function(e,t){var n;n=f(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)},n.apply(e,[t])},s.prototype.getScoreFunction=function(e,t){var n,r,i,o;e=this.prepareSearch(e,t),r=e.tokens,n=e.options.fields,i=r.length,o=e.options.nesting;var s,a=function(e,t){var n,r;return e?-1===(r=(e=String(e||"")).search(t.regex))?0:(n=t.string.length/e.length,0===r&&(n+=.5),n):0},l=(s=n.length)?1===s?function(e,t){return a(c(t,n[0],o),e)}:function(e,t){for(var r=0,i=0;r<s;r++)i+=a(c(t,n[r],o),e);return i/s}:function(){return 0};return i?1===i?function(e){return l(r[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,o=0;n<i;n++){if((t=l(r[n],e))<=0)return 0;o+=t}return o/i}:function(e){for(var t=0,n=0;t<i;t++)n+=l(r[t],e);return n/i}:function(){return 0}},s.prototype.getSortFunction=function(e,t){var n,r,i,o,s,l,u,d,f,h,p;if(p=!(e=(i=this).prepareSearch(e,t)).query&&t.sort_empty||t.sort,f=function(e,n){return"$score"===e?n.score:c(i.items[n.id],e,t.nesting)},s=[],p)for(n=0,r=p.length;n<r;n++)(e.query||"$score"!==p[n].field)&&s.push(p[n]);if(e.query){for(h=!0,n=0,r=s.length;n<r;n++)if("$score"===s[n].field){h=!1;break}h&&s.unshift({field:"$score",direction:"desc"})}else for(n=0,r=s.length;n<r;n++)if("$score"===s[n].field){s.splice(n,1);break}for(d=[],n=0,r=s.length;n<r;n++)d.push("desc"===s[n].direction?-1:1);return(l=s.length)?1===l?(o=s[0].field,u=d[0],function(e,t){return u*a(f(o,e),f(o,t))}):function(e,t){var n,r,i;for(n=0;n<l;n++)if(i=s[n].field,r=d[n]*a(f(i,e),f(i,t)))return r;return 0}:null},s.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var n=(t=l({},t)).fields,r=t.sort,i=t.sort_empty;return n&&!f(n)&&(t.fields=[n]),r&&!f(r)&&(t.sort=[r]),i&&!f(i)&&(t.sort_empty=[i]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e,t.respect_word_boundaries),total:0,items:[]}},s.prototype.search=function(e,t){var n,r,i,o,s=this;return r=this.prepareSearch(e,t),t=r.options,e=r.query,o=t.score||s.getScoreFunction(r),e.length?s.iterator(s.items,(function(e,i){n=o(e),(!1===t.filter||n>0)&&r.items.push({score:n,id:i})})):s.iterator(s.items,(function(e,t){r.items.push({score:1,id:t})})),(i=s.getSortFunction(r,t))&&r.items.sort(i),r.total=r.items.length,"number"==typeof t.limit&&(r.items=r.items.slice(0,t.limit)),r};var a=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=p(String(e||"")))>(t=p(String(t||"")))?1:t>e?-1:0},l=function(e){var t,n,r,i;for(t=1,n=arguments.length;t<n;t++)if(i=arguments[t])for(r in i)i.hasOwnProperty(r)&&(e[r]=i[r]);return e},c=function(e,t,n){if(e&&t){if(!n)return e[t];for(var r=t.split(".");r.length&&(e=e[r.shift()]););return e}},u=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},d=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},f=Array.isArray||void 0!==e&&e.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},h={a:"[a\u1e00\u1e01\u0102\u0103\xc2\xe2\u01cd\u01ce\u023a\u2c65\u0226\u0227\u1ea0\u1ea1\xc4\xe4\xc0\xe0\xc1\xe1\u0100\u0101\xc3\xe3\xc5\xe5\u0105\u0104\xc3\u0105\u0104]",b:"[b\u2422\u03b2\u0392B\u0e3f\ud800\udf01\u16d2]",c:"[c\u0106\u0107\u0108\u0109\u010c\u010d\u010a\u010bC\u0304c\u0304\xc7\xe7\u1e08\u1e09\u023b\u023c\u0187\u0188\u0255\u1d04\uff23\uff43]",d:"[d\u010e\u010f\u1e0a\u1e0b\u1e10\u1e11\u1e0c\u1e0d\u1e12\u1e13\u1e0e\u1e0f\u0110\u0111D\u0326d\u0326\u0189\u0256\u018a\u0257\u018b\u018c\u1d6d\u1d81\u1d91\u0221\u1d05\uff24\uff44\xf0]",e:"[e\xc9\xe9\xc8\xe8\xca\xea\u1e18\u1e19\u011a\u011b\u0114\u0115\u1ebc\u1ebd\u1e1a\u1e1b\u1eba\u1ebb\u0116\u0117\xcb\xeb\u0112\u0113\u0228\u0229\u0118\u0119\u1d92\u0246\u0247\u0204\u0205\u1ebe\u1ebf\u1ec0\u1ec1\u1ec4\u1ec5\u1ec2\u1ec3\u1e1c\u1e1d\u1e16\u1e17\u1e14\u1e15\u0206\u0207\u1eb8\u1eb9\u1ec6\u1ec7\u2c78\u1d07\uff25\uff45\u0258\u01dd\u018f\u0190\u03b5]",f:"[f\u0191\u0192\u1e1e\u1e1f]",g:"[g\u0262\u20b2\u01e4\u01e5\u011c\u011d\u011e\u011f\u0122\u0123\u0193\u0260\u0120\u0121]",h:"[h\u0124\u0125\u0126\u0127\u1e28\u1e29\u1e96\u1e96\u1e24\u1e25\u1e22\u1e23\u0266\u02b0\u01f6\u0195]",i:"[i\xcd\xed\xcc\xec\u012c\u012d\xce\xee\u01cf\u01d0\xcf\xef\u1e2e\u1e2f\u0128\u0129\u012e\u012f\u012a\u012b\u1ec8\u1ec9\u0208\u0209\u020a\u020b\u1eca\u1ecb\u1e2c\u1e2d\u0197\u0268\u0268\u0306\u1d7b\u1d96\u0130iI\u0131\u026a\uff29\uff49]",j:"[j\u0237\u0134\u0135\u0248\u0249\u029d\u025f\u02b2]",k:"[k\u0198\u0199\ua740\ua741\u1e30\u1e31\u01e8\u01e9\u1e32\u1e33\u1e34\u1e35\u03ba\u03f0\u20ad]",l:"[l\u0141\u0142\u013d\u013e\u013b\u013c\u0139\u013a\u1e36\u1e37\u1e38\u1e39\u1e3c\u1e3d\u1e3a\u1e3b\u013f\u0140\u023d\u019a\u2c60\u2c61\u2c62\u026b\u026c\u1d85\u026d\u0234\u029f\uff2c\uff4c]",n:"[n\u0143\u0144\u01f8\u01f9\u0147\u0148\xd1\xf1\u1e44\u1e45\u0145\u0146\u1e46\u1e47\u1e4a\u1e4b\u1e48\u1e49N\u0308n\u0308\u019d\u0272\u0220\u019e\u1d70\u1d87\u0273\u0235\u0274\uff2e\uff4e\u014a\u014b]",o:"[o\xd8\xf8\xd6\xf6\xd3\xf3\xd2\xf2\xd4\xf4\u01d1\u01d2\u0150\u0151\u014e\u014f\u022e\u022f\u1ecc\u1ecd\u019f\u0275\u01a0\u01a1\u1ece\u1ecf\u014c\u014d\xd5\xf5\u01ea\u01eb\u020c\u020d\u0555\u0585]",p:"[p\u1e54\u1e55\u1e56\u1e57\u2c63\u1d7d\u01a4\u01a5\u1d71]",q:"[q\ua756\ua757\u02a0\u024a\u024b\ua758\ua759q\u0303]",r:"[r\u0154\u0155\u024c\u024d\u0158\u0159\u0156\u0157\u1e58\u1e59\u0210\u0211\u0212\u0213\u1e5a\u1e5b\u2c64\u027d]",s:"[s\u015a\u015b\u1e60\u1e61\u1e62\u1e63\ua7a8\ua7a9\u015c\u015d\u0160\u0161\u015e\u015f\u0218\u0219S\u0308s\u0308]",t:"[t\u0164\u0165\u1e6a\u1e6b\u0162\u0163\u1e6c\u1e6d\u01ae\u0288\u021a\u021b\u1e70\u1e71\u1e6e\u1e6f\u01ac\u01ad]",u:"[u\u016c\u016d\u0244\u0289\u1ee4\u1ee5\xdc\xfc\xda\xfa\xd9\xf9\xdb\xfb\u01d3\u01d4\u0170\u0171\u016c\u016d\u01af\u01b0\u1ee6\u1ee7\u016a\u016b\u0168\u0169\u0172\u0173\u0214\u0215\u222a]",v:"[v\u1e7c\u1e7d\u1e7e\u1e7f\u01b2\u028b\ua75e\ua75f\u2c71\u028b]",w:"[w\u1e82\u1e83\u1e80\u1e81\u0174\u0175\u1e84\u1e85\u1e86\u1e87\u1e88\u1e89]",x:"[x\u1e8c\u1e8d\u1e8a\u1e8b\u03c7]",y:"[y\xdd\xfd\u1ef2\u1ef3\u0176\u0177\u0178\xff\u1ef8\u1ef9\u1e8e\u1e8f\u1ef4\u1ef5\u024e\u024f\u01b3\u01b4]",z:"[z\u0179\u017a\u1e90\u1e91\u017d\u017e\u017b\u017c\u1e92\u1e93\u1e94\u1e95\u01b5\u01b6]"},p=function(){var e,t,n,r,i="",o={};for(n in h)if(h.hasOwnProperty(n))for(i+=r=h[n].substring(2,h[n].length-1),e=0,t=r.length;e<t;e++)o[r.charAt(e)]=n;var s=new RegExp("["+i+"]","g");return function(e){return e.replace(s,(function(e){return o[e]})).toLowerCase()}}(),m=t("macOS",/Mac/),g=65,v=13,y=27,b=37,_=38,w=80,C=39,x=40,E=78,S=8,k=46,D=16,T=m?91:17,A=m?18:17,N=9,O=1,j=2,M=!t("Android",/android/i)&&!!document.createElement("input").validity,R=function(e){return void 0!==e},F=function(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""},L=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},P={before:function(e,t,n){var r=e[t];e[t]=function(){return n.apply(e,arguments),r.apply(e,arguments)}},after:function(e,t,n){var r=e[t];e[t]=function(){var t=r.apply(e,arguments);return n.apply(e,arguments),t}}},I=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},$=function(e,t){var n;return function(){var r=this,i=arguments;window.clearTimeout(n),n=window.setTimeout((function(){e.apply(r,i)}),t)}},z=function(e,t,n){var r,i=e.trigger,o={};for(r in e.trigger=function(){var n=arguments[0];if(-1===t.indexOf(n))return i.apply(e,arguments);o[n]=arguments},n.apply(e,[]),e.trigger=i,o)o.hasOwnProperty(r)&&i.apply(e,o[r])},B=function(e,t,n,r){e.on(t,n,(function(t){
for(var n=t.target;n&&n.parentNode!==e[0];)n=n.parentNode;return t.currentTarget=n,r.apply(this,[t])}))},U=function(e){var t={};if(void 0===e)return console.warn("WARN getSelection cannot locate input control"),t;if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),r=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-r,t.length=r}return t},H=function(e,t,n){var r,i,o={};if(n)for(r=0,i=n.length;r<i;r++)o[n[r]]=e.css(n[r]);else o=e.css();t.css(o)},W=function(t,n){return t?(V.$testInput||(V.$testInput=e("<span />").css({position:"absolute",width:"auto",padding:0,whiteSpace:"pre"}),e("<div />").css({position:"absolute",width:0,height:0,overflow:"hidden"}).append(V.$testInput).appendTo("body")),V.$testInput.text(t),H(n,V.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),V.$testInput.width()):0},K=function(e){var t=null,n=function(n,r){var i,o,s,a,l,c,u,d,f;r=r||{},(n=n||window.event||{}).metaKey||n.altKey||(r.force||!1!==e.data("grow"))&&(i=e.val(),n.type&&"keydown"===n.type.toLowerCase()&&(s=(o=n.keyCode)>=48&&o<=57||o>=65&&o<=90||o>=96&&o<=111||o>=186&&o<=222||32===o,o===k||o===S?(f=U(e[0])).length?i=i.substring(0,f.start)+i.substring(f.start+f.length):o===S&&f.start?i=i.substring(0,f.start-1)+i.substring(f.start+1):o===k&&void 0!==f.start&&(i=i.substring(0,f.start)+i.substring(f.start+1)):s&&(u=n.shiftKey,d=String.fromCharCode(n.keyCode),i+=d=u?d.toUpperCase():d.toLowerCase())),c=(l=e.attr("placeholder"))?W(l,e)+4:0,(a=Math.max(W(i,e),c)+4)!==t&&(t=a,e.width(a),e.triggerHandler("resize")))};e.on("keydown keyup update blur",n),n()},q=function(e){var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML},V=function(t,n){var r,i,o,a,l=this;(a=t[0]).selectize=l;var c=window.getComputedStyle&&window.getComputedStyle(a,null);if(o=(o=c?c.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction)||t.parents("[dir]:first").attr("dir")||"",e.extend(l,{order:0,settings:n,$input:t,tabIndex:t.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?O:j,rtl:/rtl/i.test(o),eventNS:".selectize"+ ++V.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:t.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",lastValidValue:"",caretPos:0,loading:0,loadedSearches:{},isDropdownClosing:!1,$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===n.loadThrottle?l.onSearchChange:$(l.onSearchChange,n.loadThrottle)}),l.sifter=new s(this.options,{diacritics:n.diacritics}),l.settings.options){for(r=0,i=l.settings.options.length;r<i;r++)l.registerOption(l.settings.options[r]);delete l.settings.options}if(l.settings.optgroups){for(r=0,i=l.settings.optgroups.length;r<i;r++)l.registerOptionGroup(l.settings.optgroups[r]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return r.mixin(V),i.mixin(V),e.extend(V.prototype,{setup:function(){var t,n,r,i,o,s,a,l,c,u,d=this,f=d.settings,h=d.eventNS,p=e(window),g=e(document),v=d.$input;if(a=d.settings.mode,l=v.attr("class")||"",t=e("<div>").addClass(f.wrapperClass).addClass(l).addClass(a),n=e("<div>").addClass(f.inputClass).addClass("items").appendTo(t),r=e('<input type="select-one" autocomplete="new-password" autofill="no" />').appendTo(n).attr("tabindex",v.is(":disabled")?"-1":d.tabIndex),s=e(f.dropdownParent||t),i=e("<div>").addClass(f.dropdownClass).addClass(a).hide().appendTo(s),o=e("<div>").addClass(f.dropdownContentClass).attr("tabindex","-1").appendTo(i),(u=v.attr("id"))&&(r.attr("id",u+"-selectized"),e("label[for='"+u+"']").attr("for",u+"-selectized")),d.settings.copyClassesToDropdown&&i.addClass(l),t.css({width:v[0].style.width}),d.plugins.names.length&&(c="plugin-"+d.plugins.names.join(" plugin-"),t.addClass(c),i.addClass(c)),(null===f.maxItems||f.maxItems>1)&&d.tagType===O&&v.attr("multiple","multiple"),d.settings.placeholder&&r.attr("placeholder",f.placeholder),!d.settings.splitOn&&d.settings.delimiter){var y=d.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");d.settings.splitOn=new RegExp("\\s*"+y+"+\\s*")}v.attr("autocorrect")&&r.attr("autocorrect",v.attr("autocorrect")),v.attr("autocapitalize")&&r.attr("autocapitalize",v.attr("autocapitalize")),v.is("input")&&(r[0].type=v[0].type),d.$wrapper=t,d.$control=n,d.$control_input=r,d.$dropdown=i,d.$dropdown_content=o,i.on("mouseenter mousedown mouseup click","[data-disabled]>[data-selectable]",(function(e){e.stopImmediatePropagation()})),i.on("mouseenter","[data-selectable]",(function(){return d.onOptionHover.apply(d,arguments)})),i.on("mouseup click","[data-selectable]",(function(){return d.onOptionSelect.apply(d,arguments)})),B(n,"mouseup","*:not(input)",(function(){return d.onItemSelect.apply(d,arguments)})),K(r),n.on({mousedown:function(){return d.onMouseDown.apply(d,arguments)},click:function(){return d.onClick.apply(d,arguments)}}),r.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return d.onKeyDown.apply(d,arguments)},keypress:function(){return d.onKeyPress.apply(d,arguments)},input:function(){return d.onInput.apply(d,arguments)},resize:function(){d.positionDropdown.apply(d,[])},focus:function(){return d.ignoreBlur=!1,d.onFocus.apply(d,arguments)},paste:function(){return d.onPaste.apply(d,arguments)}}),g.on("keydown"+h,(function(e){d.isCmdDown=e[m?"metaKey":"ctrlKey"],d.isCtrlDown=e[m?"altKey":"ctrlKey"],d.isShiftDown=e.shiftKey})),g.on("keyup"+h,(function(e){e.keyCode===A&&(d.isCtrlDown=!1),e.keyCode===D&&(d.isShiftDown=!1),e.keyCode===T&&(d.isCmdDown=!1)})),g.on("mousedown"+h,(function(e){if(d.isFocused){if(e.target===d.$dropdown[0]||e.target.parentNode===d.$dropdown[0])return!1;d.$dropdown.has(e.target).length||e.target===d.$control[0]||d.blur(e.target)}})),p.on(["scroll"+h,"resize"+h].join(" "),(function(){d.isOpen&&d.positionDropdown.apply(d,arguments)})),p.on("mousemove"+h,(function(){d.ignoreHover=d.settings.ignoreHover})),this.revertSettings={$children:v.children().detach(),tabindex:v.attr("tabindex")},v.attr("tabindex",-1).hide().after(d.$wrapper),Array.isArray(f.items)&&(d.lastValidValue=f.items,d.setValue(f.items),delete f.items),M&&v.on("invalid"+h,(function(e){e.preventDefault(),d.isInvalid=!0,d.refreshState()})),d.updateOriginalInput(),d.refreshItems(),d.refreshState(),d.updatePlaceholder(),d.isSetup=!0,v.is(":disabled")&&d.disable(),d.on("change",this.onChange),v.data("selectize",d),v.addClass("selectized"),d.trigger("initialize"),!0===f.preload&&d.onSearchChange("")},setupTemplates:function(){var t=this,n=t.settings.labelField,r=t.settings.valueField,i=t.settings.optgroupLabelField,o={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,t){return'<div class="option '+(""===e[r]?"selectize-dropdown-emptyoptionlabel":"")+'">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&#x2026;</div>"}};t.settings.render=e.extend({},o,t.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur",dropdown_item_activate:"onDropdownItemActivate",dropdown_item_deactivate:"onDropdownItemDeactivate"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]])&&this.on(e,t)},onClick:function(e){var t=this;t.isDropdownClosing||t.isFocused&&t.isOpen||(t.focus(),e.preventDefault())},onMouseDown:function(t){var n=this,r=t.isDefaultPrevented();e(t.target);if(n.isFocused){if(t.target!==n.$control_input[0])return"single"===n.settings.mode?(n.isOpen?n.close():n.open(),n.isDropdownClosing=!0,setTimeout((function(){n.isDropdownClosing=!1}),n.settings.closeDropdownThreshold)):r||n.setActiveItem(null),!1}else r||window.setTimeout((function(){n.focus()}),0)},onChange:function(){var e=this;""!==e.getValue()&&(e.lastValidValue=e.getValue()),this.$input.trigger("input"),this.$input.trigger("change")},onPaste:function(e){var t=this;t.isFull()||t.isInputHidden||t.isLocked?e.preventDefault():t.settings.splitOn&&setTimeout((function(){var e=t.$control_input.val();if(e.match(t.settings.splitOn))for(var n=e.trim().split(t.settings.splitOn),r=0,i=n.length;r<i;r++)t.createItem(n[r])}),0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){e.target,this.$control_input[0];var t=this;if(t.isLocked)e.keyCode!==N&&e.preventDefault();else{switch(e.keyCode){case g:if(t.isCmdDown)return void t.selectAll();break;case y:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case E:if(!e.ctrlKey||e.altKey)break;case x:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case w:if(!e.ctrlKey||e.altKey)break;case _:if(t.$activeOption){t.ignoreHover=!0;var r=t.getAdjacentOption(t.$activeOption,-1);r.length&&t.setActiveOption(r,!0,!0)}return void e.preventDefault();case v:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case b:return void t.advanceSelection(-1,e);case C:return void t.advanceSelection(1,e);case N:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&t.settings.showAddOptionOnCreate&&e.preventDefault());case S:case k:return void t.deleteSelection(e)}!t.isFull()&&!t.isInputHidden||(m?e.metaKey:e.ctrlKey)||e.preventDefault()}},onInput:function(){var e=this,t=e.$control_input.val()||"";e.lastValue!==t&&(e.lastValue=t,e.onSearchChange(t),e.refreshOptions(),e.trigger("type",t))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load((function(r){n.apply(t,[e,r])}))))},onFocus:function(e){var t=this,n=t.isFocused;if(t.isDisabled)return t.blur(),e&&e.preventDefault(),!1;t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){var r=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),t&&t.focus&&t.focus(),n.isBlurring=!1,n.ignoreFocus=!1,n.trigger("blur")};n.isBlurring=!0,n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,r):r()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,r,i=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),(r=e(t.currentTarget)).hasClass("create")?i.createItem(null,(function(){i.settings.closeAfterSelect&&i.close()})):void 0!==(n=r.attr("data-value"))&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(n),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&i.setActiveOption(i.getOption(n)))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},getTextboxValue:function(){return this.$control_input.val()},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return this.tagType===O&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){z(this,t?[]:["change"],(function(){this.clear(t),this.addItems(e,t)}))},setMaxItems:function(e){0===e&&(e=null),this.settings.maxItems=e,this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),this.refreshState()},setActiveItem:function(t,n){var r,i,o,s,a,l,c,u,d=this;if("single"!==d.settings.mode){if(!(t=e(t)).length)return e(d.$activeItems).removeClass("active"),d.$activeItems=[],void(d.isFocused&&d.showInput());if("mousedown"===(r=n&&n.type.toLowerCase())&&d.isShiftDown&&d.$activeItems.length){for(u=d.$control.children(".active:last"),(s=Array.prototype.indexOf.apply(d.$control[0].childNodes,[u[0]]))>(a=Array.prototype.indexOf.apply(d.$control[0].childNodes,[t[0]]))&&(c=s,s=a,a=c),i=s;i<=a;i++)l=d.$control[0].childNodes[i],-1===d.$activeItems.indexOf(l)&&(e(l).addClass("active"),d.$activeItems.push(l));n.preventDefault()}else"mousedown"===r&&d.isCtrlDown||"keydown"===r&&this.isShiftDown?t.hasClass("active")?(o=d.$activeItems.indexOf(t[0]),d.$activeItems.splice(o,1),t.removeClass("active")):d.$activeItems.push(t.addClass("active")[0]):(e(d.$activeItems).removeClass("active"),d.$activeItems=[t.addClass("active")[0]]);d.hideInput(),this.isFocused||d.focus()}},setActiveOption:function(t,n,r){var i,o,s,a,l,c=this;c.$activeOption&&(c.$activeOption.removeClass("active"),c.trigger("dropdown_item_deactivate",c.$activeOption.attr("data-value"))),c.$activeOption=null,(t=e(t)).length&&(c.$activeOption=t.addClass("active"),c.isOpen&&c.trigger("dropdown_item_activate",c.$activeOption.attr("data-value")),!n&&R(n)||(i=c.$dropdown_content.height(),o=c.$activeOption.outerHeight(!0),n=c.$dropdown_content.scrollTop()||0,a=s=c.$activeOption.offset().top-c.$dropdown_content.offset().top+n,l=s-i+o,s+o>i+n?c.$dropdown_content.stop().animate({scrollTop:l},r?c.settings.scrollDuration:0):s<n&&c.$dropdown_content.stop().animate({scrollTop:a},r?c.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:0}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;return e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout((function(){e.ignoreFocus=!1,e.onFocus()}),0)),e},blur:function(e){return this.$control_input[0].blur(),this.onBlur(null,e),this},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting,filter:e.filter}},search:function(t){var n,r,i,o=this,s=o.settings,a=this.getSearchOptions();if(s.score&&"function"!=typeof(i=o.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==o.lastQuery?(s.normalize&&(t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),o.lastQuery=t,r=o.sifter.search(t,e.extend(a,{score:i})),o.currentResults=r):r=e.extend(!0,{},o.currentResults),s.hideSelected)for(n=r.items.length-1;n>=0;n--)-1!==o.items.indexOf(F(r.items[n].id))&&r.items.splice(n,1);return r},refreshOptions:function(t){var r,i,o,s,a,l,c,u,d,f,h,p,m,g,v,y;void 0===t&&(t=!0);var b=this,_=b.$control_input.val().trim(),w=b.search(_),C=b.$dropdown_content,x=b.$activeOption&&F(b.$activeOption.attr("data-value"));for(s=w.items.length,"number"==typeof b.settings.maxOptions&&(s=Math.min(s,b.settings.maxOptions)),a={},l=[],r=0;r<s;r++)for(c=b.options[w.items[r].id],u=b.render("option",c),d=c[b.settings.optgroupField]||"",i=0,o=(f=Array.isArray(d)?d:[d])&&f.length;i<o;i++)d=f[i],b.optgroups.hasOwnProperty(d)||(d=""),a.hasOwnProperty(d)||(a[d]=document.createDocumentFragment(),l.push(d)),a[d].appendChild(u);for(this.settings.lockOptgroupOrder&&l.sort((function(e,t){return(b.optgroups[e]&&b.optgroups[e].$order||0)-(b.optgroups[t]&&b.optgroups[t].$order||0)})),h=document.createDocumentFragment(),r=0,s=l.length;r<s;r++)d=l[r],b.optgroups.hasOwnProperty(d)&&a[d].childNodes.length?((p=document.createDocumentFragment()).appendChild(b.render("optgroup_header",b.optgroups[d])),p.appendChild(a[d]),h.appendChild(b.render("optgroup",e.extend({},b.optgroups[d],{html:q(p),dom:p})))):h.appendChild(a[d]);if(C.html(h),b.settings.highlight&&(C.removeHighlight(),w.query.length&&w.tokens.length))for(r=0,s=w.tokens.length;r<s;r++)n(C,w.tokens[r].regex);if(!b.settings.hideSelected)for(b.$dropdown.find(".selected").removeClass("selected"),r=0,s=b.items.length;r<s;r++)b.getOption(b.items[r]).addClass("selected");(m=b.canCreate(_))&&b.settings.showAddOptionOnCreate&&(C.prepend(b.render("option_create",{input:_})),y=e(C[0].childNodes[0])),b.hasOptions=w.items.length>0||m&&b.settings.showAddOptionOnCreate||b.settings.setFirstOptionActive,b.hasOptions?(w.items.length>0?(v=x&&b.getOption(x),""!==w.query&&b.settings.setFirstOptionActive?g=C.find("[data-selectable]:first"):""!==w.query&&v&&v.length?g=v:"single"===b.settings.mode&&b.items.length&&(g=b.getOption(b.items[0])),g&&g.length||(g=y&&!b.settings.addPrecedence?b.getAdjacentOption(y,1):C.find("[data-selectable]:first"))):g=y,b.setActiveOption(g),t&&!b.isOpen&&b.open()):(b.setActiveOption(null),t&&b.isOpen&&b.close())},addOption:function(e){var t,n,r,i=this;if(Array.isArray(e))for(t=0,n=e.length;t<n;t++)i.addOption(e[t]);else(r=i.registerOption(e))&&(i.userOptions[r]=!0,i.lastQuery=null,i.trigger("option_add",r,e))},registerOption:function(e){var t=F(e[this.settings.valueField]);return null!=t&&!this.options.hasOwnProperty(t)&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=F(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,n){var r,i,o,s,a,l,c,u=this;if(t=F(t),o=F(n[u.settings.valueField]),null!==t&&u.options.hasOwnProperty(t)){if("string"!=typeof o)throw new Error("Value must be set in option data");c=u.options[t].$order,o!==t&&(delete u.options[t],-1!==(s=u.items.indexOf(t))&&u.items.splice(s,1,o)),n.$order=n.$order||c,u.options[o]=n,a=u.renderCache.item,l=u.renderCache.option,a&&(delete a[t],delete a[o]),l&&(delete l[t],delete l[o]),-1!==u.items.indexOf(o)&&(r=u.getItem(t),i=e(u.render("item",n)),r.hasClass("active")&&i.addClass("active"),r.replaceWith(i)),u.lastQuery=null,u.isOpen&&u.refreshOptions(!1)}},removeOption:function(e,t){var n=this;e=F(e);var r=n.renderCache.item,i=n.renderCache.option;r&&delete r[e],i&&delete i[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},clearOptions:function(t){var n=this;n.loadedSearches={},n.userOptions={},n.renderCache={};var r=n.options;e.each(n.options,(function(e){-1==n.items.indexOf(e)&&delete r[e]})),n.options=n.sifter.items=r,n.lastQuery=null,n.trigger("option_clear"),n.clear(t)},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getFirstOption:function(){var t=this.$dropdown.find("[data-selectable]");return t.length>0?t.eq(0):e()},getAdjacentOption:function(t,n){var r=this.$dropdown.find("[data-selectable]"),i=r.index(t)+n;return i>=0&&i<r.length?r.eq(i):e()},getElementWithValue:function(t,n){if(null!=(t=F(t)))for(var r=0,i=n.length;r<i;r++)if(n[r].getAttribute("data-value")===t)return e(n[r]);return e()},getElementWithTextContent:function(t,n,r){if(null!=(t=F(t)))for(var i=0,o=r.length;i<o;i++){var s=r[i].textContent;if(1==n&&(s=null!==s?s.toLowerCase():null,t=t.toLowerCase()),s===t)return e(r[i])}return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},getFirstItemMatchedByTextContent:function(e,t){return t=null!==t&&!0===t,this.getElementWithTextContent(e,t,this.$dropdown_content.find("[data-selectable]"))},addItems:function(e,t){this.buffer=document.createDocumentFragment();for(var n=this.$control[0].childNodes,r=0;r<n.length;r++)this.buffer.appendChild(n[r]);for(var i=Array.isArray(e)?e:[e],o=(r=0,i.length);r<o;r++)this.isPending=r<o-1,this.addItem(i[r],t);var s=this.$control[0];s.insertBefore(this.buffer,s.firstChild),this.buffer=null},addItem:function(t,n){z(this,n?[]:["change"],(function(){var r,i,o,s,a,l=this,c=l.settings.mode;t=F(t),-1===l.items.indexOf(t)?l.options.hasOwnProperty(t)&&("single"===c&&l.clear(n),"multi"===c&&l.isFull()||(r=e(l.render("item",l.options[t])),a=l.isFull(),l.items.splice(l.caretPos,0,t),l.insertAtCaret(r),(!l.isPending||!a&&l.isFull())&&l.refreshState(),l.isSetup&&(o=l.$dropdown_content.find("[data-selectable]"),l.isPending||(i=l.getOption(t),s=l.getAdjacentOption(i,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==c),s&&l.setActiveOption(l.getOption(s))),!o.length||l.isFull()?l.close():l.isPending||l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",t,r),l.isPending||l.updateOriginalInput({silent:n})))):"single"===c&&l.close()}))},removeItem:function(t,n){var r,i,o,s=this;r=t instanceof e?t:s.getItem(t),t=F(r.attr("data-value")),-1!==(i=s.items.indexOf(t))&&(s.trigger("item_before_remove",t,r),r.remove(),r.hasClass("active")&&(o=s.$activeItems.indexOf(r[0]),s.$activeItems.splice(o,1)),s.items.splice(i,1),s.lastQuery=null,!s.settings.persist&&s.userOptions.hasOwnProperty(t)&&s.removeOption(t,n),i<s.caretPos&&s.setCaret(s.caretPos-1),s.refreshState(),s.updatePlaceholder(),s.updateOriginalInput({silent:n}),s.positionDropdown(),s.trigger("item_remove",t,r))},createItem:function(e,t){var n=this,r=n.caretPos;e=e||(n.$control_input.val()||"").trim();var i=arguments[arguments.length-1];if("function"!=typeof i&&(i=function(){}),"boolean"!=typeof t&&(t=!0),!n.canCreate(e))return i(),!1;n.lock();var o="function"==typeof n.settings.create?this.settings.create:function(e){var t={};t[n.settings.labelField]=e;var r=e;if(n.settings.formatValueToKey&&"function"==typeof n.settings.formatValueToKey&&(null==(r=n.settings.formatValueToKey.apply(this,[r]))||"object"==typeof r||"function"==typeof r))throw new Error('Selectize "formatValueToKey" setting must be a function that returns a value other than object or function.');return t[n.settings.valueField]=r,t},s=I((function(e){if(n.unlock(),!e||"object"!=typeof e)return i();var o=F(e[n.settings.valueField]);if("string"!=typeof o)return i();n.setTextboxValue(""),n.addOption(e),n.setCaret(r),n.addItem(o),n.refreshOptions(t&&"single"!==n.settings.mode),i(e)})),a=o.apply(this,[e,s]);return void 0!==a&&s(a),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var e=!this.items.length;this.isInvalid=e,this.$control_input.prop("required",e),this.$input.prop("required",!e)},refreshClasses:function(){var t=this,n=t.isFull(),r=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",r).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!n&&!r)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,r,i,o=this;if(e=e||{},o.tagType===O){for(r=[],t=0,n=o.items.length;t<n;t++)i=o.options[o.items[t]][o.settings.labelField]||"",r.push('<option value="'+L(o.items[t])+'" selected="selected">'+L(i)+"</option>");r.length||this.$input.attr("multiple")||r.push('<option value="" selected="selected"></option>'),o.$input.html(r.join(""))}else o.$input.val(o.getValue()),o.$input.attr("value",o.$input.val());o.isSetup&&(e.silent||o.trigger("change",o.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||e.$control_input.is(":invalid")||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.setupDropdownHeight(),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&(e.hideInput(),e.isBlurring&&e.$control_input[0].blur()),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0);var n=e[0].getBoundingClientRect().width;this.settings.minWidth&&this.settings.minWidth>n&&(n=this.settings.minWidth),this.$dropdown.css({width:n,top:t.top,left:t.left})},setupDropdownHeight:function(){if("object"==typeof this.settings.dropdownSize&&"auto"!==this.settings.dropdownSize.sizeType){var t=this.settings.dropdownSize.sizeValue;if("numberItems"===this.settings.dropdownSize.sizeType){var n=this.$dropdown_content.children(),r=0;n.each((function(n,i){if(n===t)return!1;r+=e(i).outerHeight(!0)}));var i=this.$dropdown_content.css("padding-top")?this.$dropdown_content.css("padding-top").replace(/\W*(\w)\w*/g,"$1"):0;t=r-i+"px"}this.$dropdown_content.css({height:t,maxHeight:"none"})}},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(e){var t=Math.min(this.caretPos,this.items.length),n=e[0],r=this.buffer||this.$control[0];0===t?r.insertBefore(n,r.firstChild):r.insertBefore(n,r.childNodes[t]),this.setCaret(t+1)},deleteSelection:function(t){var n,r,i,o,s,a,l,c,u,d=this;if(i=t&&t.keyCode===S?-1:1,o=U(d.$control_input[0]),d.$activeOption&&!d.settings.hideSelected&&(l="string"==typeof d.settings.deselectBehavior&&"top"===d.settings.deselectBehavior?d.getFirstOption().attr("data-value"):d.getAdjacentOption(d.$activeOption,-1).attr("data-value")),s=[],d.$activeItems.length){for(u=d.$control.children(".active:"+(i>0?"last":"first")),a=d.$control.children(":not(input)").index(u),i>0&&a++,n=0,r=d.$activeItems.length;n<r;n++)s.push(e(d.$activeItems[n]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(d.isFocused||"single"===d.settings.mode)&&d.items.length&&(i<0&&0===o.start&&0===o.length?s.push(d.items[d.caretPos-1]):i>0&&o.start===d.$control_input.val().length&&s.push(d.items[d.caretPos]));if(!s.length||"function"==typeof d.settings.onDelete&&!1===d.settings.onDelete.apply(d,[s]))return!1;for(void 0!==a&&d.setCaret(a);s.length;)d.removeItem(s.pop());return d.showInput(),d.positionDropdown(),d.refreshOptions(!0),l&&(c=d.getOption(l)).length&&d.setActiveOption(c),!0},advanceSelection:function(e,t){var n,r,i,o,s,a=this;0!==e&&(a.rtl&&(e*=-1),n=e>0?"last":"first",r=U(a.$control_input[0]),a.isFocused&&!a.isInputHidden?(o=a.$control_input.val().length,(e<0?0===r.start&&0===r.length:r.start===o)&&!o&&a.advanceCaret(e,t)):(s=a.$control.children(".active:"+n)).length&&(i=a.$control.children(":not(input)").index(s),a.setActiveItem(null),a.setCaret(e>0?i+1:i)))},advanceCaret:function(e,t){var n,r,i=this;0!==e&&(n=e>0?"next":"prev",i.isShiftDown?(r=i.$control_input[n]()).length&&(i.hideInput(),i.setActiveItem(r),t&&t.preventDefault()):i.setCaret(i.caretPos+e))},setCaret:function(t){var n,r,i,o,s=this;if(t="single"===s.settings.mode?s.items.length:Math.max(0,Math.min(s.items.length,t)),!s.isPending)for(n=0,r=(i=s.$control.children(":not(input)")).length;n<r;n++)o=e(i[n]).detach(),n<t?s.$control_input.before(o):s.$control.append(o);s.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,n=t.eventNS,r=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(r.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:r.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),0==--V.count&&V.$testInput&&(V.$testInput.remove(),V.$testInput=void 0),e(window).off(n),e(document).off(n),e(document.body).off(n),delete t.$input[0].selectize},render:function(t,n){var r,i,o="",s=!1,a=this;return"option"!==t&&"item"!==t||(s=!!(r=F(n[a.settings.valueField]))),s&&(R(a.renderCache[t])||(a.renderCache[t]={}),a.renderCache[t].hasOwnProperty(r))?a.renderCache[t][r]:(o=e(a.settings.render[t].apply(this,[n,L])),"option"===t||"option_create"===t?n[a.settings.disabledField]||o.attr("data-selectable",""):"optgroup"===t&&(i=n[a.settings.optgroupValueField]||"",o.attr("data-group",i),n[a.settings.disabledField]&&o.attr("data-disabled","")),"option"!==t&&"item"!==t||o.attr("data-value",r||""),s&&(a.renderCache[t][r]=o[0]),o[0])},clearCache:function(e){var t=this;void 0===e?t.renderCache={}:delete t.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var n=t.settings.createFilter;return e.length&&("function"!=typeof n||n.apply(t,[e]))&&("string"!=typeof n||new RegExp(n).test(e))&&(!(n instanceof RegExp)||n.test(e))}}),V.count=0,V.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,showAddOptionOnCreate:!0,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!0,preload:!1,allowEmptyOption:!1,showEmptyOptionInDropdown:!1,emptyOptionLabel:"--",setFirstOptionActive:!1,closeAfterSelect:!1,closeDropdownThreshold:250,scrollDuration:60,deselectBehavior:"previous",loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,dropdownSize:{sizeType:"auto",sizeValue:"auto"},normalize:!1,render:{}},e.fn.selectize=function(t){
var n=e.fn.selectize.defaults,r=e.extend({},n,t),i=r.dataAttr,o=r.labelField,s=r.valueField,a=r.disabledField,l=r.optgroupField,c=r.optgroupLabelField,u=r.optgroupValueField,d=function(t,n){var a,l,c,u,d=t.attr(i);if(d)for(n.options=JSON.parse(d),a=0,l=n.options.length;a<l;a++)n.items.push(n.options[a][s]);else{var f=e.trim(t.val()||"");if(!r.allowEmptyOption&&!f.length)return;for(a=0,l=(c=f.split(r.delimiter)).length;a<l;a++)(u={})[o]=c[a],u[s]=c[a],n.options.push(u);n.items=c}},f=function(t,n){var d,f,h,p,m=n.options,g={},v=function(e){var t=i&&e.attr(i);return"string"==typeof t&&t.length?JSON.parse(t):null},y=function(t,i){t=e(t);var c=F(t.val());if(c||r.allowEmptyOption)if(g.hasOwnProperty(c)){if(i){var u=g[c][l];u?e.isArray(u)?u.push(i):g[c][l]=[u,i]:g[c][l]=i}}else{var d=v(t)||{};d[o]=d[o]||t.text(),d[s]=d[s]||c,d[a]=d[a]||t.prop("disabled"),d[l]=d[l]||i,g[c]=d,m.push(d),t.is(":selected")&&n.items.push(c)}},b=function(t){var r,i,o,s,l;for((o=(t=e(t)).attr("label"))&&((s=v(t)||{})[c]=o,s[u]=o,s[a]=t.prop("disabled"),n.optgroups.push(s)),r=0,i=(l=e("option",t)).length;r<i;r++)y(l[r],o)};for(n.maxItems=t.attr("multiple")?null:1,d=0,f=(p=t.children()).length;d<f;d++)"optgroup"===(h=p[d].tagName.toLowerCase())?b(p[d]):"option"===h&&y(p[d])};return this.each((function(){if(!this.selectize){var i=e(this),o=this.tagName.toLowerCase(),s=i.attr("placeholder")||i.attr("data-placeholder");if(s||r.allowEmptyOption||(s=i.children('option[value=""]').text()),r.allowEmptyOption&&r.showEmptyOptionInDropdown&&!i.children('option[value=""]').length){var a=i.html();i.html('<option value="">'+r.emptyOptionLabel+"</option>"+a)}var l={placeholder:s,options:[],optgroups:[],items:[]};"select"===o?f(i,l):d(i,l),new V(i,e.extend(!0,{},n,l,t)).settings_user=t}}))},e.fn.selectize.defaults=V.defaults,e.fn.selectize.support={validity:M},V.define("auto_position",(function(){const e={top:"top",bottom:"bottom"};this.positionDropdown=function(){const t=this.$control,n="body"===this.settings.dropdownParent?t.offset():t.position();n.top+=t.outerHeight(!0);const r=this.$dropdown.prop("scrollHeight")+5,i=this.$control.get(0).getBoundingClientRect().top+r+this.$wrapper.height()>window.innerHeight?e.top:e.bottom,o={width:t.outerWidth(),left:n.left};i===e.top?(Object.assign(o,{bottom:n.top,top:"unset",margin:"0 0 5px 0"}),this.$dropdown.addClass("selectize-position-top")):(Object.assign(o,{top:n.top,bottom:"unset",margin:"5px 0 0 0"}),this.$dropdown.removeClass("selectize-position-top")),this.$dropdown.css(o)}})),V.define("auto_select_on_type",(function(){var e,t=this;t.onBlur=(e=t.onBlur,function(n){var r=t.getFirstItemMatchedByTextContent(t.lastValue,!0);return void 0!==r.attr("data-value")&&t.getValue()!==r.attr("data-value")&&t.setValue(r.attr("data-value")),e.apply(this,arguments)})})),V.define("autofill_disable",(function(){var e,t=this;t.setup=(e=t.setup,function(){e.apply(t,arguments),t.$control_input.attr({autocomplete:"new-password",autofill:"no"})})})),V.define("clear_button",(function(t){var n,r=this;t=e.extend({title:"Clear",className:"clear",label:"\xd7",html:function(e){return'<a class="'+e.className+'" title="'+e.title+'"> '+e.label+"</a>"}},t),r.setup=(n=r.setup,function(){n.apply(r,arguments),r.$button_clear=e(t.html(t)),"single"===r.settings.mode&&r.$wrapper.addClass("single"),r.$wrapper.append(r.$button_clear),""!==r.getValue()&&0!==r.getValue().length||r.$wrapper.find("."+t.className).css("display","none"),r.on("change",(function(){""!==r.getValue()||0===r.getValue().length?r.$wrapper.find("."+t.className).css("display",""):r.$wrapper.find("."+t.className).css("display","none")})),r.$wrapper.on("click","."+t.className,(function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),r.isLocked||(r.clear(),r.$wrapper.find("."+t.className).css("display","none"))}))})})),V.define("drag_drop",(function(){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var t,n=this;n.lock=(t=n.lock,function(){var e=n.$control.data("sortable");return e&&e.disable(),t.apply(n,arguments)}),n.unlock=function(){var e=n.unlock;return function(){var t=n.$control.data("sortable");return t&&t.enable(),e.apply(n,arguments)}}(),n.setup=function(){var t=n.setup;return function(){t.apply(this,arguments);var r=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),r.addClass("dragging")},stop:function(){r.removeClass("dragging");var t=n.$activeItems?n.$activeItems.slice():null,i=[];r.children("[data-value]").each((function(){i.push(e(this).attr("data-value"))})),n.isFocused=!1,n.setValue(i),n.isFocused=!0,n.setActiveItem(t),n.positionDropdown()}})}}()}})),V.define("dropdown_header",(function(t){var n,r=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&#xd7;</a></div></div>'}},t),r.setup=(n=r.setup,function(){n.apply(r,arguments),r.$dropdown_header=e(t.html(t)),r.$dropdown.prepend(r.$dropdown_header)})})),V.define("optgroup_columns",(function(t){var n,r=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,n){var r=t.closest("[data-group]").find("[data-selectable]"),i=r.index(t)+n;return i>=0&&i<r.length?r.eq(i):e()},this.onKeyDown=(n=r.onKeyDown,function(e){var t,i,o,s;return!this.isOpen||e.keyCode!==b&&e.keyCode!==C?n.apply(this,arguments):(r.ignoreHover=!0,t=(s=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((i=(o=(s=e.keyCode===b?s.prev("[data-group]"):s.next("[data-group]")).find("[data-selectable]")).eq(Math.min(o.length-1,t))).length&&this.setActiveOption(i)))});var i=function(){var e,t=i.width,n=document;return void 0===t&&((e=n.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=i.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t},o=function(){var n,o,s,a,l,c,u;if((o=(u=e("[data-group]",r.$dropdown_content)).length)&&r.$dropdown_content.width()){if(t.equalizeHeight){for(s=0,n=0;n<o;n++)s=Math.max(s,u.eq(n).height());u.css({height:s})}t.equalizeWidth&&(c=r.$dropdown_content.innerWidth()-i(),a=Math.round(c/o),u.css({width:a}),o>1&&(l=c-a*(o-1),u.eq(o-1).css({width:l})))}};(t.equalizeHeight||t.equalizeWidth)&&(P.after(this,"positionDropdown",o),P.after(this,"refreshOptions",o))})),V.define("remove_button",(function(t){t=e.extend({label:"&#xd7;",title:"Remove",className:"remove",append:!0},t);var n=function(t,n){n.className="remove-single";var r,i=t,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+L(n.title)+'">'+n.label+"</a>",s=function(t,n){return e("<span>").append(t).append(n)};t.setup=(r=i.setup,function(){if(n.append){var a=e(i.$input.context).attr("id"),l=(e("#"+a),i.settings.render.item);i.settings.render.item=function(e){return s(l.apply(t,arguments),o)}}r.apply(t,arguments),t.$control.on("click","."+n.className,(function(e){e.preventDefault(),i.isLocked||i.clear()}))})},r=function(t,n){var r,i=t,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+L(n.title)+'">'+n.label+"</a>",s=function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)};t.setup=(r=i.setup,function(){if(n.append){var a=i.settings.render.item;i.settings.render.item=function(e){return s(a.apply(t,arguments),o)}}r.apply(t,arguments),t.$control.on("click","."+n.className,(function(t){if(t.preventDefault(),!i.isLocked){var n=e(t.currentTarget).parent();return i.setActiveItem(n),i.deleteSelection()&&i.setCaret(i.items.length),!1}}))})};"single"!==this.settings.mode?r(this,t):n(this,t)})),V.define("restore_on_backspace",(function(e){var t,n=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(t=n.onKeyDown,function(n){var r,i;return n.keyCode===S&&""===this.$control_input.val()&&!this.$activeItems.length&&(r=this.caretPos-1)>=0&&r<this.items.length?(i=this.options[this.items[r]],this.deleteSelection(n)&&(this.setTextboxValue(e.text.apply(this,[i])),this.refreshOptions(!0)),void n.preventDefault()):t.apply(this,arguments)})})),V.define("select_on_focus",(function(){var e,t,n=this;n.on("focus",(e=n.onFocus,function(t){var r=n.getItem(n.getValue()).text();return n.clear(),n.setTextboxValue(r),n.$control_input.select(),setTimeout((function(){n.settings.selectOnTab&&n.setActiveOption(n.getFirstItemMatchedByTextContent(r)),n.settings.score=null}),0),e.apply(this,arguments)})),n.onBlur=(t=n.onBlur,function(e){return""===n.getValue()&&n.lastValidValue!==n.getValue()&&n.setValue(n.lastValidValue),setTimeout((function(){n.settings.score=function(){return function(){return 1}}}),0),t.apply(this,arguments)}),n.settings.score=function(){return function(){return 1}}})),V.define("tag_limit",(function(t){const n=this;t.tagLimit=t.tagLimit,this.onBlur=function(){const r=n.onBlur;return function(n){if(r.apply(this,n),!n)return;const i=this.$control,o=i.find(".item"),s=t.tagLimit;void 0===s||o.length<=s||(o.toArray().forEach((function(t,n){n<s||e(t).hide()})),i.append("<span><b>"+(o.length-s)+"</b></span>"))}}(),this.onFocus=function(){const e=n.onFocus;return function(t){if(e.apply(this,t),!t)return;const n=this.$control;n.find(".item").show(),n.find("span").remove()}}()})),V})),function(e){"use strict";function t(e,t){e.className+=" "+t}function n(e,t){for(var n=t.split(" "),r=0;r<n.length;r+=1)e.className=e.className.replace(" "+n[r],"")}function r(){return"rtl"===e.getComputedStyle(document.body).direction}function i(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop}function o(){return document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft}function s(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function a(e,t){return function(){if(arguments.length>0){for(var n=[],r=0;r<arguments.length;r+=1)n.push(arguments[r]);return n.push(e),t.apply(e,n)}return t.apply(e,[null,e])}}function l(e,t){return{index:e,button:t,cancel:!1}}function c(){function e(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function t(e){var t=r[e].dialog;return t&&"function"==typeof t.__init&&t.__init(t),t}function n(t,n,i,o){var s={dialog:null,factory:n};return void 0!==o&&(s.factory=function(){return e(new r[o].factory,new n)}),i||(s.dialog=e(new s.factory,g)),r[t]=s}var r={};return{defaults:d,dialog:function(r,i,o,s){if("function"!=typeof i)return t(r);if(this.hasOwnProperty(r))throw new Error("alertify.dialog: name already exists");var a=n(r,i,o,s);this[r]=o?function(){if(0===arguments.length)return a.dialog;var t=e(new a.factory,g);return t&&"function"==typeof t.__init&&t.__init(t),t.main.apply(t,arguments),t.show.apply(t)}:function(){if(a.dialog&&"function"==typeof a.dialog.__init&&a.dialog.__init(a.dialog),0===arguments.length)return a.dialog;var e=a.dialog;return e.main.apply(a.dialog,arguments),e.show.apply(a.dialog)}},closeAll:function(e){for(var t=f.slice(0),n=0;n<t.length;n+=1){var r=t[n];(void 0===e||e!==r)&&r.close()}},setting:function(e,n,r){if("notifier"===e)return v.setting(n,r);var i=t(e);return i?i.setting(n,r):void 0},set:function(e,t,n){return this.setting(e,t,n)},get:function(e,t){return this.setting(e,t)},notify:function(e,t,n,r){return v.create(t,r).push(e,n)},message:function(e,t,n){return v.create(null,n).push(e,t)},success:function(e,t,n){return v.create("success",n).push(e,t)},error:function(e,t,n){return v.create("error",n).push(e,t)},warning:function(e,t,n){return v.create("warning",n).push(e,t)},dismissAll:function(){v.dismissAll()}}}var u={ENTER:13,ESC:27,F1:112,F12:123,LEFT:37,RIGHT:39},d={modal:!0,basic:!1,frameless:!1,movable:!0,resizable:!0,closable:!0,closableByDimmer:!0,maximizable:!0,startMaximized:!1,pinnable:!0,pinned:!0,padding:!0,overflow:!0,maintainFocus:!0,transition:"pulse",autoReset:!0,notifier:{delay:5,position:"bottom-right"},glossary:{title:"AlertifyJS",ok:"OK",cancel:"Cancel",acccpt:"Accept",deny:"Deny",confirm:"Confirm",decline:"Decline",close:"Close",maximize:"Maximize",restore:"Restore"},theme:{input:"ajs-input",ok:"ajs-ok",cancel:"ajs-cancel"}},f=[],h=document.addEventListener?function(e,t,n,r){e.addEventListener(t,n,!0===r)}:document.attachEvent?function(e,t,n){e.attachEvent("on"+t,n)}:void 0,p=document.removeEventListener?function(e,t,n,r){e.removeEventListener(t,n,!0===r)}:document.detachEvent?function(e,t,n){e.detachEvent("on"+t,n)}:void 0,m=function(){var e,t,n=!1,r={animation:"animationend",OAnimation:"oAnimationEnd oanimationend",msAnimation:"MSAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in r)if(void 0!==document.documentElement.style[e]){t=r[e],n=!0;break}return{type:t,supported:n}}(),g=function(){function c(e){if(!e.__internal){var n;delete e.__init,null===_e&&document.body.setAttribute("tabindex","0"),"function"==typeof e.setup?((n=e.setup()).options=n.options||{},n.focus=n.focus||{}):n={buttons:[],focus:{element:null,select:!1},options:{}},"object"!=typeof e.hooks&&(e.hooks={});var r=[];if(Array.isArray(n.buttons))for(var i=0;i<n.buttons.length;i+=1){var o=n.buttons[i],s={};for(var l in o)o.hasOwnProperty(l)&&(s[l]=o[l]);r.push(s)}var c=e.__internal={isOpen:!1,activeElement:document.body,timerIn:void 0,timerOut:void 0,buttons:r,focus:n.focus,options:{title:void 0,modal:void 0,basic:void 0,frameless:void 0,pinned:void 0,movable:void 0,resizable:void 0,autoReset:void 0,closable:void 0,closableByDimmer:void 0,maximizable:void 0,startMaximized:void 0,pinnable:void 0,transition:void 0,padding:void 0,overflow:void 0,onshow:void 0,onclose:void 0,onfocus:void 0},resetHandler:void 0,beginMoveHandler:void 0,beginResizeHandler:void 0,bringToFrontHandler:void 0,modalClickHandler:void 0,buttonsClickHandler:void 0,commandsClickHandler:void 0,transitionInHandler:void 0,transitionOutHandler:void 0},u={};u.root=document.createElement("div"),u.root.className=xe.base+" "+xe.hidden+" ",u.root.innerHTML=Ce.dimmer+Ce.modal,u.dimmer=u.root.firstChild,u.modal=u.root.lastChild,u.modal.innerHTML=Ce.dialog,u.dialog=u.modal.firstChild,u.dialog.innerHTML=Ce.reset+Ce.commands+Ce.header+Ce.body+Ce.footer+Ce.resizeHandle+Ce.reset,u.reset=[],u.reset.push(u.dialog.firstChild),u.reset.push(u.dialog.lastChild),u.commands={},u.commands.container=u.reset[0].nextSibling,u.commands.pin=u.commands.container.firstChild,u.commands.maximize=u.commands.pin.nextSibling,u.commands.close=u.commands.maximize.nextSibling,u.header=u.commands.container.nextSibling,u.body=u.header.nextSibling,u.body.innerHTML=Ce.content,u.content=u.body.firstChild,u.footer=u.body.nextSibling,u.footer.innerHTML=Ce.buttons.auxiliary+Ce.buttons.primary,u.resizeHandle=u.footer.nextSibling,u.buttons={},u.buttons.auxiliary=u.footer.firstChild,u.buttons.primary=u.buttons.auxiliary.nextSibling,u.buttons.primary.innerHTML=Ce.button,u.buttonTemplate=u.buttons.primary.firstChild,u.buttons.primary.removeChild(u.buttonTemplate);for(var d=0;d<e.__internal.buttons.length;d+=1){var f=e.__internal.buttons[d];for(var h in be.indexOf(f.key)<0&&be.push(f.key),f.element=u.buttonTemplate.cloneNode(),f.element.innerHTML=f.text,"string"==typeof f.className&&""!==f.className&&t(f.element,f.className),f.attrs)"className"!==h&&f.attrs.hasOwnProperty(h)&&f.element.setAttribute(h,f.attrs[h]);"auxiliary"===f.scope?u.buttons.auxiliary.appendChild(f.element):u.buttons.primary.appendChild(f.element)}e.elements=u,c.resetHandler=a(e,K),c.beginMoveHandler=a(e,J),c.beginResizeHandler=a(e,te),c.bringToFrontHandler=a(e,x),c.modalClickHandler=a(e,$),c.buttonsClickHandler=a(e,B),c.commandsClickHandler=a(e,D),c.transitionInHandler=a(e,q),c.transitionOutHandler=a(e,V),e.set("title",void 0===n.options.title?y.defaults.glossary.title:n.options.title),e.set("modal",void 0===n.options.modal?y.defaults.modal:n.options.modal),e.set("basic",void 0===n.options.basic?y.defaults.basic:n.options.basic),e.set("frameless",void 0===n.options.frameless?y.defaults.frameless:n.options.frameless),e.set("movable",void 0===n.options.movable?y.defaults.movable:n.options.movable),e.set("resizable",void 0===n.options.resizable?y.defaults.resizable:n.options.resizable),e.set("autoReset",void 0===n.options.autoReset?y.defaults.autoReset:n.options.autoReset),e.set("closable",void 0===n.options.closable?y.defaults.closable:n.options.closable),e.set("closableByDimmer",void 0===n.options.closableByDimmer?y.defaults.closableByDimmer:n.options.closableByDimmer),e.set("maximizable",void 0===n.options.maximizable?y.defaults.maximizable:n.options.maximizable),e.set("startMaximized",void 0===n.options.startMaximized?y.defaults.startMaximized:n.options.startMaximized),e.set("pinnable",void 0===n.options.pinnable?y.defaults.pinnable:n.options.pinnable),e.set("pinned",void 0===n.options.pinned?y.defaults.pinned:n.options.pinned),e.set("transition",void 0===n.options.transition?y.defaults.transition:n.options.transition),e.set("padding",void 0===n.options.padding?y.defaults.padding:n.options.padding),e.set("overflow",void 0===n.options.overflow?y.defaults.overflow:n.options.overflow),"function"==typeof e.build&&e.build()}document.body.appendChild(e.elements.root)}function d(){ve=e.scrollX,ye=e.scrollY}function g(){e.scrollTo(ve,ye)}function v(){for(var e=0,r=0;r<f.length;r+=1){var i=f[r];(i.isModal()||i.isMaximized())&&(e+=1)}0===e?n(document.body,xe.noOverflow):e>0&&document.body.className.indexOf(xe.noOverflow)<0&&t(document.body,xe.noOverflow)}function b(e,r,i){"string"==typeof i&&n(e.elements.root,xe.prefix+i),t(e.elements.root,xe.prefix+r),_e=e.elements.root.offsetWidth}function _(e){e.get("modal")?(n(e.elements.root,xe.modeless),e.isOpen()&&(ue(e),F(e),v())):(t(e.elements.root,xe.modeless),e.isOpen()&&(ce(e),F(e),v()))}function w(e){e.get("basic")?t(e.elements.root,xe.basic):n(e.elements.root,xe.basic)}function C(e){e.get("frameless")?t(e.elements.root,xe.frameless):n(e.elements.root,xe.frameless)}function x(e,t){for(var n=f.indexOf(t)+1;n<f.length;n+=1)if(f[n].isModal())return;return document.body.lastChild!==t.elements.root&&(document.body.appendChild(t.elements.root),f.splice(f.indexOf(t),1),f.push(t),W(t)),!1}function E(e,r,i,o){switch(r){case"title":e.setHeader(o);break;case"modal":_(e);break;case"basic":w(e);break;case"frameless":C(e);break;case"pinned":L(e);break;case"closable":I(e);break;case"maximizable":P(e);break;case"pinnable":j(e);break;case"movable":Z(e);break;case"resizable":oe(e);break;case"transition":case"transition":b(e,o,i);break;case"padding":o?n(e.elements.root,xe.noPadding):e.elements.root.className.indexOf(xe.noPadding)<0&&t(e.elements.root,xe.noPadding);break;case"overflow":o?n(e.elements.root,xe.noOverflow):e.elements.root.className.indexOf(xe.noOverflow)<0&&t(e.elements.root,xe.noOverflow)}"function"==typeof e.hooks.onupdate&&e.hooks.onupdate.call(e,r,i,o)}function S(e,t,n,r,i){var o,s={op:void 0,items:[]};if(void 0===i&&"string"==typeof r)s.op="get",t.hasOwnProperty(r)?(s.found=!0,s.value=t[r]):(s.found=!1,s.value=void 0);else if(s.op="set","object"==typeof r){var a=r;for(var l in a)t.hasOwnProperty(l)?(t[l]!==a[l]&&(o=t[l],t[l]=a[l],n.call(e,l,o,a[l])),s.items.push({key:l,value:a[l],found:!0})):s.items.push({key:l,value:a[l],found:!1})}else{if("string"!=typeof r)throw new Error("args must be a string or object");t.hasOwnProperty(r)?(t[r]!==i&&(o=t[r],t[r]=i,n.call(e,r,o,i)),s.items.push({key:r,value:i,found:!0})):s.items.push({key:r,value:i,found:!1})}return s}function k(e){var t;z(e,(function(e){return t=!0===e.invokeOnClose})),!t&&e.isOpen()&&e.close()}function D(e,t){switch(e.srcElement||e.target){case t.elements.commands.pin:t.isPinned()?A(t):T(t);break;case t.elements.commands.maximize:t.isMaximized()?O(t):N(t);break;case t.elements.commands.close:k(t)}return!1}function T(e){e.set("pinned",!0)}function A(e){e.set("pinned",!1)}function N(e){t(e.elements.root,xe.maximized),e.isOpen()&&v()}function O(e){n(e.elements.root,xe.maximized),e.isOpen()&&v()}function j(e){e.get("pinnable")?t(e.elements.root,xe.pinnable):n(e.elements.root,xe.pinnable)}function M(e){var t=o();e.elements.modal.style.marginTop=i()+"px",e.elements.modal.style.marginLeft=t+"px",e.elements.modal.style.marginRight=-t+"px"}function R(e){var t=parseInt(e.elements.modal.style.marginTop,10),n=parseInt(e.elements.modal.style.marginLeft,10);if(e.elements.modal.style.marginTop="",e.elements.modal.style.marginLeft="",e.elements.modal.style.marginRight="",e.isOpen()){var r=0,s=0;""!==e.elements.dialog.style.top&&(r=parseInt(e.elements.dialog.style.top,10)),e.elements.dialog.style.top=r+(t-i())+"px",""!==e.elements.dialog.style.left&&(s=parseInt(e.elements.dialog.style.left,10)),e.elements.dialog.style.left=s+(n-o())+"px"}}function F(e){e.get("modal")||e.get("pinned")?R(e):M(e)}function L(e){e.get("pinned")?(n(e.elements.root,xe.unpinned),e.isOpen()&&R(e)):(t(e.elements.root,xe.unpinned),e.isOpen()&&!e.isModal()&&M(e))}function P(e){e.get("maximizable")?t(e.elements.root,xe.maximizable):n(e.elements.root,xe.maximizable)}function I(e){e.get("closable")?(t(e.elements.root,xe.closable),me(e)):(n(e.elements.root,xe.closable),ge(e))}function $(e,t){var n=e.srcElement||e.target;return Ee||n!==t.elements.modal||!0!==t.get("closableByDimmer")||k(t),Ee=!1,!1}function z(e,t){for(var n=0;n<e.__internal.buttons.length;n+=1){var r=e.__internal.buttons[n];if(!r.element.disabled&&t(r)){var i=l(n,r);"function"==typeof e.callback&&e.callback.apply(e,[i]),!1===i.cancel&&e.close();break}}}function B(e,t){var n=e.srcElement||e.target;z(t,(function(e){return e.element===n&&(Se=!0)}))}function U(e){if(!Se){var t=f[f.length-1],n=e.keyCode;return 0===t.__internal.buttons.length&&n===u.ESC&&!0===t.get("closable")?(k(t),!1):be.indexOf(n)>-1?(z(t,(function(e){return e.key===n})),!1):void 0}Se=!1}function H(e){var t=f[f.length-1],n=e.keyCode;if(n===u.LEFT||n===u.RIGHT){for(var r=t.__internal.buttons,i=0;i<r.length;i+=1)if(document.activeElement===r[i].element)switch(n){case u.LEFT:return void r[(i||r.length)-1].element.focus();case u.RIGHT:return void r[(i+1)%r.length].element.focus()}}else if(n<u.F12+1&&n>u.F1-1&&be.indexOf(n)>-1)return e.preventDefault(),e.stopPropagation(),z(t,(function(e){return e.key===n})),!1}function W(e,t){if(t)t.focus();else{var n=e.__internal.focus,r=n.element;switch(typeof n.element){case"number":e.__internal.buttons.length>n.element&&(r=!0===e.get("basic")?e.elements.reset[0]:e.__internal.buttons[n.element].element);break;case"string":r=e.elements.body.querySelector(n.element);break;case"function":r=n.element.call(e)}null!=r||0!==e.__internal.buttons.length||(r=e.elements.reset[0]),r&&r.focus&&(r.focus(),n.select&&r.select&&r.select())}}function K(e,t){if(!t)for(var n=f.length-1;n>-1;n-=1)if(f[n].isModal()){t=f[n];break}if(t&&t.isModal()){var r,i=e.srcElement||e.target,o=i===t.elements.reset[1]||0===t.__internal.buttons.length&&i===document.body;o&&(t.get("maximizable")?r=t.elements.commands.maximize:t.get("closable")&&(r=t.elements.commands.close)),void 0===r&&("number"==typeof t.__internal.focus.element?i===t.elements.reset[0]?r=t.elements.buttons.auxiliary.firstChild||t.elements.buttons.primary.firstChild:o&&(r=t.elements.reset[0]):i===t.elements.reset[0]&&(r=t.elements.buttons.primary.lastChild||t.elements.buttons.auxiliary.lastChild)),W(t,r)}}function q(e,t){clearTimeout(t.__internal.timerIn),W(t),g(),Se=!1,"function"==typeof t.get("onfocus")&&t.get("onfocus").call(t),p(t.elements.dialog,m.type,t.__internal.transitionInHandler),n(t.elements.root,xe.animationIn)}function V(e,t){clearTimeout(t.__internal.timerOut),p(t.elements.dialog,m.type,t.__internal.transitionOutHandler),Q(t),ie(t),t.isMaximized()&&!t.get("startMaximized")&&O(t),y.defaults.maintainFocus&&t.__internal.activeElement&&(t.__internal.activeElement.focus(),t.__internal.activeElement=null)}function Y(e,t){t.style.left=e[Ae]-De+"px",t.style.top=e[Ne]-Te+"px"}function J(e,n){var r;if(null===Oe&&!n.isMaximized()&&n.get("movable")&&("touchstart"===e.type?(e.preventDefault(),r=e.targetTouches[0],Ae="clientX",Ne="clientY"):0===e.button&&(r=e),r)){ke=n,De=r[Ae],Te=r[Ne];var i=n.elements.dialog;return t(i,xe.capture),i.style.left&&(De-=parseInt(i.style.left,10)),i.style.top&&(Te-=parseInt(i.style.top,10)),Y(r,i),t(document.body,xe.noSelection),!1}}function G(e){var t;ke&&("touchmove"===e.type?(e.preventDefault(),t=e.targetTouches[0]):0===e.button&&(t=e),t&&Y(t,ke.elements.dialog))}function X(){if(ke){var e=ke.elements.dialog;ke=null,n(document.body,xe.noSelection),n(e,xe.capture)}}function Q(e){ke=null;var t=e.elements.dialog;t.style.left=t.style.top=""}function Z(e){e.get("movable")?(t(e.elements.root,xe.movable),e.isOpen()&&de(e)):(Q(e),n(e.elements.root,xe.movable),e.isOpen()&&fe(e))}function ee(e,t,n){var i,o,s=t,a=0,l=0;do{a+=s.offsetLeft,l+=s.offsetTop}while(s=s.offsetParent);!0===n?(i=e.pageX,o=e.pageY):(i=e.clientX,o=e.clientY);var c=r();if(c&&(i=document.body.offsetWidth-i,isNaN(je)||(a=document.body.offsetWidth-a-t.offsetWidth)),t.style.height=o-l+Fe+"px",t.style.width=i-a+Fe+"px",!isNaN(je)){var u=.5*Math.abs(t.offsetWidth-Me);c&&(u*=-1),t.offsetWidth>Me?t.style.left=je+u+"px":t.offsetWidth>=Re&&(t.style.left=je-u+"px")}}function te(e,n){var r;if(!n.isMaximized()&&("touchstart"===e.type?(e.preventDefault(),r=e.targetTouches[0]):0===e.button&&(r=e),r)){Oe=n,Fe=n.elements.resizeHandle.offsetHeight/2;var i=n.elements.dialog;return t(i,xe.capture),je=parseInt(i.style.left,10),i.style.height=i.offsetHeight+"px",i.style.minHeight=n.elements.header.offsetHeight+n.elements.footer.offsetHeight+"px",i.style.width=(Me=i.offsetWidth)+"px","none"!==i.style.maxWidth&&(i.style.minWidth=(Re=i.offsetWidth)+"px"),i.style.maxWidth="none",t(document.body,xe.noSelection),!1}}function ne(e){var t;Oe&&("touchmove"===e.type?(e.preventDefault(),t=e.targetTouches[0]):0===e.button&&(t=e),t&&ee(t,Oe.elements.dialog,!Oe.get("modal")&&!Oe.get("pinned")))}function re(){if(Oe){var e=Oe.elements.dialog;Oe=null,n(document.body,xe.noSelection),n(e,xe.capture),Ee=!0}}function ie(e){Oe=null;var t=e.elements.dialog;"none"===t.style.maxWidth&&(t.style.maxWidth=t.style.minWidth=t.style.width=t.style.height=t.style.minHeight=t.style.left="",je=Number.Nan,Me=Re=Fe=0)}function oe(e){e.get("resizable")?(t(e.elements.root,xe.resizable),e.isOpen()&&he(e)):(ie(e),n(e.elements.root,xe.resizable),e.isOpen()&&pe(e))}function se(){for(var e=0;e<f.length;e+=1){var t=f[e];t.get("autoReset")&&(Q(t),ie(t))}}function ae(t){1===f.length&&(h(e,"resize",se),h(document.body,"keyup",U),h(document.body,"keydown",H),h(document.body,"focus",K),h(document.documentElement,"mousemove",G),h(document.documentElement,"touchmove",G),h(document.documentElement,"mouseup",X),h(document.documentElement,"touchend",X),h(document.documentElement,"mousemove",ne),h(document.documentElement,"touchmove",ne),h(document.documentElement,"mouseup",re),h(document.documentElement,"touchend",re)),h(t.elements.commands.container,"click",t.__internal.commandsClickHandler),h(t.elements.footer,"click",t.__internal.buttonsClickHandler),h(t.elements.reset[0],"focus",t.__internal.resetHandler),h(t.elements.reset[1],"focus",t.__internal.resetHandler),Se=!0,h(t.elements.dialog,m.type,t.__internal.transitionInHandler),t.get("modal")||ce(t),t.get("resizable")&&he(t),t.get("movable")&&de(t)}function le(t){1===f.length&&(p(e,"resize",se),p(document.body,"keyup",U),p(document.body,"keydown",H),p(document.body,"focus",K),p(document.documentElement,"mousemove",G),p(document.documentElement,"mouseup",X),p(document.documentElement,"mousemove",ne),p(document.documentElement,"mouseup",re)),p(t.elements.commands.container,"click",t.__internal.commandsClickHandler),p(t.elements.footer,"click",t.__internal.buttonsClickHandler),p(t.elements.reset[0],"focus",t.__internal.resetHandler),p(t.elements.reset[1],"focus",t.__internal.resetHandler),h(t.elements.dialog,m.type,t.__internal.transitionOutHandler),t.get("modal")||ue(t),t.get("movable")&&fe(t),t.get("resizable")&&pe(t)}function ce(e){h(e.elements.dialog,"focus",e.__internal.bringToFrontHandler,!0)}function ue(e){p(e.elements.dialog,"focus",e.__internal.bringToFrontHandler,!0)}function de(e){h(e.elements.header,"mousedown",e.__internal.beginMoveHandler),h(e.elements.header,"touchstart",e.__internal.beginMoveHandler)}function fe(e){p(e.elements.header,"mousedown",e.__internal.beginMoveHandler),p(e.elements.header,"touchstart",e.__internal.beginMoveHandler)}function he(e){h(e.elements.resizeHandle,"mousedown",e.__internal.beginResizeHandler),h(e.elements.resizeHandle,"touchstart",e.__internal.beginResizeHandler)}function pe(e){p(e.elements.resizeHandle,"mousedown",e.__internal.beginResizeHandler),p(e.elements.resizeHandle,"touchstart",e.__internal.beginResizeHandler)}function me(e){h(e.elements.modal,"click",e.__internal.modalClickHandler)}function ge(e){p(e.elements.modal,"click",e.__internal.modalClickHandler)}var ve,ye,be=[],_e=null,we=e.navigator.userAgent.indexOf("Safari")>-1&&e.navigator.userAgent.indexOf("Chrome")<0,Ce={dimmer:'<div class="ajs-dimmer"></div>',modal:'<div class="ajs-modal" tabindex="0"></div>',dialog:'<div class="ajs-dialog" tabindex="0"></div>',reset:'<button class="ajs-reset"></button>',commands:'<div class="ajs-commands"><button class="ajs-pin"></button><button class="ajs-maximize"></button><button class="ajs-close"></button></div>',header:'<div class="ajs-header"></div>',body:'<div class="ajs-body"></div>',content:'<div class="ajs-content"></div>',footer:'<div class="ajs-footer"></div>',buttons:{primary:'<div class="ajs-primary ajs-buttons"></div>',auxiliary:'<div class="ajs-auxiliary ajs-buttons"></div>'},button:'<button class="ajs-button"></button>',resizeHandle:'<div class="ajs-handle"></div>'},xe={base:"alertify",prefix:"ajs-",hidden:"ajs-hidden",noSelection:"ajs-no-selection",noOverflow:"ajs-no-overflow",noPadding:"ajs-no-padding",modeless:"ajs-modeless",movable:"ajs-movable",resizable:"ajs-resizable",capture:"ajs-capture",fixed:"ajs-fixed",closable:"ajs-closable",maximizable:"ajs-maximizable",maximize:"ajs-maximize",restore:"ajs-restore",pinnable:"ajs-pinnable",unpinned:"ajs-unpinned",pin:"ajs-pin",maximized:"ajs-maximized",animationIn:"ajs-in",animationOut:"ajs-out",shake:"ajs-shake",basic:"ajs-basic",frameless:"ajs-frameless"},Ee=!1,Se=!1,ke=null,De=0,Te=0,Ae="pageX",Ne="pageY",Oe=null,je=Number.Nan,Me=0,Re=0,Fe=0;return{__init:c,isOpen:function(){return this.__internal.isOpen},isModal:function(){return this.elements.root.className.indexOf(xe.modeless)<0},isMaximized:function(){return this.elements.root.className.indexOf(xe.maximized)>-1},isPinned:function(){return this.elements.root.className.indexOf(xe.unpinned)<0},maximize:function(){return this.isMaximized()||N(this),this},restore:function(){return this.isMaximized()&&O(this),this},pin:function(){return this.isPinned()||T(this),this},unpin:function(){return this.isPinned()&&A(this),this},moveTo:function(e,t){if(!isNaN(e)&&!isNaN(t)){var n=this.elements.dialog,i=n,o=0,s=0;n.style.left&&(o-=parseInt(n.style.left,10)),n.style.top&&(s-=parseInt(n.style.top,10));do{o+=i.offsetLeft,s+=i.offsetTop}while(i=i.offsetParent);var a=e-o,l=t-s;r()&&(a*=-1),n.style.left=a+"px",n.style.top=l+"px"}return this},resizeTo:function(e,t){var n=parseFloat(e),r=parseFloat(t),i=/(\d*\.\d+|\d+)%/;if(!isNaN(n)&&!isNaN(r)&&!0===this.get("resizable")){(""+e).match(i)&&(n=n/100*document.documentElement.clientWidth),(""+t).match(i)&&(r=r/100*document.documentElement.clientHeight);var o=this.elements.dialog;"none"!==o.style.maxWidth&&(o.style.minWidth=(Re=o.offsetWidth)+"px"),o.style.maxWidth="none",o.style.minHeight=this.elements.header.offsetHeight+this.elements.footer.offsetHeight+"px",o.style.width=n+"px",o.style.height=r+"px"}return this},setting:function(e,t){var n=this,r=S(this,this.__internal.options,(function(e,t,r){E(n,e,t,r)}),e,t);if("get"===r.op)return r.found?r.value:void 0!==this.settings?S(this,this.settings,this.settingUpdated||function(){},e,t).value:void 0;if("set"===r.op){if(r.items.length>0)for(var i=this.settingUpdated||function(){},o=0;o<r.items.length;o+=1){var s=r.items[o];s.found||void 0===this.settings||S(this,this.settings,i,s.key,s.value)}return this}},set:function(e,t){return this.setting(e,t),this},get:function(e){return this.setting(e)},setHeader:function(t){return"string"==typeof t?(s(this.elements.header),
this.elements.header.innerHTML=t):t instanceof e.HTMLElement&&this.elements.header.firstChild!==t&&(s(this.elements.header),this.elements.header.appendChild(t)),this},setContent:function(t){return"string"==typeof t?(s(this.elements.content),this.elements.content.innerHTML=t):t instanceof e.HTMLElement&&this.elements.content.firstChild!==t&&(s(this.elements.content),this.elements.content.appendChild(t)),this},showModal:function(e){return this.show(!0,e)},show:function(e,r){if(c(this),this.__internal.isOpen){Q(this),ie(this),t(this.elements.dialog,xe.shake);var i=this;setTimeout((function(){n(i.elements.dialog,xe.shake)}),200)}else{if(this.__internal.isOpen=!0,f.push(this),y.defaults.maintainFocus&&(this.__internal.activeElement=document.activeElement),"function"==typeof this.prepare&&this.prepare(),ae(this),void 0!==e&&this.set("modal",e),d(),v(),"string"==typeof r&&""!==r&&(this.__internal.className=r,t(this.elements.root,r)),this.get("startMaximized")?this.maximize():this.isMaximized()&&O(this),F(this),n(this.elements.root,xe.animationOut),t(this.elements.root,xe.animationIn),clearTimeout(this.__internal.timerIn),this.__internal.timerIn=setTimeout(this.__internal.transitionInHandler,m.supported?1e3:100),we){var o=this.elements.root;o.style.display="none",setTimeout((function(){o.style.display="block"}),0)}_e=this.elements.root.offsetWidth,n(this.elements.root,xe.hidden),"function"==typeof this.hooks.onshow&&this.hooks.onshow.call(this),"function"==typeof this.get("onshow")&&this.get("onshow").call(this)}return this},close:function(){return this.__internal.isOpen&&(le(this),n(this.elements.root,xe.animationIn),t(this.elements.root,xe.animationOut),clearTimeout(this.__internal.timerOut),this.__internal.timerOut=setTimeout(this.__internal.transitionOutHandler,m.supported?1e3:100),t(this.elements.root,xe.hidden),_e=this.elements.modal.offsetWidth,void 0!==this.__internal.className&&""!==this.__internal.className&&n(this.elements.root,this.__internal.className),"function"==typeof this.hooks.onclose&&this.hooks.onclose.call(this),"function"==typeof this.get("onclose")&&this.get("onclose").call(this),f.splice(f.indexOf(this),1),this.__internal.isOpen=!1,v()),this},closeOthers:function(){return y.closeAll(this),this}}}(),v=function(){function r(e){e.__internal||(e.__internal={position:y.defaults.notifier.position,delay:y.defaults.notifier.delay},u=document.createElement("DIV"),l(e)),u.parentNode!==document.body&&document.body.appendChild(u)}function i(e){e.__internal.pushed=!0,d.push(e)}function o(e){d.splice(d.indexOf(e),1),e.__internal.pushed=!1}function l(e){switch(u.className=f.base,e.__internal.position){case"top-right":t(u,f.top+" "+f.right);break;case"top-left":t(u,f.top+" "+f.left);break;case"bottom-left":t(u,f.bottom+" "+f.left);break;default:t(u,f.bottom+" "+f.right)}}function c(r,l){function c(e,t){t.dismiss(!0)}function d(e,t){p(t.element,m.type,d),u.removeChild(t.element)}function g(e){return e.__internal||(e.__internal={pushed:!1,delay:void 0,timer:void 0,clickHandler:void 0,transitionEndHandler:void 0,transitionTimeout:void 0},e.__internal.clickHandler=a(e,c),e.__internal.transitionEndHandler=a(e,d)),e}function y(e){clearTimeout(e.__internal.timer),clearTimeout(e.__internal.transitionTimeout)}return g({element:r,push:function(e,n){if(!this.__internal.pushed){var r,o;switch(i(this),y(this),arguments.length){case 0:o=this.__internal.delay;break;case 1:"number"==typeof e?o=e:(r=e,o=this.__internal.delay);break;case 2:r=e,o=n}return void 0!==r&&this.setContent(r),v.__internal.position.indexOf("top")<0?u.appendChild(this.element):u.insertBefore(this.element,u.firstChild),this.element.offsetWidth,t(this.element,f.visible),h(this.element,"click",this.__internal.clickHandler),this.delay(o)}return this},ondismiss:function(){},callback:l,dismiss:function(e){return this.__internal.pushed&&(y(this),("function"!=typeof this.ondismiss||!1!==this.ondismiss.call(this))&&(p(this.element,"click",this.__internal.clickHandler),void 0!==this.element&&this.element.parentNode===u&&(this.__internal.transitionTimeout=setTimeout(this.__internal.transitionEndHandler,m.supported?1e3:100),n(this.element,f.visible),"function"==typeof this.callback&&this.callback.call(this,e)),o(this))),this},delay:function(e){if(y(this),this.__internal.delay=void 0===e||isNaN(+e)?v.__internal.delay:+e,this.__internal.delay>0){var t=this;this.__internal.timer=setTimeout((function(){t.dismiss()}),1e3*this.__internal.delay)}return this},setContent:function(t){return"string"==typeof t?(s(this.element),this.element.innerHTML=t):t instanceof e.HTMLElement&&this.element.firstChild!==t&&(s(this.element),this.element.appendChild(t)),this},dismissOthers:function(){return v.dismissAll(this),this}})}var u,d=[],f={base:"alertify-notifier",message:"ajs-message",top:"ajs-top",right:"ajs-right",bottom:"ajs-bottom",left:"ajs-left",visible:"ajs-visible",hidden:"ajs-hidden"};return{setting:function(e,t){if(r(this),void 0===t)return this.__internal[e];switch(e){case"position":this.__internal.position=t,l(this);break;case"delay":this.__internal.delay=t}return this},set:function(e,t){return this.setting(e,t),this},get:function(e){return this.setting(e)},create:function(e,t){r(this);var n=document.createElement("div");return n.className=f.message+("string"==typeof e&&""!==e?" ajs-"+e:""),c(n,t)},dismissAll:function(e){for(var t=d.slice(0),n=0;n<t.length;n+=1){var r=t[n];(void 0===e||e!==r)&&r.dismiss()}}}}(),y=new c;y.dialog("alert",(function(){return{main:function(e,t,n){var r,i,o;switch(arguments.length){case 1:i=e;break;case 2:"function"==typeof t?(i=e,o=t):(r=e,i=t);break;case 3:r=e,i=t,o=n}return this.set("title",r),this.set("message",i),this.set("onok",o),this},setup:function(){return{buttons:[{text:y.defaults.glossary.ok,key:u.ESC,invokeOnClose:!0,className:y.defaults.theme.ok}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(e){this.setContent(e)},settings:{message:void 0,onok:void 0,label:void 0},settingUpdated:function(e,t,n){switch(e){case"message":this.setMessage(n);break;case"label":this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=n)}},callback:function(e){if("function"==typeof this.get("onok")){var t=this.get("onok").call(this,e);void 0!==t&&(e.cancel=!t)}}}})),y.dialog("confirm",(function(){function e(e){null!==n.timer&&(clearInterval(n.timer),n.timer=null,e.__internal.buttons[n.index].element.innerHTML=n.text)}function t(t,r,i){e(t),n.duration=i,n.index=r,n.text=t.__internal.buttons[r].element.innerHTML,n.timer=setInterval(a(t,n.task),1e3),n.task(null,t)}var n={timer:null,index:null,text:null,duratuin:null,task:function(t,r){if(r.isOpen()){if(r.__internal.buttons[n.index].element.innerHTML=n.text+" (&#8207;"+n.duration+"&#8207;) ",n.duration-=1,-1===n.duration){e(r);var i=r.__internal.buttons[n.index],o=l(n.index,i);"function"==typeof r.callback&&r.callback.apply(r,[o]),!1!==o.close&&r.close()}}else e(r)}};return{main:function(e,t,n,r){var i,o,s,a;switch(arguments.length){case 1:o=e;break;case 2:o=e,s=t;break;case 3:o=e,s=t,a=n;break;case 4:i=e,o=t,s=n,a=r}return this.set("title",i),this.set("message",o),this.set("onok",s),this.set("oncancel",a),this},setup:function(){return{buttons:[{text:y.defaults.glossary.ok,key:u.ENTER,className:y.defaults.theme.ok},{text:y.defaults.glossary.cancel,key:u.ESC,invokeOnClose:!0,className:y.defaults.theme.cancel}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(e){this.setContent(e)},settings:{message:null,labels:null,onok:null,oncancel:null,defaultFocus:null,reverseButtons:null},settingUpdated:function(e,t,n){switch(e){case"message":this.setMessage(n);break;case"labels":"ok"in n&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].text=n.ok,this.__internal.buttons[0].element.innerHTML=n.ok),"cancel"in n&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].text=n.cancel,this.__internal.buttons[1].element.innerHTML=n.cancel);break;case"reverseButtons":this.elements.buttons.primary.appendChild(!0===n?this.__internal.buttons[0].element:this.__internal.buttons[1].element);break;case"defaultFocus":this.__internal.focus.element="ok"===n?0:1}},callback:function(t){var n;switch(e(this),t.index){case 0:"function"==typeof this.get("onok")&&(void 0!==(n=this.get("onok").call(this,t))&&(t.cancel=!n));break;case 1:"function"==typeof this.get("oncancel")&&(void 0!==(n=this.get("oncancel").call(this,t))&&(t.cancel=!n))}},autoOk:function(e){return t(this,0,e),this},autoCancel:function(e){return t(this,1,e),this}}})),y.dialog("prompt",(function(){var t=document.createElement("INPUT"),n=document.createElement("P");return{main:function(e,t,n,r,i){var o,s,a,l,c;switch(arguments.length){case 1:s=e;break;case 2:s=e,a=t;break;case 3:s=e,a=t,l=n;break;case 4:s=e,a=t,l=n,c=r;break;case 5:o=e,s=t,a=n,l=r,c=i}return this.set("title",o),this.set("message",s),this.set("value",a),this.set("onok",l),this.set("oncancel",c),this},setup:function(){return{buttons:[{text:y.defaults.glossary.ok,key:u.ENTER,className:y.defaults.theme.ok},{text:y.defaults.glossary.cancel,key:u.ESC,invokeOnClose:!0,className:y.defaults.theme.cancel}],focus:{element:t,select:!0},options:{maximizable:!1,resizable:!1}}},build:function(){t.className=y.defaults.theme.input,t.setAttribute("type","text"),t.value=this.get("value"),this.elements.content.appendChild(n),this.elements.content.appendChild(t)},prepare:function(){},setMessage:function(t){"string"==typeof t?(s(n),n.innerHTML=t):t instanceof e.HTMLElement&&n.firstChild!==t&&(s(n),n.appendChild(t))},settings:{message:void 0,labels:void 0,onok:void 0,oncancel:void 0,value:"",type:"text",reverseButtons:void 0},settingUpdated:function(e,n,r){switch(e){case"message":this.setMessage(r);break;case"value":t.value=r;break;case"type":switch(r){case"text":case"color":case"date":case"datetime-local":case"email":case"month":case"number":case"password":case"search":case"tel":case"time":case"week":t.type=r;break;default:t.type="text"}break;case"labels":r.ok&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=r.ok),r.cancel&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].element.innerHTML=r.cancel);break;case"reverseButtons":this.elements.buttons.primary.appendChild(!0===r?this.__internal.buttons[0].element:this.__internal.buttons[1].element)}},callback:function(e){var n;switch(e.index){case 0:this.value=t.value,"function"==typeof this.get("onok")&&(void 0!==(n=this.get("onok").call(this,e,this.value))&&(e.cancel=!n));break;case 1:"function"==typeof this.get("oncancel")&&(void 0!==(n=this.get("oncancel").call(this,e))&&(e.cancel=!n))}}}})),"object"==typeof module&&"object"==typeof module.exports?module.exports=y:"function"==typeof define&&define.amd?define([],(function(){return y})):e.alertify||(e.alertify=y)}("undefined"!=typeof window?window:this);var alertsControl=function(){function e(e,t){alertify.alert(t).setting("title",e),$(".ajs-modal").attr("style","")}function t(){$(".ajs-modal").attr("style","")}function n(){alertify.defaults={glossary:{title:"\u0625\u0634\u0639\u0627\u0631",ok:"\u0645\u0648\u0627\u0641\u0642",cancel:"\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u0623\u0645\u0631"},theme:{input:"ajs-input",ok:"ajs-ok",cancel:"ajs-cancel"}}}return{set_alertify_defaults:n,show:e,clear_style:t}}(),Filter=function(){function e(e){p={append:e.append,replace:e.replace,data:e.data,load_more_data:e.load_more_data,url_query:e.url_query,filter_url:e.filter_url||u,load_more_url:e.load_more_url||d,on_loading:e.on_loading,on_not_loading:e.on_not_loading},m={load_more_btn_id:e.load_more_btn_id||"#load_more_content"},t(),n(),o(),s(),a(),l()}function t(){$(".filters-list .filter").change((function(){$("#back").removeClass("js-filter-sidebar-button");var e=$(this).closest(".filters-list").find("input:checkbox:checked").length,t=$(this).closest(".filters-list").find("input:radio:checked").length,n=$(this).closest(".card-body").prev(".card-header").find(".reset-filter");e>0||t>0?n.removeClass("hidden"):n.addClass("hidden"),i()})),$("#base-price-slider").length>0&&$("#base-price-slider")[0].noUiSlider.on("change",(function(){$("#back").removeClass("js-filter-sidebar-button");var e=$("#base-price-slider").closest(".card-body").prev(".card-header").find(".reset-filter"),t=$("#base-price-slider")[0].noUiSlider.get()[0],n=$("#base-price-slider")[0].noUiSlider.get()[1];$("#base-price-slider").closest(".card-body").find(".noUi-tooltip-lower").html(t),$("#base-price-slider").closest(".card-body").find(".noUi-tooltip-upper").html(n),5==Number(t)&&50==Number(n)?e.addClass("hidden"):e.removeClass("hidden"),i()}))}function n(){$(".filter-sort a.filter").click((function(){$(".filter-sort a.filter").removeClass("active"),$(".filter-sort .dropdown-button .text").html($(this).html()),$(this).addClass("active"),i()}))}function r(){t(),o(),s(),a(),l()}function i(){$.ajax({url:p.filter_url(),method:"GET",dataType:"json",data:p.data(),beforeSend:function(){p.on_loading()}}).done((function(e){p.replace(e),c()})).fail((function(e,t,n){f(e,t,n)})).always((function(){p.on_not_loading()}))}function o(){$(m.load_more_btn_id).click((function(e){e.preventDefault(),disable_btn($(m.load_more_btn_id)),$.ajax({url:p.load_more_url(),method:"POST",dataType:"json",data:p.load_more_data()}).done((function(e){p.append(e)})).fail((function(e,t,n){f(e,t,n)})).always((function(){enable_btn($(m.load_more_btn_id))}))}))}function s(){$(".js-show-more").click((function(e){e.preventDefault();var t=$(this);t.hasClass("opened")?(t.parents("ul").removeClass("revealed"),t.text("\u0627\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),t.removeClass("opened")):(t.parents("ul").addClass("revealed"),t.text("\u0627\u0639\u0631\u0636 \u0623\u0642\u0644"),t.addClass("opened"))}))}function a(){$(".reset-filter").click((function(e){e.preventDefault();var t=$(this).parent().closest(".card").find(".card-body .filters-list");t.find("a.filter").removeClass("is-active"),t.find("input[type=radio].filter").removeAttr("checked"),t.find("input[type=checkbox].filter").prop("checked",!1),"base-price-slider"===t.attr("id")&&(t[0].noUiSlider.set([5,50]),$("#base-price-slider").closest(".card-body").find(".noUi-tooltip-lower").html(5..toFixed(2)),$("#base-price-slider").closest(".card-body").find(".noUi-tooltip-upper").html(50..toFixed(2))),i(),$(this).addClass("hidden")}))}function l(){$(".filters-list a.filter").click((function(e){e.preventDefault();var t=$(this),n="true"==t.attr("data-deselect-others"),r="true"==t.parent().attr("data-clear-filters"),o=""==t.parent().attr("data-sub-filter-id"),s=t.parent().attr("data-filter-id");(r||n)&&o&&$(".filters-list a.filter.is-active").each((function(){$(this).removeClass("is-active"),$(this).parent().find("ul:first").addClass("u-hidden")})),$(".filters-list a.filter.is-active").each((function(){var e=""==$(this).parent().attr("data-sub-filter-id"),t=$(this).parent().attr("data-filter-id");!o&&e&&s==t?$(this).addClass("is-active"):($(this).removeClass("is-active"),$(this).parent().find("ul:first").addClass("u-hidden"))})),t.addClass("is-active"),o&&t.parent().find("ul:first").removeClass("u-hidden"),i()}))}function c(){var e=p.url_query();0==e.length?history.pushState({},"",window.location.pathname):history.pushState({},"",window.location.pathname+"?"+e)}function u(){return"/ajax"+window.location.pathname}function d(){return"/ajax/load_more/"+window.location.pathname}function f(e,t,n){"timeout"==n?alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0627\u0646\u0642\u0636\u0649 \u0648\u0642\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644"):303==e.status?window.location.href=e.responseText:500==e.status?alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642"):e.responseText?alertsControl.show("\u0625\u0634\u0639\u0627\u0631",e.responseText):alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0639\u0630\u0631\u0627 \u0641\u0634\u0644 \u0627\u0644\u0627\u062a\u0635\u0627\u0644\u060c \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629.")}function h(){var e=$(".filter-sort a.filter.active").first();return e.length?e.data("sort"):void 0}var p={},m={};return{init:e,get_sort:h,rewatch:r,watch_load_more:o}}(),ordersFilter=function(){function e(){$("#orders_table").length&&Filter.init({append:t,replace:n,data:r,load_more_data:i,url_query:c,on_loading:s,on_not_loading:a})}function t(e){$("#orders_table tbody").append(e.content),e.count<25?$("#more_content").parent().hide():$("#more_content").parent().show()}function n(e){$("#orders_table tbody").html(e.content),e.count<25?$("#more_content").parent().hide():$("#more_content").parent().show()}function r(){return{"status[]":l(),sort:Filter.get_sort()}}function i(){return{"status[]":l(),"not_ids[]":o(),sort:Filter.get_sort()}}function o(){var e=[];return $("#orders_table .order").each((function(){e.push(this.id.split("-")[1])})),array_unique_values(e)}function s(){$(".filter-loading").removeClass("hidden"),$("#orders-card").addClass("hidden")}function a(){$(".filter-loading").addClass("hidden"),$("#orders-card").removeClass("hidden")}function l(){var e=[];return $(".filters-list input:checkbox[name=status]:checked").each((function(){e.push($(this).val())})),e}function c(){return $.param(r())}return{init:e}}(),messagesFilter=function(){function e(){$("#messages_table").length&&Filter.init({append:t,replace:n,data:r,load_more_data:i,url_query:c,on_loading:s,on_not_loading:a})}function t(e){$("#messages_table tbody").append(e.content),e.has_more?$("#more_content").parent().show():$("#more_content").parent().hide()}function n(e){$("#messages_table tbody").html(e.content),e.has_more?$("#more_content").parent().show():$("#more_content").parent().hide()}function r(){return{"dir[]":l(),sort:Filter.get_sort()}}function i(){return{"dir[]":l(),"not_ids[]":o(),sort:Filter.get_sort()}}function o(){var e=[];return $("#messages-card .message").each((function(){e.push(this.id.split("-")[1])})),array_unique_values(e)}function s(){$(".filter-loading").removeClass("hidden"),$("#messages-card").addClass("hidden")}function a(){$(".filter-loading").addClass("hidden"),$("#messages-card").removeClass("hidden")}function l(){var e=[];return $(".filters-list input:checkbox[name=dir]:checked").each((function(){e.push($(this).val())})),e}function c(){return $.param(r())}return{init:e}}(),searchFilter=function(){function e(){$("#services_home").length&&Filter.init({append:t,replace:n,get_not_ids:r,data:s,url_query:w,load_more_data:a,on_loading:i,on_not_loading:o,filter_url:b,load_more_url:_})}function t(e){e&&""!=e.content?($(".services_block_list:first").append(e.content),$("#more_content").show()):$("#more_content").hide()}function n(e){$(".js-page").html(e.content),Filter.watch_load_more()}function r(){var e=[];return $(".services_block_list .service-block").each((function(){e.push(this.id.split("-")[1])})),array_unique_values(e)}function i(){$(".filter-loading").removeClass("hidden"),$("#services_home").addClass("hidden")}function o(){$(".filter-loading").addClass("hidden"),$("#services_home").removeClass("hidden")}function s(){return clean_object({q:l(),c:c(),sc:u(),dt:d(),min_price:g(),max_price:v(),sl:h(),scu:p(),so:m(),siv:y(),sr:f(),sort:Filter.get_sort(),no_keyword:$("#no_keyword").length>0})}function a(){var e=$(".services_block_list .service-block").length/page_size+1;return clean_object(merge_object({page:e=Math.ceil(e)},s()))}function l(){return keyword=$(".keyword-input").val(),(""==keyword||keyword.length<3)&&(keyword=null),keyword}function c(){var e=[];return selected_categories=$(".filters-list").find(".is-active"),selected_categories.each((function(){main_category_id=$(this).parent().attr("data-filter-id"),sub_category_id=$(this).parent().attr("data-sub-filter-id"),""==sub_category_id&&""!=main_category_id&&e.push(main_category_id)})),array_unique_values(e)}function u(){var e=[];return selected_categories=$(".filters-list .c-list--sub").find(".is-active"),selected_categories.each((function(){sub_category_id=$(this).parent().attr("data-sub-filter-id"),""!=sub_category_id&&e.push(sub_category_id)})),array_unique_values(e)}function d(){var e=$(".filters-list input:radio[name=dt]:checked");if(e.length>0)return e.val()}function f(){var e=$(".filters-list input:radio[name=sr]:checked");if(e.length>0)return e.val()}function h(){var e=[];return $(".filters-list input:checkbox[name=sl]:checked").each((function(){e.push($(this).val())})),e.indexOf("seller_level_3")>-1&&e.push("seller_level_4"),array_unique_values(e)}function p(){var e=[];return $(".filters-list input:checkbox[name=scu]:checked").each((function(){e.push($(this).val())})),array_unique_values(e)}function m(){if($(".filters-list input:checkbox[name=so]:checked").length>0)return!0}function g(){return $("#base-price-slider")[0].noUiSlider.get()[0]}function v(){return $("#base-price-slider")[0].noUiSlider.get()[1]}function y(){return $(".filters-list input:checkbox[name=siv]:checked").length>0}function b(){return"/ajax/search"}function _(){return"/ajax/load_more/search/"}function w(){return $.param(s())}return{init:e}}(),paymentsControl=function(){function e(){p(),update_total_price(),i(),d(),c(),$("#pay--total_amount").length&&s()}function t(){success=!0;var e=$("#cc_payment_name").val();return $("#message").addClass("hidden").html(""),""==e?($("#message").removeClass("hidden").html("\u0627\u0644\u0627\u0633\u0645 \u0641\u0627\u0631\u063a\u060c \u0644\u0645 \u062a\u062f\u062e\u0644\u0647 \u0628\u0639\u062f"),$("#cc_payment_name").addClass("error"),$("#cc_payment_name").focus(),success=!1):u(e)&&($("#message").removeClass("hidden").html("\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0630\u064a \u0623\u062f\u062e\u0644\u062a\u0647 \u063a\u064a\u0631 \u0635\u0627\u0644\u062d"),$("#cc_payment_name").addClass("error"),$("#cc_payment_name").focus(),success=!1),success}function n(){window.onbeforeunload=function(){return""},$(".page_header").addClass("offset-md-2"),$("#pay-page").addClass("hidden"),$("#cart-loading-page").removeClass("hidden")}function r(){window.onbeforeunload=function(){}}function i(){$("#cc_payment_form").live("submit",(function(e){e.preventDefault();$(this);var n=$(".saved_credit_card.selected").attr("data-payment-method-id"),i=$("#stripe_customer_id").val(),s=$("#cc_payment_name").val();if(!$("#cc_payment_button").hasClass("disabled"))return n?i&&n?(f(),$("#message").addClass("hidden").html(""),o(i,n),!1):(alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u064a\u0631\u062c\u0649 \u0627\u062e\u062a\u064a\u0627\u0631 \u0628\u0637\u0627\u0642\u0629"),!1):(valid=t(),!!valid&&(f(),stripe.createPaymentMethod("card",cardElement,{billing_details:{name:s}}).then((function(e){if(e.error)r(),$("#pay-message").html(stripe_error_message(e.error.code,e.error.message)),$("#loading-img").addClass("hidden"),h();else{$("#message").addClass("hidden").html("");var t=e.paymentMethod.id;o(i,t)}})),!1))}))}function o(e,t){var r=$("#cc_payment_name").val(),i=$("#user_token").val(),o=$("#cc_cart_order_unique_id").val(),s=$("#save_card").is(":checked"),l="/cart/creditcard/checkout";header_data={token:i,unique_id:o,full_name:r,save_card:s},t&&(header_data.payment_method_id=t),e&&(header_data.stripe_customer_id=e),n(),a(l,header_data,"")}function s(){var e=stripe.paymentRequest({country:"GB",currency:"usd",total:{label:"KHAMSATCOM",amount:parseFloat($("#pay--total_amount").val())},requestPayerName:!0,requestPayerEmail:!1,requestShipping:!1,requestPayerPhone:!1}),t=stripe.elements().create("paymentRequestButton",{paymentRequest:e,style:{paymentRequestButton:{type:"default",theme:"dark"}}});e.canMakePayment().then((function(e){e?(e.applePay&&(document.getElementById("payment_requests").innerHTML='<i class="fa fa-fw fa-apple"></i><span>Apple Pay</span>'),t.mount("#payment-request-button"),document.getElementById("payment-request-button").style.display="block",document.getElementById("payment_requests").classList.remove("force_hidden")):document.getElementById("payment-request-button").style.display="none"})),e.on("paymentmethod",(function(e){var t=$("#cc_cart_order_unique_id").val(),r=$("#user_token").val(),i={unique_id:t,payment_method_id:e.paymentMethod.id,token:r},o="/cart/creditcard/checkout";n(),a(o,i,e.paymentMethod.id)}))}function a(e,t){$.post(e,t,(function(e){"succeeded"==e.payment_status?(r(),$("#pay-message").html("\u062a\u0645\u062a \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062f\u0641\u0639 \u0628\u0646\u062c\u0627\u062d \u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0648\u064a\u0644 \u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0637\u0644\u0628"),window.location=e.redirect_url):"requires_source_action"!=e.payment_status&&"requires_action"!=e.payment_status||l(e,t)}),"json").fail((function(e){r(),$("#pay-message").html(stripe_error_message(e.responseText,e.responseText)),$("#loading-img").addClass("hidden"),h()}))}function l(e){var t="/cart/creditcard/handle_card_action";stripe.confirmCardPayment(e.payment_intent_client_secret).then((function(){$.post(t,e,(function(e){console.log(e),r(),$("#pay-message").html("\u062a\u0645\u062a \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062f\u0641\u0639 \u0628\u0646\u062c\u0627\u062d \u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0648\u064a\u0644 \u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0637\u0644\u0628"),window.location=e.redirect_url}),"json").fail((function(e){r(),$("#pay-message").html(stripe_error_message(e.responseText,e.responseText)),$("#loading-img").addClass("hidden"),h()}))}))}function c(){$("#pay_account_credit").live("click",(function(e){e.preventDefault();var t=$(this);t.hasClass("disabled")||($(this).closest("form").submit(),t.addClass("disabled"))}))}function u(e){return/\d/.test(e)}function d(){$(document).keyup((function(e){$(".remote_image_btn").find("i").hasClass("fa-spinner")||$("a.service_image_u_btn").find("i").hasClass("fa-spinner")||27==e.keyCode&&close_dialog()})),$("#container").on("click",(function(){$(".remote_image_btn").find("i").hasClass("fa-spinner")||$("a.service_image_u_btn").find("i").hasClass("fa-spinner")||close_dialog()})),$("#cc_payment_cancel").live("click",(function(){close_dialog()}))}function f(){$("#cc_payment_button").html('<i class="fa fa-spinner fa-spin"></i> \u062c\u0627\u0631\u064a \u0627\u0644\u062f\u0641\u0639...'),$("#cc_payment_button").addClass("disabled")}function h(){$("#cc_payment_button").html("\u0627\u062f\u0641\u0639 \u0628\u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u0627\u0626\u062a\u0645\u0627\u0646\u064a\u0629"),$("#cc_payment_button").removeClass("disabled")}function p(){$("#card-element").length&&cardElement.mount("#card-element")}return stripe_error_message=function(e,t){var n={invalid_number:"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",incorrect_number:"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",invalid_cvc:"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",incorrect_cvc:"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",expired_card:"\u0628\u0637\u0627\u0642\u0629 \u0645\u0646\u062a\u0647\u064a\u0629\u060c \u064a\u0631\u062c\u0649 \u0645\u0631\u0627\u062c\u0639\u0629 \u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0623\u0648 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0628\u0637\u0627\u0642\u0629 \u0645\u062e\u062a\u0644\u0641\u0629 \u0644\u0644\u062f\u0641\u0639",card_declined:"\u0644\u0644\u0623\u0633\u0641\u060c \u062a\u0645 \u0631\u0641\u0636 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u0627\u0626\u062a\u0645\u0627\u0646\u064a\u0629",exp_month:"\u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u0630\u064a \u0623\u062f\u062e\u0644\u062a\u0647 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",exp_year:"\u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u0630\u064a \u0623\u062f\u062e\u0644\u062a\u0647 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",invalid_expiry_month:"\u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u0630\u064a \u0623\u062f\u062e\u0644\u062a\u0647 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",incomplete_number:"\u0631\u0642\u0645 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0641\u0627\u0631\u063a \u0623\u0648 \u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",incomplete_zip:"\u0643\u0648\u062f zip \u0641\u0627\u0631\u063a \u0623\u0648 \u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",incomplete_expiry:"\u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0641\u0627\u0631\u063a \u0623\u0648 \u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",incomplete_cvc:"\u0643\u0648\u062f CVC \u0641\u0627\u0631\u063a \u0623\u0648 \u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",insufficient_funds:"\u0644\u0627 \u062a\u062d\u062a\u0648\u064a \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0639\u0644\u0649 \u0631\u0635\u064a\u062f \u0643\u0627\u0641\u064a\u060c \u064a\u0631\u062c\u0649 \u0634\u062d\u0646 \u0631\u0635\u064a\u062f \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",card_not_supported:"\u0644\u0644\u0623\u0633\u0641 \u0644\u0645 \u062a\u0646\u062c\u062d \u0627\u0644\u0639\u0645\u0644\u064a\u0629. \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0627 \u062a\u062f\u0639\u0645 \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u0634\u0631\u0627\u0621\u060c \u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0628\u0646\u0643 \u0644\u062d\u0644 \u0627\u0644\u0645\u0634\u0643\u0644\u0629",
currency_not_supported:"\u0644\u0644\u0623\u0633\u0641 \u0644\u0645 \u062a\u0646\u062c\u062d \u0627\u0644\u0639\u0645\u0644\u064a\u0629. \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0627 \u062a\u062f\u0639\u0645 \u0627\u0644\u0639\u0645\u0644\u0629 \u0627\u0644\u062a\u064a \u062a\u062d\u0627\u0648\u0644 \u0627\u0644\u062f\u0641\u0639 \u0628\u0647\u0627\u060c \u064a\u0631\u062c\u0649 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0628\u0637\u0627\u0642\u0629 \u0645\u062e\u062a\u0644\u0641\u0629 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",do_not_honor:"\u0644\u0644\u0623\u0633\u0641 \u0644\u0645 \u062a\u0646\u062c\u062d \u0627\u0644\u0639\u0645\u0644\u064a\u0629. \u062a\u0645 \u0631\u0641\u0636 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0633\u0628\u0628 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0628\u0646\u0643 \u0644\u062d\u0644 \u0627\u0644\u0645\u0634\u0643\u0644\u0629",do_not_try_again:"\u0644\u0644\u0623\u0633\u0641 \u0644\u0645 \u062a\u0646\u062c\u062d \u0627\u0644\u0639\u0645\u0644\u064a\u0629. \u062a\u0645 \u0631\u0641\u0636 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0633\u0628\u0628 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0628\u0646\u0643 \u0644\u062d\u0644 \u0627\u0644\u0645\u0634\u0643\u0644\u0629",generic_decline:"\u0644\u0644\u0623\u0633\u0641 \u0644\u0645 \u062a\u0646\u062c\u062d \u0627\u0644\u0639\u0645\u0644\u064a\u0629. \u062a\u0645 \u0631\u0641\u0636 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0633\u0628\u0628 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0628\u0646\u0643 \u0644\u062d\u0644 \u0627\u0644\u0645\u0634\u0643\u0644\u0629",invalid_card_type:"\u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u063a\u064a\u0631 \u0645\u062f\u0639\u0648\u0645\u0629\u060c \u064a\u0631\u062c\u0649 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0628\u0637\u0627\u0642\u0629 \u0645\u062e\u062a\u0644\u0641\u0629 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",incorrect_zip:"\u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u0628\u0631\u064a\u062f\u064a \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",fraudulent:"\u0644\u0644\u0623\u0633\u0641 \u0644\u0645 \u062a\u0646\u062c\u062d \u0627\u0644\u0639\u0645\u0644\u064a\u0629. \u062a\u0645 \u0631\u0641\u0636 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0633\u0628\u0628 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0628\u0646\u0643 \u0644\u062d\u0644 \u0627\u0644\u0645\u0634\u0643\u0644\u0629",payment_intent_authentication_failure:"\u0644\u0644\u0623\u0633\u0641 \u0644\u0645 \u062a\u0646\u062c\u062d \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u0628\u0637\u0627\u0642\u0629\u060c \u064a\u0631\u062d\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u0627",stolen_card:"\u0644\u0644\u0623\u0633\u0641\u060c \u064a\u0628\u062f\u0648 \u0623\u0646 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u064a \u0623\u062f\u062e\u0644\u062a\u0647\u0627 \u062e\u0627\u0637\u0626\u0629 \u0623\u0648 \u0623\u0646 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0627 \u062a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0631\u0635\u064a\u062f \u0643\u0627\u0641\u064a",processing_error:"\u0641\u0634\u0644\u062a \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062f\u0641\u0639\u060c \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",lost_card:"\u0644\u0644\u0623\u0633\u0641\u060c \u064a\u0628\u062f\u0648 \u0623\u0646 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u064a \u0623\u062f\u062e\u0644\u062a\u0647\u0627 \u062e\u0627\u0637\u0626\u0629 \u0623\u0648 \u0623\u0646 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0627 \u062a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0631\u0635\u064a\u062f \u0643\u0627\u0641\u064a",resource_missing:"\u0644\u0644\u0623\u0633\u0641\u060c \u064a\u0628\u062f\u0648 \u0623\u0646 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u064a \u0623\u062f\u062e\u0644\u062a\u0647\u0627 \u062e\u0627\u0637\u0626\u0629 \u0623\u0648 \u0623\u0646 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0627 \u062a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0631\u0635\u064a\u062f \u0643\u0627\u0641\u064a.",amount_too_large:"\u0642\u064a\u0645\u0629 \u0627\u0644\u0637\u0644\u0628 \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 \u0627\u0644\u0645\u0633\u0645\u0648\u062d \u0628\u0647",amount_too_small:"\u0642\u064a\u0645\u0629 \u0627\u0644\u0637\u0644\u0628 \u0623\u0642\u0644 \u0645\u0646 \u0627\u0644\u062d\u062f \u0627\u0644\u0623\u062f\u0646\u0649 \u0627\u0644\u0645\u0633\u0645\u0648\u062d \u0628\u0647",authentication_required:"\u0644\u0644\u0623\u0633\u0641\u060c \u064a\u0628\u062f\u0648 \u0623\u0646 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u064a \u0623\u062f\u062e\u0644\u062a\u0647\u0627 \u062e\u0627\u0637\u0626\u0629 \u0623\u0648 \u0623\u0646 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0627 \u062a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0631\u0635\u064a\u062f \u0643\u0627\u0641\u064a.",balance_insufficient:"\u062a\u0639\u0630\u0632\u0631 \u0625\u062a\u0645\u0627\u0645 \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062f\u0641\u0639 \u0644\u0639\u062f\u0645 \u0648\u062c\u0648\u062f \u0631\u0635\u064a\u062f \u0643\u0627\u0641\u064a",card_decline_rate_limit_exceeded:"\u0639\u062f\u062f \u0643\u0628\u064a\u0631 \u0645\u0646 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0627\u062a \u0627\u0644\u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629 \u0644\u0644\u062f\u0641\u0639 \u0628\u0627\u0644\u0628\u0637\u0627\u0642\u0629\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u0627",charge_already_captured:"\u0644\u0644\u0623\u0633\u0641\u060c \u064a\u0628\u062f\u0648 \u0623\u0646 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u064a \u0623\u062f\u062e\u0644\u062a\u0647\u0627 \u062e\u0627\u0637\u0626\u0629 \u0623\u0648 \u0623\u0646 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0627 \u062a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0631\u0635\u064a\u062f \u0643\u0627\u0641\u064a.",charge_already_refunded:"\u0644\u0627 \u064a\u0645\u0643\u0646\u0643 \u062a\u0643\u0631\u0627\u0631 \u0625\u0639\u0627\u062f\u0629 \u0646\u0641\u0633 \u0627\u0644\u0645\u0628\u0644\u063a \u0623\u0643\u062b\u0631 \u0645\u0646 \u0645\u0631\u0629",charge_disputed:"\u0644\u0627 \u064a\u0645\u0643\u0646\u0643 \u062a\u0643\u0631\u0627\u0631 \u0625\u0639\u0627\u062f\u0629 \u0646\u0641\u0633 \u0627\u0644\u0645\u0628\u0644\u063a \u0623\u0643\u062b\u0631 \u0645\u0646 \u0645\u0631\u0629",customer_max_payment_methods:"\u0644\u0627 \u064a\u0645\u0643\u0646\u0643 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0632\u064a\u062f \u0645\u0646 \u0648\u0633\u0627\u0626\u0644 \u0627\u0644\u062f\u0641\u0639 \u0644\u062a\u062e\u0637\u064a \u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649",instant_payouts_unsupported:"\u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0627 \u062a\u062f\u0639\u0645 \u0627\u0644\u062f\u0641\u0639\u060c \u064a\u0631\u062c\u0649 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0628\u0637\u0627\u0642\u0629 \u0645\u062e\u062a\u0644\u0641\u0629 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",intent_invalid_state:"\u0644\u0644\u0623\u0633\u0641\u060c \u064a\u0628\u062f\u0648 \u0623\u0646 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u064a \u0623\u062f\u062e\u0644\u062a\u0647\u0627 \u062e\u0627\u0637\u0626\u0629 \u0623\u0648 \u0623\u0646 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0627 \u062a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0631\u0635\u064a\u062f \u0643\u0627\u0641\u064a.",intent_verification_method_missing:"\u0644\u0644\u0623\u0633\u0641\u060c \u064a\u0628\u062f\u0648 \u0623\u0646 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u064a \u0623\u062f\u062e\u0644\u062a\u0647\u0627 \u062e\u0627\u0637\u0626\u0629 \u0623\u0648 \u0623\u0646 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0644\u0627 \u062a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0631\u0635\u064a\u062f \u0643\u0627\u0641\u064a.",invalid_characters:"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",invalid_charge_amount:"\u0642\u064a\u0645\u0629 \u0627\u0644\u0637\u0644\u0628 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u062f\u0639\u0645 \u0627\u0644\u0641\u0646\u064a",invalid_expiry_year:"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629\u060c \u064a\u0631\u062c\u0649 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",payment_method_provider_timeout:"\u0627\u0633\u062a\u063a\u0631\u0642\u062a \u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u0648\u0642\u062a \u0623\u0637\u0648\u0644 \u0645\u0646 \u0627\u0644\u0645\u062a\u0648\u0642\u0639\u060c \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",payment_method_unactivated:"\u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u063a\u064a\u0631 \u0641\u0639\u0627\u0644\u0629\u060c \u064a\u0631\u062c\u0649 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0628\u0637\u0627\u0642\u0629 \u0645\u062e\u062a\u0644\u0641\u0629 \u0648\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",payment_method_unexpected_state:"\u0641\u0634\u0644\u062a \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062f\u0641\u0639\u060c \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629"};return n[e]?n[e]:t},close_dialog=function(){$(".dialog").each((function(){$(this).close_dialog(),$("#show_cc_form").find("i").removeClass("fa-spin fa-fw fa-spinner")}))},{init:e}}(),paypal=function(){function e(){t()}function t(){$("#credit_add_paypal").click((function(e){if($(this).hasClass("ban_buying")){var t=$(this).data("banned-country")||"\u062f\u0648\u0644\u062a\u0643";return alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0634\u062d\u0646 \u0627\u0644\u0631\u0635\u064a\u062f \u063a\u064a\u0631 \u0645\u062a\u0627\u062d \u0641\u064a  "+t),void e.preventDefault()}}))}return{init:e}}(),addToCollectionControl=function(){function e(){t(),r(),i(),o()}function t(){$(".add_to_collection").click((function(e){e.preventDefault(),e.stopPropagation(),$("#add_to_collection_form_wrapper .dialog_content").html('<div class="center"> <i class="fa fa-spinner" fa-spin></i> </div>'),$("#add_to_collection_dialog").show_dialog(),$.getJSON("/ajax/collection/add/"+$("#service_id").val(),(function(e){$("#add_to_collection_form_wrapper .dialog_content").html(e.content)}))})),$("#add_cart_to_collection").click((function(e){e.preventDefault(),e.stopPropagation(),$("#add_to_collection_form_wrapper .dialog_content").html('<div class="center"> <i class="fa fa-spinner" fa-spin></i> </div>'),$("#add_to_collection_dialog").show_dialog(),$.getJSON("/ajax/collection/add/cart/services",(function(e){$("#add_to_collection_form_wrapper .dialog_content").html(e.content)}))})),$("#add_collection_to_cart").live("click",(function(e){e.preventDefault();var t=$("#collection_id").val(),n=$("#user_token").val();alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0625\u0636\u0627\u0641\u0629 \u0645\u062d\u062a\u0648\u0649 \u0647\u0630\u0647 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u0627\u0644\u0649 \u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a\u061f").setting("title","\u062a\u0623\u0643\u064a\u062f \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629").set("onok",(function(){$.ajax({type:"POST",url:"/cart/collection/add/"+t,dataType:"json",data:{token:n}}).done((function(){notificationsUtil.get_notifications(),alertsControl.clear_style();var e="\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u0625\u0644\u0649 \u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a \u0628\u0646\u062c\u0627\u062d.";alertify.confirm(e).setting("title","\u0625\u0634\u0639\u0627\u0631").set("onok",(function(){window.location="/cart"})).set({labels:{ok:"\u0625\u062a\u0645\u0627\u0645 \u0627\u0644\u0634\u0631\u0627\u0621",cancel:"\u062a\u0635\u0641\u062d \u0627\u0644\u0645\u0632\u064a\u062f"}}),alertsControl.clear_style()})).fail((function(e){alertsControl.show("\u0625\u0634\u0639\u0627\u0631",e.responseJSON.error)}))})).set({labels:{ok:"\u0623\u0636\u0641 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629",cancel:"\u062a\u0631\u0627\u062c\u0639",title:""}}),alertsControl.clear_style()}))}function n(){success=!0;var e=$("#collection_id").val();if("-1"==e)$("#collection_id").focus(),success=!1;else if("0"==e){""==$.trim($("#collection_title").val())&&($("#collection_title").focus(),success=!1)}return success}function r(){$("#collection_id").live("change",(function(){"0"==$(this).val()?$("#create_new_collection").fadeIn():$("#create_new_collection").fadeOut()}))}function i(){$("#add_to_collection_form").live("submit",(function(){var e,t;$(this);if(valid=n(),!valid)return!1;var r=$("#cart_items").length,i=$("input[name=delete_cart]:first"),o=$("input[name=private_collection]:first"),c=!1;return i.length&&(c=i.is(":checked")),a(),"0"==$("#collection_id").val()&&$("#service_id").length?(e="/collection/new",t={title:$("#collection_title").val(),description:$("#collection_description").val(),service_id:$("#service_id").val(),private:o.is(":checked"),token:$("#user_token").val(),delete_cart:c}):"0"==$("#collection_id").val()?(e="/collection/new",t={title:$("#collection_title").val(),description:$("#collection_description").val(),service_id:$("#service_id").val(),private:o.is(":checked"),token:$("#user_token").val(),cart:r,delete_cart:c}):(t={token:$("#user_token").val()},$("#service_id").length?e="/collection/"+$("#collection_id").val()+"/add/"+$("#service_id").val():(t.delete_cart=c,e="/collection/"+$("#collection_id").val()+"/add/cart/services")),$("#add_to_collection_form_wrapper").find(".dialog_message").addClass("hidden").html(""),$.ajax({type:"POST",url:e,dataType:"json",data:t}).done((function(e){if(s(),e.cart){notificationsUtil.get_notifications();var t=$("<div></div>").text(e.title).html(),n="\u062a\u0645 \u062d\u0641\u0638 \u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a \u0641\u064a \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 <a href='"+$("<div></div>").text(e.url).html()+"' class='u-clr--primary'>"+t+"</a> \u0628\u0646\u062c\u0627\u062d.";alertsControl.show("\u062a\u0645 \u0627\u0644\u062d\u0641\u0638!",n),c&&($("#cart_items").html('<div class="card"><div class="card-body p0"><div class="u-text--center u-padding">\u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a \u0641\u0627\u0631\u063a\u0629</div></div></div>'),$(".cart_button").addClass("hidden"))}else alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u062a\u0645\u062a \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d")})).fail((function(e){l(),$("#add_to_collection_form_wrapper").find(".dialog_message").removeClass("hidden").html(e.responseJSON.error)})),!1}))}function o(){$(document).keyup((function(e){27==e.keyCode&&s()})),$("#container").on("click",(function(){s()})),$("#add_to_collection_cancel").live("click",(function(){s()}))}function s(){$(".dialog").each((function(){$(this).close_dialog()}))}function a(){$("#add_cart_to_collection_button").html('<i class="fa fa-spinner fa-spin"></i> \u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0636\u0627\u0641\u0629...'),$("#add_cart_to_collection_button").prop("disabled",!0),$("#add_cart_to_collection_button").addClass("disabled"),$("#add_to_collection_button").html('<i class="fa fa-spinner fa-spin"></i> \u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0636\u0627\u0641\u0629...'),$("#add_to_collection_button").prop("disabled",!0),$("#add_to_collection_button").addClass("disabled")}function l(){$("#add_to_collection_button").html("\u0625\u0636\u0627\u0641\u0629"),$("#add_to_collection_button").prop("disabled",!1),$("#add_to_collection_button").removeClass("disabled"),$("#add_cart_to_collection_button").html("\u0625\u0636\u0627\u0641\u0629"),$("#add_cart_to_collection_button").prop("disabled",!1),$("#add_cart_to_collection_button").removeClass("disabled")}return{init:e}}(),addCollectionControl=function(){function e(){t(),r(),i()}function t(){$(".add_collection, .edit_collection").click((function(e){e.preventDefault(),e.stopPropagation(),$("#collection_dialog").show_dialog()}))}function n(){return success=!0,""==$.trim($("#collection_title").val())&&($("#collection_title").addClass("error"),$("#collection_title").focus(),success=!1),success}function r(){$("#collection_form").live("submit",(function(){$(this);if(valid=n(),!valid)return!1;s();var e=$("input[name=private_collection]:first");return $("#collection_form_wrapper").find(".dialog_message").addClass("hidden").html(""),$.post($(this).prop("action"),{title:$("#collection_title").val(),description:$("#collection_description").val(),private:e.is(":checked"),token:$("#user_token").val(),back:$("#back").val()},null,"json").done((function(e){o(),e.cart?(o(),alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u0629 \u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a \u0625\u0644\u0649 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 <a href='"+e.url+"' class='u-clr--primary'>"+e.title+"</a> \u0628\u0646\u062c\u0627\u062d")):window.location=e.redirect_url})).fail((function(e){a(),$("#collection_form_wrapper").find(".dialog_message").removeClass("hidden").html(e.responseJSON.error)})),!1}))}function i(){$(document).keyup((function(e){27==e.keyCode&&o()})),$("#container").on("click",(function(){o()})),$("#collection_cancel").live("click",(function(){o()}))}function o(){$(".dialog").each((function(){$(this).close_dialog()}))}function s(){var e="add"==$("#op_type").val()?"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0636\u0627\u0641\u0629...":"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u062f\u064a\u062b...";$("#collection_button").prop("value",e),$("#collection_button").prop("disabled",!0),$("#collection_button").addClass("disabled")}function a(){var e="add"==$("#op_type").val()?"\u0625\u0636\u0627\u0641\u0629":"\u062a\u062d\u062f\u064a\u062b";$("#collection_button").prop("value",e),$("#collection_button").prop("disabled",!1),$("#collection_button").removeClass("disabled")}return{init:e}}(),collectionControl=function(){function e(){n(),r(),t(),o(),i()}function t(){addToCollectionControl.init()}function n(){addCollectionControl.init()}function r(){$(".delete_collection").live("click",(function(e){e.preventDefault();var t=$(this),n=t.prop("id").split("_")[1];alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629\u061f").set("onok",(function(){t.html('<i class="fa fa-spinner fa-spin"></i>'),$.post("/collection/"+n+"/delete",{token:$("#user_token").val()},null,"json").done((function(e){window.location=e.redirect_url}))})).set({labels:{ok:"\u0645\u0648\u0627\u0641\u0642",cancel:"\u0625\u0644\u063a\u0627\u0621"}}),alertsControl.clear_style()}))}function i(){$(".product.removable").hover((function(){$(this).find(".product-close__addon").css("display","block")}),(function(){$(this).find(".product-close__addon").css("display","none")})),$(".remove_from_collection").live("click",(function(e){e.preventDefault();var t=$(this);alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0627\u0644\u062e\u062f\u0645\u0629 \u0645\u0646 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629\u061f").set("onok",(function(){t.parents(".removable_service").fadeOut(),$.post(t.prop("href"),{token:$("#user_token").val()},null,"json").done((function(){})).fail((function(){t.parents(".removable_service").fadeIn()}))})).set({labels:{ok:"\u0645\u0648\u0627\u0641\u0642",cancel:"\u0625\u0644\u063a\u0627\u0621"}}),alertsControl.clear_style()}))}function o(){$(".add_embeded_collection").click((function(e){e.preventDefault(),e.stopPropagation(),$.getJSON("/ajax/collection/form",(function(e){$("#collection_form_wrapper").html(e.content),$("#collection_dialog").show_dialog()}))})),$(".edit_embeded_collection").live("click",(function(e){e.preventDefault(),e.stopPropagation();var t=$(this);t.find("i").addClass("fa-spinner fa-spin fa-fw");var n=$(this).attr("data-id");$.getJSON("/ajax/collection/form",{id:n},(function(e){$("#collection_form_wrapper").html(e.content),$("#collection_dialog").show_dialog(),t.find("i").removeClass("fa-spinner fa-spin fa-fw")}))}))}return{init:e}}(),cartControl=function(){function e(){s(),a(),t(),o()}function t(){c(),l(),f(),d(),n(),r()}function n(){$(".cart_item_quantity").change((function(){var e=$(this),t=e.val(),n=e.attr("id").split("-")[1],r=$("#cart-item-"+n).val().split(":")[0],i=[];$("#upgrades-"+n+" .cart_item_service_upgrade:checked").each((function(){var e=$(this);i.push(e.val())}));var o=r+":"+t+":"+i;$("#cart-item-"+n).val(o),u()}))}function r(){$(".cart_item_service_upgrade").change((function(){elem=$(this),parent_item=elem.closest("ul"),parent_item_splitted=parent_item.attr("id").split("-"),item_id=parent_item_splitted[1];var e=$("#cart-item-"+item_id).val().split(":")[0],t=$("#quantity-"+item_id).val(),n=[];$("#upgrades-"+item_id+" .cart_item_service_upgrade:checked").each((function(){var e=$(this);n.push(e.val())}));var r=e+":"+t+":"+n;$("#cart-item-"+item_id).val(r),u()}))}function i(){var e=$("#cart-page").length>0,t=$("#add_to_cart_btn").length>0;return e||t}function o(){$("#update_item_cancel").live("click",(function(){close_dialog()}))}function s(){$("#cart_items").length&&($("#cart_loading").removeClass("hidden"),$.get("/cart/items",(function(e){$("#cart_items").html(e),$("#cart_loading").addClass("hidden"),t(),init_tooltip(),$(".cart_button").removeClass("hidden")})))}function a(){$("#add_to_cart_btn").live("click",(function(e){e.preventDefault();var t=$(this);if(t.hasClass("ban_buying")){var n=t.data("banned-country")||"\u062f\u0648\u0644\u062a\u0643";alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0634\u0631\u0627\u0621 \u0627\u0644\u062e\u062f\u0645\u0627\u062a \u063a\u064a\u0631 \u0645\u062a\u0627\u062d \u0641\u064a "+n)}else{var r=$("#user_token").val(),i=[],o=$("#service_id").val(),s=1;$.each($(".service_upgrade_check:checked"),(function(){var e=$(this);i.push(e.val())}));var a="/cart";$.ajax({url:a,method:"post",dataType:"json",data:{token:r,service_id:o,upgrade_ids:i,quantity:s},beforeSend:function(){h(t)}}).done((function(e){p(t),g(),m(e)})).fail((function(e,n,r){p(t);var i="";i=401==e.status?e.responseText||r:500==e.status?"\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642.":"\u0639\u0630\u0631\u0627 \u0644\u0645 \u062a\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u0627.",alertsControl.show("\u0625\u0634\u0639\u0627\u0631",i)}))}}))}function l(){$(".update_cart_items").live("click",(function(e){e.stopImmediatePropagation();var t=$(".update_form").attr("data-id"),n=$(".cart_item_quantity").val(),r=[];$("input[name=cart_item_service_upgrade]:checked").each((function(){r.push($(this).val())}));var i=r.join(",");close_dialog();var o=$("#cart-item-"+t).val().split(":")[0];$("#cart-item-"+t).val(o+":"+n+":"+i),u()}))}function c(){$(".remove_cart_item").click((function(e){e.preventDefault(),item_id=$(this).attr("data-id"),alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u062d\u0630\u0641 \u0627\u0644\u062e\u062f\u0645\u0629 \u0645\u0646 \u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a\u061f").set("onok",(function(){$("#cart-item-"+item_id).remove(),u()})),alertsControl.clear_style()}))}function u(){var e=$("#cart_items_form"),n=e.attr("action");$.ajax({url:n,method:"put",dataType:"json",data:e.serialize(),beforeSend:function(){$("#cart_load").removeClass("hidden"),$("#cart_checkout_form").addClass("disabled"),$("#unlogged_user_cart_checkout_form").addClass("disabled")}}).done((function(e){$("#cart_items").html(e.html_content),init_tooltip(),0==e.count&&$(".cart_button").hide(),t(),g()})).fail((function(e){var t="";t=500==e.status?"\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642.":e.status+" "+e.responseText,alertsControl.show("\u0625\u0634\u0639\u0627\u0631",t)})).complete((function(){$("#cart_loading").addClass("hidden")}))}function d(){$(".checkable").live("click",(function(e){e.stopImmediatePropagation(),$(this).prev(".checkable-col").find("input").trigger("click")}))}function f(){$("#cart_checkout_form").click((function(e){e.preventDefault();$(this);var t=$("#user_token").val(),n="/cart/checkout/";$.ajax({url:n,method:"post",dataType:"json",data:{token:t},beforeSend:function(){$("#cart_checkout_form").addClass("disabled")}}).done((function(e){$("#cart_items").html(e.html_content),$("#cart_checkout_form").addClass("disabled"),window.location.href="cart/pay"})).fail((function(e,t,n){"timeout"==n?alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0627\u0646\u0642\u0636\u0649 \u0648\u0642\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644"):302==e.status?window.location.href=e.responseText:(alertify.alert().setting({label:"\u0645\u0648\u0627\u0641\u0642",message:e.responseText,onok:function(){u()}}).show(),alertsControl.clear_style())})).complete((function(){}))}))}function h(e){e.prop("disabled",!0),e.addClass("disabled"),e.find("i").addClass("fa-spinner fa-spin")}function p(e){e.removeClass("disabled"),e.prop("disabled",!1),e.find("i").removeClass("fa-spinner fa-spin")}function m(e){count=e.count,count>0&&(alertify.confirm("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u062e\u062f\u0645\u0629 \u0627\u0644\u0649 \u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a").set("onok",(function(){window.location="/cart"})).set({labels:{ok:"\u0625\u062a\u0645\u0627\u0645 \u0627\u0644\u0634\u0631\u0627\u0621",cancel:"\u062a\u0635\u0641\u062d \u0627\u0644\u0645\u0632\u064a\u062f"}}),alertsControl.clear_style())}function g(){notificationsUtil.get_notifications()}return{init:e,enabled:i}}(),comments=function(){function e(){return $('[data-commentable="true"]').length>0}function t(){return $('[data-commentable="true"]').data("commentable-id")}function n(){return $('[data-commentable="true"]').data("commentable-type")}function r(){return"forum_post"==n()?i().data("id"):i().attr("id")?i().attr("id").split("-")[1]:void 0}function i(){return"forum_post"==n()?$('[data-commentable="true"] .comments').children().last():$(".messages-list-content .options").filter("[id]").last()}function o(){return{commentable_type:n(),commentable_id:t(),last_id:r()}}function s(){e()&&(a(),g=r()||0,$(window).on("resize focus scroll",p),l())}function a(){$("#commentable_form").live("submit",(function(e){e.preventDefault();var t=$(this),n=$("#commentable_submit"),i=disable_btn(n),o=$("#commentable_form textarea[name=content]:first").val(),s=$("#commentable_form input[name=confirm]:first"),a=$("#user_token").val(),l=FileUploader.get_files(),c=$("#commentable_form input[name=voicemessage]:first").val(),d={content:o,token:a,"attachments[]":l};c&&(d.voicemessage=c);var f={type:"post",url:t.attr("action"),data:d};s.length&&s.is(":checked")&&(d.confirm=0),r()&&(d.last_id=r()),f={type:"post",url:t.attr("action"),data:d},$.ajax(f).done((function(e){u(e),t.trigger("reset"),t.find("textarea").focus(),FileUploader.reset_dropzone(),VoiceMessageUploader.clear_recorder()})).fail((function(e,t,n){"timeout"==n?alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0627\u0646\u0642\u0636\u0649 \u0648\u0642\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644"):303==e.status?window.location.href=e.responseText:500==e.status?alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642"):e.responseText?alertsControl.show("\u0625\u0634\u0639\u0627\u0631",e.responseText):alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0639\u0630\u0631\u0627 \u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0625\u0631\u0633\u0627\u0644\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u0627.")})).always((function(){enable_btn(n,i)}))}))}function l(e){e=void 0===e||e;var t={iconUrl:"https://khamsat.hsoubcdn.com/assets/images/plyr-74659570e7ea771a2671c58786c0d10ab7e3fd325d0229844758b30c2fa73f5f.svg",invertTime:!1,autopause:!0,i18n:{restart:"\u0625\u0639\u0627\u062f\u0629",rewind:"Rewind {seektime} secs",play:"\u062a\u0634\u063a\u064a\u0644",pause:"\u0627\u064a\u0642\u0627\u0641 \u0645\u0624\u0642\u062a",fastForward:"Forward {seektime} secs",seek:"Seek",played:"Played",buffered:"Buffered",currentTime:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u062d\u0627\u0644\u064a",duration:"\u0627\u0644\u0645\u062f\u0629 \u0627\u0644\u0632\u0645\u0646\u064a\u0629",volume:"\u0627\u0644\u0635\u0648\u062a",mute:"\u0635\u0627\u0645\u062a",unmute:"\u063a\u064a\u0631 \u0635\u0627\u0645\u062a",enableCaptions:"Enable captions",disableCaptions:"Disable captions",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",speed:"\u0627\u0644\u0633\u0631\u0639\u0629",normal:"\u0637\u0628\u064a\u0639\u0649",quality:"\u0627\u0644\u062c\u0648\u062f\u0629",loop:"\u062a\u0643\u0631\u0627\u0631",start:"\u0628\u062f\u0627\u064a\u0629",end:"\u0646\u0647\u0627\u064a\u0629",all:"\u0627\u0644\u0643\u0644",reset:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646",disabled:"\u0645\u0639\u0637\u0651\u0644",advertisement:"Ad"},controls:["play","progress","current-time","volume","settings"]};t.enable=e,Array.from($('[data-type="comment-audio-player"]')).map((function(e){var n=e.parentElement,r=0,i=new Plyr(e,t);i.once("play",(function(){c(i)
})),i.on("loadeddata",(function(){i.currentTime=r})),i.on("error",(function(e){r=i.currentTime,null!=e.detail.plyr.media.error&&2==e.detail.plyr.media.error.code&&c(i)})),n.style.visibility="visible"})),$(".comment-voicemessage").show()}function c(e){var t=$("#"+e.elements.original.firstChild.nextSibling.id).parents().eq(3).find(".comment-voicemessage__id").val(),n=$("#"+e.elements.original.firstChild.nextSibling.id).parents().eq(3).find(".comment-voicemessage__class").val(),r=$("#user_token").val();$.ajax({type:"POST",url:"/attachment/voicemessage_url/"+t,dataType:"json",data:{token:r,class:n}}).done((function(n){e.source={type:"audio",title:"Player for {title}",sources:[{src:n.url,type:"audio/"+n.ext,id:"comment-voicemessage__source-"+t}]},e.play()})).fail((function(){}))}function u(e){$('[data-commentable="true"]').removeClass("hidden");for(var t=$('[data-commentable="true"] .comments'),n=r(),i=0;i<e.length;i++)e[i].id<=n||(t.append(e[i].html_content),e[i].highlight&&d(e[i].id));l(),e.length>0&&h()}function d(e){var t=$(".discussion-item[data-id="+e+"]");document.hasFocus()&&isElementInViewport(t[0])?f(t):m.push(t)}function f(e){e.addClass("highlighted"),setTimeout((function(){e.removeClass("highlighted")}),3e3)}function h(){r()>g&&isElementInViewport(i()[0])&&(g=r(),$.post(window.location.pathname+"/seen"))}function p(){for(var e=0;e<m.length;e++)isElementInViewport(m[e][0])&&(f(m[e]),m.splice(e,1));h()}var m=[],g=0;return{init:s,fetch_params:o,append:u,enabled:e}}(),ordersUtil=function(){function e(e){var t=$("#manage-order-template").children().clone(),n=e.print_status,r=$(".page_header--title span"),i="label label-"+e.status;r.removeAttr("class"),r.addClass(i),r.html(e.print_status);var o=e.seller_status_message;t.find(".order-status").html(n),t.find(".order-status-message").html(o),e.show_delivery_date?(t.find(".order-status-date").html("<br>"+e.expected_at),e.order_delivery_delay&&t.find(".order-delivery-date").html("<br>"+e.order_delivery_delay)):(t.find(".order-status-date").remove(),t.find(".order-status-date-title").remove()),e.can_seller_deliver||(t.find("a#deliver_order").parent().remove(),alertify.confirm().close()),e.can_seller_decline||(t.find("a#decline_order_main").parent().remove(),$("#decline_order_wrapper").hide()),$(".manage-order-body").html(t)}function t(e){var t=$("#manage-order-template").children().clone(),n=e.print_status,r=e.buyer_status_message;t.find(".order-status").html(n),t.find(".order-status-message").html(r);var i=$(".page_header--title span"),o="label label-"+e.status;i.removeAttr("class"),i.addClass(o),i.html(e.print_status),e.show_delivery_date?(t.find(".order-status-date").html("<br>"+e.expected_at),e.order_delivery_delay&&t.find(".order-delivery-date").html("<br>"+e.order_delivery_delay)):(t.find(".order-status-date").remove(),t.find(".order-status-date-title").remove()),e.can_buyer_approve||(t.find("a#approve_purchase").parent().remove(),alertify.confirm().close()),e.can_buyer_reject||(t.find("a#reject_purchase_main").parent().remove(),$("#reject_purchase_wrapper").hide()),e.can_buyer_decline||(t.find("a#decline_purchase_main").parent().remove(),$("#decline_purchase_wrapper").hide()),e.can_buyer_request_decline||(t.find("a#request_purchase_decline_main").parent().remove(),$("#request_purchase_decline_wrapper").hide()),$(".manage-order-body").html(t)}function n(){}return{init:n,append_manage_order:e,append_manage_purchase:t}}();jQuery.fn.show_dialog=function(e){void 0===e&&(e="small");var t=$(this).html();if($(this).html(""),$(".dialog").each((function(){$(this).close_dialog()})),$(this).hasClass("no_close")){var n=$('<div id="shadow_box_white"></div>');n.css("display","inline"),n.appendTo("body")}var r="dialog_wrapper--"+e,i=$('<div id="'+$(this).attr("id")+'" class="dialog"><div class="dialog_wrapper '+r+'">'+t+"</div></div>");return i.appendTo("body"),i.css("position","fixed"),i.css("top","10%"),i.css("left",($(window).outerWidth()-i.outerWidth())/2+"px"),i.css("min-width",i.width()+1+"px"),i.css("max-width",i.width()+2+"px"),i},jQuery.fn.close_dialog=function(){$(this).css("display","none"),clear_dialog();var e=$(this).attr("id").replace(/^khamsat_/,"");$("#"+e).html($(this).find(".dialog_wrapper").html()),$(this).remove()},clear_dialog=function(){$(".dialog_message").addClass("hidden"),$(".dialog_message").removeClass("red").removeClass("green").removeClass("yellow"),$(".dialog_content input[type='password']").val("")};var escapeHtml=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,r,i,o,s,a,l="",c=0;for(e=Base64._utf8_encode(e);c<e.length;)i=(t=e.charCodeAt(c++))>>2,o=(3&t)<<4|(n=e.charCodeAt(c++))>>4,s=(15&n)<<2|(r=e.charCodeAt(c++))>>6,a=63&r,isNaN(n)?s=a=64:isNaN(r)&&(a=64),l=l+Base64._keyStr.charAt(i)+Base64._keyStr.charAt(o)+Base64._keyStr.charAt(s)+Base64._keyStr.charAt(a);return l},decode:function(e){var t,n,r,i,o,s,a="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)t=Base64._keyStr.indexOf(e.charAt(l++))<<2|(i=Base64._keyStr.indexOf(e.charAt(l++)))>>4,n=(15&i)<<4|(o=Base64._keyStr.indexOf(e.charAt(l++)))>>2,r=(3&o)<<6|(s=Base64._keyStr.indexOf(e.charAt(l++))),a+=String.fromCharCode(t),64!=o&&(a+=String.fromCharCode(n)),64!=s&&(a+=String.fromCharCode(r));return a=Base64._utf8_decode(a)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},_utf8_decode:function(e){for(var t="",n=0,r=c1=c2=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&c2)<<6|63&c3),n+=3);return t}};$.fn.replace_urls=function(){var e=/(\b(https?|ftp):\/\/[^\s<>"'\(\)]+)/gi,t=["khamsat.com","blog.khamsat.com","support.khamsat.com","suar.me","i.suar.me","mostaql.com","blog.mostaql.com","baaeed.com","blog.baaeed.com","academy.hsoub.com","wiki.hsoub.com","io.hsoub.com","ana.hsoub.com","hsoub.com","picalica.com","zaetoon.com"];return this.each((function(){var n=!1;$(this).html($(this).html().replace(e,(function(e,r){return $.each(t,(function(e,t){r.indexOf(t)>-1&&(n=!0)})),n?(n=!1,'<a href="'+r+'" rel="nofollow noopener noreferrer" target="_blank" style="color:#52b035;direction:ltr;display:inline-block;word-break:break-all">'+r+"</a>"):'<a href="/redirect?url='+Base64.encode(encodeURI(r))+'" target="_blank" rel="nofollow noopener noreferrer" style="color:#52b035;direction:ltr;display:inline-block;word-break:break-all">'+r+"</a>"})))})),$(this)},document.addEventListener("DOMContentLoaded",(function(){var e,t=document.getElementsByClassName("video__iframe-responsive__youtube");for(e=0;e<t.length;e++)t[e].onclick=labnolIframe;var n=$(".new_main_category").val(),r=$("#sub-categories-dropdown").val();""!=n&&""==r&&loadSubCategories(n,"#sub-categories-dropdown");var i=$("input[name = page_type]input[checked = checked]").val();i&&$("."+i+"_section").removeClass("d-none")})),$(document).ready((function(){function e(){alertify.YoutubeDialog||alertify.dialog("YoutubeDialog",(function(){var e;return{main:function(e){return this.set({videoId:e})},setup:function(){return{buttons:[{key:27}],focus:{element:0},options:{padding:!1,overflow:!1}}},build:function(){(e=document.createElement("iframe")).frameBorder="no",e.width="100%",e.height="100%",this.elements.content.appendChild(e),this.elements.body.style.minHeight=.5*screen.height+"px"},settings:{videoId:void 0},settingUpdated:function(t,n,r){if("videoId"===t)e.src="https://www.youtube.com/embed/"+r+"?controls=0&modestbranding=1&rel=0&showinfo=0&theme=light&hd=1"},hooks:{onclose:function(){e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")},onupdate:function(t,n,r){if("resizable"===t)r?(this.elements.content.removeAttribute("style"),e&&e.removeAttribute("style")):(this.elements.content.style.minHeight="inherit",e&&(e.style.minHeight="inherit"))}}}}))}function t(){if($(".multi-select-or-create-selectize").length>0){var e=$(".multi-select-or-create-selectize").val().split(","),t=$("input[name=title]").val(),n=$("textarea[name=description]").val();""!=t&&$.ajax({url:"/ajax/tags/predict",method:"POST",dataType:"json",data:{title:t,description:n,tags:e}}).done((function(t){var n=[];if(t.tags.forEach((e=>{n.push({id:e.id,tag:escapeHtml(e.tag),keyword:e.keyword})})),n.length>0){if(""==e)var r=n;else r=n.filter((function(t){return-1==e.indexOf(t)}));for(var i="",o=0;o<r.length;o++){i=i+'<span class="suggestion-block-keywords-btn btn" id="'+(null==r[o].keyword?"tag":"keyword")+"-"+r[o].id+'"> <i class="fa fa-fw fa-plus" />'+escapeHtml(r[o].tag)+"</span>"}""!=i&&($(".suggestion-block").removeClass("hidden"),$(".suggestion-block-keywords").empty().append(i));var s={};$(".suggestion-block-keywords-btn").each((function(){var e=$.trim($(this).text());s[e]?$(this).remove():s[e]=!0}))}}))}}function n(e){var t=e.replace(/(\/)/,"");t||(t="home"),window.pageYOffset>$(".js-page").offset().top&&$("html,body").animate({scrollTop:0},"fast"),$(".js-page").fadeOut(300,(function(){$("#loading").fadeIn(100),$.getJSON("/ajax/"+t,(function(e){e.content&&$(".js-page").html(e.content),$("#loading").fadeOut(300,(function(){$(".js-page").fadeIn(100)}))}))})),e!=window.location&&window.history.pushState({path:e},"",e)}function r(){!0,$("#loadmore_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#loadmore_btn").attr("disabled",!0);var e=$("#page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$(".services_block_list .service-block").each((function(){t.push(this.id.split("-")[1])})),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"service_ids[]":t},(function(e){e.count<32?$("#more_content").fadeOut(300,(function(){$(".services_block_list:first").append(e.content)})):$(".services_block_list:first").append(e.content),$("#loadmore_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#loadmore_btn").attr("disabled",!1),!1}),"json")}function i(){var e=$("input[name=payment_method]:checked").val();"Khamsat"==e||""==e?$("#unique-reference-details").addClass("hidden"):$("#unique-reference-details").removeClass("hidden")}function o(){!0,$("#loadmore_collection_btn").html("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#loadmore_collection_btn").attr("disabled",!0);var e=$("#page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$(".services_block_list .service-block").each((function(){t.push(this.id.split("-")[1])})),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"service_ids[]":t,token:b},(function(e){e.has_more?$(".services_block_list:first").append(e.content):$("#more_content").fadeOut(300,(function(){$(".services_block_list:first").append(e.content)})),$("#loadmore_collection_btn").html("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#loadmore_collection_btn").attr("disabled",!1),!1}),"json")}function s(){!0,$("#loadmore_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#loadmore_btn").attr("disabled",!0);var e=$("#page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$("#reviews-section .review_section").each((function(){t.push(this.id.split("-")[1])})),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"reviews_ids[]":t},(function(e){e.has_more?$(".services_reviews:first").append(e.content):$("#more_content").fadeOut(300,(function(){$(".services_reviews:first").append(e.content)})),$("#loadmore_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#loadmore_btn").attr("disabled",!1),!1}),"json")}function a(){!0,$("#loadmore_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#loadmore_btn").attr("disabled",!0);var e=$("#page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$("#reviews-section .review_section").each((function(){t.push(this.id.split("-")[1])})),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"reviews_ids[]":t},(function(e){e.has_more?$(".services_reviews:first").append(e.content):$("#more_content").fadeOut(300,(function(){$(".services_reviews:first").append(e.content)})),$("#loadmore_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#loadmore_btn").attr("disabled",!1),!1}),"json")}function l(){!0,$("#loadmore_pages_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#loadmore_pages_btn").attr("disabled",!0);var e=$("#page_url").val().replace("/ajax","").replace(/(\/)/,""),t=$(".services_block_list .service-block").length/32+1;$.post("/ajax/load_more/"+e,{page:t},(function(e){e.count<32?$("#more_content").fadeOut(300,(function(){$(".services_block_list:first").append(e.content)})):$(".services_block_list:first").append(e.content),$("#loadmore_pages_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#loadmore_pages_btn").attr("disabled",!1),!1}),"json")}function c(){!0,$("#community_loadmore_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#community_loadmore_btn").attr("disabled",!0);var e=$("#community_page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$("#forums_table .forum_post").each((function(){t.push(this.id.split("-")[1])})),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"posts_ids[]":t},(function(e){e.has_more?$("#forums_table tbody").append(e.content):$("#community_more_content").fadeOut(300,(function(){$("#forums_table tbody").append(e.content)})),$("#community_loadmore_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#community_loadmore_btn").attr("disabled",!1),!1}),"json")}function u(){!0,$("#loadmore_notifications_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#loadmore_notifications_btn").attr("disabled",!0);var e=$("#page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$("#notifications_table .notification-item").each((function(){t.push(this.id.split("-")[1])})),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"notification_ids[]":t,token:b},(function(e){e.has_more?$("#notifications_table tbody").append(e.content):$("#more_content").fadeOut(300,(function(){$("#notifications_table tbody").append(e.content)})),$("#loadmore_notifications_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#loadmore_notifications_btn").attr("disabled",!1),!1}),"json")}function d(){!0,$("#loadmore_collections_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#loadmore_collections_btn").attr("disabled",!0);var e=$("#page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$("#collections_table .collection-item").each((function(){t.push(this.id.split("-")[1])})),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"collection_ids[]":t,token:b},(function(e){e.has_more?$("#collections_table tbody").append(e.content):$("#more_content").fadeOut(300,(function(){$("#collections_table tbody").append(e.content)})),$("#loadmore_collections_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#loadmore_collections_btn").attr("disabled",!1),!1}),"json")}function f(){!0,$("#payments_loadmore_btn").val("\u064a\u0631\u062c\u0649 \u0627\u0644\u0625\u0646\u062a\u0638\u0627\u0631..."),$("#payments_loadmore_btn").attr("disabled",!0);var e=$("#payments_page_url").val().replace("/ajax","").replace(/(\/)/,""),t=[];$("#payments_table .payment_id").each((function(){t.push(this.id.split("-")[1])})),jQuery.unique(t),$.post("/ajax/load_more/"+e,{"payments_ids[]":t},(function(e){e.has_more?$("#payments_table").append(e.content):$("#payments_more_content").fadeOut(300,(function(){$("#payments_table").append(e.content)})),$("#payments_loadmore_btn").val("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"),$("#payments_loadmore_btn").attr("disabled",!1),!1}),"json")}function h(){var e=$("#forum_name_select").val(),t=$("#"+e+"_description").val(),n=$("#"+e+"_confirmation").val();$("#forum_name_description").html(t),$("#forum_post_confirmation").html(n)}function p(e,t){return e.dataset.sort<t.dataset.sort?-1:e.dataset.sort>t.dataset.sort?1:0}function m(){var e=document.querySelectorAll("[data-sort]");Array.from(e).sort(p).forEach((e=>document.querySelector("#upgrade-service-inputs_wrapper").appendChild(e)))}function g(){this.parentElement.classList.toggle("active_faq")}if($("#base-price-slider").length>0){var v=getUrlFloatParam("min_price")||5..toFixed(2),y=getUrlFloatParam("max_price")||50..toFixed(2);$("#base-price-slider").closest(".card-body").find(".noUi-tooltip-lower").html(v),$("#base-price-slider").closest(".card-body").find(".noUi-tooltip-upper").html(y),noUiSlider.create($("#base-price-slider")[0],{start:[v,y],step:5,connect:!0,direction:"rtl",range:{min:5,max:50},format:{to:function(e){return e.toFixed(2)},from:function(e){return Number(e)}}})}ajax_loading=!1,sidebar_fixed=!1,is_mobile=!1;var b=$("#user_token").val();if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(is_mobile=!0),$.ajaxSetup({cache:!1}),$("body").ajaxStart((function(){ajax_loading=!0})),$("body").ajaxStop((function(){ajax_loading=!1})),init_tooltip(),$('a[href="#add_to_cart"]').click((function(e){e.preventDefault(),$("body, html").animate({scrollTop:$("#add-to-cart-block").offset().top-60},0)})),$(".c-button--paypal").click((function(){window.onbeforeunload=function(){}})),$(".large-modal").live("keydown",(function(e){"ArrowRight"===e.key&&$(this).find(".carousel-control-next")[0].click(),"ArrowLeft"===e.key&&$(this).find(".carousel-control-prev")[0].click(),"Escape"===e.key&&$(this).find(".btn-close")[0].click()})),$(".multi-line-input").live("input",(function(e){var t=$(this);t.next(".service-upgrade-title").attr("value",t.text()),t.text().replace(" ","").length||(t.empty(),t.next(".service-upgrade-title").attr("value","")),13==e.which&&e.preventDefault()})),$(".multi-line-input").live("paste",(function(e){e.preventDefault()})),$("#tips_button").on("click",(function(t){t.preventDefault(),e(),videoID=$("#tips_button").attr("data-videoid"),alertify.YoutubeDialog(videoID).set({frameless:!0,maximizable:!1,closable:!0,closableByDimmer:!0}).setting("title","5 \u0646\u0635\u0627\u0626\u062d \u0644\u0642\u0628\u0648\u0644 \u062e\u062f\u0645\u0627\u062a\u0643"),$(".alertify").addClass("tips_and_advice"),$(".ajs-body").attr("style","")})),fix_sidebar=function(){$("#search").css("position","fixed"),$("#search").css("top","20px"),$("#categories").css("position","fixed"),$("#categories").css("top",$("#search").height()+40+"px"),sidebar_over_footer()?hide_sidebar():unhide_sidebar()},unfix_sidebar=function(){$("#search").css("position",""),$("#search").css("top",""),$("#categories").css("position",""),$("#categories").css("top",""),sidebar_over_footer()?hide_sidebar():unhide_sidebar()},hide_sidebar=function(){$("#categories").css("visibility","hidden"),$("#search").css("visibility","hidden")},unhide_sidebar=function(){$("#categories").css("visibility",""),$("#search").css("visibility","")},sidebar_over_footer=function(){var e=$("#categories").offset().top+$("#categories").height()+$("#search").height()-10;if($("#footer_categories").length)var t=$("#footer_categories");else t=$("#footer");return e>t.offset().top},is_mobile||$(window).scroll((function(){$("#categories").length&&$("#search").length&&(sidebar_over_footer()?hide_sidebar():unhide_sidebar(),$(window).scrollTop()>$(".fix_sidebar").offset().top?sidebar_fixed||sidebar_over_footer()||(fix_sidebar(),sidebar_fixed=!0):sidebar_fixed&&(unfix_sidebar(),sidebar_fixed=!1))})),centralised_elements=function(e,t){if(!$(e).hasClass("no_center")){var n=$(e).width()-30,r=0,i=0,o=0;jQuery.each($(e+" "+t),(function(){r+=$(this).width(),i+=1})),o=parseInt((n-r)/(i-1)),jQuery.each($(e+" "+t),(function(){i>1&&o>0&&$(this).css("margin-left",o+"px"),i-=1}))}},$("#service_info .service_info_meta").length?centralised_elements("#service_info .service_info_meta","span"):$("#service_info").length&&centralised_elements("#service_info","span"),$("#message_info").length&&centralised_elements("#message_info","span"),$("#sub-categories-dropdown , #to-sub-categories-dropdown").selectize({optgroups:[],disabledField:"disable",optgroupLabelField:"groupName",optgroupValueField:"groupName",valueField:"itemValue",labelField:"itemName",searchField:["itemName"],lockOptgroupOrder:!1,render:{item:function(e,t){return"<div class='item'><span>"+t(e.itemName).trim()+"</span></div>"},option:function(e,t){return"<div class='option'>"+("true"==e.itemNested?'<span class="ps-4">'+t(e.itemName)+"</span>":"<span>"+t(e.itemName)+"</span>")+"</div>"}}}),$(".clickable-selection-area").live("click",(function(){$(".icon-unchecked").removeClass("d-none"),$(this).children(".icon-unchecked").addClass("d-none"),$(".icon-checked").addClass("d-none"),$(this).children(".icon-checked").removeClass("d-none"),$(this).children("input").prop("checked",!0)})),$("input[name = page_type]").live("click",(function(){pageType=$(this).val(),pageType&&($(".section").addClass("d-none"),$("."+pageType+"_section").removeClass("d-none"))})),$("#main_category, #from_category").live("change",(function(){var e=$("#main_category").val();void 0===e&&(e=$("#from_category").val()),loadSubCategories(e,"#sub-categories-dropdown")})),$("#to_category").live("change",(function(){loadSubCategories($("#to_category").val(),"#to-sub-categories-dropdown")})),$("#decline_reason_category").selectize({sortField:"text",create:!0,render:{option_create:function(e,t){return t(e.input).length<3?"":isNaN(t(e.input))?($(".selectize-dropdown").removeClass("hard-hidden"),'<div class="create  bg-gray-darker">\u0623\u0636\u0641 \u062a\u0635\u0646\u064a\u0641 \u062c\u062f\u064a\u062f : '+t(e.input)+"</div>"):""}}}),$("#main_category, #to_category, #from_category").selectize({readOnly:!0,onDelete:function(){return!1}}),$(".dropdown_single_readonly").selectize({readOnly:!0,onDelete:function(){return!1}}),$(".suggestion-block-keywords-btn").live("click",(function(){(null==$(".multi-select-or-create-selectize").val().match(/,/g)?0:$(".multi-select-or-create-selectize").val().match(/,/g).length)+1<10&&($(".multi-select-or-create-selectize").addClass("predicted"),selectizeElement=$(".multi-select-or-create-selectize")[0].selectize,selectizeElement.addOption({text:escapeHtml(this.innerText),value:escapeHtml(this.innerText)}),selectizeElement.addItem(this.innerText),$(this).remove(),t()),0==$(".suggestion-block-keywords-btn").length&&$(".suggestion-block").addClass("hidden")})),t(),$("input[name=title] , textarea[name=description]").live("change",(function(){t()})),$("#forum_post_content").replace_urls(),$("#service_page .description").replace_urls(),$(".replace_urls").replace_urls(),$("form").live("submit",(function(){$("#khamsatinput").val("")})),$("a[data-href]").live("hover click",(function(){var e=$(this);e.attr("href",e.attr("data-href"))})),$("a[data-text]").each((function(){var e=$(this);e.text(e.attr("data-text"))})),$("#categories_btn").click((function(e){e.preventDefault(),"hidden"==$("#categories_list").css("visibility")?$("#categories_list").css("visibility","visible"):$("#categories_list").css("visibility","hidden")})),$("#container, #header > :not(#second_header)").click((function(){"visible"==$("#categories_list").css("visibility")&&$("#categories_list").css("visibility","hidden")})),clean_upload_str=function(e){return e.replace("C:\\fakepath\\","")},$("input[name=payment_method]").length>0&&(i(),$("input[name=payment_method]").attr("checked",!1)),$("input[name=payment_method]").live("change",(function(){i()})),$("#loadmore_btn").live("click",(function(e){e.preventDefault(),r()})),$("#loadmore_collection_btn").live("click",(function(e){e.preventDefault(),o()})),$("#loadmore_reviews_btn").live("click",(function(e){e.preventDefault(),s()})),$("#loadmore_profile_reviews_btn").live("click",(function(e){e.preventDefault(),a()})),$("#loadmore_pages_btn").live("click",(function(e){e.preventDefault(),l()})),$("#community_loadmore_btn").live("click",(function(e){e.preventDefault(),c()})),$("#loadmore_notifications_btn").live("click",(function(e){e.preventDefault(),u()})),$("#loadmore_collections_btn").live("click",(function(e){e.preventDefault(),d()})),$("#payments_loadmore_btn").live("click",(function(e){e.preventDefault(),f()})),$("#bank_account_credit_form").live("submit",(function(){var e=$(".saved_bank_account.selected").attr("data-bank-account-id");$("#bank-account-id").val(e),$("#bank_account_credit_btn").addClass("disabled")})),$(".saved_credit_card, .saved_bank_account.enabled").live("click",(function(){$("#saved_credit_card_list, #bank_account_credit_form").children().removeClass("selected"),$(this).addClass("selected")})),$("#cancel-payout").live("click",(function(e){e.preventDefault();var t=$(this);alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0625\u0644\u063a\u0627\u0621 \u0637\u0644\u0628 \u0627\u0644\u0633\u062d\u0628\u061f").set("onok",(function(){t.parents("form#cancel-payout-form").submit()})),alertsControl.clear_style()})),$("#change_password_btn").live("click",(function(e){e.preventDefault(),$("#change_password").slideDown(500)})),$("#transfer_credit_btn").live("click",(function(e){e.preventDefault(),$("#transfer_credit").slideDown(500)})),$("#attach_file_btn").live("click",(function(e){e.preventDefault(),$("#attach_file").slideDown(500),$("#attach_file").find(".fileupload").trigger("click")})),$("#attach_file").find(".fileupload").live("change",(function(e){e.preventDefault();var t=$("#attach_file").find(".upload_display");t.val($(this).val()),""!=t.val()?$("#attach_file_btn").removeClass("c-button--ghost"):$("#attach_file_btn").addClass("c-button--ghost")})),$(".service").live("mouseover mouseleave",(function(e){"mouseover"==e.type?$(this).find(".actions").removeClass("hidden"):$(this).find(".actions").addClass("hidden")})),$("#waiting_payment").length){var _=$("#payment_url").val();setInterval((function(){n(_)}),5e3)}$("#reply_attachments_btn").live("click",(function(e){e.preventDefault(),$("#attachmentsUploader").toggle()})),$("#reply_voicemessage_btn").live("click",(function(e){e.preventDefault(),$("#voicemessageUploader").toggle()})),$("#decline_order_main").live("click",(function(e){e.preventDefault(),$(this).attr("disabled")||$("#decline_order_wrapper").toggle()})),$("#decline_order").live("click",(function(e){e.preventDefault();var t=this,n=$("#order_id").val(),r=$("#decline_reasons").val();if(""==r)return alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0623\u0633\u0628\u0627\u0628 \u0627\u0644\u0625\u0644\u063a\u0627\u0621");alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0625\u0644\u063a\u0627\u0621 \u0647\u0630\u0627 \u0627\u0644\u0637\u0644\u0628\u061f").setting("title","\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0625\u0644\u063a\u0627\u0621").set("onok",(function(){disable_btn(t),$.post("/order/"+n+"/decline",{token:b,decline_reasons:r},(function(e){e.success?window.location="/orders":window.location.reload()}),"json").fail((function(){window.location.reload()}))})).set({labels:{ok:"\u0623\u0644\u063a\u064a \u0627\u0644\u0637\u0644\u0628",cancel:"\u062a\u0631\u0627\u062c\u0639"}}),alertsControl.clear_style()})),$((function(){$('[data-toggle="tooltip"]').tooltip()})),$("#deliver_order").live("click",(function(e){if(e.preventDefault(),!$(this).attr("disabled")){var t=this,n=$("#order_id").val();alertify.confirm("\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0625\u0631\u0633\u0627\u0644 \u0625\u0634\u0639\u0627\u0631 \u0625\u0644\u0649 \u0627\u0644\u0645\u0634\u062a\u0631\u064a \u0644\u064a\u0633\u062a\u0644\u0645 \u0627\u0644\u0637\u0644\u0628\u061f \u0647\u0630\u0627 \u064a\u0639\u0646\u064a \u0623\u0646\u0643 \u0623\u0646\u0647\u064a\u062a \u0627\u0644\u0639\u0645\u0644 \u0639\u0644\u0649 \u0627\u0644\u0637\u0644\u0628 \u0628\u0634\u0643\u0644 \u0643\u0627\u0645\u0644. \u0644\u0627 \u062a\u0631\u0633\u0644 \u0625\u0634\u0639\u0627\u0631 \u0645\u0627 \u0644\u0645 \u062a\u0646\u062a\u0647\u064a \u0645\u0646 \u0627\u0644\u062a\u0646\u0641\u064a\u0630 \u0628\u0634\u0643\u0644 \u0643\u0627\u0645\u0644 \u0648\u0646\u0647\u0627\u0626\u064a.").setting("title","\u0623\u0643\u064a\u062f \u062a\u0633\u0644\u064a\u0645 \u0627\u0644\u0637\u0644\u0628").set("onok",(function(){disable_btn(t),$.post("/order/"+n+"/deliver",{token:b},(function(){window.location.reload()}),"json").fail((function(){window.location.reload()}))})).set({labels:{ok:"\u0623\u0631\u0633\u0644 \u0637\u0644\u0628 \u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645",cancel:"\u062a\u0631\u0627\u062c\u0639"}}),alertsControl.clear_style()}})),$("#approve_purchase").live("click",(function(e){e.preventDefault();var t=this,n=$("#order_id").val();alertify.confirm("\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u0637\u0644\u0628\u061f \u0627\u0633\u062a\u0644\u0627\u0645\u0643 \u0644\u0644\u0637\u0644\u0628 \u064a\u0639\u0646\u064a \u0623\u0646 \u0627\u0644\u0628\u0627\u0626\u0639 \u0623\u0646\u0647\u0649 \u062a\u0646\u0641\u064a\u0630 \u0627\u0644\u062e\u062f\u0645\u0629 \u0643\u0645\u0627 \u0647\u0648 \u0645\u0648\u0636\u062d \u0628\u0627\u0644\u0648\u0635\u0641 \u0648\u0628\u0634\u0643\u0644 \u0643\u0627\u0645\u0644. \u0644\u0627 \u062a\u0633\u062a\u0644\u0645 \u0627\u0644\u0637\u0644\u0628 \u0627\u0630\u0627 \u0643\u0627\u0646\u062a \u0647\u0646\u0627\u0643 \u0627\u0645\u0648\u0631 \u0646\u0627\u0642\u0635\u0629 \u0623\u0648 \u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644\u0629 \u0628\u0639\u062f.").setting("title","\u062a\u0623\u0643\u064a\u062f \u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u0637\u0644\u0628").set("onok",(function(){disable_btn(t),disable_btn(".ajs-button.ajs-ok"),$.post("/purchase/"+n+"/approve",{token:b},(function(){window.location.href=window.location.href.split("#")[0]+"?review=true"}),"json").fail((function(){window.location.reload()}))})).set({labels:{ok:"\u0627\u0633\u062a\u0644\u0645 \u0627\u0644\u0637\u0644\u0628",cancel:"\u062a\u0631\u0627\u062c\u0639"}}),alertsControl.clear_style()})),$("#reject_purchase_main").live("click",(function(e){e.preventDefault(),$("#reject_purchase_wrapper").toggle()})),$("#reject_purchase").live("click",(function(e){e.preventDefault();var t=$("#order_id").val(),n=$("#reject_reasons").val();if(""==n)return alertsControl.show("\u0646\u0628\u064a\u0647!","\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0627\u0644\u062a\u0639\u062f\u064a\u0644\u0627\u062a \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629");disable_btn(this),$.post("/purchase/"+t+"/reject",{token:b,reject_reasons:n},(function(){window.location.reload()}),"json").fail((function(){window.location.reload()}))})),$("#decline_purchase_main").live("click",(function(e){e.preventDefault(),$("#decline_purchase_wrapper").toggle()})),$("#decline_purchase").live("click",(function(e){e.preventDefault();var t=this,n=$("#order_id").val(),r=$("#decline_reasons").val();if(""==r)return alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0623\u0633\u0628\u0627\u0628 \u0627\u0644\u0625\u0644\u063a\u0627\u0621");disable_btn(t),$.post("/purchase/"+n+"/decline",{token:b,decline_reasons:r},(function(){window.location.href=window.location.href+"?review=true"}),"json").fail((function(){window.location.reload()}))})),$("#request_purchase_decline_main").live("click",(function(e){e.preventDefault(),$("#request_purchase_decline_wrapper").toggle()})),$("#request_purchase_decline").live("click",(function(e){e.preventDefault();var t=this,n=$("#order_id").val(),r=$("#request_purchase_decline_reasons").val();if(""==r)return alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0623\u0633\u0628\u0627\u0628 \u0637\u0644\u0628 \u0627\u0644\u0625\u0644\u063a\u0627\u0621")
;alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628 \u0625\u0644\u063a\u0627\u0621 \u0625\u0644\u0649 \u0627\u0644\u0628\u0627\u0626\u0639\u061f").setting("title","\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0625\u0644\u063a\u0627\u0621").set("onok",(function(){disable_btn(t),$.post("/purchase/"+n+"/request_purchase_decline",{token:b,decline_reasons:r},(function(){window.location.reload()}),"json").fail((function(){window.location.reload()}))})).set({labels:{ok:"\u0623\u0631\u0633\u0644 \u0637\u0644\u0628 \u0627\u0644\u0625\u0644\u063a\u0627\u0621",cancel:"\u062a\u0631\u0627\u062c\u0639"}}),alertsControl.clear_style()})),$("#complete_payment_wrapper").length&&update_total_price(),$(".service_upgrade_check, #service_quantity").live("change",(function(){update_total_price()})),$("#delete_service").live("click",(function(e){e.preventDefault();var t=$("#service_id").val();alertify.confirm("\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u062e\u062f\u0645\u0629 \u0646\u0647\u0627\u0626\u064a\u0627\u064b\u061f").set("onok",(function(){$.post("/service/"+t+"/delete",{token:b},(function(e){e.deleted&&(window.onbeforeunload=null,window.location=e.url)}),"json")})),alertsControl.clear_style()})),$("#trigger-service-running").live("click",(function(e){e.preventDefault();var t=$("#service_id").val();alertify.confirm("\u0647\u0644 \u062a\u0631\u064a\u062f \u062a\u063a\u064a\u064a\u0631 \u062d\u0627\u0644\u0629 \u0627\u0644\u062e\u062f\u0645\u0629\u061f").set("onok",(function(){$.post("/service/"+t+"/trigger_running",{token:b},(function(e){e.updated&&(window.location=e.url)}),"json")})),alertsControl.clear_style()})),$("#service_reviews .review").live("mouseover mouseleave",(function(e){"mouseover"==e.type?$(this).find(".review_reply_btn").removeClass("hidden"):$(this).find(".review_reply_btn").addClass("hidden")})),$(".add_reply_btn").live("click",(function(e){e.preventDefault(),$(this).addClass("hidden"),$("#seller_reply_form_"+$(this).attr("id")).slideDown(300)})),$(".hide_reply_btn").live("click",(function(e){e.preventDefault(),$("#seller_reply_form_"+$(this).attr("data-id")).slideUp(10),$(this).parent().parent().parent().prev(".o-media").find(".add_reply_btn").removeClass("hidden")})),$(".send_reply_btn").live("click",(function(e){e.preventDefault();var t=$(this).closest(".seller_reply"),n=t.attr("id").split("_").slice(-1)[0],r=t.attr("data-id"),i=t.find(".seller_reply_text"),o=$(this).parent();i.val()&&""!==i.val()?($(this).text("\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0631\u0633\u0627\u0644..."),$.post("/service/"+r+"/review/"+n,{token:b,seller_reply:i.val()},(function(e){e.reply_created?(o.css("display","none"),location.reload()):location.reload()}),"json")):alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0644\u0645 \u062a\u0642\u0645 \u0628\u0625\u062f\u062e\u0627\u0644 \u0623\u064a \u0631\u062f \u0628\u0639\u062f.")})),$("#order_finished_checkbox").live("click",(function(){checkbox=$(this),checkbox.is(":checked")&&(alertify.confirm("\u0647\u0644 \u062a\u0645 \u062a\u0646\u0641\u064a\u0630 \u0627\u0644\u0637\u0644\u0628 \u0628\u0634\u0643\u0644 \u0643\u0627\u0645\u0644\u061f\n\n\u062a\u0639\u0644\u064a\u0645 \u0627\u0644\u0637\u0644\u0628 \u0639\u0644\u0649 \u0623\u0646\u0647 \u0645\u0646\u062a\u0647\u064a \u0642\u0628\u0644 \u062a\u0646\u0641\u064a\u0630\u0647 \u0642\u062f \u064a\u0624\u062f\u064a \u0644\u0625\u064a\u0642\u0627\u0641 \u062d\u0633\u0627\u0628\u0643.").set("onok",(function(){checkbox.attr("checked",!0)})).set("oncancel",(function(){checkbox.removeAttr("checked")})),alertsControl.clear_style())})),h(),$("#forum_name_select").live("change",(function(){h()})),$("#service_add_image").live("click",(function(e){e.preventDefault(),$(this).addClass("hidden"),$("#service_add_video").removeClass("hidden"),$(".service_video").slideUp(300),$(".service_image").slideToggle(300),$(".service_video .largeview").find("input[name=video_url]").val("")})),$("#service_add_video").live("click",(function(e){e.preventDefault(),$(this).addClass("hidden"),$("#service_add_image").removeClass("hidden"),$(".service_image").slideUp(300),$(".service_video").slideToggle(300);var t=$(".uploadbox").html();$(".uploadbox").html(t)})),$(".block-images-unit-active").live("click",(function(){var e=$(this).attr("data-id");$(this).parent().next(".modal").find(".carousel-item").removeClass("active"),$("#"+e).addClass("active")})),$(".block-images-unit").live("click",(function(e){e.preventDefault(),e.stopPropagation(),$("#large-modal").find(".carousel-item").removeClass("active"),$("#img-"+$(".profile-builder-flex").find(".block-images-unit").index(this)).addClass("active"),$("#large-modal").modal("show")})),$(".btn-close-white").live("click",(function(){$(".modal").find(".carousel-item").removeClass("active")})),$("#upgrade-service-btn").live("click",(function(e){if(e.preventDefault(),$("#upgrade_service").hasClass("hidden"))$("#upgrade_service").removeClass("hidden"),$("#upgrades-description").addClass("hidden"),$(".service-upgrade-title-block").find(".multi-line-input").focus();else{var t=$("#upgrade_service .upgrade-service-inputs").length,n=$("#upgrade_service .upgrade-service-inputs:last").clone(),r=hsoub_grs(20);n.attr("id","upgrade-service-inputs_"+r),n.attr("data-sort",parseInt(n.attr("data-sort"))+1),n.find(".service-upgrade-title").attr("name","service_upgrade_title_"+r),n.find(".service-upgrade-price").attr("name","service_upgrade_price_"+r),n.find(".service-upgrade-price").attr("id","service-upgrade-price-"+r),n.find(".service-upgrade-sort").attr("name","service_upgrade_sort_"+r),n.find(".service-upgrade-sort").attr("value",parseInt(n.attr("data-sort"))),n.find(".service-upgrade-days").attr("name","service_upgrade_days_"+r),n.find(".service-upgrade-days").attr("id","service-upgrade-days-"+r),n.find(".service-upgrade-title").val(""),n.find(".multi-line-input").text(""),n.find(".service-upgrade-days").val("01"),n.find(".service-upgrade-days").removeClass("hidden"),n.find(".service-upgrade-days").parent().removeClass("hidden"),n.find("#service-upgrade-price-"+r+".selectize-control:last").remove(),n.find("#service-upgrade-days-"+r+".selectize-control:last").remove(),$("#upgrade-service-inputs_wrapper").append(n),$("#service-upgrade-price-"+r).selectize({options:upgrades_lists.prices_list,readOnly:!0,onDelete:function(){return!1}}),$("#service-upgrade-days-"+r).selectize({options:upgrades_lists.upgrade_days,optgroups:[{groupName:"\u0633\u064a\u0632\u064a\u062f \u0627\u0644\u0645\u062f\u0629"}],optgroupField:"group",optgroupLabelField:"groupName",optgroupValueField:"groupName",readOnly:!0,onDelete:function(){return!1}}),$("#service-upgrade-price-"+r)[0].selectize.setValue(upgrades_lists.prices_list[0].value),$("#service-upgrade-days-"+r)[0].selectize.setValue(upgrades_lists.upgrade_days[0].value),$("#upgrade-service-inputs_"+r).find(".multi-line-input").focus(),t>=4&&$("#upgrade-service-btn").addClass("hidden")}})),$(".remove-upgrade-btn").live("click",(function(e){e.preventDefault();var t=$("#upgrade_service .upgrade-service-inputs").length,n=$(this).closest(".upgrade-service-inputs");n.find(".service-upgrade-title").attr("value",""),t<=1?($("#upgrade_service").addClass("hidden"),$("#upgrades-description").removeClass("hidden")):n.remove(),t<=5&&$("#upgrade-service-btn").removeClass("hidden")})),$(".sort-block-upgrade-icon-top").live("click",(function(){var e=$(this).closest(".upgrade-service-inputs");if("0"!=e.attr("data-sort")){var t=e.prev(".upgrade-service-inputs");e.attr("data-sort",parseInt(e.attr("data-sort"))-1),e.find(".service-upgrade-sort").attr("value",parseInt(e.attr("data-sort"))),t.attr("data-sort",parseInt(t.attr("data-sort"))+1),t.find(".service-upgrade-sort").attr("value",parseInt(t.attr("data-sort"))),m()}})),$(".sort-block-upgrade-icon-down").live("click",(function(){var e=$(this).closest(".upgrade-service-inputs");if(e.attr("data-sort")<$("#upgrade_service .upgrade-service-inputs").length-1){var t=e.next(".upgrade-service-inputs");e.attr("data-sort",parseInt(e.attr("data-sort"))+1),e.find(".service-upgrade-sort").attr("value",parseInt(e.attr("data-sort"))),t.attr("data-sort",parseInt(t.attr("data-sort"))-1),t.find(".service-upgrade-sort").attr("value",parseInt(t.attr("data-sort"))),m()}})),$(".delete_social_account").live("click",(function(e){e.preventDefault(),button=$(this);var t=button.attr("data-id");alertify.confirm("\u0647\u0644 \u062a\u0631\u064a\u062f \u0627\u0632\u0627\u0644\u0629 \u0647\u0630\u0627 \u0627\u0644\u062d\u0633\u0627\u0628 \u0645\u0646 \u062d\u0633\u0627\u0628\u0643 \u0641\u064a \u062e\u0645\u0633\u0627\u062a\u061f").set("onok",(function(){button.find("i").addClass("fa fa-spinner fa-spin fa-fw"),$.post("/ajax/auth/deactivate/"+t,{token:b},(function(e){e.success&&$("#sa-"+t).fadeOut(300)}),"json")})),alertsControl.clear_style()})),$(".report_spam_message").click((function(e){e.preventDefault(),button=$(this);var t=$("#message_id").val();alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0623\u0646\u0643 \u062a\u0631\u064a\u062f \u0627\u0644\u062a\u0628\u0644\u064a\u063a \u0639\u0646 \u0647\u0630\u0647 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0639\u0644\u0649 \u0623\u0646\u0647\u0627 \u0645\u0632\u0639\u062c\u0629\u061f\n\n\u0633\u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0648\u0645\u0646\u0639 \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0645\u0646 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0643 \u0628\u0627\u0644\u0645\u0633\u062a\u0642\u0628\u0644.\n").set("onok",(function(){button.find("i").addClass("fa fa-spinner fa-spin fa-fw"),$.post("/ajax/message/"+t+"/report/",{token:b},(function(e){e.success&&(window.location="/messages")}),"json")})),alertsControl.clear_style()})),$("#remove_report").click((function(e){e.preventDefault(),form=$("#remove_report_form"),alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0625\u0628\u0644\u0627\u063a\u061f").set("onok",(function(){form.submit()})),alertsControl.clear_style()})),$("#turn_off_post_notifications").click((function(){chk=$(this);var e=1;chk.is(":checked")||(e=0),chk.attr("disabled",!0),url=window.location.pathname+"/switch/"+e,$.post(url,{token:b},(function(e){e.success&&alertsControl.show("\u0625\u0634\u0639\u0627\u0631",e.msg),chk.prop("disabled",!1)}),"json")})),alertsControl.set_alertify_defaults(),searchFilter.init(),ordersFilter.init(),messagesFilter.init(),paymentsControl.init(),paypal.init(),collectionControl.init(),cartControl.init(),comments.init(),FileUploader.init("div#attachmentsUploader","attachment"),FileUploader.init("div#assetsUploader","asset"),VoiceMessageUploader.init(),$(".answer").hide(),$(".question").click((function(){var e=$(this).parent("li").find(".answer");"none"==e.css("display")?($(".question").removeClass("active"),$(".answer").slideUp(),e.slideDown(),$(this).addClass("active")):(e.slideUp(),$(this).removeClass("active"))})),$(".QP").click((function(){$(this).next("ul.questions").slideToggle(),$(this).toggleClass("active")})),$(".common-tabs").on("click",".common-tabs__title-item",(function(e){e.preventDefault(),$(this).parent().children(".common-tabs__title-item").removeClass("common-tabs__title-item--active"),$(".tab-content").removeClass("show");var t=$(this).parent().parent().find(".common-tabs__body-item");t.hide(),t[$(this).data("tab-index")].style="display: block",$(this).addClass("common-tabs__title-item--active")}));for(var w=document.querySelectorAll(".faq__list>div>div"),C=0;C<w.length;C++)w[C].addEventListener("click",g);$(".input_stars_item").live("mouseover",(function(e){var t=$(this).parent();t.children(".input_stars_item").each((function(){$(this).find("i").attr("class","fa fa-star-o")}));var n=$(e.target).parent().attr("data-id");t.children(".input_stars_item").each((function(e){e<n&&$(this).find("i").attr("class","fa fa-star u-clr--amber")}))})),$(".input_stars_item").live("mouseout",(function(){var e=$(this).parent();e.children(".input_stars_item").each((function(){$(this).find("i").attr("class","fa fa-star-o")}));var t=$(this).parent().parent().prev("div").find("input").val();e.children(".input_stars_item").each((function(e){e<t&&$(this).find("i").attr("class","fa fa-star u-clr--amber")}))})),$(".input_stars_item").live("click",(function(e){var t=$(this).parent().parent(),n=$(e.target).parent().attr("data-id");t.prev("div").find("input").attr("value",parseInt(n)),$(this).parent().children(".input_stars_item").each((function(e){e<n&&$(this).find("i").attr("class","fa fa-star u-clr--amber")}))})),$(".select_on_focus").live("click",(function(e){e.preventDefault,$(this).select()})),$("#scroll-to").live("click",(function(){var e=document.getElementById("how_to_work");window.scrollTo(e.offsetLeft,e.offsetTop)})),$("#new_message_submit").live("click",(function(){$("#new_message_submit").attr("disabled",!0),alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u062a\u062d\u062a\u0627\u062c \u0644\u062a\u0648\u062b\u064a\u0642 \u0647\u0648\u064a\u062a\u0643 \u0644\u0645\u0648\u0627\u0635\u0644\u0629 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0645\u0648\u0642\u0639")})),$("#copy").live("click",(function(){var e=$(this).prev("#upload-link"),t=$("<input>");$("body").append(t),t.val(escapeHtml($(e).text())).select(),document.execCommand("copy"),t.remove(),alert("The link copied successfully")})),$("#assets_form").live("submit",(function(e){e.preventDefault();var t=$(this),n=$("#assets_submit"),r=disable_btn(n),i={token:$("#user_token").val(),"assets[]":FileUploader.get_files()},o={type:"post",url:t.attr("action"),data:i};$.ajax(o).done((function(){t.trigger("reset"),FileUploader.reset_dropzone()})).fail((function(e,t,n){"timeout"==n?alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0627\u0646\u0642\u0636\u0649 \u0648\u0642\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644"):303==e.status?window.location.href=e.responseText:500==e.status?alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642"):e.responseText?alertsControl.show("\u0625\u0634\u0639\u0627\u0631",e.responseText):alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0639\u0630\u0631\u0627 \u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0625\u0631\u0633\u0627\u0644\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u0627.")})).always((function(){enable_btn(n,r)}))})),$(".modal").modal({backdrop:"static",keyboard:!1})}));var notificationsUtil=function(){function e(){var e=Cookies.get("last_notification_ts");R||(comments.enabled()||cartControl.enabled()||!e||(new Date).getTime()-e>F-100)&&(Cookies.set("last_notification_ts",(new Date).getTime()),R=!0,$.getJSON("/ajax/account_stats",comments.fetch_params(),(function(e){n(e)})).always((function(){R=!1})))}function t(t){clearInterval(window.auto_update_interval),window.auto_update_interval=setInterval((function(){e()}),t)}function n(e){if(d(e.shoping_cart_count,e.cart_data),loggedIn){f(e.unread_notifications_count,e.notifications_data),h(e.unread_messages_count,e.messages_data),l(e);var t=e.unread_notifications_count+e.unread_messages_count+e.unread_purchases_counts+e.unread_orders_counts;t>0?("/search"==window.location.pathname?$(document).attr("title",pageTitle):$(document).attr("title","("+t+") "+pageTitle),C<t&&(N.show(),v())):$(document).attr("title",pageTitle),e.manage_order&&ordersUtil.append_manage_order(e.manage_order),e.manage_purchase&&ordersUtil.append_manage_purchase(e.manage_purchase),C=t,c(e.unread_purchases_counts+e.unread_orders_counts),comments.append(e.comments_data)}}function r(){$(k.element).on("click",(function(){var e=[];$.each(E.components.items,(function(t,n){e.push(n.config.id.split("-")[1])})),jQuery.unique(e),0!=e.length&&$.post("/notifications/viewed",{"mnotification_ids[]":e},(function(e){n(e)}),"json")}))}function i(){$(window).on("beforeunload",(function(){m()})),$(window).on("blur focus",(function(n){if($(this).data("previous_type")!=n.type)switch(n.type){case"blur":t(L);break;case"focus":p(),e(),t(F)}$(this).data("previous_type",n.type)})),t(F)}function o(e){k.badge=e}function s(e){D.badge=e,A.badge=e}function a(e){T.badge=e}function l(e){M.mainOrdersItem.badge=e.unread_orders_counts,M.mainPurchasesItem.badge=e.unread_purchases_counts,M.sidebarOrdersItem.badge=e.unread_orders_counts,M.sidebarPurchasesItem.badge=e.unread_purchases_counts}function c(e){screen.width<991&&(x.badge=e)}function u(e){T=e.find("cartTrigger")}function d(e){a(e)}function f(e,t){o(e),E.replace(t)}function h(e,t){s(e),S.replace(t)}function p(){window.HTMLAudioElement&&window.localStorage&&localStorage.setItem("audioKey",j)}function m(){window.HTMLAudioElement&&window.localStorage&&localStorage.removeItem("audioKey")}function g(){if(window.HTMLAudioElement&&window.localStorage)return localStorage.getItem("audioKey")}function v(){try{g()||p(),g()==j&&O.play()}catch(e){}}function y(e){C=current_unread_count,E=(N=e).find("notifications"),S=N.find("messages"),k=N.find("notificationsTrigger"),D=N.find("privateMsgsTrigger"),A=e.find("messageItem"),x=N.find("headerLauncher"),M={mainOrdersItem:N.find("mainOrdersItem"),mainPurchasesItem:N.find("mainPurchasesItem"),sidebarOrdersItem:N.find("sidebarOrdersItem"),sidebarPurchasesItem:N.find("sidebarPurchasesItem")}}function b(){j=1e4*Math.random(),p(),window.HTMLAudioElement&&(O=new Audio("https://khamsat.hsoubcdn.com/assets/media/notification-06ecca16105b21b4882e4dd9ac1180fda3fd7f7a3424daa14e22c028318a85c5.mp3"))}function _(){var e=$("#accounts_token").val();$("body").on("click",".authentication_is_required",(function(t){t.preventDefault();var n="\u0627\u0646\u0634\u0623 \u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f \u0623\u0648 \u0633\u062c\u0644 \u062f\u062e\u0648\u0644 \u0644\u0644\u0645\u062a\u0627\u0628\u0639\u0629";alertify.confirm(n).setting("title","\u0625\u0634\u0639\u0627\u0631").set("onok",(function(){window.location="/register?t="+e})).set({labels:{ok:"\u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f",cancel:"\u0645\u0648\u0627\u0641\u0642"}}).setting("title","\u0623\u0646\u062a \u063a\u064a\u0631 \u0645\u0633\u062c\u0644 \u062f\u062e\u0648\u0644"),alertsControl.clear_style()}))}function w(e){$((function(){loggedIn&&(y(e),b(),r()),u(e),i(),_()}))}var C,x,E,S,k,D,T,A,N,O,j,M={},R=!1,F=1e4,L=18e4;return{init:w,get_notifications:e}}();$(document).ready((function(){function e(e){return-1!==e.indexOf("https://khamsat.com")?e:"#"}$(".tabs-list__item").live("click",(function(){if($(this).hasClass("disabled"));else{"order-comments"==$(this).attr("id")?hideHsoubTabs():showHsoubTabs(),$(this).closest(".tabs").find(".tabs-list__item").removeClass("active"),$(this).addClass("active");var e=$("#tab-content--"+$(this).attr("id"));e.closest(".tab-content").find(".tab-content--item").addClass("hidden"),e.removeClass("hidden")}})),$(".filters-list .c-list__link--category").click((function(e){"UL"==$(this).parent().children(".c-list--sub").prop("tagName")&&e.preventDefault(),$(this).parent().children(".c-list--sub").toggleClass("u-hidden")})),$(".c-list__link--sub_category").click((function(e){"UL"==$(this).parent().next(".c-list--sub").prop("tagName")&&e.preventDefault(),$(this).parent().next(".c-list--sub").toggleClass("u-hidden")})),$(".js-filter-sidebar-button").live("click",(function(t){t.preventDefault();var n=$(".js-filter-sidebar-group"),r=$(".js-filter-back-arrow"),i=e(window.location.href);n.hasClass("slide")?(n.removeClass("slide"),r.attr("href","#"),$(".hsoub").css("overflow-y","scroll")):(n.addClass("slide"),r.attr("href",i),$(".hsoub").css("overflow-y","hidden"))})),$(".set_as_buyer").on("click",(function(){alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0625\u0644\u063a\u0627\u0621 \u062d\u0627\u0644\u0629 \u0628\u0627\u0626\u0639 \u0645\u0646 \u062d\u0633\u0627\u0628\u0643 \u0633\u064a\u0624\u062f\u064a \u0644\u062a\u0639\u0637\u064a\u0644 \u062c\u0645\u064a\u0639 \u062e\u062f\u0645\u0627\u062a\u0643 \u0645\u0624\u0642\u062a\u064b\u0627.")})),$(".hdrIcons").click((function(){var e=$(this),t=e.attr("data-menu");e.hasClass("opened")?($(t).slideUp("fast"),$(t).removeClass("opened"),e.removeClass("opened")):($("#menu.opened,.srchMobHdr.opened,.aqsamMobHdr.opened").slideUp("fast"),$("#menu,.srchMobHdr,.aqsamMobHdr").removeClass("opened"),$(".hdrIcons").removeClass("opened"),$(t).slideDown("fast"),$(t).addClass("opened"),e.addClass("opened"))}))})),$(document).ready((function(){$("ul.tabs").each((function(){var e,t,n=$(this).find("a");(e=$(n.filter('[href="'+location.hash+'"]')[0]||n[0])).parent().addClass("active"),t=$(e[0].hash),n.not(e).each((function(){$(this.hash).hide()})),$(this).on("click","a",(function(n){e.parent().removeClass("active"),t.hide(),e=$(this),t=$(this.hash),e.parent().addClass("active"),t.show(),n.preventDefault()}))}))})),jQuery&&function(e){function t(t,i){var o=t?e(this):i,s=e(o.attr("data-jq-dropdown")),a=o.hasClass("jq-dropdown-open");if(t){if(e(t.target).hasClass("jq-dropdown-ignore"))return;t.preventDefault(),t.stopPropagation()}else if(o!==i.target&&e(i.target).hasClass("jq-dropdown-ignore"))return;n(),a||o.hasClass("jq-dropdown-disabled")||(o.addClass("jq-dropdown-open"),s.data("jq-dropdown-trigger",o).show(),r(),s.trigger("show",{jqDropdown:s,trigger:o}))}function n(t){var n=t?e(t.target).parents().addBack():null;if(n&&n.is(".jq-dropdown")){if(!n.is(".jq-dropdown-menu"))return;if(!n.is("A"))return}var r=jQuery.Event("hide");e(document).find(".jq-dropdown:visible").each((function(){var t=e(this);t.hide().removeData("jq-dropdown-trigger").trigger("hide",{jqDropdown:t})})),r.isDefaultPrevented()||(e(document).find(".jq-dropdown:visible").each((function(){var t=e(this);t.hide().removeData("jq-dropdown-trigger").trigger("hide",{jqDropdown:t})})),e(document).find(".jq-dropdown-open").removeClass("jq-dropdown-open"))}function r(){var t=e(".jq-dropdown:visible").eq(0),n=t.data("jq-dropdown-trigger"),r=n?parseInt(n.attr("data-horizontal-offset")||0,10):null,i=n?parseInt(n.attr("data-vertical-offset")||0,10):null;0!==t.length&&n&&(t.hasClass("jq-dropdown-relative")?t.css({right:t.hasClass("jq-dropdown-anchor-right")?n.position().right-(t.outerWidth(!0)-n.outerWidth(!0))-parseInt(n.css("margin-right"),10)+r:n.position().right+parseInt(n.css("margin-right"),10)+r,top:n.position().top+n.outerHeight(!0)-parseInt(n.css("margin-top"),10)+i}):t.css({right:t.hasClass("jq-dropdown-anchor-right")?n.offset().right-(t.outerWidth()-n.outerWidth())+r:n.offset().right+r,top:n.offset().top+n.outerHeight()+i}))}e.extend(e.fn,{jqDropdown:function(r,i){switch(r){case"show":return t(null,e(this)),e(this);case"hide":return n(),e(this);case"attach":return e(this).attr("data-jq-dropdown",i);case"detach":return n(),e(this).removeAttr("data-jq-dropdown");case"disable":return e(this).addClass("jq-dropdown-disabled");case"enable":return n(),e(this).removeClass("jq-dropdown-disabled")}}}),e(document).on("click.jq-dropdown","[data-jq-dropdown]",t),e(document).on("click.jq-dropdown",n),e(window).on("resize",r)}(jQuery);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Emitter=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(e){this._callbacks=this._callbacks||{};var t=this._callbacks[e];if(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=t,s=!0,a=0;for(o=s?o:o[Symbol.iterator]();;){var l;if(s){if(a>=o.length)break;l=o[a++]}else{if((a=o.next()).done)break;l=a.value}l.apply(this,r)}}return this}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(var r=0;r<n.length;r++){if(n[r]===t){n.splice(r,1);break}}return this}}]),e}(),Dropzone=function(){function e(t,n){_classCallCheck(this,e);var r=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),i=void 0,o=void 0;if(r.element=t,r.version=e.version,r.defaultOptions.previewTemplate=r.defaultOptions.previewTemplate.replace(/\n*/g,""),r.clickableElements=[],r.listeners=[],r.files=[],"string"==typeof r.element&&(r.element=document.querySelector(r.element)),!r.element||null==r.element.nodeType)throw new Error("Invalid dropzone element.");if(r.element.dropzone)throw new Error("Dropzone already attached.");e.instances.push(r),r.element.dropzone=r;var s,a=null!=(o=e.optionsForElement(r.element))?o:{};if(r.options=e.extend({},r.defaultOptions,a,null!=n?n:{}),r.options.forceFallback||!e.isBrowserSupported())return s=r.options.fallback.call(r),_possibleConstructorReturn(r,s);if(null==r.options.url&&(r.options.url=r.element.getAttribute("action")),!r.options.url)throw new Error("No URL provided.");if(r.options.acceptedFiles&&r.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(r.options.uploadMultiple&&r.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return r.options.acceptedMimeTypes&&(r.options.acceptedFiles=r.options.acceptedMimeTypes,delete r.options.acceptedMimeTypes),null!=r.options.renameFilename&&(r.options.renameFile=function(e){return r.options.renameFilename.call(r,e.name,e)}),r.options.method=r.options.method.toUpperCase(),(i=r.getExistingFallback())&&i.parentNode&&i.parentNode.removeChild(i),!1!==r.options.previewsContainer&&(r.options.previewsContainer?r.previewsContainer=e.getElement(r.options.previewsContainer,"previewsContainer"):r.previewsContainer=r.element),r.options.clickable&&(!0===r.options.clickable?r.clickableElements=[r.element]:r.clickableElements=e.getElements(r.options.clickable,"clickable")),r.init(),r}return _inherits(e,Emitter),_createClass(e,null,[{key:"initClass",value:function(){this.prototype.Emitter=Emitter,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var t=void 0;this.element.className=this.element.className+" dz-browser-not-supported";var n=this.element.getElementsByTagName("div"),r=!0,i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var s=o;if(/(^| )dz-message($| )/.test(s.className)){t=s,s.className="dz-message";break}}t||(t=e.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t));var a=t.getElementsByTagName("span")[0];return a&&(null!=a.textContent?a.textContent=this.options.dictFallbackMessage:null!=a.innerText&&(a.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,n,r){var i={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},o=e.width/e.height;null==t&&null==n?(t=i.srcWidth,n=i.srcHeight):null==t?t=n*o:null==n&&(n=t/o);var s=(t=Math.min(t,i.srcWidth))/(n=Math.min(n,i.srcHeight));if(i.srcWidth>t||i.srcHeight>n)if("crop"===r)o>s?(i.srcHeight=e.height,i.srcWidth=i.srcHeight*s):(i.srcWidth=e.width,i.srcHeight=i.srcWidth/s);else{if("contain"!==r)throw new Error("Unknown resizeMethod '"+r+"'");o>s?n=t/o:t=n*o}return i.srcX=(e.width-i.srcWidth)/2,i.srcY=(e.height-i.srcHeight)/2,i.trgWidth=t,i.trgHeight=n,i},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},
previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:function(){},dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:function(){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var n=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){t.previewElement=e.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement);var r=t.previewElement.querySelectorAll("[data-dz-name]"),i=!0,o=0;for(r=i?r:r[Symbol.iterator]();;){var s;if(i){if(o>=r.length)break;s=r[o++]}else{if((o=r.next()).done)break;s=o.value}var a=s;a.textContent=t.name}var l=t.previewElement.querySelectorAll("[data-dz-size]"),c=!0,u=0;for(l=c?l:l[Symbol.iterator]();;){if(c){if(u>=l.length)break;a=l[u++]}else{if((u=l.next()).done)break;a=u.value}a.innerHTML=this.filesize(t.size)}this.options.addRemoveLinks&&(t._removeLink=e.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink));var d=function(r){return r.preventDefault(),r.stopPropagation(),t.status===e.UPLOADING?e.confirm(n.options.dictCancelUploadConfirmation,(function(){return n.removeFile(t)})):n.options.dictRemoveFileConfirmation?e.confirm(n.options.dictRemoveFileConfirmation,(function(){return n.removeFile(t)})):n.removeFile(t)},f=t.previewElement.querySelectorAll("[data-dz-remove]"),h=!0,p=0;for(f=h?f:f[Symbol.iterator]();;){var m;if(h){if(p>=f.length)break;m=f[p++]}else{if((p=f.next()).done)break;m=p.value}m.addEventListener("click",d)}}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");var n=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),r=!0,i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var s=o;s.alt=e.name,s.src=t}return setTimeout((function(){return e.previewElement.classList.add("dz-image-preview")}),1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error);var n=e.previewElement.querySelectorAll("[data-dz-errormessage]"),r=!0,i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}o.textContent=t}}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t){if(e.previewElement){var n=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),r=!0,i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var s=o;"PROGRESS"===s.nodeName?s.value=t:s.style.width=t+"%"}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n,o=!0,s=0;for(i=o?i:i[Symbol.iterator]();;){var a;if(o){if(s>=i.length)break;a=i[s++]}else{if((s=i.next()).done)break;a=s.value}var l=a;for(var c in l){var u=l[c];e[c]=u}}return e}}]),_createClass(e,[{key:"getAcceptedFiles",value:function(){return this.files.filter((function(e){return e.accepted})).map((function(e){return e}))}},{key:"getRejectedFiles",value:function(){return this.files.filter((function(e){return!e.accepted})).map((function(e){return e}))}},{key:"getFilesWithStatus",value:function(e){return this.files.filter((function(t){return t.status===e})).map((function(e){return e}))}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(e.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(e.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(e.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter((function(t){return t.status===e.UPLOADING||t.status===e.QUEUED})).map((function(e){return e}))}},{key:"init",value:function(){var t=this;("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(e.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length)&&function n(){return t.hiddenFileInput&&t.hiddenFileInput.parentNode.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null===t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!==t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),null!==t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",e.getElement(t.options.hiddenInputContainer,"hiddenInputContainer").appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",(function(){var e=t.hiddenFileInput.files;if(e.length){var r=e,i=!0,o=0;for(r=i?r:r[Symbol.iterator]();;){var s;if(i){if(o>=r.length)break;s=r[o++]}else{if((o=r.next()).done)break;s=o.value}var a=s;t.addFile(a)}}return t.emit("addedfiles",e),n()}))}();this.URL=null!==window.URL?window.URL:window.webkitURL;var n=this.events,r=!0,i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var s=o;this.on(s,this.options[s])}this.on("uploadprogress",(function(){return t.updateTotalUploadProgress()})),this.on("removedfile",(function(){return t.updateTotalUploadProgress()})),this.on("canceled",(function(e){return t.emit("complete",e)})),this.on("complete",(function(){if(0===t.getAddedFiles().length&&0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length)return setTimeout((function(){return t.emit("queuecomplete")}),0)}));var a=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(e){return t.emit("dragstart",e)},dragenter:function(e){return a(e),t.emit("dragenter",e)},dragover:function(e){var n=void 0;try{n=e.dataTransfer.effectAllowed}catch(e){}return e.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",a(e),t.emit("dragover",e)},dragleave:function(e){return t.emit("dragleave",e)},drop:function(e){return a(e),t.drop(e)},dragend:function(e){return t.emit("dragend",e)}}}],this.clickableElements.forEach((function(n){return t.listeners.push({element:n,events:{click:function(r){return(n!==t.element||r.target===t.element||e.elementInside(r.target,t.element.querySelector(".dz-message")))&&t.hiddenFileInput.click(),!0}}})})),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,e.instances.splice(e.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e=void 0,t=0,n=0;if(this.getActiveFiles().length){var r=this.getActiveFiles(),i=!0,o=0;for(r=i?r:r[Symbol.iterator]();;){var s;if(i){if(o>=r.length)break;s=r[o++]}else{if((o=r.next()).done)break;s=o.value}var a=s;t+=a.upload.bytesSent,n+=a.upload.total}e=100*t/n}else e=100;return this.emit("totaluploadprogress",e,n,t)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var t=void 0,n=void 0;if(t=this.getExistingFallback())return t;var r='<div class="dz-fallback">';this.options.dictFallbackText&&(r+="<p>"+this.options.dictFallbackText+"</p>"),r+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';var i=e.createElement(r);return"FORM"!==this.element.tagName?(n=e.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(i):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=n?n:i}},{key:"getExistingFallback",value:function(){for(var e=function(e){var t=e,n=!0,r=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if((r=t.next()).done)break;i=r.value}var o=i;if(/(^| )fallback($| )/.test(o.className))return o}},t=["div","form"],n=0;n<t.length;n++){var r,i=t[n];if(r=e(this.element.getElementsByTagName(i)))return r}}},{key:"setupEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var n in e.events){var r=e.events[n];t.push(e.element.addEventListener(n,r,!1))}return t}()}))}},{key:"removeEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var n in e.events){var r=e.events[n];t.push(e.element.removeEventListener(n,r,!1))}return t}()}))}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach((function(e){return e.classList.remove("dz-clickable")})),this.removeEventListeners(),this.disabled=!0,this.files.map((function(t){return e.cancelUpload(t)}))}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach((function(e){return e.classList.add("dz-clickable")})),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,n="b";if(e>0){for(var r=["tb","gb","mb","kb","b"],i=0;i<r.length;i++){var o=r[i];if(e>=Math.pow(this.options.filesizeBase,4-i)/10){t=e/Math.pow(this.options.filesizeBase,4-i),n=o;break}}t=Math.round(10*t)/10}return"<strong>"+t+"</strong> "+this.options.dictFileSizeUnits[n]}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t=[],n=0;n<e.dataTransfer.files.length;n++)t[n]=e.dataTransfer.files[n];if(this.emit("addedfiles",t),t.length){var r=e.dataTransfer.items;r&&r.length&&null!=r[0].webkitGetAsEntry?this._addFilesFromItems(r):this.handleFiles(t)}}}},{key:"paste",value:function(e){if(null!=__guard__(null!=e?e.clipboardData:void 0,(function(e){return e.items}))){this.emit("paste",e);var t=e.clipboardData.items;return t.length?this._addFilesFromItems(t):void 0}}},{key:"handleFiles",value:function(e){var t=e,n=!0,r=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if((r=t.next()).done)break;i=r.value}var o=i;this.addFile(o)}}},{key:"_addFilesFromItems",value:function(e){var t=this;return function(){var n=[],r=e,i=!0,o=0;for(r=i?r:r[Symbol.iterator]();;){var s;if(i){if(o>=r.length)break;s=r[o++]}else{if((o=r.next()).done)break;s=o.value}var a,l=s;null!=l.webkitGetAsEntry&&(a=l.webkitGetAsEntry())?a.isFile?n.push(t.addFile(l.getAsFile())):a.isDirectory?n.push(t._addFilesFromDirectory(a,a.name)):n.push(void 0):null!=l.getAsFile&&(null==l.kind||"file"===l.kind)?n.push(t.addFile(l.getAsFile())):n.push(void 0)}return n}()}},{key:"_addFilesFromDirectory",value:function(e,t){var n=this,r=e.createReader(),i=function(e){return __guardMethod__(console,"log",(function(t){return t.log(e)}))};return function e(){return r.readEntries((function(r){if(r.length>0){var i=r,o=!0,s=0;for(i=o?i:i[Symbol.iterator]();;){var a;if(o){if(s>=i.length)break;a=i[s++]}else{if((s=i.next()).done)break;a=s.value}var l=a;l.isFile?l.file((function(e){if(!n.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath=t+"/"+e.name,n.addFile(e)})):l.isDirectory&&n._addFilesFromDirectory(l,t+"/"+l.name)}e()}return null}),i)}()}},{key:"accept",value:function(t,n){return this.options.maxFilesize&&t.size>1024*this.options.maxFilesize*1024?n(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):e.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(n(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,n):n(this.options.dictInvalidFileType)}},{key:"addFile",value:function(t){var n=this;return t.upload={uuid:e.uuidv4(),progress:0,total:t.size,bytesSent:0,filename:this._renameFile(t),chunked:this.options.chunking&&(this.options.forceChunking||t.size>this.options.chunkSize),totalChunkCount:Math.ceil(t.size/this.options.chunkSize)},this.files.push(t),t.status=e.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,(function(e){return e?(t.accepted=!1,n._errorProcessing([t],e)):(t.accepted=!0,n.options.autoQueue&&n.enqueueFile(t)),n._updateMaxFilesReachedClass()}))}},{key:"enqueueFiles",value:function(e){var t=e,n=!0,r=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if((r=t.next()).done)break;i=r.value}var o=i;this.enqueueFile(o)}return null}},{key:"enqueueFile",value:function(t){var n=this;if(t.status!==e.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=e.QUEUED,this.options.autoProcessQueue)return setTimeout((function(){return n.processQueue()}),0)}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((function(){return t._processThumbnailQueue()}),0)}},{key:"_processThumbnailQueue",value:function(){var e=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,(function(n){return e.emit("thumbnail",t,n),e._processingThumbnail=!1,e._processThumbnailQueue()}))}}},{key:"removeFile",value:function(t){if(t.status===e.UPLOADING&&this.cancelUpload(t),this.files=without(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(t){null==t&&(t=!1);var n=this.files.slice(),r=!0,i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var s=o;(s.status!==e.UPLOADING||t)&&this.removeFile(s)}return null}},{key:"resizeImage",value:function(t,n,r,i,o){var s=this;return this.createThumbnail(t,n,r,i,!0,(function(n,r){if(null==r)return o(t);var i=s.options.resizeMimeType;null==i&&(i=t.type);var a=r.toDataURL(i,s.options.resizeQuality);return"image/jpeg"!==i&&"image/jpg"!==i||(a=ExifRestore.restore(t.dataURL,a)),o(e.dataURItoBlob(a))}))}},{key:"createThumbnail",value:function(e,t,n,r,i,o){var s=this,a=new FileReader;return a.onload=function(){if(e.dataURL=a.result,"image/svg+xml"!==e.type)return s.createThumbnailFromUrl(e,t,n,r,i,o);null!=o&&o(a.result)},a.readAsDataURL(e)}},{key:"createThumbnailFromUrl",value:function(e,t,n,r,i,o,s){var a=this,l=document.createElement("img");return s&&(l.crossOrigin=s),l.onload=function(){var s=function(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&i&&(s=function(e){return EXIF.getData(l,(function(){return e(EXIF.getTag(this,"Orientation"))}))}),s((function(i){e.width=l.width,e.height=l.height;var s=a.options.resize.call(a,e,t,n,r),c=document.createElement("canvas"),u=c.getContext("2d");switch(c.width=s.trgWidth,c.height=s.trgHeight,i>4&&(c.width=s.trgHeight,c.height=s.trgWidth),i){case 2:u.translate(c.width,0),u.scale(-1,1);break;case 3:u.translate(c.width,c.height),u.rotate(Math.PI);break;case 4:u.translate(0,c.height),u.scale(1,-1);break;case 5:u.rotate(.5*Math.PI),u.scale(1,-1);break;case 6:u.rotate(.5*Math.PI),u.translate(0,-c.width);break;case 7:u.rotate(.5*Math.PI),u.translate(c.height,-c.width),u.scale(-1,1);break;case 8:u.rotate(-.5*Math.PI),u.translate(-c.height,0)}drawImageIOSFix(u,l,null!=s.srcX?s.srcX:0,null!=s.srcY?s.srcY:0,s.srcWidth,s.srcHeight,null!=s.trgX?s.trgX:0,null!=s.trgY?s.trgY:0,s.trgWidth,s.trgHeight);var d=c.toDataURL("image/png");if(null!=o)return o(d,c)}))},null!=o&&(l.onerror=o),l.src=e.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,n=t;if(!(t>=e)){var r=this.getQueuedFiles();if(r.length>0){if(this.options.uploadMultiple)return this.processFiles(r.slice(0,e-t));for(;n<e;){if(!r.length)return;this.processFile(r.shift()),n++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(t){var n=t,r=!0,i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var s=o;s.processing=!0,s.status=e.UPLOADING,this.emit("processing",s)}return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter((function(t){return t.xhr===e})).map((function(e){return e}))}},{key:"cancelUpload",value:function(t){if(t.status===e.UPLOADING){var n=this._getFilesWithXhr(t.xhr),r=n,i=!0,o=0;for(r=i?r:r[Symbol.iterator]();;){var s;if(i){if(o>=r.length)break;s=r[o++]}else{if((o=r.next()).done)break;s=o.value}s.status=e.CANCELED}void 0!==t.xhr&&t.xhr.abort();var a=n,l=!0,c=0;for(a=l?a:a[Symbol.iterator]();;){var u;if(l){if(c>=a.length)break;u=a[c++]}else{if((c=a.next()).done)break;u=c.value}var d=u;this.emit("canceled",d)}this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else t.status!==e.ADDED&&t.status!==e.QUEUED||(t.status=e.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if("function"==typeof e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(this,n)}return e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(t){var n=this;this._transformFiles(t,(function(r){if(t[0].upload.chunked){var i=t[0],o=r[0];i.upload.chunks=[];var s=function(){for(var r=0;void 0!==i.upload.chunks[r];)r++;if(!(r>=i.upload.totalChunkCount)){0;var s=r*n.options.chunkSize,a=Math.min(s+n.options.chunkSize,i.size),l={name:n._getParamName(0),data:o.webkitSlice?o.webkitSlice(s,a):o.slice(s,a),filename:i.upload.filename,chunkIndex:r};i.upload.chunks[r]={file:i,index:r,dataBlock:l,status:e.UPLOADING,progress:0,retries:0},n._uploadData(t,[l])}};if(i.upload.finishedChunkUpload=function(r){var o=!0;r.status=e.SUCCESS,r.dataBlock=null,r.xhr=null;for(var a=0;a<i.upload.totalChunkCount;a++){if(void 0===i.upload.chunks[a])return s();i.upload.chunks[a].status!==e.SUCCESS&&(o=!1)}o&&n.options.chunksUploaded(i,(function(){n._finished(t,"",null)}))},n.options.parallelChunkUploads)for(var a=0;a<i.upload.totalChunkCount;a++)s();else s()}else{for(var l=[],c=0;c<t.length;c++)l[c]={name:n._getParamName(c),data:r[c],filename:t[c].upload.filename};n._uploadData(t,l)}}))}},{key:"_getChunk",value:function(e,t){for(var n=0;n<e.upload.totalChunkCount;n++)if(void 0!==e.upload.chunks[n]&&e.upload.chunks[n].xhr===t)return e.upload.chunks[n]}},{key:"_uploadData",value:function(t,n){var r=this,i=new XMLHttpRequest,o=t,s=!0,a=0;for(o=s?o:o[Symbol.iterator]();;){var l;if(s){if(a>=o.length)break;l=o[a++]}else{if((a=o.next()).done)break;l=a.value}l.xhr=i}t[0].upload.chunked&&(t[0].upload.chunks[n[0].chunkIndex].xhr=i);var c=this.resolveOption(this.options.method,t),u=this.resolveOption(this.options.url,t);i.open(c,u,!0),i.timeout=this.resolveOption(this.options.timeout,t),i.withCredentials=!!this.options.withCredentials,i.onload=function(e){r._finishedUploading(t,i,e)},i.onerror=function(){r._handleUploadError(t,i)},(null!=i.upload?i.upload:i).onprogress=function(e){return r._updateFilesUploadProgress(t,i,e)};var d={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var f in this.options.headers&&e.extend(d,this.options.headers),d){var h=d[f];h&&i.setRequestHeader(f,h)}var p=new FormData;if(this.options.params){var m=this.options.params;for(var g in"function"==typeof m&&(m=m.call(this,t,i,t[0].upload.chunked?this._getChunk(t[0],i):null)),m){var v=m[g];p.append(g,v)}}var y=t,b=!0,_=0;for(y=b?y:y[Symbol.iterator]();;){var w;if(b){if(_>=y.length)break;w=y[_++]}else{if((_=y.next()).done)break;w=_.value}var C=w;this.emit("sending",C,i,p)}this.options.uploadMultiple&&this.emit("sendingmultiple",t,i,p),this._addFormElementData(p);for(var x=0;x<n.length;x++){var E=n[x];p.append(E.name,E.data,E.filename)}this.submitRequest(i,p,t)}},{key:"_transformFiles",value:function(e,t){for(var n=this,r=[],i=0,o=function(o){n.options.transformFile.call(n,e[o],(function(n){r[o]=n,++i===e.length&&t(r)}))},s=0;s<e.length;s++)o(s)}},{key:"_addFormElementData",value:function(e){if("FORM"===this.element.tagName){var t=this.element.querySelectorAll("input, textarea, select, button"),n=!0,r=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if((r=t.next()).done)break;i=r.value}var o=i,s=o.getAttribute("name"),a=o.getAttribute("type");if(a&&(a=a.toLowerCase()),null!=s)if("SELECT"===o.tagName&&o.hasAttribute("multiple")){var l=o.options,c=!0,u=0;for(l=c?l:l[Symbol.iterator]();;){var d;if(c){if(u>=l.length)break;d=l[u++]}else{if((u=l.next()).done)break;d=u.value}var f=d;f.selected&&e.append(s,f.value)}}else(!a||"checkbox"!==a&&"radio"!==a||o.checked)&&e.append(s,o.value)}}}},{key:"_updateFilesUploadProgress",value:function(e,t,n){var r=void 0;if(void 0!==n){if(r=100*n.loaded/n.total,e[0].upload.chunked){var i=e[0],o=this._getChunk(i,t);o.progress=r,o.total=n.total,o.bytesSent=n.loaded;i.upload.progress=0,i.upload.total=0,i.upload.bytesSent=0;for(var s=0;s<i.upload.totalChunkCount;s++)void 0!==i.upload.chunks[s]&&void 0!==i.upload.chunks[s].progress&&(i.upload.progress+=i.upload.chunks[s].progress,i.upload.total+=i.upload.chunks[s].total,i.upload.bytesSent+=i.upload.chunks[s].bytesSent);i.upload.progress=i.upload.progress/i.upload.totalChunkCount}else{var a=e,l=!0,c=0;for(a=l?a:a[Symbol.iterator]();;){var u;if(l){if(c>=a.length)break;u=a[c++]}else{if((c=a.next()).done)break;u=c.value}var d=u;d.upload.progress=r,d.upload.total=n.total,d.upload.bytesSent=n.loaded}}var f=e,h=!0,p=0;for(f=h?f:f[Symbol.iterator]();;){var m;if(h){if(p>=f.length)break;m=f[p++]}else{if((p=f.next()).done)break;m=p.value}var g=m;this.emit("uploadprogress",g,g.upload.progress,g.upload.bytesSent)}}else{var v=!0;r=100;var y=e,b=!0,_=0;for(y=b?y:y[Symbol.iterator]();;){var w;if(b){if(_>=y.length)break;w=y[_++]}else{if((_=y.next()).done)break;w=_.value}var C=w;100===C.upload.progress&&C.upload.bytesSent===C.upload.total||(v=!1),C.upload.progress=r,C.upload.bytesSent=C.upload.total}if(v)return;var x=e,E=!0,S=0;for(x=E?x:x[Symbol.iterator]();;){var k;if(E){if(S>=x.length)break;k=x[S++]}else{if((S=x.next()).done)break;k=S.value}var D=k;this.emit("uploadprogress",D,r,D.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(t,n,r){var i=void 0;if(t[0].status!==e.CANCELED&&4===n.readyState){if("arraybuffer"!==n.responseType&&"blob"!==n.responseType&&(i=n.responseText,n.getResponseHeader("content-type")&&~n.getResponseHeader("content-type").indexOf("application/json")))try{i=JSON.parse(i)}catch(e){r=e,i="Invalid JSON response from server."}this._updateFilesUploadProgress(t),200<=n.status&&n.status<300?t[0].upload.chunked?t[0].upload.finishedChunkUpload(this._getChunk(t[0],n)):this._finished(t,i,r):this._handleUploadError(t,n,i)}}},{key:"_handleUploadError",value:function(t,n,r){if(t[0].status!==e.CANCELED){if(t[0].upload.chunked&&this.options.retryChunks){var i=this._getChunk(t[0],n);if(i.retries++<this.options.retryChunksLimit)return void this._uploadData(t,[i.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}var o=t,s=!0,a=0;for(o=s?o:o[Symbol.iterator]();;){if(s){if(a>=o.length)break;o[a++]}else{if((a=o.next()).done)break;a.value}this._errorProcessing(t,r||this.options.dictResponseError.replace("{{statusCode}}",n.status),n)}}}},{key:"submitRequest",value:function(e,t){e.send(t)}},{key:"_finished",value:function(t,n,r){var i=t,o=!0,s=0;for(i=o?i:i[Symbol.iterator]();;){var a;if(o){if(s>=i.length)break;a=i[s++]}else{if((s=i.next()).done)break;a=s.value}var l=a;l.status=e.SUCCESS,this.emit("success",l,n,r),this.emit("complete",l)}if(this.options.uploadMultiple&&(this.emit("successmultiple",t,n,r),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(t,n,r){var i=t,o=!0,s=0;for(i=o?i:i[Symbol.iterator]();;){var a;if(o){if(s>=i.length)break;a=i[s++]}else{if((s=i.next()).done)break;a=s.value}var l=a;l.status=e.ERROR,this.emit("error",l,n,r),this.emit("complete",l)}if(this.options.uploadMultiple&&(this.emit("errormultiple",t,n,r),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}]),e}();Dropzone.initClass(),Dropzone.version="5.5.0",Dropzone.options={},Dropzone.optionsForElement=function(e){return e.getAttribute("id")?Dropzone.options[camelize(e.getAttribute("id"))]:void 0},Dropzone.instances=[],Dropzone.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},Dropzone.autoDiscover=!0,Dropzone.discover=function(){var e=void 0;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];var t=function(t){return function(){var n=[],r=t,i=!0,o=0;for(r=i?r:r[Symbol.iterator]();;){var s;if(i){if(o>=r.length)break;s=r[o++]}else{if((o=r.next()).done)break;s=o.value}var a=s;/(^| )dropzone($| )/.test(a.className)?n.push(e.push(a)):n.push(void 0)}return n}()};t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))}return function(){var t=[],n=e,r=!0,i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var s=o;!1!==Dropzone.optionsForElement(s)?t.push(new Dropzone(s)):t.push(void 0)}return t}()},Dropzone.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],Dropzone.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){var t=Dropzone.blacklistedBrowsers,n=!0,r=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if((r=t.next()).done)break;i=r.value}i.test(navigator.userAgent)&&(e=!1)}}else e=!1;else e=!1;return e},Dropzone.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),i=new Uint8Array(r),o=0,s=t.length,a=0<=s;a?o<=s:o>=s;a?o++:o--)i[o]=t.charCodeAt(o);return new Blob([r],{type:n})};var without=function(e,t){return e.filter((function(e){return e!==t})).map((function(e){return e}))},camelize=function(e){return e.replace(/[\-_](\w)/g,(function(e){return e.charAt(1).toUpperCase()}))}
;Dropzone.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},Dropzone.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},Dropzone.getElement=function(e,t){var n=void 0;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},Dropzone.getElements=function(e,t){var n=void 0,r=void 0;if(e instanceof Array){r=[];try{var i=e,o=!0,s=0;for(i=o?i:i[Symbol.iterator]();;){if(o){if(s>=i.length)break;n=i[s++]}else{if((s=i.next()).done)break;n=s.value}r.push(this.getElement(n,t))}}catch(e){r=null}}else if("string"==typeof e){r=[];var a=document.querySelectorAll(e),l=!0,c=0;for(a=l?a:a[Symbol.iterator]();;){if(l){if(c>=a.length)break;n=a[c++]}else{if((c=a.next()).done)break;n=c.value}r.push(n)}}else null!=e.nodeType&&(r=[e]);if(null==r||!r.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return r},Dropzone.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},Dropzone.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");var n=e.type,r=n.replace(/\/.*$/,""),i=t,o=!0,s=0;for(i=o?i:i[Symbol.iterator]();;){var a;if(o){if(s>=i.length)break;a=i[s++]}else{if((s=i.next()).done)break;a=s.value}var l=a;if("."===(l=l.trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(l.toLowerCase(),e.name.length-l.length))return!0}else if(/\/\*$/.test(l)){if(r===l.replace(/\/.*$/,""))return!0}else if(n===l)return!0}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each((function(){return new Dropzone(this,e)}))}),"undefined"!=typeof module&&null!==module?module.exports=Dropzone:window.Dropzone=Dropzone,Dropzone.ADDED="added",Dropzone.QUEUED="queued",Dropzone.ACCEPTED=Dropzone.QUEUED,Dropzone.UPLOADING="uploading",Dropzone.PROCESSING=Dropzone.UPLOADING,Dropzone.CANCELED="canceled",Dropzone.ERROR="error",Dropzone.SUCCESS="success";var detectVerticalSquash=function(e){e.naturalWidth;var t=e.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=t;var r=n.getContext("2d");r.drawImage(e,0,0);for(var i=r.getImageData(1,0,1,t).data,o=0,s=t,a=t;a>o;){0===i[4*(a-1)+3]?s=a:o=a,a=s+o>>1}var l=a/t;return 0===l?1:l},drawImageIOSFix=function(e,t,n,r,i,o,s,a,l,c){var u=detectVerticalSquash(t);return e.drawImage(t,n,r,i,o,s,a,l,c/u)},ExifRestore=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var t="",n=void 0,r=void 0,i="",o=void 0,s=void 0,a=void 0,l="",c=0;o=(n=e[c++])>>2,s=(3&n)<<4|(r=e[c++])>>4,a=(15&r)<<2|(i=e[c++])>>6,l=63&i,isNaN(r)?a=l=64:isNaN(i)&&(l=64),t=t+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(l),n=r=i="",o=s=a=l="",c<e.length;);return t}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var n=this.decode64(e.replace("data:image/jpeg;base64,","")),r=this.slice2Segments(n),i=this.exifManipulation(t,r);return"data:image/jpeg;base64,"+this.encode64(i)}},{key:"exifManipulation",value:function(e,t){var n=this.getExifArray(t),r=this.insertExif(e,n);return new Uint8Array(r)}},{key:"getExifArray",value:function(e){for(var t=void 0,n=0;n<e.length;){if(255===(t=e[n])[0]&225===t[1])return t;n++}return[]}},{key:"insertExif",value:function(e,t){var n=e.replace("data:image/jpeg;base64,",""),r=this.decode64(n),i=r.indexOf(255,3),o=r.slice(0,i),s=r.slice(i),a=o;return a=(a=a.concat(t)).concat(s)}},{key:"slice2Segments",value:function(e){for(var t=0,n=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var r=t+(256*e[t+2]+e[t+3])+2,i=e.slice(t,r);n.push(i),t=r}if(t>e.length)break}return n}},{key:"decode64",value:function(e){var t=void 0,n=void 0,r="",i=void 0,o=void 0,s="",a=0,l=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t=this.KEY_STR.indexOf(e.charAt(a++))<<2|(i=this.KEY_STR.indexOf(e.charAt(a++)))>>4,n=(15&i)<<4|(o=this.KEY_STR.indexOf(e.charAt(a++)))>>2,r=(3&o)<<6|(s=this.KEY_STR.indexOf(e.charAt(a++))),l.push(t),64!==o&&l.push(n),64!==s&&l.push(r),t=n=r="",i=o=s="",a<e.length;);return l}}]),e}();ExifRestore.initClass();var contentLoaded=function(e,t){var n=!1,r=!0,i=e.document,o=i.documentElement,s=i.addEventListener?"addEventListener":"attachEvent",a=i.addEventListener?"removeEventListener":"detachEvent",l=i.addEventListener?"":"on",c=function r(o){if("readystatechange"!==o.type||"complete"===i.readyState)return("load"===o.type?e:i)[a](l+o.type,r,!1),!n&&(n=!0)?t.call(e,o.type||o):void 0},u=function e(){try{o.doScroll("left")}catch(t){return void setTimeout(e,50)}return c("poll")};if("complete"!==i.readyState){if(i.createEventObject&&o.doScroll){try{r=!e.frameElement}catch(e){}r&&u()}return i[s](l+"DOMContentLoaded",c,!1),i[s](l+"readystatechange",c,!1),e[s](l+"load",c,!1)}};Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover)return Dropzone.discover()},contentLoaded(window,Dropzone._autoDiscoverFunction),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},writable:!0,configurable:!0}),RecordRTC.version="5.5.7","undefined"!=typeof module&&(module.exports=RecordRTC),"function"==typeof define&&define.amd&&define("RecordRTC",[],(function(){return RecordRTC})),RecordRTC.getFromDisk=function(e,t){if(!t)throw"callback is mandatory.";console.log("Getting recorded "+("all"===e?"blobs":e+" blob ")+" from disk!"),DiskStorage.Fetch((function(n,r){"all"!==e&&r===e+"Blob"&&t&&t(n),"all"===e&&t&&t(n,r.replace("Blob",""))}))},RecordRTC.writeToDisk=function(e){console.log("Writing recorded blob(s) to disk!"),(e=e||{}).audio&&e.video&&e.gif?e.audio.getDataURL((function(t){e.video.getDataURL((function(n){e.gif.getDataURL((function(e){DiskStorage.Store({audioBlob:t,videoBlob:n,gifBlob:e})}))}))})):e.audio&&e.video?e.audio.getDataURL((function(t){e.video.getDataURL((function(e){DiskStorage.Store({audioBlob:t,videoBlob:e})}))})):e.audio&&e.gif?e.audio.getDataURL((function(t){e.gif.getDataURL((function(e){DiskStorage.Store({audioBlob:t,gifBlob:e})}))})):e.video&&e.gif?e.video.getDataURL((function(t){e.gif.getDataURL((function(e){DiskStorage.Store({videoBlob:t,gifBlob:e})}))})):e.audio?e.audio.getDataURL((function(e){DiskStorage.Store({audioBlob:e})})):e.video?e.video.getDataURL((function(e){DiskStorage.Store({videoBlob:e})})):e.gif&&e.gif.getDataURL((function(e){DiskStorage.Store({gifBlob:e})}))},MRecordRTC.getFromDisk=RecordRTC.getFromDisk,MRecordRTC.writeToDisk=RecordRTC.writeToDisk,void 0!==RecordRTC&&(RecordRTC.MRecordRTC=MRecordRTC);var browserFakeUserAgent="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";!function(e){e&&"undefined"==typeof window&&"undefined"!=typeof global&&(global.navigator={userAgent:browserFakeUserAgent,getUserMedia:function(){}},global.console||(global.console={}),void 0!==global.console.log&&void 0!==global.console.error||(global.console.error=global.console.log=global.console.log||function(){console.log(arguments)}),"undefined"==typeof document&&(e.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},e.HTMLVideoElement=function(){}),"undefined"==typeof location&&(e.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(e.screen={width:0,height:0}),void 0===URL&&(e.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),e.window=global)}("undefined"!=typeof global?global:null);var requestAnimationFrame=window.requestAnimationFrame;if(void 0===requestAnimationFrame)if("undefined"!=typeof webkitRequestAnimationFrame)requestAnimationFrame=webkitRequestAnimationFrame;else if("undefined"!=typeof mozRequestAnimationFrame)requestAnimationFrame=mozRequestAnimationFrame;else if("undefined"!=typeof msRequestAnimationFrame)requestAnimationFrame=msRequestAnimationFrame;else if(void 0===requestAnimationFrame){var lastTime=0;requestAnimationFrame=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-lastTime)),r=setTimeout((function(){e(t+n)}),n);return lastTime=t+n,r}}var cancelAnimationFrame=window.cancelAnimationFrame;void 0===cancelAnimationFrame&&("undefined"!=typeof webkitCancelAnimationFrame?cancelAnimationFrame=webkitCancelAnimationFrame:"undefined"!=typeof mozCancelAnimationFrame?cancelAnimationFrame=mozCancelAnimationFrame:"undefined"!=typeof msCancelAnimationFrame?cancelAnimationFrame=msCancelAnimationFrame:void 0===cancelAnimationFrame&&(cancelAnimationFrame=function(e){clearTimeout(e)}));var AudioContext=window.AudioContext;void 0===AudioContext&&("undefined"!=typeof webkitAudioContext&&(AudioContext=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(AudioContext=mozAudioContext));var URL=window.URL;void 0===URL&&"undefined"!=typeof webkitURL&&(URL=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var isEdge=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveBlob&&!navigator.msSaveOrOpenBlob),isOpera=!!window.opera||-1!==navigator.userAgent.indexOf("OPR/"),isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),isChrome=!isOpera&&!isEdge&&!!navigator.webkitGetUserMedia||isElectron()||-1!==navigator.userAgent.toLowerCase().indexOf("chrome/"),isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);isSafari&&!isChrome&&-1!==navigator.userAgent.indexOf("CriOS")&&(isSafari=!1,isChrome=!0);var MediaStream=window.MediaStream;void 0===MediaStream&&"undefined"!=typeof webkitMediaStream&&(MediaStream=webkitMediaStream),void 0!==MediaStream&&void 0===MediaStream.prototype.stop&&(MediaStream.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))}),void 0!==RecordRTC&&(RecordRTC.invokeSaveAsDialog=invokeSaveAsDialog,RecordRTC.getTracks=getTracks,RecordRTC.getSeekableBlob=getSeekableBlob,RecordRTC.bytesToSize=bytesToSize,RecordRTC.isElectron=isElectron);var Storage={};void 0!==AudioContext?Storage.AudioContext=AudioContext:"undefined"!=typeof webkitAudioContext&&(Storage.AudioContext=webkitAudioContext),void 0!==RecordRTC&&(RecordRTC.Storage=Storage),void 0!==RecordRTC&&(RecordRTC.MediaStreamRecorder=MediaStreamRecorder),void 0!==RecordRTC&&(RecordRTC.StereoAudioRecorder=StereoAudioRecorder),void 0!==RecordRTC&&(RecordRTC.CanvasRecorder=CanvasRecorder),void 0!==RecordRTC&&(RecordRTC.WhammyRecorder=WhammyRecorder);var Whammy=function(){function e(e){this.frames=[],this.duration=e||1,this.quality=.8}function t(e){var t=URL.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return URL.revokeObjectURL(t),n}function n(e){function t(e){var t=r(e);if(!t)return[];for(var i=3e4,o=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:f(t.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:t.width,id:176},{data:t.height,id:186}]}]}]}]}],s=0,l=0;s<e.length;){var c=[],u=0;do{c.push(e[s]),u+=e[s].duration,s++}while(s<e.length&&u<i);var d={id:524531317,data:n(l,0,c)};o[1].data.push(d),l+=u}return a(o)}function n(e,t,n){return[{data:e,id:231}].concat(n.map((function(e){var n=l({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:n,id:163}})))}function r(e){if(e[0]){for(var t=e[0].width,n=e[0].height,r=e[0].duration,i=1;i<e.length;i++)r+=e[i].duration;return{duration:r,width:t,height:n}}postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."})}function i(e){for(var t=[];e>0;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function o(e){return new Uint8Array(e.split("").map((function(e){return e.charCodeAt(0)})))}function s(e){var t=[];e=(e.length%8?new Array(9-e.length%8).join("0"):"")+e;for(var n=0;n<e.length;n+=8)t.push(parseInt(e.substr(n,8),2));return new Uint8Array(t)}function a(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].data;"object"==typeof r&&(r=a(r)),"number"==typeof r&&(r=s(r.toString(2))),"string"==typeof r&&(r=o(r));var l=r.size||r.byteLength||r.length,c=Math.ceil(Math.ceil(Math.log(l)/Math.log(2))/8),u=l.toString(2),d=new Array(7*c+7+1-u.length).join("0")+u,f=new Array(c).join("0")+"1"+d;t.push(i(e[n].id)),t.push(s(f)),t.push(r)}return new Blob(t,{type:"video/webm"})}function l(e){var t=0;if(e.keyframe&&(t|=128),e.invisible&&(t|=8),e.lacing&&(t|=e.lacing<<1),e.discardable&&(t|=1),e.trackNum>127)throw"TrackNumber > 127 not supported";return[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map((function(e){return String.fromCharCode(e)})).join("")+e.frame}function c(e){for(var t=e.RIFF[0].WEBP[0],n=t.indexOf("\x9d\x01*"),r=0,i=[];r<4;r++)i[r]=t.charCodeAt(n+3+r);return{width:16383&(i[1]<<8|i[0]),height:16383&(i[3]<<8|i[2]),data:t,riff:e}}function u(e,t){return parseInt(e.substr(t+4,4).split("").map((function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t})).join(""),2)}function d(e){for(var t=0,n={};t<e.length;){var r=e.substr(t,4),i=u(e,t),o=e.substr(t+4+4,i);t+=8+i,n[r]=n[r]||[],"RIFF"===r||"LIST"===r?n[r].push(d(o)):n[r].push(o)}return n}function f(e){return[].slice.call(new Uint8Array(new Float64Array([e]).buffer),0).map((function(e){return String.fromCharCode(e)})).reverse().join("")}var h=new t(e.map((function(e){var t=c(d(atob(e.image.slice(23))));return t.duration=e.duration,t})));postMessage(h)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(e){var r=t(n);r.onmessage=function(t){return t.data.error?void console.error(t.data.error):void e(t.data)},r.postMessage(this.frames)},{Video:e}}();void 0!==RecordRTC&&(RecordRTC.Whammy=Whammy);var DiskStorage={init:function(){function e(e){e.createObjectStore(n.dataStoreName)}function t(){function e(e){t.objectStore(n.dataStoreName).get(e).onsuccess=function(t){n.callback&&n.callback(t.target.result,e)}}var t=r.transaction([n.dataStoreName],"readwrite");n.videoBlob&&t.objectStore(n.dataStoreName).put(n.videoBlob,"videoBlob"),n.gifBlob&&t.objectStore(n.dataStoreName).put(n.gifBlob,"gifBlob"),n.audioBlob&&t.objectStore(n.dataStoreName).put(n.audioBlob,"audioBlob"),e("audioBlob"),e("videoBlob"),e("gifBlob")}var n=this;if("undefined"!=typeof indexedDB&&void 0!==indexedDB.open){var r,i=1,o=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),s=indexedDB.open(o,i);s.onerror=n.onError,s.onsuccess=function(){if((r=s.result).onerror=n.onError,r.setVersion)if(r.version!==i){r.setVersion(i).onsuccess=function(){e(r),t()}}else t();else t()},s.onupgradeneeded=function(t){e(t.target.result)}}else console.error("IndexedDB API are not available in this browser.")},Fetch:function(e){return this.callback=e,this.init(),this},Store:function(e){return this.audioBlob=e.audioBlob,this.videoBlob=e.videoBlob,this.gifBlob=e.gifBlob,this.init(),this},onError:function(e){console.error(JSON.stringify(e,null,"\t"))},dataStoreName:"recordRTC",dbName:null};void 0!==RecordRTC&&(RecordRTC.DiskStorage=DiskStorage),void 0!==RecordRTC&&(RecordRTC.GifRecorder=GifRecorder),void 0===RecordRTC&&("undefined"!=typeof module&&(module.exports=MultiStreamsMixer),"function"==typeof define&&define.amd&&define("MultiStreamsMixer",[],(function(){return MultiStreamsMixer}))),void 0!==RecordRTC&&(RecordRTC.MultiStreamRecorder=MultiStreamRecorder),void 0!==RecordRTC&&(RecordRTC.RecordRTCPromisesHandler=RecordRTCPromisesHandler),void 0!==RecordRTC&&(RecordRTC.WebAssemblyRecorder=WebAssemblyRecorder),"object"==typeof navigator&&function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Plyr",t):(e="undefined"!=typeof globalThis?globalThis:e||self).Plyr=t()}(this,(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}function v(e,t){if(1>t){var n=function(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}function y(e,t){setTimeout((function(){try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}}),t)}function b(e,t){return t.split(".").reduce((function(e,t){return e&&e[t]}),e)}function _(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var o=n.shift();return Pe(o)?(Object.keys(o).forEach((function(t){Pe(o[t])?(Object.keys(e).includes(t)||Object.assign(e,i({},t,{})),_(e[t],o[t])):Object.assign(e,i({},t,o[t]))})),_.apply(void 0,[e].concat(n))):e}function w(e,t){var n=e.length?e:[e];Array.from(n).reverse().forEach((function(e,n){var r=n>0?t.cloneNode(!0):t,i=e.parentNode,o=e.nextSibling;r.appendChild(e),o?i.insertBefore(r,o):i.appendChild(r)}))}function C(e,t){We(e)&&!Ge(t)&&Object.entries(t).filter((function(e){var t=l(e,2)[1];return!Le(t)})).forEach((function(t){var n=l(t,2),r=n[0],i=n[1];return e.setAttribute(r,i)}))}function x(e,t,n){var r=document.createElement(e);return Pe(t)&&C(r,t),$e(n)&&(r.innerText=n),r}function E(e,t,n,r){We(t)&&t.appendChild(x(e,n,r))}function S(e){He(e)||Ue(e)?Array.from(e).forEach(S):We(e)&&We(e.parentNode)&&e.parentNode.removeChild(e)}function k(e){if(We(e))for(var t=e.childNodes.length;t>0;)e.removeChild(e.lastChild),t-=1}function D(e,t){return We(t)&&We(t.parentNode)&&We(e)?(t.parentNode.replaceChild(e,t),e):null}function T(e,t){if(!$e(e)||Ge(e))return{};var n={},r=_({},t);return e.split(",").forEach((function(e){var t=e.trim(),i=t.replace(".",""),o=t.replace(/[[\]]/g,"").split("="),s=l(o,1)[0],a=o.length>1?o[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":$e(r.class)?n.class="".concat(r.class," ").concat(i):n.class=i;break;case"#":n.id=t.replace("#","");break;case"[":n[s]=a}})),_(r,n)}function A(e,t){if(We(e)){var n=t;ze(n)||(n=!e.hidden),e.hidden=n}}function N(e,t,n){if(He(e))return Array.from(e).map((function(e){return N(e,t,n)}));if(We(e)){var r="toggle";return void 0!==n&&(r=n?"add":"remove"),e.classList[r](t),e.classList.contains(t)}return!1}function O(e,t){return We(e)&&e.classList.contains(t)}function j(e,t){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function M(e){return this.elements.container.querySelectorAll(e)}function R(e){return this.elements.container.querySelector(e)}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];We(e)&&(e.focus({preventScroll:!0}),t&&N(e,this.config.classNames.tabFocus))}function L(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e&&"addEventListener"in e&&!Ge(t)&&Be(n)){var a=t.split(" "),l=s;tt&&(l={passive:o,capture:s}),a.forEach((function(t){r&&r.eventListeners&&i&&r.eventListeners.push({element:e,type:t,callback:n,options:l}),e[i?"addEventListener":"removeEventListener"](t,n,l)}))}}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];L.call(this,e,t,n,!0,r,i)}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];L.call(this,e,t,n,!1,r,i)}function $(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function s(){I(e,n,s,i,o);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];r.apply(t,l)};L.call(this,e,n,s,!0,i,o)}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(We(e)&&!Ge(t)){var i=new CustomEvent(t,{bubbles:n,detail:s(s({},r),{},{plyr:this})});e.dispatchEvent(i)}}function B(){this&&this.eventListeners&&(this.eventListeners.forEach((function(e){var t=e.element,n=e.type,r=e.callback,i=e.options;t.removeEventListener(n,r,i)})),this.eventListeners=[])}function U(){var e=this;return new Promise((function(t){return e.ready?setTimeout(t,0):P.call(e,e.elements.container,"ready",t)})).then((function(){}))}function H(e){Ye(e)&&e.then(null,(function(){}))}function W(e){return!!(Ue(e)||$e(e)&&e.includes(":"))&&(Ue(e)?e:e.split(":")).map(Number).every(Ie)}function K(e){if(!Ue(e)||!e.every(Ie))return null;var t=l(e,2),n=t[0],r=t[1],i=function e(t,n){return 0===n?t:e(n,t%n)}(n,r);return[n/i,r/i]}function q(e){var t=function(e){return W(e)?e.split(":").map(Number):null},n=t(e);if(null===n&&(n=t(this.config.ratio)),null===n&&!Ge(this.embed)&&Ue(this.embed.ratio)&&(n=this.embed.ratio),null===n&&this.isHTML5){var r=this.media;n=K([r.videoWidth,r.videoHeight])}return n}function V(e){if(!this.isVideo)return{};var t=this.elements.wrapper,n=q.call(this,e),r=l(Ue(n)?n:[0,0],2),i=100/r[0]*r[1];if(t.style.paddingBottom="".concat(i,"%"),this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){var o=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),s=(o-i)/(o/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform="translateY(-".concat(s,"%)")}else this.isHTML5&&t.classList.toggle(this.config.classNames.videoFixedRatio,null!==n);return{padding:i,ratio:n}}function Y(e){return Ue(e)?e.filter((function(t,n){return e.indexOf(t)===n})):e}function J(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ge(e)?e:e.toString().replace(/{(\d+)}/g,(function(e,t){return n[t].toString()}))}function G(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return e=rt(e,"-"," "),e=rt(e,"_"," "),e=it(e),rt(e," ","")}function X(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return new Promise((function(n,r){try{var i=new XMLHttpRequest;if(!("withCredentials"in i))return;i.addEventListener("load",(function(){if("text"===t)try{n(JSON.parse(i.responseText))}catch(e){n(i.responseText)}else n(i.response)})),i.addEventListener("error",(function(){throw new Error(i.status)})),i.open("GET",e,!0),i.responseType=t,i.send()}catch(e){r(e)}}))}function Z(e,t){if($e(e)){var n="cache",r=$e(t),i=function(){return null!==document.getElementById(t)},o=function(e,t){e.innerHTML=t,r&&i()||document.body.insertAdjacentElement("afterbegin",e)};if(!r||!i()){var s=at.supported,a=document.createElement("div");if(a.setAttribute("hidden",""),r&&a.setAttribute("id",t),s){var l=window.localStorage.getItem("".concat(n,"-").concat(t));if(null!==l){var c=JSON.parse(l);o(a,c.content)}}Q(e).then((function(e){Ge(e)||(s&&window.localStorage.setItem("".concat(n,"-").concat(t),JSON.stringify({content:e})),o(a,e))})).catch((function(){}))}}}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Ie(e))return ee(void 0,t,n);var r=function(e){return"0".concat(e).slice(-2)},i=lt(e),o=ct(e),s=ut(e);return i=t||i>0?"".concat(i,":"):"","".concat(n&&e>0?"-":"").concat(i).concat(r(o),":").concat(r(s))}function te(e){var t=e;if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var n=document.createElement("a");n.href=t,t=n.href}try{return new URL(t)}catch(e){return null}}function ne(e){var t=new URLSearchParams;return Pe(e)&&Object.entries(e).forEach((function(e){var n=l(e,2),r=n[0],i=n[1];t.set(r,i)})),t}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise((function(n,r){var i=new Image,o=function(){delete i.onload,delete i.onerror,(i.naturalWidth>=t?n:r)(i)};Object.assign(i,{onload:o,onerror:o,src:e})}))}function ie(e){return new Promise((function(t,n){St(e,{success:t,error:n})}))}function oe(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,z.call(this,this.media,e?"play":"pause"))}function se(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,z.call(this,this.media,e?"play":"pause"))}function ae(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}var le,ce,ue,de,fe={addCSS:!0,thumbWidth:15,watch:!0},he=function(e){return null!=e?e.constructor:null},pe=function(e,t){return!!(e&&t&&e instanceof t)},me=function(e){return null==e},ge=function(e){return he(e)===Object},ve=function(e){return he(e)===String},ye=function(e){return Array.isArray(e)},be=function(e){return pe(e,NodeList)},_e=ve,we=ye,Ce=be,xe=function(e){return pe(e,Element)},Ee=function(e){return pe(e,Event)},Se=function(e){return me(e)||(ve(e)||ye(e)||be(e))&&!e.length||ge(e)&&!Object.keys(e).length},ke=function(){function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),xe(t)?this.element=t:_e(t)&&(this.element=document.querySelector(t)),xe(this.element)&&Se(this.element.rangeTouch)&&(this.config=m({},fe,{},n),this.init())}return function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,n=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(e){t.element[n](e,(function(e){return t.set(e)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!Ee(t))return null;var n,r=t.target,i=t.changedTouches[0],o=parseFloat(r.getAttribute("min"))||0,s=parseFloat(r.getAttribute("max"))||100,a=parseFloat(r.getAttribute("step"))||1,l=r.getBoundingClientRect(),c=100/l.width*(this.config.thumbWidth/2)/100;return 0>(n=100/l.width*(i.clientX-l.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*c:50<n&&(n+=2*(n-50)*c),o+v(n/100*(s-o),a)}},{key:"set",value:function(t){e.enabled&&Ee(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),function(e,t){if(e&&t){var n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}}(t.target,"touchend"===t.type?"change":"input"))}}],[{key:"setup",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=null
;if(Se(t)||_e(t)?r=Array.from(document.querySelectorAll(_e(t)?t:'input[type="range"]')):xe(t)?r=[t]:Ce(t)?r=Array.from(t):we(t)&&(r=t.filter(xe)),Se(r))return null;var i=m({},fe,{},n);if(_e(t)&&i.watch){var o=new MutationObserver((function(n){Array.from(n).forEach((function(n){Array.from(n.addedNodes).forEach((function(n){xe(n)&&g(n,t)&&new e(n,i)}))}))}));o.observe(document.body,{childList:!0,subtree:!0})}return r.map((function(t){return new e(t,n)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}(),De=function(e){return null!=e?e.constructor:null},Te=function(e,t){return Boolean(e&&t&&e instanceof t)},Ae=function(e){return null==e},Ne=function(e){return De(e)===Object},Oe=function(e){return De(e)===String},je=function(e){return De(e)===Function},Me=function(e){return Array.isArray(e)},Re=function(e){return Te(e,NodeList)},Fe=function(e){return Ae(e)||(Oe(e)||Me(e)||Re(e))&&!e.length||Ne(e)&&!Object.keys(e).length},Le=Ae,Pe=Ne,Ie=function(e){return De(e)===Number&&!Number.isNaN(e)},$e=Oe,ze=function(e){return De(e)===Boolean},Be=je,Ue=Me,He=Re,We=function(t){return null!==t&&"object"===e(t)&&1===t.nodeType&&"object"===e(t.style)&&"object"===e(t.ownerDocument)},Ke=function(e){return Te(e,Event)},qe=function(e){return Te(e,KeyboardEvent)},Ve=function(e){return Te(e,TextTrack)||!Ae(e)&&Oe(e.kind)},Ye=function(e){return Te(e,Promise)&&je(e.then)},Je=function(e){if(Te(e,window.URL))return!0;if(!Oe(e))return!1;var t=e;e.startsWith("http://")&&e.startsWith("https://")||(t="http://".concat(e));try{return!Fe(new URL(t).hostname)}catch(e){return!1}},Ge=Fe,Xe=(le=document.createElement("span"),ce={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},ue=Object.keys(ce).find((function(e){return void 0!==le.style[e]})),!!$e(ue)&&ce[ue]),Qe={isIE:!!document.documentMode,isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)},Ze={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},et={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(e,t,n){var r=Qe.isIPhone&&n&&et.playsinline,i=et[e]||"html5"!==t;return{api:i,ui:i&&et.rangeInput&&("video"!==e||!Qe.isIPhone||r)}},pip:!(Qe.isIPhone||!Be(x("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||x("video").disablePictureInPicture)),airplay:Be(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(e){if(Ge(e))return!1;var t=l(e.split("/"),1)[0],n=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(Ze).includes(n)&&(n+='; codecs="'.concat(Ze[e],'"'));try{return Boolean(n&&this.media.canPlayType(n).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(de=document.createElement("input"),de.type="range","range"===de.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==Xe,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},tt=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,null}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}(),nt={getSources:function(){var e=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter((function(t){var n=t.getAttribute("type");return!!Ge(n)||et.mime.call(e,n)})):[]},getQualityOptions:function(){return this.config.quality.forced?this.config.quality.options:nt.getSources.call(this).map((function(e){return Number(e.getAttribute("size"))})).filter(Boolean)},setup:function(){if(this.isHTML5){var e=this;e.options.speed=e.config.speed.options,Ge(this.config.ratio)||V.call(e),Object.defineProperty(e.media,"quality",{get:function(){var t=nt.getSources.call(e).find((function(t){return t.getAttribute("src")===e.source}));return t&&Number(t.getAttribute("size"))},set:function(t){if(e.quality!==t){if(e.config.quality.forced&&Be(e.config.quality.onChange))e.config.quality.onChange(t);else{var n=nt.getSources.call(e).find((function(e){return Number(e.getAttribute("size"))===t}));if(!n)return;var r=e.media,i=r.currentTime,o=r.paused,s=r.preload,a=r.readyState,l=r.playbackRate;e.media.src=n.getAttribute("src"),("none"!==s||a)&&(e.once("loadedmetadata",(function(){e.speed=l,e.currentTime=i,o||H(e.play())})),e.media.load())}z.call(e,e.media,"qualitychange",!1,{quality:t})}}})}},cancelRequests:function(){this.isHTML5&&(S(nt.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString())},it=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))},ot={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ge(e)||Ge(t))return"";var n=b(t.i18n,e);if(Ge(n))return Object.keys(ot).includes(e)?ot[e]:"";var r={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(r).forEach((function(e){var t=l(e,2),r=t[0],i=t[1];n=rt(n,r,i)})),n},at=function(){function e(n){var r=this;t(this,e),i(this,"get",(function(t){if(!e.supported||!r.enabled)return null;var n=window.localStorage.getItem(r.key);if(Ge(n))return null;var i=JSON.parse(n);return $e(t)&&t.length?i[t]:i})),i(this,"set",(function(t){if(e.supported&&r.enabled&&Pe(t)){var n=r.get();Ge(n)&&(n={}),_(n,t),window.localStorage.setItem(r.key,JSON.stringify(n))}})),this.enabled=n.config.storage.enabled,this.key=n.config.storage.key}return r(e,null,[{key:"supported",get:function(){try{if(!("localStorage"in window))return!1;var e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}}]),e}(),lt=function(e){return Math.trunc(e/60/60%60,10)},ct=function(e){return Math.trunc(e/60%60,10)},ut=function(e){return Math.trunc(e%60,10)},dt={getIconUrl:function(){var e=new URL(this.config.iconUrl,window.location).host!==window.location.host||Qe.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:e}},findElements:function(){try{return this.elements.controls=R.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:M.call(this,this.config.selectors.buttons.play),pause:R.call(this,this.config.selectors.buttons.pause),restart:R.call(this,this.config.selectors.buttons.restart),rewind:R.call(this,this.config.selectors.buttons.rewind),fastForward:R.call(this,this.config.selectors.buttons.fastForward),mute:R.call(this,this.config.selectors.buttons.mute),pip:R.call(this,this.config.selectors.buttons.pip),airplay:R.call(this,this.config.selectors.buttons.airplay),settings:R.call(this,this.config.selectors.buttons.settings),captions:R.call(this,this.config.selectors.buttons.captions),fullscreen:R.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=R.call(this,this.config.selectors.progress),this.elements.inputs={seek:R.call(this,this.config.selectors.inputs.seek),volume:R.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:R.call(this,this.config.selectors.display.buffer),currentTime:R.call(this,this.config.selectors.display.currentTime),duration:R.call(this,this.config.selectors.display.duration)},We(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon:function(e,t){var n="http://www.w3.org/2000/svg",r=dt.getIconUrl.call(this),i="".concat(r.cors?"":r.url,"#").concat(this.config.iconPrefix),o=document.createElementNS(n,"svg");C(o,_(t,{"aria-hidden":"true",focusable:"false"}));var s=document.createElementNS(n,"use"),a="".concat(i,"-").concat(e);return"href"in s&&s.setAttributeNS("http://www.w3.org/1999/xlink","href",a),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),o.appendChild(s),o},createLabel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=st(e,this.config);return x("span",s(s({},t),{},{class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")}),n)},createBadge:function(e){if(Ge(e))return null;var t=x("span",{class:this.config.classNames.menu.value});return t.appendChild(x("span",{class:this.config.classNames.menu.badge},e)),t},createButton:function(e,t){var n=this,r=_({},t),i=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return(e=G(e)).charAt(0).toLowerCase()+e.slice(1)}(e),o={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((function(e){Object.keys(r).includes(e)&&(o[e]=r[e],delete r[e])})),"button"!==o.element||Object.keys(r).includes("type")||(r.type="button"),Object.keys(r).includes("class")?r.class.split(" ").some((function(e){return e===n.config.classNames.control}))||_(r,{class:"".concat(r.class," ").concat(this.config.classNames.control)}):r.class=this.config.classNames.control,e){case"play":o.toggle=!0,o.label="play",o.labelPressed="pause",o.icon="play",o.iconPressed="pause";break;case"mute":o.toggle=!0,o.label="mute",o.labelPressed="unmute",o.icon="volume",o.iconPressed="muted";break;case"captions":o.toggle=!0,o.label="enableCaptions",o.labelPressed="disableCaptions",o.icon="captions-off",o.iconPressed="captions-on";break;case"fullscreen":o.toggle=!0,o.label="enterFullscreen",o.labelPressed="exitFullscreen",o.icon="enter-fullscreen",o.iconPressed="exit-fullscreen";break;case"play-large":r.class+=" ".concat(this.config.classNames.control,"--overlaid"),i="play",o.label="play",o.icon="play";break;default:Ge(o.label)&&(o.label=i),Ge(o.icon)&&(o.icon=e)}var s=x(o.element);return o.toggle?(s.appendChild(dt.createIcon.call(this,o.iconPressed,{class:"icon--pressed"})),s.appendChild(dt.createIcon.call(this,o.icon,{class:"icon--not-pressed"})),s.appendChild(dt.createLabel.call(this,o.labelPressed,{class:"label--pressed"})),s.appendChild(dt.createLabel.call(this,o.label,{class:"label--not-pressed"}))):(s.appendChild(dt.createIcon.call(this,o.icon)),s.appendChild(dt.createLabel.call(this,o.label))),_(r,T(this.config.selectors.buttons[i],r)),C(s,r),"play"===i?(Ue(this.elements.buttons[i])||(this.elements.buttons[i]=[]),this.elements.buttons[i].push(s)):this.elements.buttons[i]=s,s},createRange:function(e,t){var n=x("input",_(T(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":st(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=n,dt.updateRangeFill.call(this,n),ke.setup(n),n},createProgress:function(e,t){var n=x("progress",_(T(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){n.appendChild(x("span",null,"0"));var r={played:"played",buffer:"buffered"}[e],i=r?st(r,this.config):"";n.innerText="% ".concat(i.toLowerCase())}return this.elements.display[e]=n,n},createTime:function(e,t){var n=T(this.config.selectors.display[e],t),r=x("div",_(n,{class:"".concat(n.class?n.class:""," ").concat(this.config.classNames.display.time," ").trim(),"aria-label":st(e,this.config)}),"00:00");return this.elements.display[e]=r,r},bindMenuItemShortcuts:function(e,t){var n=this;P.call(this,e,"keydown keyup",(function(r){if([32,38,39,40].includes(r.which)&&(r.preventDefault(),r.stopPropagation(),"keydown"!==r.type)){var i,o=j(e,'[role="menuitemradio"]');!o&&[32,39].includes(r.which)?dt.showMenuPanel.call(n,t,!0):32!==r.which&&(40===r.which||o&&39===r.which?(i=e.nextElementSibling,We(i)||(i=e.parentNode.firstElementChild)):(i=e.previousElementSibling,We(i)||(i=e.parentNode.lastElementChild)),F.call(n,i,!0))}}),!1),P.call(this,e,"keyup",(function(e){13===e.which&&dt.focusFirstMenuItem.call(n,null,!0)}))},createMenuItem:function(e){var t=this,n=e.value,r=e.list,i=e.type,o=e.title,s=e.badge,a=void 0===s?null:s,l=e.checked,c=void 0!==l&&l,u=T(this.config.selectors.inputs[i]),d=x("button",_(u,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(u.class?u.class:"").trim(),"aria-checked":c,value:n})),f=x("span");f.innerHTML=o,We(a)&&f.appendChild(a),d.appendChild(f),Object.defineProperty(d,"checked",{enumerable:!0,get:function(){return"true"===d.getAttribute("aria-checked")},set:function(e){e&&Array.from(d.parentNode.children).filter((function(e){return j(e,'[role="menuitemradio"]')})).forEach((function(e){return e.setAttribute("aria-checked","false")})),d.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(d,"click keyup",(function(e){if(!qe(e)||32===e.which){switch(e.preventDefault(),e.stopPropagation(),d.checked=!0,i){case"language":t.currentTrack=Number(n);break;case"quality":t.quality=n;break;case"speed":t.speed=parseFloat(n)}dt.showMenuPanel.call(t,"home",qe(e))}}),i,!1),dt.bindMenuItemShortcuts.call(this,d,i),r.appendChild(d)},formatTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ie(e)?ee(e,lt(this.duration)>0,t):e},updateTimeDisplay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];We(e)&&Ie(t)&&(e.innerText=dt.formatTime(t,n))},updateVolume:function(){this.supported.ui&&(We(this.elements.inputs.volume)&&dt.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),We(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;We(e)&&(e.value=t,dt.updateRangeFill.call(this,e))},updateProgress:function(e){var t=this;if(this.supported.ui&&Ke(e)){var n,r,i=0;if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":n=this.currentTime,r=this.duration,i=0===n||0===r||Number.isNaN(n)||Number.isNaN(r)?0:(n/r*100).toFixed(2),"timeupdate"===e.type&&dt.setRange.call(this,this.elements.inputs.seek,i);break;case"playing":case"progress":!function(e,n){var r=Ie(n)?n:0,i=We(e)?e:t.elements.display.buffer;if(We(i)){i.value=r;var o=i.getElementsByTagName("span")[0];We(o)&&(o.childNodes[0].nodeValue=r)}}(this.elements.display.buffer,100*this.buffered)}}},updateRangeFill:function(e){var t=Ke(e)?e.target:e;if(We(t)&&"range"===t.getAttribute("type")){if(j(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);var n=dt.formatTime(this.currentTime),r=dt.formatTime(this.duration),i=st("seekLabel",this.config);t.setAttribute("aria-valuetext",i.replace("{currentTime}",n).replace("{duration}",r))}else if(j(t,this.config.selectors.inputs.volume)){var o=100*t.value;t.setAttribute("aria-valuenow",o),t.setAttribute("aria-valuetext","".concat(o.toFixed(1),"%"))}else t.setAttribute("aria-valuenow",t.value);Qe.isWebkit&&t.style.setProperty("--value","".concat(t.value/t.max*100,"%"))}},updateSeekTooltip:function(e){var t=this;if(this.config.tooltips.seek&&We(this.elements.inputs.seek)&&We(this.elements.display.seekTooltip)&&0!==this.duration){var n="".concat(this.config.classNames.tooltip,"--visible"),r=function(e){return N(t.elements.display.seekTooltip,n,e)};if(this.touch)r(!1);else{var i=0,o=this.elements.progress.getBoundingClientRect();if(Ke(e))i=100/o.width*(e.pageX-o.left);else{if(!O(this.elements.display.seekTooltip,n))return;i=parseFloat(this.elements.display.seekTooltip.style.left,10)}i<0?i=0:i>100&&(i=100),dt.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*i),this.elements.display.seekTooltip.style.left="".concat(i,"%"),Ke(e)&&["mouseenter","mouseleave"].includes(e.type)&&r("mouseenter"===e.type)}}},timeUpdate:function(e){var t=!We(this.elements.display.duration)&&this.config.invertTime;dt.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||dt.updateProgress.call(this,e)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return A(this.elements.display.currentTime,!0),void A(this.elements.progress,!0);We(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var e=We(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&dt.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&dt.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),dt.updateSeekTooltip.call(this)}},toggleMenuButton:function(e,t){A(this.elements.settings.buttons[e],!t)},updateSetting:function(e,t,n){var r=this.elements.settings.panels[e],i=null,o=t;if("captions"===e)i=this.currentTrack;else{if(i=Ge(n)?this[e]:n,Ge(i)&&(i=this.config[e].default),!Ge(this.options[e])&&!this.options[e].includes(i))return void this.debug.warn("Unsupported value of '".concat(i,"' for ").concat(e));if(!this.config[e].options.includes(i))return void this.debug.warn("Disabled value of '".concat(i,"' for ").concat(e))}if(We(o)||(o=r&&r.querySelector('[role="menu"]')),We(o)){this.elements.settings.buttons[e].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=dt.getLabel.call(this,e,i);var s=o&&o.querySelector('[value="'.concat(i,'"]'));We(s)&&(s.checked=!0)}},getLabel:function(e,t){switch(e){case"speed":return 1===t?st("normal",this.config):"".concat(t,"&times;");case"quality":if(Ie(t)){var n=st("qualityLabel.".concat(t),this.config);return n.length?n:"".concat(t,"p")}return it(t);case"captions":return ft.getLabel.call(this);default:return null}},setQualityMenu:function(e){var t=this;if(We(this.elements.settings.panels.quality)){var n="quality",r=this.elements.settings.panels.quality.querySelector('[role="menu"]');Ue(e)&&(this.options.quality=Y(e).filter((function(e){return t.config.quality.options.includes(e)})));var i=!Ge(this.options.quality)&&this.options.quality.length>1;if(dt.toggleMenuButton.call(this,n,i),k(r),dt.checkMenu.call(this),i){var o=function(e){var n=st("qualityBadge.".concat(e),t.config);return n.length?dt.createBadge.call(t,n):null};this.options.quality.sort((function(e,n){var r=t.config.quality.options;return r.indexOf(e)>r.indexOf(n)?1:-1})).forEach((function(e){dt.createMenuItem.call(t,{value:e,list:r,type:n,title:dt.getLabel.call(t,"quality",e),badge:o(e)})})),dt.updateSetting.call(this,n,r)}}},setCaptionsMenu:function(){var e=this;if(We(this.elements.settings.panels.captions)){var t="captions",n=this.elements.settings.panels.captions.querySelector('[role="menu"]'),r=ft.getTracks.call(this),i=Boolean(r.length);if(dt.toggleMenuButton.call(this,t,i),k(n),dt.checkMenu.call(this),i){var o=r.map((function(t,r){return{value:r,checked:e.captions.toggled&&e.currentTrack===r,title:ft.getLabel.call(e,t),badge:t.language&&dt.createBadge.call(e,t.language.toUpperCase()),list:n,type:"language"}}));o.unshift({value:-1,checked:!this.captions.toggled,title:st("disabled",this.config),list:n,type:"language"}),o.forEach(dt.createMenuItem.bind(this)),dt.updateSetting.call(this,t,n)}}},setSpeedMenu:function(){var e=this;if(We(this.elements.settings.panels.speed)){var t="speed",n=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((function(t){return t>=e.minimumSpeed&&t<=e.maximumSpeed}));var r=!Ge(this.options.speed)&&this.options.speed.length>1;dt.toggleMenuButton.call(this,t,r),k(n),dt.checkMenu.call(this),r&&(this.options.speed.forEach((function(r){dt.createMenuItem.call(e,{value:r,list:n,type:t,title:dt.getLabel.call(e,"speed",r)})})),dt.updateSetting.call(this,t,n))}},checkMenu:function(){var e=this.elements.settings.buttons,t=!Ge(e)&&Object.values(e).some((function(e){return!e.hidden}));A(this.elements.settings.menu,!t)},focusFirstMenuItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.elements.settings.popup.hidden){var n=e;We(n)||(n=Object.values(this.elements.settings.panels).find((function(e){return!e.hidden})));var r=n.querySelector('[role^="menuitem"]');F.call(this,r,t)}},toggleMenu:function(e){var t=this.elements.settings.popup,n=this.elements.buttons.settings;if(We(t)&&We(n)){var r=t.hidden,i=r;if(ze(e))i=e;else if(qe(e)&&27===e.which)i=!1;else if(Ke(e)){var o=Be(e.composedPath)?e.composedPath()[0]:e.target,s=t.contains(o);if(s||!s&&e.target!==n&&i)return}n.setAttribute("aria-expanded",i),A(t,!i),N(this.elements.container,this.config.classNames.menu.open,i),i&&qe(e)?dt.focusFirstMenuItem.call(this,null,!0):i||r||F.call(this,n,qe(e))}},getMenuSize:function(e){var t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);var n=t.scrollWidth,r=t.scrollHeight;return S(t),{width:n,height:r}},showMenuPanel:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.elements.container.querySelector("#plyr-settings-".concat(this.id,"-").concat(t));if(We(r)){var i=r.parentNode,o=Array.from(i.children).find((function(e){return!e.hidden}));if(et.transitions&&!et.reducedMotion){i.style.width="".concat(o.scrollWidth,"px"),i.style.height="".concat(o.scrollHeight,"px");var s=dt.getMenuSize.call(this,r),a=function t(n){n.target===i&&["width","height"].includes(n.propertyName)&&(i.style.width="",i.style.height="",I.call(e,i,Xe,t))};P.call(this,i,Xe,a),i.style.width="".concat(s.width,"px"),i.style.height="".concat(s.height,"px")}A(o,!0),A(r,!1),dt.focusFirstMenuItem.call(this,r,n)}},setDownloadUrl:function(){var e=this.elements.buttons.download;We(e)&&e.setAttribute("href",this.download)},create:function(e){var t=this,n=dt.bindMenuItemShortcuts,r=dt.createButton,i=dt.createProgress,o=dt.createRange,s=dt.createTime,a=dt.setQualityMenu,l=dt.setSpeedMenu,c=dt.showMenuPanel;this.elements.controls=null,Ue(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(r.call(this,"play-large"));var u=x("div",T(this.config.selectors.controls.wrapper));this.elements.controls=u;var d={class:"plyr__controls__item"};return Y(Ue(this.config.controls)?this.config.controls:[]).forEach((function(a){if("restart"===a&&u.appendChild(r.call(t,"restart",d)),"rewind"===a&&u.appendChild(r.call(t,"rewind",d)),"play"===a&&u.appendChild(r.call(t,"play",d)),"fast-forward"===a&&u.appendChild(r.call(t,"fast-forward",d)),"progress"===a){var l=x("div",{class:"".concat(d.class," plyr__progress__container")}),f=x("div",T(t.config.selectors.progress));if(f.appendChild(o.call(t,"seek",{id:"plyr-seek-".concat(e.id)})),f.appendChild(i.call(t,"buffer")),t.config.tooltips.seek){var h=x("span",{class:t.config.classNames.tooltip},"00:00");f.appendChild(h),t.elements.display.seekTooltip=h}t.elements.progress=f,l.appendChild(t.elements.progress),u.appendChild(l)}if("current-time"===a&&u.appendChild(s.call(t,"currentTime",d)),"duration"===a&&u.appendChild(s.call(t,"duration",d)),"mute"===a||"volume"===a){var p=t.elements.volume;if(We(p)&&u.contains(p)||(p=x("div",_({},d,{class:"".concat(d.class," plyr__volume").trim()})),t.elements.volume=p,u.appendChild(p)),"mute"===a&&p.appendChild(r.call(t,"mute")),"volume"===a&&!Qe.isIos){var m={max:1,step:.05,value:t.config.volume};p.appendChild(o.call(t,"volume",_(m,{id:"plyr-volume-".concat(e.id)})))}}if("captions"===a&&u.appendChild(r.call(t,"captions",d)),"settings"===a&&!Ge(t.config.settings)){var g=x("div",_({},d,{class:"".concat(d.class," plyr__menu").trim(),hidden:""}));g.appendChild(r.call(t,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(e.id),"aria-expanded":!1}));var v=x("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(e.id),hidden:""}),y=x("div"),b=x("div",{id:"plyr-settings-".concat(e.id,"-home")}),w=x("div",{role:"menu"});b.appendChild(w),y.appendChild(b),t.elements.settings.panels.home=b,t.config.settings.forEach((function(r){var i=x("button",_(T(t.config.selectors.buttons.settings),{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));n.call(t,i,r),P.call(t,i,"click",(function(){c.call(t,r,!1)}));var o=x("span",null,st(r,t.config)),s=x("span",{class:t.config.classNames.menu.value});s.innerHTML=e[r],o.appendChild(s),i.appendChild(o),w.appendChild(i);var a=x("div",{id:"plyr-settings-".concat(e.id,"-").concat(r),hidden:""}),l=x("button",{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--back")});l.appendChild(x("span",{"aria-hidden":!0},st(r,t.config))),l.appendChild(x("span",{class:t.config.classNames.hidden},st("menuBack",t.config))),P.call(t,a,"keydown",(function(e){37===e.which&&(e.preventDefault(),e.stopPropagation(),c.call(t,"home",!0))}),!1),P.call(t,l,"click",(function(){c.call(t,"home",!1)})),a.appendChild(l),a.appendChild(x("div",{role:"menu"})),y.appendChild(a),t.elements.settings.buttons[r]=i,t.elements.settings.panels[r]=a})),v.appendChild(y),g.appendChild(v),u.appendChild(g),t.elements.settings.popup=v,t.elements.settings.menu=g}if("pip"===a&&et.pip&&u.appendChild(r.call(t,"pip",d)),"airplay"===a&&et.airplay&&u.appendChild(r.call(t,"airplay",d)),"download"===a){var C=_({},d,{element:"a",href:t.download,target:"_blank"});t.isHTML5&&(C.download="");var E=t.config.urls.download;!Je(E)&&t.isEmbed&&_(C,{icon:"logo-".concat(t.provider),label:t.provider}),u.appendChild(r.call(t,"download",C))}"fullscreen"===a&&u.appendChild(r.call(t,"fullscreen",d))})),this.isHTML5&&a.call(this,nt.getQualityOptions.call(this)),l.call(this),u},inject:function(){var e=this;if(this.config.loadSprite){var t=dt.getIconUrl.call(this);t.cors&&Z(t.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var n=null;this.elements.controls=null;var r,i,o={id:this.id,seektime:this.config.seekTime,title:this.config.title},s=!0;if(Be(this.config.controls)&&(this.config.controls=this.config.controls.call(this,o)),this.config.controls||(this.config.controls=[]),We(this.config.controls)||$e(this.config.controls)?n=this.config.controls:(n=dt.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:ft.getLabel.call(this)}),s=!1),s&&$e(this.config.controls)&&(r=n,Object.entries(o).forEach((function(e){var t=l(e,2),n=t[0],i=t[1];r=rt(r,"{".concat(n,"}"),i)})),n=r),$e(this.config.selectors.controls.container)&&(i=document.querySelector(this.config.selectors.controls.container)),We(i)||(i=this.elements.container),i[We(n)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",n),We(this.elements.controls)||dt.findElements.call(this),!Ge(this.elements.buttons)){var a=function(t){var n=e.config.classNames.controlPressed;Object.defineProperty(t,"pressed",{enumerable:!0,get:function(){return O(t,n)},set:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];N(t,n,e)}})};Object.values(this.elements.buttons).filter(Boolean).forEach((function(e){Ue(e)||He(e)?Array.from(e).filter(Boolean).forEach(a):a(e)}))}if(Qe.isEdge&&y(i),this.config.tooltips.controls){var c=this.config,u=c.classNames,d=c.selectors,f="".concat(d.controls.wrapper," ").concat(d.labels," .").concat(u.hidden),h=M.call(this,f);Array.from(h).forEach((function(t){N(t,e.config.classNames.hidden,!1),N(t,e.config.classNames.tooltip,!0)}))}}},ft={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!et.textTracks)Ue(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&dt.setCaptionsMenu.call(this);else{if(We(this.elements.captions)||(this.elements.captions=x("div",T(this.config.selectors.captions)),function(e,t){We(e)&&We(t)&&t.parentNode.insertBefore(e,t.nextSibling)}(this.elements.captions,this.elements.wrapper)),Qe.isIE&&window.URL){var e=this.media.querySelectorAll("track");Array.from(e).forEach((function(e){var t=e.getAttribute("src"),n=te(t);null!==n&&n.hostname!==window.location.href.hostname&&["http:","https:"].includes(n.protocol)&&Q(t,"blob").then((function(t){e.setAttribute("src",window.URL.createObjectURL(t))})).catch((function(){S(e)}))}))}var t=Y((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((function(e){return e.split("-")[0]}))),n=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===n&&(n=l(t,1)[0]);var r=this.storage.get("captions");if(ze(r)||(r=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:r,language:n,languages:t}),this.isHTML5){var i=this.config.captions.update?"addtrack removetrack":"removetrack";P.call(this,this.media.textTracks,i,ft.update.bind(this))}setTimeout(ft.update.bind(this),0)}},update:function(){var e=this,t=ft.getTracks.call(this,!0),n=this.captions,r=n.active,i=n.language,o=n.meta,s=n.currentTrackNode,a=Boolean(t.find((function(e){return e.language===i})));this.isHTML5&&this.isVideo&&t.filter((function(e){return!o.get(e)})).forEach((function(t){e.debug.log("Track added",t),o.set(t,{default:"showing"===t.mode}),"showing"===t.mode&&(t.mode="hidden"),P.call(e,t,"cuechange",(function(){return ft.updateCues.call(e)}))})),(a&&this.language!==i||!t.includes(s))&&(ft.setLanguage.call(this,i),ft.toggle.call(this,r&&a)),N(this.elements.container,this.config.classNames.captions.enabled,!Ge(t)),Ue(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&dt.setCaptionsMenu.call(this)},toggle:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.supported.ui){var r=this.captions.toggled,i=this.config.classNames.captions.active,o=Le(e)?!r:e;if(o!==r){if(n||(this.captions.active=o,this.storage.set({captions:o})),!this.language&&o&&!n){var s=ft.getTracks.call(this),a=ft.findTrack.call(this,[this.captions.language].concat(c(this.captions.languages)),!0);return this.captions.language=a.language,void ft.set.call(this,s.indexOf(a))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=o),N(this.elements.container,i,o),this.captions.toggled=o,dt.updateSetting.call(this,"captions"),z.call(this,this.media,o?"captionsenabled":"captionsdisabled")}setTimeout((function(){o&&t.captions.toggled&&(t.captions.currentTrackNode.mode="hidden")}))}},set:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=ft.getTracks.call(this);if(-1!==e)if(Ie(e))if(e in n){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;var r=n[e],i=(r||{}).language;this.captions.currentTrackNode=r,dt.updateSetting.call(this,"captions"),t||(this.captions.language=i,this.storage.set({language:i})),this.isVimeo&&this.embed.enableTextTrack(i),z.call(this,this.media,"languagechange")}ft.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&ft.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else ft.toggle.call(this,!1,t)},setLanguage:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if($e(e)){var n=e.toLowerCase();this.captions.language=n;var r=ft.getTracks.call(this),i=ft.findTrack.call(this,[n]);ft.set.call(this,r.indexOf(i),t)}else this.debug.warn("Invalid language argument",e)},getTracks:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Array.from((this.media||{}).textTracks||[]).filter((function(n){return!e.isHTML5||t||e.captions.meta.has(n)})).filter((function(e){return["captions","subtitles"].includes(e.kind)}))},findTrack:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=ft.getTracks.call(this),o=function(e){return Number((n.captions.meta.get(e)||{}).default)
},s=Array.from(i).sort((function(e,t){return o(t)-o(e)}));return e.every((function(e){return!(t=s.find((function(t){return t.language===e})))})),t||(r?s[0]:void 0)},getCurrentTrack:function(){return ft.getTracks.call(this)[this.currentTrack]},getLabel:function(e){var t=e;return!Ve(t)&&et.textTracks&&this.captions.toggled&&(t=ft.getCurrentTrack.call(this)),Ve(t)?Ge(t.label)?Ge(t.language)?st("enabled",this.config):e.language.toUpperCase():t.label:st("disabled",this.config)},updateCues:function(e){if(this.supported.ui)if(We(this.elements.captions))if(Le(e)||Array.isArray(e)){var t=e;if(!t){var n=ft.getCurrentTrack.call(this);t=Array.from((n||{}).activeCues||[]).map((function(e){return e.getCueAsHTML()})).map(X)}var r=t.map((function(e){return e.trim()})).join("\n");if(r!==this.elements.captions.innerHTML){k(this.elements.captions);var i=x("span",T(this.config.selectors.caption));i.innerHTML=r,this.elements.captions.appendChild(i),z.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",e);else this.debug.warn("No captions element to render to")}},ht={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.6.4/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1}},pt="picture-in-picture",mt="inline",gt={html5:"html5",youtube:"youtube",vimeo:"vimeo"},vt="audio",yt="video",bt=function(){},_t=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t(this,e),this.enabled=window.console&&n,this.enabled&&this.log("Debugging enabled")}return r(e,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):bt}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):bt}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):bt}}]),e}(),wt=function(){function e(n){var r=this;t(this,e),i(this,"onChange",(function(){if(r.enabled){var e=r.player.elements.buttons.fullscreen;We(e)&&(e.pressed=r.active);var t=r.target===r.player.media?r.target:r.player.elements.container;z.call(r.player,t,r.active?"enterfullscreen":"exitfullscreen",!0)}})),i(this,"toggleFallback",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e?r.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(r.scrollPosition.x,r.scrollPosition.y),document.body.style.overflow=e?"hidden":"",N(r.target,r.player.config.classNames.fullscreen.fallback,e),Qe.isIos){var t=document.head.querySelector('meta[name="viewport"]'),n="viewport-fit=cover";t||(t=document.createElement("meta")).setAttribute("name","viewport");var i=$e(t.content)&&t.content.includes(n);e?(r.cleanupViewport=!i,i||(t.content+=",".concat(n))):r.cleanupViewport&&(t.content=t.content.split(",").filter((function(e){return e.trim()!==n})).join(","))}r.onChange()})),i(this,"trapFocus",(function(e){if(!Qe.isIos&&r.active&&"Tab"===e.key&&9===e.keyCode){var t=document.activeElement,n=M.call(r.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),i=l(n,1)[0],o=n[n.length-1];t!==o||e.shiftKey?t===i&&e.shiftKey&&(o.focus(),e.preventDefault()):(i.focus(),e.preventDefault())}})),i(this,"update",(function(){var t;r.enabled?(t=r.forceFallback?"Fallback (forced)":e.native?"Native":"Fallback",r.player.debug.log("".concat(t," fullscreen enabled"))):r.player.debug.log("Fullscreen not supported and fallback disabled"),N(r.player.elements.container,r.player.config.classNames.fullscreen.enabled,r.enabled)})),i(this,"enter",(function(){r.enabled&&(Qe.isIos&&r.player.config.fullscreen.iosNative?r.player.isVimeo?r.player.embed.requestFullscreen():r.target.webkitEnterFullscreen():!e.native||r.forceFallback?r.toggleFallback(!0):r.prefix?Ge(r.prefix)||r.target["".concat(r.prefix,"Request").concat(r.property)]():r.target.requestFullscreen({navigationUI:"hide"}))})),i(this,"exit",(function(){if(r.enabled)if(Qe.isIos&&r.player.config.fullscreen.iosNative)r.target.webkitExitFullscreen(),H(r.player.play());else if(!e.native||r.forceFallback)r.toggleFallback(!1);else if(r.prefix){if(!Ge(r.prefix)){var t="moz"===r.prefix?"Cancel":"Exit";document["".concat(r.prefix).concat(t).concat(r.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)})),i(this,"toggle",(function(){r.active?r.exit():r.enter()})),this.player=n,this.prefix=e.prefix,this.property=e.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===n.config.fullscreen.fallback,this.player.elements.fullscreen=n.config.fullscreen.container&&function(e,t){return(Element.prototype.closest||function(){var e=this;do{if(j.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,n.config.fullscreen.container),P.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),(function(){r.onChange()})),P.call(this.player,this.player.elements.container,"dblclick",(function(e){We(r.player.elements.controls)&&r.player.elements.controls.contains(e.target)||r.player.listeners.proxy(e,r.toggle,"fullscreen")})),P.call(this,this.player.elements.container,"keydown",(function(e){return r.trapFocus(e)})),this.update()}return r(e,[{key:"usingNative",get:function(){return e.native&&!this.forceFallback}},{key:"enabled",get:function(){return(e.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){if(!this.enabled)return!1;if(!e.native||this.forceFallback)return O(this.target,this.player.config.classNames.fullscreen.fallback);var t=this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement;return t&&t.shadowRoot?t===this.target.getRootNode().host:t===this.target}},{key:"target",get:function(){return Qe.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(Be(document.exitFullscreen))return"";var e="";return["webkit","moz","ms"].some((function(t){return!(!Be(document["".concat(t,"ExitFullscreen")])&&!Be(document["".concat(t,"CancelFullScreen")])||(e=t,0))})),e}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),e}(),Ct={addStyleHook:function(){N(this.elements.container,this.config.selectors.container.replace(".",""),!0),N(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var e=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void Ct.toggleNativeControls.call(this,!0);We(this.elements.controls)||(dt.inject.call(this),this.listeners.controls()),Ct.toggleNativeControls.call(this),this.isHTML5&&ft.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,dt.updateVolume.call(this),dt.timeUpdate.call(this),Ct.checkPlaying.call(this),N(this.elements.container,this.config.classNames.pip.supported,et.pip&&this.isHTML5&&this.isVideo),N(this.elements.container,this.config.classNames.airplay.supported,et.airplay&&this.isHTML5),N(this.elements.container,this.config.classNames.isIos,Qe.isIos),N(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((function(){z.call(e,e.media,"ready")}),0),Ct.setTitle.call(this),this.poster&&Ct.setPoster.call(this,this.poster,!1).catch((function(){})),this.config.duration&&dt.durationUpdate.call(this)},setTitle:function(){var e=st("play",this.config);if($e(this.config.title)&&!Ge(this.config.title)&&(e+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach((function(t){t.setAttribute("aria-label",e)})),this.isEmbed){var t=R.call(this,"iframe");if(!We(t))return;var n=Ge(this.config.title)?"video":this.config.title,r=st("frameTitle",this.config);t.setAttribute("title",r.replace("{title}",n))}},togglePoster:function(e){N(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster:function(e){var t=this;return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),U.call(this).then((function(){return re(e)})).catch((function(n){throw e===t.poster&&Ct.togglePoster.call(t,!1),n})).then((function(){if(e!==t.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((function(){return Object.assign(t.elements.poster.style,{backgroundImage:"url('".concat(e,"')"),backgroundSize:""}),Ct.togglePoster.call(t,!0),e})))},checkPlaying:function(e){var t=this;N(this.elements.container,this.config.classNames.playing,this.playing),N(this.elements.container,this.config.classNames.paused,this.paused),N(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((function(e){Object.assign(e,{pressed:t.playing}),e.setAttribute("aria-label",st(t.playing?"pause":"play",t.config))})),Ke(e)&&"timeupdate"===e.type||Ct.toggleControls.call(this)},checkLoading:function(e){var t=this;this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((function(){N(t.elements.container,t.config.classNames.loading,t.loading),Ct.toggleControls.call(t)}),this.loading?250:0)},toggleControls:function(e){var t=this.elements.controls;if(t&&this.config.hideControls){var n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||n))}},migrateStyles:function(){var e=this;Object.values(s({},this.media.style)).filter((function(e){return!Ge(e)&&$e(e)&&e.startsWith("--plyr")})).forEach((function(t){e.elements.container.style.setProperty(t,e.media.style.getPropertyValue(t)),e.media.style.removeProperty(t)})),Ge(this.media.style)&&this.media.removeAttribute("style")}},xt=function(){function e(n){var r=this;t(this,e),i(this,"firstTouch",(function(){var e=r.player,t=e.elements;e.touch=!0,N(t.container,e.config.classNames.isTouch,!0)})),i(this,"setTabFocus",(function(e){var t=r.player,n=t.elements;if(clearTimeout(r.focusTimer),"keydown"!==e.type||9===e.which){"keydown"===e.type&&(r.lastKeyDown=e.timeStamp);var i,o=e.timeStamp-r.lastKeyDown<=20;("focus"!==e.type||o)&&(i=t.config.classNames.tabFocus,N(M.call(t,".".concat(i)),i,!1),"focusout"!==e.type&&(r.focusTimer=setTimeout((function(){var e=document.activeElement;n.container.contains(e)&&N(document.activeElement,t.config.classNames.tabFocus,!0)}),10)))}})),i(this,"global",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=r.player;t.config.keyboard.global&&L.call(t,window,"keydown keyup",r.handleKey,e,!1),L.call(t,document.body,"click",r.toggleMenu,e),$.call(t,document.body,"touchstart",r.firstTouch),L.call(t,document.body,"keydown focus blur focusout",r.setTabFocus,e,!1,!0)})),i(this,"container",(function(){var e=r.player,t=e.config,n=e.elements,i=e.timers;!t.keyboard.global&&t.keyboard.focused&&P.call(e,n.container,"keydown keyup",r.handleKey,!1),P.call(e,n.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(function(t){var r=n.controls;r&&"enterfullscreen"===t.type&&(r.pressed=!1,r.hover=!1);var o=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(Ct.toggleControls.call(e,!0),o=e.touch?3e3:2e3),clearTimeout(i.controls),i.controls=setTimeout((function(){return Ct.toggleControls.call(e,!1)}),o)}));var o=function(t){if(!t)return V.call(e);var r=n.container.getBoundingClientRect(),i=r.width,o=r.height;return V.call(e,"".concat(i,":").concat(o))},s=function(){clearTimeout(i.resized),i.resized=setTimeout(o,50)};P.call(e,n.container,"enterfullscreen exitfullscreen",(function(t){var r=e.fullscreen,i=r.target,a=r.usingNative;if(i===n.container&&(e.isEmbed||!Ge(e.config.ratio))){var c="enterfullscreen"===t.type,u=o(c);u.padding,!function(t,n,r){if(e.isVimeo&&!e.config.vimeo.premium){var i=e.elements.wrapper.firstChild,o=l(t,2)[1],s=l(q.call(e),2),a=s[0],c=s[1];i.style.maxWidth=r?"".concat(o/c*a,"px"):null,i.style.margin=r?"0 auto":null}}(u.ratio,0,c),c&&setTimeout((function(){return y(n.container)}),100),a||(c?P.call(e,window,"resize",s):I.call(e,window,"resize",s))}}))})),i(this,"media",(function(){var e=r.player,t=e.elements;if(P.call(e,e.media,"timeupdate seeking seeked",(function(t){return dt.timeUpdate.call(e,t)})),P.call(e,e.media,"durationchange loadeddata loadedmetadata",(function(t){return dt.durationUpdate.call(e,t)})),P.call(e,e.media,"ended",(function(){e.isHTML5&&e.isVideo&&e.config.resetOnEnd&&(e.restart(),e.pause())})),P.call(e,e.media,"progress playing seeking seeked",(function(t){return dt.updateProgress.call(e,t)})),P.call(e,e.media,"volumechange",(function(t){return dt.updateVolume.call(e,t)})),P.call(e,e.media,"playing play pause ended emptied timeupdate",(function(t){return Ct.checkPlaying.call(e,t)})),P.call(e,e.media,"waiting canplay seeked playing",(function(t){return Ct.checkLoading.call(e,t)})),e.supported.ui&&e.config.clickToPlay&&!e.isAudio){var n=R.call(e,".".concat(e.config.classNames.video));if(!We(n))return;P.call(e,t.container,"click",(function(i){([t.container,n].includes(i.target)||n.contains(i.target))&&(e.touch&&e.config.hideControls||(e.ended?(r.proxy(i,e.restart,"restart"),r.proxy(i,(function(){H(e.play())}),"play")):r.proxy(i,(function(){H(e.togglePlay())}),"play")))}))}e.supported.ui&&e.config.disableContextMenu&&P.call(e,t.wrapper,"contextmenu",(function(e){e.preventDefault()}),!1),P.call(e,e.media,"volumechange",(function(){e.storage.set({volume:e.volume,muted:e.muted})})),P.call(e,e.media,"ratechange",(function(){dt.updateSetting.call(e,"speed"),e.storage.set({speed:e.speed})})),P.call(e,e.media,"qualitychange",(function(t){dt.updateSetting.call(e,"quality",null,t.detail.quality)})),P.call(e,e.media,"ready qualitychange",(function(){dt.setDownloadUrl.call(e)}));var i=e.config.events.concat(["keyup","keydown"]).join(" ");P.call(e,e.media,i,(function(n){var r=n.detail,i=void 0===r?{}:r;"error"===n.type&&(i=e.media.error),z.call(e,t.container,n.type,!0,i)}))})),i(this,"proxy",(function(e,t,n){var i=r.player,o=i.config.listeners[n],s=!0;Be(o)&&(s=o.call(i,e)),!1!==s&&Be(t)&&t.call(i,e)})),i(this,"bind",(function(e,t,n,i){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=r.player,a=s.config.listeners[i],l=Be(a);P.call(s,e,t,(function(e){return r.proxy(e,n,i)}),o&&!l)})),i(this,"controls",(function(){var e=r.player,t=e.elements,n=Qe.isIE?"change":"input";if(t.buttons.play&&Array.from(t.buttons.play).forEach((function(t){r.bind(t,"click",(function(){H(e.togglePlay())}),"play")})),r.bind(t.buttons.restart,"click",e.restart,"restart"),r.bind(t.buttons.rewind,"click",(function(){e.lastSeekTime=Date.now(),e.rewind()}),"rewind"),r.bind(t.buttons.fastForward,"click",(function(){e.lastSeekTime=Date.now(),e.forward()}),"fastForward"),r.bind(t.buttons.mute,"click",(function(){e.muted=!e.muted}),"mute"),r.bind(t.buttons.captions,"click",(function(){return e.toggleCaptions()})),r.bind(t.buttons.download,"click",(function(){z.call(e,e.media,"download")}),"download"),r.bind(t.buttons.fullscreen,"click",(function(){e.fullscreen.toggle()}),"fullscreen"),r.bind(t.buttons.pip,"click",(function(){e.pip="toggle"}),"pip"),r.bind(t.buttons.airplay,"click",e.airplay,"airplay"),r.bind(t.buttons.settings,"click",(function(t){t.stopPropagation(),t.preventDefault(),dt.toggleMenu.call(e,t)}),null,!1),r.bind(t.buttons.settings,"keyup",(function(t){var n=t.which;[13,32].includes(n)&&(13!==n?(t.preventDefault(),t.stopPropagation(),dt.toggleMenu.call(e,t)):dt.focusFirstMenuItem.call(e,null,!0))}),null,!1),r.bind(t.settings.menu,"keydown",(function(t){27===t.which&&dt.toggleMenu.call(e,t)})),r.bind(t.inputs.seek,"mousedown mousemove",(function(e){var n=t.progress.getBoundingClientRect(),r=100/n.width*(e.pageX-n.left);e.currentTarget.setAttribute("seek-value",r)})),r.bind(t.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(function(t){var n=t.currentTarget,r=t.keyCode?t.keyCode:t.which,i="play-on-seeked";if(!qe(t)||39===r||37===r){e.lastSeekTime=Date.now();var o=n.hasAttribute(i),s=["mouseup","touchend","keyup"].includes(t.type);o&&s?(n.removeAttribute(i),H(e.play())):!s&&e.playing&&(n.setAttribute(i,""),e.pause())}})),Qe.isIos){var i=M.call(e,'input[type="range"]');Array.from(i).forEach((function(e){return r.bind(e,n,(function(e){return y(e.target)}))}))}r.bind(t.inputs.seek,n,(function(t){var n=t.currentTarget,r=n.getAttribute("seek-value");Ge(r)&&(r=n.value),n.removeAttribute("seek-value"),e.currentTime=r/n.max*e.duration}),"seek"),r.bind(t.progress,"mouseenter mouseleave mousemove",(function(t){return dt.updateSeekTooltip.call(e,t)})),r.bind(t.progress,"mousemove touchmove",(function(t){var n=e.previewThumbnails;n&&n.loaded&&n.startMove(t)})),r.bind(t.progress,"mouseleave touchend click",(function(){var t=e.previewThumbnails;t&&t.loaded&&t.endMove(!1,!0)})),r.bind(t.progress,"mousedown touchstart",(function(t){var n=e.previewThumbnails;n&&n.loaded&&n.startScrubbing(t)})),r.bind(t.progress,"mouseup touchend",(function(t){var n=e.previewThumbnails;n&&n.loaded&&n.endScrubbing(t)})),Qe.isWebkit&&Array.from(M.call(e,'input[type="range"]')).forEach((function(t){r.bind(t,"input",(function(t){return dt.updateRangeFill.call(e,t.target)}))})),e.config.toggleInvert&&!We(t.display.duration)&&r.bind(t.display.currentTime,"click",(function(){0!==e.currentTime&&(e.config.invertTime=!e.config.invertTime,dt.timeUpdate.call(e))})),r.bind(t.inputs.volume,n,(function(t){e.volume=t.target.value}),"volume"),r.bind(t.controls,"mouseenter mouseleave",(function(n){t.controls.hover=!e.touch&&"mouseenter"===n.type})),t.fullscreen&&Array.from(t.fullscreen.children).filter((function(e){return!e.contains(t.container)})).forEach((function(n){r.bind(n,"mouseenter mouseleave",(function(n){t.controls.hover=!e.touch&&"mouseenter"===n.type}))})),r.bind(t.controls,"mousedown mouseup touchstart touchend touchcancel",(function(e){t.controls.pressed=["mousedown","touchstart"].includes(e.type)})),r.bind(t.controls,"focusin",(function(){var n=e.config,i=e.timers;N(t.controls,n.classNames.noTransition,!0),Ct.toggleControls.call(e,!0),setTimeout((function(){N(t.controls,n.classNames.noTransition,!1)}),0);var o=r.touch?3e3:4e3;clearTimeout(i.controls),i.controls=setTimeout((function(){return Ct.toggleControls.call(e,!1)}),o)})),r.bind(t.inputs.volume,"wheel",(function(t){var n=t.webkitDirectionInvertedFromDevice,r=l([t.deltaX,-t.deltaY].map((function(e){return n?-e:e})),2),i=r[0],o=r[1],s=Math.sign(Math.abs(i)>Math.abs(o)?i:o);e.increaseVolume(s/50);var a=e.media.volume;(1===s&&a<1||-1===s&&a>0)&&t.preventDefault()}),"volume",!1)})),this.player=n,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}return r(e,[{key:"handleKey",value:function(e){var t=this.player,n=t.elements,r=e.keyCode?e.keyCode:e.which,i="keydown"===e.type,o=i&&r===this.lastKey;if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&Ie(r))if(i){var s=document.activeElement;if(We(s)){var a=t.config.selectors.editable;if(s!==n.inputs.seek&&j(s,a))return;if(32===e.which&&j(s,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(r)&&(e.preventDefault(),e.stopPropagation()),r){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:o||(t.currentTime=t.duration/10*(r-48));break;case 32:case 75:o||H(t.togglePlay());break;case 38:t.increaseVolume(.1);break;case 40:t.decreaseVolume(.1);break;case 77:o||(t.muted=!t.muted);break;case 39:t.forward();break;case 37:t.rewind();break;case 70:t.fullscreen.toggle();break;case 67:o||t.toggleCaptions();break;case 76:t.loop=!t.loop}27===r&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=r}else this.lastKey=null}},{key:"toggleMenu",value:function(e){dt.toggleMenu.call(this.player,e)}}]),e}();"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Et,St=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){e.exports=function(){function e(e,t){e=e.push?e:[e];var n,r,i,o=[],s=e.length,a=s;for(n=function(e,n){n.length&&o.push(e),--a||t(o)};s--;)r=e[s],(i=l[r])?n(r,i):(c[r]=c[r]||[]).push(n)}function t(e,t){if(e){var n=c[e];if(l[e]=t,n)for(;n.length;)n[0](e,t),n.splice(0,1)}}function n(e,t){e.call&&(e={success:e}),t.length?(e.error||s)(t):(e.success||s)(e)}function r(e,t,n,i){var o,a,l=document,c=n.async,u=(n.numRetries||0)+1,d=n.before||s,f=e.replace(/[\?|#].*$/,""),h=e.replace(/^(css|img)!/,"");i=i||0,/(^css!|\.css$)/.test(f)?((a=l.createElement("link")).rel="stylesheet",a.href=h,(o="hideFocus"in a)&&a.relList&&(o=0,a.rel="preload",a.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(f)?(a=l.createElement("img")).src=h:((a=l.createElement("script")).src=e,a.async=void 0===c||c),a.onload=a.onerror=a.onbeforeload=function(s){var l=s.type[0];if(o)try{a.sheet.cssText.length||(l="e")}catch(s){18!=s.code&&(l="e")}if("e"==l){if((i+=1)<u)return r(e,t,n,i)}else if("preload"==a.rel&&"style"==a.as)return a.rel="stylesheet";t(e,l,s.defaultPrevented)},!1!==d(e,a)&&l.head.appendChild(a)}function i(e,t,n){var i,o,s=(e=e.push?e:[e]).length,a=s,l=[];for(i=function(e,n,r){if("e"==n&&l.push(e),"b"==n){if(!r)return;l.push(e)}--s||t(l)},o=0;o<a;o++)r(e[o],i,n)}function o(e,r,o){function s(r,o){i(e,(function(e){n(c,e),r&&n({success:r,error:o},e),t(l,e)}),c)}var l,c;if(r&&r.trim&&(l=r),c=(l?o:r)||{},l){if(l in a)throw"LoadJS";a[l]=!0}if(c.returnPromise)return new Promise(s);s()}var s=function(){},a={},l={},c={};return o.ready=function(t,r){return e(t,(function(e){n(r,e)})),o},o.done=function(e){t(e,[])},o.reset=function(){a={},l={},c={}},o.isDefined=function(e){return e in a},o}()})),kt={setup:function(){var e=this;N(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,V.call(e),Pe(window.Vimeo)?kt.ready.call(e):ie(e.config.urls.vimeo.sdk).then((function(){kt.ready.call(e)})).catch((function(t){e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready:function(){var e=this,t=this,n=t.config.vimeo,r=n.premium,i=n.referrerPolicy,o=a(n,["premium","referrerPolicy"]);r&&Object.assign(o,{controls:!1,sidedock:!1});var c=ne(s({loop:t.config.loop.active,autoplay:t.autoplay,muted:t.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative},o)),u=t.media.getAttribute("src");Ge(u)&&(u=t.media.getAttribute(t.config.attributes.embed.id));var d,f=Ge(d=u)?null:Ie(Number(d))?d:d.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:d,h=x("iframe"),p=J(t.config.urls.vimeo.iframe,f,c);if(h.setAttribute("src",p),h.setAttribute("allowfullscreen",""),h.setAttribute("allow",["autoplay","fullscreen","picture-in-picture"].join("; ")),Ge(i)||h.setAttribute("referrerPolicy",i),r||!n.customControls)h.setAttribute("data-poster",t.poster),t.media=D(h,t.media);else{var m=x("div",{class:t.config.classNames.embedContainer,"data-poster":t.poster});m.appendChild(h),t.media=D(m,t.media)}n.customControls||Q(J(t.config.urls.vimeo.api,p)).then((function(e){!Ge(e)&&e.thumbnail_url&&Ct.setPoster.call(t,e.thumbnail_url).catch((function(){}))})),t.embed=new window.Vimeo.Player(h,{autopause:t.config.autopause,muted:t.muted}),t.media.paused=!0,t.media.currentTime=0,t.supported.ui&&t.embed.disableTextTrack(),t.media.play=function(){return oe.call(t,!0),t.embed.play()},t.media.pause=function(){return oe.call(t,!1),t.embed.pause()},t.media.stop=function(){t.pause(),t.currentTime=0};var g=t.media.currentTime;Object.defineProperty(t.media,"currentTime",{get:function(){return g},set:function(e){var n=t.embed,r=t.media,i=t.paused,o=t.volume,s=i&&!n.hasPlayed;r.seeking=!0,z.call(t,r,"seeking"),Promise.resolve(s&&n.setVolume(0)).then((function(){return n.setCurrentTime(e)})).then((function(){return s&&n.pause()})).then((function(){return s&&n.setVolume(o)})).catch((function(){}))}});var v=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get:function(){return v},set:function(e){t.embed.setPlaybackRate(e).then((function(){v=e,z.call(t,t.media,"ratechange")})).catch((function(){t.options.speed=[1]}))}});var y=t.config.volume;Object.defineProperty(t.media,"volume",{get:function(){return y},set:function(e){t.embed.setVolume(e).then((function(){y=e,z.call(t,t.media,"volumechange")}))}});var b=t.config.muted;Object.defineProperty(t.media,"muted",{get:function(){return b},set:function(e){var n=!!ze(e)&&e;t.embed.setVolume(n?0:t.config.volume).then((function(){b=n,z.call(t,t.media,"volumechange")}))}});var _,w=t.config.loop;Object.defineProperty(t.media,"loop",{get:function(){return w},set:function(e){var n=ze(e)?e:t.config.loop.active;t.embed.setLoop(n).then((function(){w=n}))}}),t.embed.getVideoUrl().then((function(e){_=e,dt.setDownloadUrl.call(t)})).catch((function(t){e.debug.warn(t)})),Object.defineProperty(t.media,"currentSrc",{get:function(){return _}}),Object.defineProperty(t.media,"ended",{get:function(){return t.currentTime===t.duration}}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then((function(n){var r=l(n,2),i=r[0],o=r[1];t.embed.ratio=[i,o],V.call(e)})),t.embed.setAutopause(t.config.autopause).then((function(e){t.config.autopause=e})),t.embed.getVideoTitle().then((function(n){t.config.title=n,Ct.setTitle.call(e)})),t.embed.getCurrentTime().then((function(e){g=e,z.call(t,t.media,"timeupdate")})),t.embed.getDuration().then((function(e){t.media.duration=e,z.call(t,t.media,"durationchange")})),t.embed.getTextTracks().then((function(e){t.media.textTracks=e,ft.setup.call(t)})),t.embed.on("cuechange",(function(e){var n=e.cues,r=(void 0===n?[]:n).map((function(e){return function(e){var t=document.createDocumentFragment(),n=document.createElement("div");return t.appendChild(n),n.innerHTML=e,t.firstChild.innerText}(e.text)}));ft.updateCues.call(t,r)})),t.embed.on("loaded",(function(){t.embed.getPaused().then((function(e){oe.call(t,!e),e||z.call(t,t.media,"playing")})),We(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)})),t.embed.on("bufferstart",(function(){z.call(t,t.media,"waiting")})),t.embed.on("bufferend",(function(){z.call(t,t.media,"playing")})),t.embed.on("play",(function(){oe.call(t,!0),z.call(t,t.media,"playing")})),t.embed.on("pause",(function(){oe.call(t,!1)})),t.embed.on("timeupdate",(function(e){t.media.seeking=!1,g=e.seconds,z.call(t,t.media,"timeupdate")})),t.embed.on("progress",(function(e){t.media.buffered=e.percent,z.call(t,t.media,"progress"),
1===parseInt(e.percent,10)&&z.call(t,t.media,"canplaythrough"),t.embed.getDuration().then((function(e){e!==t.media.duration&&(t.media.duration=e,z.call(t,t.media,"durationchange"))}))})),t.embed.on("seeked",(function(){t.media.seeking=!1,z.call(t,t.media,"seeked")})),t.embed.on("ended",(function(){t.media.paused=!0,z.call(t,t.media,"ended")})),t.embed.on("error",(function(e){t.media.error=e,z.call(t,t.media,"error")})),n.customControls&&setTimeout((function(){return Ct.build.call(t)}),0)}},Dt={setup:function(){var e=this;if(N(this.elements.wrapper,this.config.classNames.embed,!0),Pe(window.YT)&&Be(window.YT.Player))Dt.ready.call(this);else{var t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){Be(t)&&t(),Dt.ready.call(e)},ie(this.config.urls.youtube.sdk).catch((function(t){e.debug.warn("YouTube API failed to load",t)}))}},getTitle:function(e){var t=this;Q(J(this.config.urls.youtube.api,e)).then((function(e){if(Pe(e)){var n=e.title,r=e.height,i=e.width;t.config.title=n,Ct.setTitle.call(t),t.embed.ratio=[i,r]}V.call(t)})).catch((function(){V.call(t)}))},ready:function(){var e=this,t=e.config.youtube,n=e.media&&e.media.getAttribute("id");if(Ge(n)||!n.startsWith("youtube-")){var r=e.media.getAttribute("src");Ge(r)&&(r=e.media.getAttribute(this.config.attributes.embed.id));var i,o,s=Ge(i=r)?null:i.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:i,a=x("div",{id:(o=e.provider,"".concat(o,"-").concat(Math.floor(1e4*Math.random()))),"data-poster":t.customControls?e.poster:void 0});if(e.media=D(a,e.media),t.customControls){var l=function(e){return"https://i.ytimg.com/vi/".concat(s,"/").concat(e,"default.jpg")};re(l("maxres"),121).catch((function(){return re(l("sd"),121)})).catch((function(){return re(l("hq"))})).then((function(t){return Ct.setPoster.call(e,t.src)})).then((function(t){t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((function(){}))}e.embed=new window.YT.Player(e.media,{videoId:s,host:ae(t),playerVars:_({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.fullscreen.iosNative?0:1,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError:function(t){if(!e.media.error){var n=t.data,r={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[n]||"An unknown error occured";e.media.error={code:n,message:r},z.call(e,e.media,"error")}},onPlaybackRateChange:function(t){var n=t.target;e.media.playbackRate=n.getPlaybackRate(),z.call(e,e.media,"ratechange")},onReady:function(n){if(!Be(e.media.play)){var r=n.target;Dt.getTitle.call(e,s),e.media.play=function(){se.call(e,!0),r.playVideo()},e.media.pause=function(){se.call(e,!1),r.pauseVideo()},e.media.stop=function(){r.stopVideo()},e.media.duration=r.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:function(){return Number(r.getCurrentTime())},set:function(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,z.call(e,e.media,"seeking"),r.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:function(){return r.getPlaybackRate()},set:function(e){r.setPlaybackRate(e)}});var i=e.config.volume;Object.defineProperty(e.media,"volume",{get:function(){return i},set:function(t){i=t,r.setVolume(100*i),z.call(e,e.media,"volumechange")}});var o=e.config.muted;Object.defineProperty(e.media,"muted",{get:function(){return o},set:function(t){var n=ze(t)?t:o;o=n,r[n?"mute":"unMute"](),r.setVolume(100*i),z.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:function(){return r.getVideoUrl()}}),Object.defineProperty(e.media,"ended",{get:function(){return e.currentTime===e.duration}});var a=r.getAvailablePlaybackRates();e.options.speed=a.filter((function(t){return e.config.speed.options.includes(t)})),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),z.call(e,e.media,"timeupdate"),z.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((function(){e.media.buffered=r.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&z.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),z.call(e,e.media,"canplaythrough"))}),200),t.customControls&&setTimeout((function(){return Ct.build.call(e)}),50)}},onStateChange:function(n){var r=n.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(n.data)&&(e.media.seeking=!1,z.call(e,e.media,"seeked")),n.data){case-1:z.call(e,e.media,"timeupdate"),e.media.buffered=r.getVideoLoadedFraction(),z.call(e,e.media,"progress");break;case 0:se.call(e,!1),e.media.loop?(r.stopVideo(),r.playVideo()):z.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(se.call(e,!0),z.call(e,e.media,"playing"),e.timers.playing=setInterval((function(){z.call(e,e.media,"timeupdate")}),50),e.media.duration!==r.getDuration()&&(e.media.duration=r.getDuration(),z.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),se.call(e,!1);break;case 3:z.call(e,e.media,"waiting")}z.call(e,e.elements.container,"statechange",!1,{code:n.data})}}})}}},Tt={setup:function(){this.media?(N(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),N(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&N(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=x("div",{class:this.config.classNames.video}),w(this.media,this.elements.wrapper),this.elements.poster=x("div",{class:this.config.classNames.poster,hidden:""}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?nt.setup.call(this):this.isYouTube?Dt.setup.call(this):this.isVimeo&&kt.setup.call(this)):this.debug.warn("No media element found!")}},At=function(){function e(n){var r=this;t(this,e),i(this,"load",(function(){r.enabled&&(Pe(window.google)&&Pe(window.google.ima)?r.ready():ie(r.player.config.urls.googleIMA.sdk).then((function(){r.ready()})).catch((function(){r.trigger("error",new Error("Google IMA SDK failed to load"))})))})),i(this,"ready",(function(){var e;r.enabled||((e=r).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),r.startSafetyTimer(12e3,"ready()"),r.managerPromise.then((function(){r.clearSafetyTimer("onAdsManagerLoaded()")})),r.listeners(),r.setupIMA()})),i(this,"setupIMA",(function(){r.elements.container=x("div",{class:r.player.config.classNames.ads}),r.player.elements.container.appendChild(r.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(r.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(r.player.config.playsinline),r.elements.displayContainer=new google.ima.AdDisplayContainer(r.elements.container,r.player.media),r.loader=new google.ima.AdsLoader(r.elements.displayContainer),r.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(e){return r.onAdsManagerLoaded(e)}),!1),r.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){return r.onAdError(e)}),!1),r.requestAds()})),i(this,"requestAds",(function(){var e=r.player.elements.container;try{var t=new google.ima.AdsRequest;t.adTagUrl=r.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!r.player.muted),r.loader.requestAds(t)}catch(e){r.onAdError(e)}})),i(this,"pollCountdown",(function(){if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0]))return clearInterval(r.countdownTimer),void r.elements.container.removeAttribute("data-badge-text");var e=function(){var e=ee(Math.max(r.manager.getRemainingTime(),0)),t="".concat(st("advertisement",r.player.config)," - ").concat(e);r.elements.container.setAttribute("data-badge-text",t)};r.countdownTimer=setInterval(e,100)})),i(this,"onAdsManagerLoaded",(function(e){if(r.enabled){var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,r.manager=e.getAdsManager(r.player,t),r.cuePoints=r.manager.getCuePoints(),r.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){return r.onAdError(e)})),Object.keys(google.ima.AdEvent.Type).forEach((function(e){r.manager.addEventListener(google.ima.AdEvent.Type[e],(function(e){return r.onAdEvent(e)}))})),r.trigger("loaded")}})),i(this,"addCuePoints",(function(){Ge(r.cuePoints)||r.cuePoints.forEach((function(e){if(0!==e&&-1!==e&&e<r.player.duration){var t=r.player.elements.progress;if(We(t)){var n=100/r.player.duration*e,i=x("span",{class:r.player.config.classNames.cues});i.style.left="".concat(n.toString(),"%"),t.appendChild(i)}}}))})),i(this,"onAdEvent",(function(e){var t=r.player.elements.container,n=e.getAd(),i=e.getAdData();switch(function(e){z.call(r.player,r.player.media,"ads".concat(e.replace(/_/g,"").toLowerCase()))}(e.type),e.type){case google.ima.AdEvent.Type.LOADED:r.trigger("loaded"),r.pollCountdown(!0),n.isLinear()||(n.width=t.offsetWidth,n.height=t.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:r.manager.setVolume(r.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:r.player.ended?r.loadAds():r.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:r.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:r.pollCountdown(),r.resumeContent();break;case google.ima.AdEvent.Type.LOG:i.adError&&r.player.debug.warn("Non-fatal ad error: ".concat(i.adError.getMessage()))}})),i(this,"onAdError",(function(e){r.cancel(),r.player.debug.warn("Ads error",e)})),i(this,"listeners",(function(){var e,t=r.player.elements.container;r.player.on("canplay",(function(){r.addCuePoints()})),r.player.on("ended",(function(){r.loader.contentComplete()})),r.player.on("timeupdate",(function(){e=r.player.currentTime})),r.player.on("seeked",(function(){var t=r.player.currentTime;Ge(r.cuePoints)||r.cuePoints.forEach((function(n,i){e<n&&n<t&&(r.manager.discardAdBreak(),r.cuePoints.splice(i,1))}))})),window.addEventListener("resize",(function(){r.manager&&r.manager.resize(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL)}))})),i(this,"play",(function(){var e=r.player.elements.container;r.managerPromise||r.resumeContent(),r.managerPromise.then((function(){r.manager.setVolume(r.player.volume),r.elements.displayContainer.initialize();try{r.initialized||(r.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),r.manager.start()),r.initialized=!0}catch(e){r.onAdError(e)}})).catch((function(){}))})),i(this,"resumeContent",(function(){r.elements.container.style.zIndex="",r.playing=!1,H(r.player.media.play())})),i(this,"pauseContent",(function(){r.elements.container.style.zIndex=3,r.playing=!0,r.player.media.pause()})),i(this,"cancel",(function(){r.initialized&&r.resumeContent(),r.trigger("error"),r.loadAds()})),i(this,"loadAds",(function(){r.managerPromise.then((function(){r.manager&&r.manager.destroy(),r.managerPromise=new Promise((function(e){r.on("loaded",e),r.player.debug.log(r.manager)})),r.initialized=!1,r.requestAds()})).catch((function(){}))})),i(this,"trigger",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=r.events[e];Ue(o)&&o.forEach((function(e){Be(e)&&e.apply(r,n)}))})),i(this,"on",(function(e,t){return Ue(r.events[e])||(r.events[e]=[]),r.events[e].push(t),r})),i(this,"startSafetyTimer",(function(e,t){r.player.debug.log("Safety timer invoked from: ".concat(t)),r.safetyTimer=setTimeout((function(){r.cancel(),r.clearSafetyTimer("startSafetyTimer()")}),e)})),i(this,"clearSafetyTimer",(function(e){Le(r.safetyTimer)||(r.player.debug.log("Safety timer cleared from: ".concat(e)),clearTimeout(r.safetyTimer),r.safetyTimer=null)})),this.player=n,this.config=n.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((function(e,t){r.on("loaded",e),r.on("error",t)})),this.load()}return r(e,[{key:"enabled",get:function(){var e=this.config;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!Ge(e.publisherId)||Je(e.tagUrl))}},{key:"tagUrl",get:function(){var e=this.config;if(Je(e.tagUrl))return e.tagUrl;var t={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId};return"".concat("https://go.aniview.com/api/adserver6/vast/","?").concat(ne(t))}}]),e}(),Nt=function(e,t){var n={};return e>t.width/t.height?(n.width=t.width,n.height=1/e*t.width):(n.height=t.height,n.width=e*t.height),n},Ot=function(){function e(n){var r=this;t(this,e),i(this,"load",(function(){r.player.elements.display.seekTooltip&&(r.player.elements.display.seekTooltip.hidden=r.enabled),r.enabled&&r.getThumbnails().then((function(){r.enabled&&(r.render(),r.determineContainerAutoSizing(),r.loaded=!0)}))})),i(this,"getThumbnails",(function(){return new Promise((function(e){var t=r.player.config.previewThumbnails.src;if(Ge(t))throw new Error("Missing previewThumbnails.src config attribute");var n=function(){r.thumbnails.sort((function(e,t){return e.height-t.height})),r.player.debug.log("Preview thumbnails",r.thumbnails),e()};if(Be(t))t((function(e){r.thumbnails=e,n()}));else{var i=($e(t)?[t]:t).map((function(e){return r.getThumbnail(e)}));Promise.all(i).then(n)}}))})),i(this,"getThumbnail",(function(e){return new Promise((function(t){Q(e).then((function(n){var i,o,s={frames:(i=n,o=[],i.split(/\r\n\r\n|\n\n|\r\r/).forEach((function(e){var t={};e.split(/\r\n|\n|\r/).forEach((function(e){if(Ie(t.startTime)){if(!Ge(e.trim())&&Ge(t.text)){var n=e.trim().split("#xywh="),r=l(n,1);if(t.text=r[0],n[1]){var i=l(n[1].split(","),4);t.x=i[0],t.y=i[1],t.w=i[2],t.h=i[3]}}}else{var o=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);o&&(t.startTime=60*Number(o[1]||0)*60+60*Number(o[2])+Number(o[3])+Number("0.".concat(o[4])),t.endTime=60*Number(o[6]||0)*60+60*Number(o[7])+Number(o[8])+Number("0.".concat(o[9])))}})),t.text&&o.push(t)})),o),height:null,urlPrefix:""};s.frames[0].text.startsWith("/")||s.frames[0].text.startsWith("http://")||s.frames[0].text.startsWith("https://")||(s.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));var a=new Image;a.onload=function(){s.height=a.naturalHeight,s.width=a.naturalWidth,r.thumbnails.push(s),t()},a.src=s.urlPrefix+s.frames[0].text}))}))})),i(this,"startMove",(function(e){if(r.loaded&&Ke(e)&&["touchmove","mousemove"].includes(e.type)&&r.player.media.duration){if("touchmove"===e.type)r.seekTime=r.player.media.duration*(r.player.elements.inputs.seek.value/100);else{var t=r.player.elements.progress.getBoundingClientRect(),n=100/t.width*(e.pageX-t.left);r.seekTime=r.player.media.duration*(n/100),r.seekTime<0&&(r.seekTime=0),r.seekTime>r.player.media.duration-1&&(r.seekTime=r.player.media.duration-1),r.mousePosX=e.pageX,r.elements.thumb.time.innerText=ee(r.seekTime)}r.showImageAtCurrentTime()}})),i(this,"endMove",(function(){r.toggleThumbContainer(!1,!0)})),i(this,"startScrubbing",(function(e){(Le(e.button)||!1===e.button||0===e.button)&&(r.mouseDown=!0,r.player.media.duration&&(r.toggleScrubbingContainer(!0),r.toggleThumbContainer(!1,!0),r.showImageAtCurrentTime()))})),i(this,"endScrubbing",(function(){r.mouseDown=!1,Math.ceil(r.lastTime)===Math.ceil(r.player.media.currentTime)?r.toggleScrubbingContainer(!1):$.call(r.player,r.player.media,"timeupdate",(function(){r.mouseDown||r.toggleScrubbingContainer(!1)}))})),i(this,"listeners",(function(){r.player.on("play",(function(){r.toggleThumbContainer(!1,!0)})),r.player.on("seeked",(function(){r.toggleThumbContainer(!1)})),r.player.on("timeupdate",(function(){r.lastTime=r.player.media.currentTime}))})),i(this,"render",(function(){r.elements.thumb.container=x("div",{class:r.player.config.classNames.previewThumbnails.thumbContainer}),r.elements.thumb.imageContainer=x("div",{class:r.player.config.classNames.previewThumbnails.imageContainer}),r.elements.thumb.container.appendChild(r.elements.thumb.imageContainer);var e=x("div",{class:r.player.config.classNames.previewThumbnails.timeContainer});r.elements.thumb.time=x("span",{},"00:00"),e.appendChild(r.elements.thumb.time),r.elements.thumb.container.appendChild(e),We(r.player.elements.progress)&&r.player.elements.progress.appendChild(r.elements.thumb.container),r.elements.scrubbing.container=x("div",{class:r.player.config.classNames.previewThumbnails.scrubbingContainer}),r.player.elements.wrapper.appendChild(r.elements.scrubbing.container)})),i(this,"destroy",(function(){r.elements.thumb.container&&r.elements.thumb.container.remove(),r.elements.scrubbing.container&&r.elements.scrubbing.container.remove()})),i(this,"showImageAtCurrentTime",(function(){r.mouseDown?r.setScrubbingContainerSize():r.setThumbContainerSizeAndPos();var e=r.thumbnails[0].frames.findIndex((function(e){return r.seekTime>=e.startTime&&r.seekTime<=e.endTime})),t=e>=0,n=0;r.mouseDown||r.toggleThumbContainer(t),t&&(r.thumbnails.forEach((function(t,i){r.loadedImages.includes(t.frames[e].text)&&(n=i)})),e!==r.showingThumb&&(r.showingThumb=e,r.loadImage(n)))})),i(this,"loadImage",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=r.showingThumb,n=r.thumbnails[e],i=n.urlPrefix,o=n.frames[t],s=n.frames[t].text,a=i+s;if(r.currentImageElement&&r.currentImageElement.dataset.filename===s)r.showImage(r.currentImageElement,o,e,t,s,!1),r.currentImageElement.dataset.index=t,r.removeOldImages(r.currentImageElement);else{r.loadingImage&&r.usingSprites&&(r.loadingImage.onload=null);var l=new Image;l.src=a,l.dataset.index=t,l.dataset.filename=s,r.showingThumbFilename=s,r.player.debug.log("Loading image: ".concat(a)),l.onload=function(){return r.showImage(l,o,e,t,s,!0)},r.loadingImage=l,r.removeOldImages(l)}})),i(this,"showImage",(function(e,t,n,i,o){var s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];r.player.debug.log("Showing thumb: ".concat(o,". num: ").concat(i,". qual: ").concat(n,". newimg: ").concat(s)),r.setImageSizeAndOffset(e,t),s&&(r.currentImageContainer.appendChild(e),r.currentImageElement=e,r.loadedImages.includes(o)||r.loadedImages.push(o)),r.preloadNearby(i,!0).then(r.preloadNearby(i,!1)).then(r.getHigherQuality(n,e,t,o))})),i(this,"removeOldImages",(function(e){Array.from(r.currentImageContainer.children).forEach((function(t){if("img"===t.tagName.toLowerCase()){var n=r.usingSprites?500:1e3;if(t.dataset.index!==e.dataset.index&&!t.dataset.deleting){t.dataset.deleting=!0;var i=r.currentImageContainer;setTimeout((function(){i.removeChild(t),r.player.debug.log("Removing thumb: ".concat(t.dataset.filename))}),n)}}}))})),i(this,"preloadNearby",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(n){setTimeout((function(){var i=r.thumbnails[0].frames[e].text;if(r.showingThumbFilename===i){var o;o=t?r.thumbnails[0].frames.slice(e):r.thumbnails[0].frames.slice(0,e).reverse();var s=!1;o.forEach((function(e){var t=e.text;if(t!==i&&!r.loadedImages.includes(t)){s=!0,r.player.debug.log("Preloading thumb filename: ".concat(t));var o=r.thumbnails[0].urlPrefix+t,a=new Image;a.src=o,a.onload=function(){r.player.debug.log("Preloaded thumb filename: ".concat(t)),r.loadedImages.includes(t)||r.loadedImages.push(t),n()}}})),s||n()}}),300)}))})),i(this,"getHigherQuality",(function(e,t,n,i){if(e<r.thumbnails.length-1){var o=t.naturalHeight;r.usingSprites&&(o=n.h),o<r.thumbContainerHeight&&setTimeout((function(){r.showingThumbFilename===i&&(r.player.debug.log("Showing higher quality thumb for: ".concat(i)),r.loadImage(e+1))}),300)}})),i(this,"toggleThumbContainer",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r.player.config.classNames.previewThumbnails.thumbContainerShown;r.elements.thumb.container.classList.toggle(n,e),!e&&t&&(r.showingThumb=null,r.showingThumbFilename=null)})),i(this,"toggleScrubbingContainer",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=r.player.config.classNames.previewThumbnails.scrubbingContainerShown;r.elements.scrubbing.container.classList.toggle(t,e),e||(r.showingThumb=null,r.showingThumbFilename=null)})),i(this,"determineContainerAutoSizing",(function(){(r.elements.thumb.imageContainer.clientHeight>20||r.elements.thumb.imageContainer.clientWidth>20)&&(r.sizeSpecifiedInCSS=!0)})),i(this,"setThumbContainerSizeAndPos",(function(){if(r.sizeSpecifiedInCSS){if(r.elements.thumb.imageContainer.clientHeight>20&&r.elements.thumb.imageContainer.clientWidth<20){var e=Math.floor(r.elements.thumb.imageContainer.clientHeight*r.thumbAspectRatio);r.elements.thumb.imageContainer.style.width="".concat(e,"px")}else if(r.elements.thumb.imageContainer.clientHeight<20&&r.elements.thumb.imageContainer.clientWidth>20){var t=Math.floor(r.elements.thumb.imageContainer.clientWidth/r.thumbAspectRatio);r.elements.thumb.imageContainer.style.height="".concat(t,"px")}}else{var n=Math.floor(r.thumbContainerHeight*r.thumbAspectRatio);r.elements.thumb.imageContainer.style.height="".concat(r.thumbContainerHeight,"px"),r.elements.thumb.imageContainer.style.width="".concat(n,"px")}r.setThumbContainerPos()})),i(this,"setThumbContainerPos",(function(){var e=r.player.elements.progress.getBoundingClientRect(),t=r.player.elements.container.getBoundingClientRect(),n=r.elements.thumb.container,i=t.left-e.left+10,o=t.right-e.left-n.clientWidth-10,s=r.mousePosX-e.left-n.clientWidth/2;s<i&&(s=i),s>o&&(s=o),n.style.left="".concat(s,"px")})),i(this,"setScrubbingContainerSize",(function(){var e=Nt(r.thumbAspectRatio,{width:r.player.media.clientWidth,height:r.player.media.clientHeight}),t=e.width,n=e.height;r.elements.scrubbing.container.style.width="".concat(t,"px"),r.elements.scrubbing.container.style.height="".concat(n,"px")})),i(this,"setImageSizeAndOffset",(function(e,t){if(r.usingSprites){var n=r.thumbContainerHeight/t.h;e.style.height="".concat(e.naturalHeight*n,"px"),e.style.width="".concat(e.naturalWidth*n,"px"),e.style.left="-".concat(t.x*n,"px"),e.style.top="-".concat(t.y*n,"px")}})),this.player=n,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}return r(e,[{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}},{key:"currentImageContainer",get:function(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}},{key:"usingSprites",get:function(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}},{key:"thumbAspectRatio",get:function(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}},{key:"thumbContainerHeight",get:function(){return this.mouseDown?Nt(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}).height:this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}},{key:"currentImageElement",get:function(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement},set:function(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}]),e}(),jt={insertElements:function(e,t){var n=this;$e(t)?E(e,this.media,{src:t}):Ue(t)&&t.forEach((function(t){E(e,n.media,t)}))},change:function(e){var t=this;b(e,"sources.length")?(nt.cancelRequests.call(this),this.destroy.call(this,(function(){t.options.quality=[],S(t.media),t.media=null,We(t.elements.container)&&t.elements.container.removeAttribute("class");var n=e.sources,r=e.type,i=l(n,1)[0],o=i.provider,s=void 0===o?gt.html5:o,a=i.src,c="html5"===s?r:"div",u="html5"===s?{}:{src:a};Object.assign(t,{provider:s,type:r,supported:et.check(r,s,t.config.playsinline),media:x(c,u)}),t.elements.container.appendChild(t.media),ze(e.autoplay)&&(t.config.autoplay=e.autoplay),t.isHTML5&&(t.config.crossorigin&&t.media.setAttribute("crossorigin",""),t.config.autoplay&&t.media.setAttribute("autoplay",""),Ge(e.poster)||(t.poster=e.poster),t.config.loop.active&&t.media.setAttribute("loop",""),t.config.muted&&t.media.setAttribute("muted",""),t.config.playsinline&&t.media.setAttribute("playsinline","")),Ct.addStyleHook.call(t),t.isHTML5&&jt.insertElements.call(t,"source",n),t.config.title=e.title,Tt.setup.call(t),t.isHTML5&&Object.keys(e).includes("tracks")&&jt.insertElements.call(t,"track",e.tracks),(t.isHTML5||t.isEmbed&&!t.supported.ui)&&Ct.build.call(t),t.isHTML5&&t.media.load(),Ge(e.previewThumbnails)||(Object.assign(t.config.previewThumbnails,e.previewThumbnails),t.previewThumbnails&&t.previewThumbnails.loaded&&(t.previewThumbnails.destroy(),t.previewThumbnails=null),t.config.previewThumbnails.enabled&&(t.previewThumbnails=new Ot(t))),t.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}},Mt=function(){function e(n,r){var o=this;if(t(this,e),i(this,"play",(function(){return Be(o.media.play)?(o.ads&&o.ads.enabled&&o.ads.managerPromise.then((function(){return o.ads.play()})).catch((function(){return H(o.media.play())})),o.media.play()):null})),i(this,"pause",(function(){return o.playing&&Be(o.media.pause)?o.media.pause():null})),i(this,"togglePlay",(function(e){return(ze(e)?e:!o.playing)?o.play():o.pause()})),i(this,"stop",(function(){o.isHTML5?(o.pause(),o.restart()):Be(o.media.stop)&&o.media.stop()})),i(this,"restart",(function(){o.currentTime=0})),i(this,"rewind",(function(e){o.currentTime-=Ie(e)?e:o.config.seekTime})),i(this,"forward",(function(e){o.currentTime+=Ie(e)?e:o.config.seekTime})),i(this,"increaseVolume",(function(e){var t=o.media.muted?0:o.volume;o.volume=t+(Ie(e)?e:0)})),i(this,"decreaseVolume",(function(e){o.increaseVolume(-e)})),i(this,"airplay",(function(){et.airplay&&o.media.webkitShowPlaybackTargetPicker()})),i(this,"toggleControls",(function(e){if(o.supported.ui&&!o.isAudio){var t=O(o.elements.container,o.config.classNames.hideControls),n=void 0===e?void 0:!e,r=N(o.elements.container,o.config.classNames.hideControls,n);if(r&&Ue(o.config.controls)&&o.config.controls.includes("settings")&&!Ge(o.config.settings)&&dt.toggleMenu.call(o,!1),r!==t){var i=r?"controlshidden":"controlsshown";z.call(o,o.media,i)}return!r}return!1})),i(this,"on",(function(e,t){P.call(o,o.elements.container,e,t)})),i(this,"once",(function(e,t){$.call(o,o.elements.container,e,t)})),i(this,"off",(function(e,t){I(o.elements.container,e,t)})),i(this,"destroy",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(o.ready){var n=function(){document.body.style.overflow="",o.embed=null,t?(Object.keys(o.elements).length&&(S(o.elements.buttons.play),S(o.elements.captions),S(o.elements.controls),S(o.elements.wrapper),o.elements.buttons.play=null,o.elements.captions=null,o.elements.controls=null,o.elements.wrapper=null),Be(e)&&e()):(B.call(o),nt.cancelRequests.call(o),D(o.elements.original,o.elements.container),z.call(o,o.elements.original,"destroyed",!0),Be(e)&&e.call(o.elements.original),o.ready=!1,setTimeout((function(){o.elements=null,o.media=null}),200))};o.stop(),clearTimeout(o.timers.loading),clearTimeout(o.timers.controls),clearTimeout(o.timers.resized),o.isHTML5?(Ct.toggleNativeControls.call(o,!0),n()):o.isYouTube?(clearInterval(o.timers.buffering),clearInterval(o.timers.playing),null!==o.embed&&Be(o.embed.destroy)&&o.embed.destroy(),n()):o.isVimeo&&(null!==o.embed&&o.embed.unload().then(n),setTimeout(n,200))}})),i(this,"supports",(function(e){return et.mime.call(o,e)})),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=et.touch,this.media=n,$e(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||He(this.media)||Ue(this.media))&&(this.media=this.media[0]),this.config=_({},ht,e.defaults,r||{},function(){try{return JSON.parse(o.media.getAttribute("data-plyr-config"))}catch(e){return{}}}()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new _t(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",et),!Le(this.media)&&We(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(et.check().api){var s=this.media.cloneNode(!0);s.autoplay=!1,this.elements.original=s;var a=this.media.tagName.toLowerCase(),l=null,c=null;switch(a){case"div":if(l=this.media.querySelector("iframe"),We(l)){if(c=te(l.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?gt.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?gt.vimeo:null}(c.toString()),this.elements.container=this.media,this.media=l,this.elements.container.className="",c.search.length){var u=["1","true"];u.includes(c.searchParams.get("autoplay"))&&(this.config.autoplay=!0),u.includes(c.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=u.includes(c.searchParams.get("playsinline")),this.config.youtube.hl=c.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(Ge(this.provider)||!Object.values(gt).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=yt;break;case"video":case"audio":this.type=a,this.provider=gt.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=et.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new xt(this),this.storage=new at(this),this.media.plyr=this,We(this.elements.container)||(this.elements.container=x("div",{tabindex:0}),w(this.media,this.elements.container)),Ct.migrateStyles.call(this),Ct.addStyleHook.call(this),Tt.setup.call(this),this.config.debug&&P.call(this,this.elements.container,this.config.events.join(" "),(function(e){o.debug.log("event: ".concat(e.type))})),this.fullscreen=new wt(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Ct.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new At(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",(function(){return H(o.play())})),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Ot(this))):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return r(e,[{key:"toggleCaptions",value:function(e){ft.toggle.call(this,e,!1)}},{key:"isHTML5",get:function(){
return this.provider===gt.html5}},{key:"isEmbed",get:function(){return this.isYouTube||this.isVimeo}},{key:"isYouTube",get:function(){return this.provider===gt.youtube}},{key:"isVimeo",get:function(){return this.provider===gt.vimeo}},{key:"isVideo",get:function(){return this.type===yt}},{key:"isAudio",get:function(){return this.type===vt}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(e){if(this.duration){var t=Ie(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var e=this.media.buffered;return Ie(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var e=parseFloat(this.config.duration),t=(this.media||{}).duration,n=Ie(t)&&t!==1/0?t:0;return e||n}},{key:"volume",set:function(e){var t=e;$e(t)&&(t=Number(t)),Ie(t)||(t=this.storage.get("volume")),Ie(t)||(t=this.config.volume),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!Ge(e)&&this.muted&&t>0&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(e){var t=e;ze(t)||(t=this.storage.get("muted")),ze(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(e){var t=this,n=null;Ie(e)&&(n=e),Ie(n)||(n=this.storage.get("speed")),Ie(n)||(n=this.config.speed.selected);var r=this.minimumSpeed,i=this.maximumSpeed;n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255;return Math.min(Math.max(e,t),n)}(n,r,i),this.config.speed.selected=n,setTimeout((function(){t.media.playbackRate=n}),0)},get:function(){return Number(this.media.playbackRate)}},{key:"minimumSpeed",get:function(){return this.isYouTube?Math.min.apply(Math,c(this.options.speed)):this.isVimeo?.5:.0625}},{key:"maximumSpeed",get:function(){return this.isYouTube?Math.max.apply(Math,c(this.options.speed)):this.isVimeo?2:16}},{key:"quality",set:function(e){var t=this.config.quality,n=this.options.quality;if(n.length){var r=[!Ge(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(Ie),i=!0;if(!n.includes(r)){var o=function(e,t){return Ue(e)&&e.length?e.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e})):null}(n,r);this.debug.warn("Unsupported quality option: ".concat(r,", using ").concat(o," instead")),r=o,i=!1}t.selected=r,this.media.quality=r,i&&this.storage.set({quality:r})}},get:function(){return this.media.quality}},{key:"loop",set:function(e){var t=ze(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(e){jt.change.call(this,e)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var e=this.config.urls.download;return Je(e)?e:this.source},set:function(e){Je(e)&&(this.config.urls.download=e,dt.setDownloadUrl.call(this))}},{key:"poster",set:function(e){this.isVideo?Ct.setPoster.call(this,e,!1).catch((function(){})):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}},{key:"ratio",get:function(){if(!this.isVideo)return null;var e=K(q.call(this));return Ue(e)?e.join(":"):e},set:function(e){this.isVideo?$e(e)&&W(e)?(this.config.ratio=e,V.call(this)):this.debug.error("Invalid aspect ratio specified (".concat(e,")")):this.debug.warn("Aspect ratio can only be set for video")}},{key:"autoplay",set:function(e){var t=ze(e)?e:this.config.autoplay;this.config.autoplay=t},get:function(){return Boolean(this.config.autoplay)}},{key:"currentTrack",set:function(e){ft.set.call(this,e,!1)},get:function(){var e=this.captions,t=e.toggled,n=e.currentTrack;return t?n:-1}},{key:"language",set:function(e){ft.setLanguage.call(this,e,!1)},get:function(){return(ft.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(e){if(et.pip){var t=ze(e)?e:!this.pip;Be(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?pt:mt),Be(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}},get:function(){return et.pip?Ge(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===pt:null}}],[{key:"supported",value:function(e,t,n){return et.check(e,t,n)}},{key:"loadSprite",value:function(e,t){return Z(e,t)}},{key:"setup",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null;return $e(t)?r=Array.from(document.querySelectorAll(t)):He(t)?r=Array.from(t):Ue(t)&&(r=t.filter(We)),Ge(r)?null:r.map((function(t){return new e(t,n)}))}}]),e}();return Mt.defaults=(Et=ht,JSON.parse(JSON.stringify(Et))),Mt}));var FileUploader=function(){function e(){r&&r.removeAllFiles()}function t(){var e=[];if(r){var t=r.getAcceptedFiles();t.length&&t.forEach((function(t){var n=JSON.parse(t.xhr.response);e.push(n.file+":"+n.file_name)}))}return e}function n(e,t,n){Dropzone.autoDiscover=!1,void 0===n&&"attachment"===t?n=i:void 0===n&&"asset"===t&&(n=o);var a=Object.assign(s,n);if($(e).length)return r=new Dropzone(e,a),$(".dz-hidden-input").css("left",""),r}var r,i={method:"post",url:"/attachment/new",maxFiles:10,maxFilesize:100,createImageThumbnails:!0,acceptedFiles:".3gp,.7z,.7zip,.a,.ai,.apk,.ar,.avi,.bin,.bmp,.bz2,.cab,.cpio,.crx,.css,.csv,.deb,.dll,.dmg,.doc,.docx,.egg,.flv,.gif,.gz,.h264,.htm,.html,.ia,.icns,.ico,.ini,.iso,.jar,.jpeg,.jpg,.key,.lha,.m4v,.mar,.markdown,.md,.mdb,.mkv,.mov,.mp3,.mp4,.mpa,.mpeg,.mpg,.mpga,.octet-stream,.odp,.ods,.odt,.ogg,.otf,.pak,.pdf,.pea,.png,.pps,.ppt,.pptx,.psd,.rar,.rm,.rpm,.rss,.rtf,.s7z,.shar,.sql,.svg,.tar,.tar.gz,.tbz2,.tex,.tgz,.tif,.tiff,.tlz,.ttf,.txt,.vob,.war,.wav,.whl,.wma,.wmv,.xhtml,.xlr,.xls,.xlsx,.xml,.xpi,.xz,.z,.zip,.zipx,.cad",previewTemplate:'<div class="uploaded-image dz-preview"><div class="o-media"><div class="o-media__right u-no--margin p0 perview-block"><img data-dz-thumbnail style="min-width: 80px;" /></div><div class="o-media__body pt-2 u-padding-right"><div class="row"><div class="col-sm-9 col-12"><h5 class="u-margin-bottom--small"><span class="dz-success-mark u-clr--primary" style="display:none;"><i class="fa fa-check-circle-o"></i></span><span data-dz-name></span><span class="dz-size"> \u062d\u062c\u0645 \u0627\u0644\u0645\u0644\u0641: <span data-dz-size=""></span></span></h5><div class="dz-error-message" data-dz-errormessage></div><div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div></div><div class="col-sm-3 col-12 text-sm-end text-xs-start text-md-end text-lg-end"><h5><span> <a data-dz-remove="" class="c-button c-button--danger dz-delete-button"><i class="fa fa-times"></i> \u062d\u0630\u0641</a></span></h5></div></div></div></div></div>',paramName:"attachment",clickable:".dropzone-box",dictInvalidFileType:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0644\u0641 \u063a\u064a\u0631 \u0645\u062f\u0639\u0648\u0645",init:function(){this.on("sending",(function(e,t,n){n.append("token",$("#user_token").val())})),this.on("queuecomplete",(function(){$("#commentable_form #commentable_submit").attr("disabled",!1),$("#commentable_form #commentable_submit").html("\u0623\u0631\u0633\u0644")})),this.on("processing",(function(e){$("#commentable_form #commentable_submit").attr("disabled",!0),$("#commentable_form #commentable_submit").html("\u062c\u0627\u0631\u064a \u0627\u0644\u0631\u0641\u0639 ..."),""==e.previewElement.querySelector("img").src&&(e.previewElement.querySelector("img").src="https://khamsat.hsoubcdn.com/assets/images/no-preview-94dcb24d78ef808136e2a6c4cfa8981377d9e4020e671718313018f1afede51e.png")})),this.on("success",(function(e){$(e.previewElement.querySelector(".dz-success-mark")).show()})),this.on("error",(function(e,t,n){n&&500==n.status?errorMessage="\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642":errorMessage=t.error,$(e.previewElement).find(".dz-error-message").text(errorMessage)}))}},o={method:"post",url:"/admin/uploads/new",maxFiles:10,maxFilesize:100,createImageThumbnails:!0,acceptedFiles:".apng,.avif,.gif,.jpg,.jpeg,.jfif,.pjpeg,.pjp,.png,.svg,.webp,.bmp,.ico,.cur,.tif,.tiff",previewTemplate:'<div class="uploaded-image dz-preview"><div class="o-media"><div class="o-media__right u-no--margin p0 perview-block"><img data-dz-thumbnail style="min-width: 80px;" /></div><div class="o-media__body pt-2 u-padding-right"><div class="row"><div class="col-sm-9 col-12"><h5 class="u-margin-bottom--small"><span class="dz-success-mark u-clr--primary" style="display:none;"><i class="fa fa-check-circle-o"></i></span><span data-dz-name></span><span class="dz-size"> \u062d\u062c\u0645 \u0627\u0644\u0645\u0644\u0641: <span data-dz-size=""></span></span></h5><div class="dz-error-message" data-dz-errormessage></div><div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div></div><div class="col-sm-3 col-12 text-sm-end text-xs-start text-md-end text-lg-end"><h5><span> <a data-dz-remove="" class="c-button c-button--danger dz-delete-button"><i class="fa fa-times"></i> \u062d\u0630\u0641</a></span></h5></div></div></div></div></div>',paramName:"asset",clickable:".dropzone-box",dictInvalidFileType:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0644\u0641 \u063a\u064a\u0631 \u0645\u062f\u0639\u0648\u0645",init:function(){this.on("sending",(function(e,t,n){n.append("token",$("#user_token").val())})),this.on("queuecomplete",(function(){$("#assets_form #assets_submit").attr("disabled",!1),$("#assets_form #assets_submit").html("\u0623\u0631\u0633\u0644")})),this.on("processing",(function(e){$("#assets_form #assets_submit").attr("disabled",!0),$("#assets_form #assets_submit").html("\u062c\u0627\u0631\u064a \u0627\u0644\u0631\u0641\u0639 ..."),""==e.previewElement.querySelector("img").src&&(e.previewElement.querySelector("img").src="https://khamsat.hsoubcdn.com/assets/images/no-preview-94dcb24d78ef808136e2a6c4cfa8981377d9e4020e671718313018f1afede51e.png")})),this.on("success",(function(e){$(e.previewElement.querySelector(".dz-success-mark")).show()})),this.on("error",(function(e,t,n){n&&500==n.status?errorMessage="\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642":errorMessage=t.error,$(e.previewElement).find(".dz-error-message").text(errorMessage)}))}},s={timeout:15e5,parallelUploads:2,dictDefaultMessage:" \u0627\u0636\u063a\u0637 \u0647\u0646\u0627 \u0623\u0648 \u0642\u0645 \u0628\u0633\u062d\u0628 \u0627\u0644\u0635\u0648\u0631 \u0623\u0648 \u0627\u0644\u0641\u064a\u062f\u064a\u0648  \u0627\u0644\u0630\u064a \u062a\u0631\u064a\u062f \u0625\u0636\u0627\u0641\u062a\u0647\u0627 \u0625\u0644\u0649 \u0647\u0646\u0627",dictFallbackMessage:"\u0647\u0630\u0627 \u0627\u0644\u0645\u062a\u0635\u0641\u062d \u0644\u0627 \u064a\u062f\u0639\u0645 \u0628\u0639\u0636 \u0648 \u0638\u0627\u0626\u0641 \u0633\u0648\u0634\u064a\u0627\u0644 \u0648\u0648\u0644\u0641 \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629",dictFallbackText:"",dictFileTooBig:"\u062d\u062c\u0645 \u0627\u0644\u0645\u0644\u0641 \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0645\u0633\u0645\u0648\u062d \u0628\u0647",dictResponseError:"\u062e\u0637\u0623 {{statusCode}}",dictCancelUpload:"\u0627\u0644\u063a\u0627\u0621",dictCancelUploadConfirmation:"\u0647\u0644 \u062a\u0648\u062f \u0628\u0627\u0644\u0641\u0639\u0644 \u0627\u0644\u063a\u0627\u0621 \u0631\u0641\u0639 \u0627\u0644\u0645\u0644\u0641\u061f",dictRemoveFile:"\u062d\u0630\u0641",dictRemoveFileConfirmation:"\u0647\u0644 \u062a\u0648\u062f \u0628\u0627\u0644\u0641\u0639\u0644 \u062d\u0630\u0641 \u0627\u0644\u0645\u0644\u0641\u061f",dictMaxFilesExceeded:"\u063a\u064a\u0631 \u0645\u0633\u0645\u0648\u062d \u0628\u0623\u0643\u062b\u0631 \u0645\u0646 {{maxFiles}} \u0645\u0644\u0641\u0627\u062a",dictFileSizeUnits:{tb:"\u062a\u064a\u0631\u0627",gb:"\u063a\u064a\u063a\u0627",mb:"\u0645\u064a\u063a\u0627",kb:"\u0643\u064a\u0644\u0648 \u0628\u0627\u064a\u062a",b:"\u0628\u0627\u064a\u062a"}};return{init:n,reset_dropzone:e,get_files:t}}(),VoiceMessageUploader=function(){function e(){r(),s(),t()}function t(){$(document).on("click","a.voicerecord-delete-button",(function(){alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u062d\u0630\u0641 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0635\u0648\u062a\u064a\u0629\u061f \u0644\u0646 \u062a\u062a\u0645\u0643\u0646 \u0645\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0630\u0644\u0643 \u0644\u0627\u062d\u0642\u0627.").setting("title","\u062a\u0623\u0643\u064a\u062f \u062d\u0630\u0641 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0635\u0648\u062a\u064a\u0629").set("onok",(function(){$('input[name="voicemessage"]').val(""),c(""),$(".voicerecord-delete-button").hide(),o($("#voicemessage-title"))})),alertsControl.clear_style()})),$(document).on("change",'[name="voicemessage"]',(function(){$(this).val()?$(".voicerecord-delete-button").show():$(".voicerecord-delete-button").hide()}))}function n(){v(!0),$('input[name="voicemessage"]').val(""),$(".voicerecord-delete-button").hide(),c(""),o($("#voicemessage-title"))}function r(){$(document).on("click","#btn-start-recording",(function(){$('input[name="voicemessage"]').val().length?(alertify.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u062d\u0630\u0641 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0635\u0648\u062a\u064a\u0629 \u0648\u062a\u0633\u062c\u064a\u0644 \u0631\u0633\u0627\u0644\u0629 \u062c\u062f\u064a\u062f\u0629\u061f \u0644\u0646 \u062a\u062a\u0645\u0643\u0646 \u0645\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646 \u0630\u0644\u0643 \u0644\u0627\u062d\u0642\u0627.").setting("title","\u062a\u0623\u0643\u064a\u062f \u062d\u0630\u0641 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0635\u0648\u062a\u064a\u0629").set("onok",(function(){i()})),alertsControl.clear_style()):i()}))}function i(){if($('[name="voicemessage"]').val("").change(),w){$("#btn-start-recording").hide(),$("#btn-stop-recording").show(),o("#voicemessage-recording"),c(),audio.muted=!0,audio.srcObject=w;var e=u();_&&(_.destroy(),_=null),(_=RecordRTC(w,e)).startRecording(),C.disabled=!1}else l((function(e){if(w=e,E)return c(),audio.muted=!0,audio.srcObject=w,void o("#voicemessage-click");p(document.getElementById("btn-start-recording"))}))}function o(e){var t=["#voicemessage-title","#voicemessage-recording","#voicemessage-uploading","#voicemessage-capture-permission","#voicemessage-listen","#voicemessage-click"];Array.from(t).map((function(e){$(e).hide()})),$(e).show(),"voicemessage-listen"==$(e).attr("id")?($("#voicemessage_meta-send").show(),$("#voicemessage_meta-title").hide()):($("#voicemessage_meta-send").hide(),$("#voicemessage_meta-title").show())}function s(){$(document).on("click","#btn-stop-recording",(function(){$("#btn-stop-recording").hide(),$("#btn-start-recording").show(),o("#voicemessage-uploading"),_.stopRecording(d)}))}function a(e,t){t=void 0===t||t;var n={iconUrl:"https://khamsat.hsoubcdn.com/assets/images/plyr-74659570e7ea771a2671c58786c0d10ab7e3fd325d0229844758b30c2fa73f5f.svg",invertTime:!1,autopause:!0,i18n:{restart:"\u0625\u0639\u0627\u062f\u0629",rewind:"Rewind {seektime} secs",play:"\u062a\u0634\u063a\u064a\u0644",pause:"\u0627\u064a\u0642\u0627\u0641 \u0645\u0624\u0642\u062a",fastForward:"Forward {seektime} secs",seek:"Seek",played:"Played",buffered:"Buffered",currentTime:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u062d\u0627\u0644\u064a",duration:"\u0627\u0644\u0645\u062f\u0629 \u0627\u0644\u0632\u0645\u0646\u064a\u0629",volume:"\u0627\u0644\u0635\u0648\u062a",mute:"\u0635\u0627\u0645\u062a",unmute:"\u063a\u064a\u0631 \u0635\u0627\u0645\u062a",enableCaptions:"Enable captions",disableCaptions:"Disable captions",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",speed:"\u0627\u0644\u0633\u0631\u0639\u0629",normal:"\u0637\u0628\u064a\u0639\u0649",quality:"\u0627\u0644\u062c\u0648\u062f\u0629",loop:"\u062a\u0643\u0631\u0627\u0631",start:"\u0628\u062f\u0627\u064a\u0629",end:"\u0646\u0647\u0627\u064a\u0629",all:"\u0627\u0644\u0643\u0644",reset:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646",disabled:"\u0645\u0639\u0637\u0651\u0644",advertisement:"Ad"},controls:["play","progress","current-time","volume","settings"]};if(n.enable=t,void 0!==e)return new Plyr(e,n);Array.from($('[data-type="audio-player"]')).map((function(e){var t=e.parentElement;new Plyr(e,n),t.style.visibility="visible"}))}function l(e){w?e(w):(void 0!==navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||(alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0639\u0641\u0648\u0627\u060c \u0647\u0630\u0627 \u0627\u0644\u0645\u062a\u0635\u0641\u062d \u0644\u0627 \u064a\u062f\u0639\u0645 \u062a\u0642\u0646\u064a\u0629 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0629."),navigator.getUserMedia&&alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u064a\u0628\u062f\u0648 \u0623\u0646 \u0647\u0630\u0627 \u0627\u0644\u0645\u062a\u0635\u0641\u062d \u064a\u062f\u0639\u0645 \u0648\u0627\u062c\u0647\u0629 \u0628\u0631\u0645\u062c\u0629 \u062a\u0637\u0628\u064a\u0642\u0627\u062a \u0642\u062f\u064a\u0645\u0629\u060c \u064a\u062c\u0628 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u062a\u0635\u0641\u062d.")),navigator.mediaDevices.getUserMedia({audio:!0}).then((function(t){e(t)})).catch((function(e){$("#voicemessage-capture-permission").html("\u0627\u0644\u0645\u062a\u0635\u0641\u062d \u063a\u064a\u0631 \u0642\u0627\u062f\u0631 \u0639\u0644\u0649 \u0627\u0644\u0648\u0635\u0648\u0644 \u0627\u0644\u0649 \u0627\u0644\u0645\u064a\u0643\u0631\u0648\u0641\u0648\u0646. \u0623\u0639\u062f \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0635\u0641\u062d\u0629"),o("#voicemessage-capture-permission"),alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0627\u0644\u0645\u062a\u0635\u0641\u062d \u063a\u064a\u0631 \u0642\u0627\u062f\u0631 \u0639\u0644\u0649 \u0627\u0644\u0648\u0635\u0648\u0644 \u0627\u0644\u0649 \u0627\u0644\u0645\u064a\u0643\u0631\u0648\u0641\u0648\u0646 \u0627\u0644\u062e\u0627\u0635 \u0628\u0643."),console.error(e)})))}function c(e){var t=document.createElement("audio");t.setAttribute("data-type","audio-player"),t.setAttribute("crossorigin",!0),t.controls=!0,t.controlsList="nodownload",e?(t.src=e,v(!1)):v();var n=$('[data-container="voicemessage-audio"]');n.html(""),n.html(t),audio=t,a(n.find("audio"),!1)}function u(){var e={type:"audio",recorderType:MediaStreamRecorder,checkForInactiveTracks:!0,disableLogs:!0};return(E||x)&&(e.recorderType=StereoAudioRecorder),e}function d(){c(URL.createObjectURL(_.getBlob())),w&&(w.stop(),w=null),f()}function f(){var e=_.getBlob(),t=g(e.type.split("/")[1]),n=new File([e],t,{type:e.type}),r=new FormData;r.append("attachment",n),r.append("token",$("#user_token").val()),h(r)}function h(e){y(),$.ajax({url:"/attachment/new",data:e,cache:!1,contentType:!1,processData:!1,type:"POST",statusCode:{405:function(){h(e)},422:function(){setTimeout((function(){f()}),2e3)}},success:function(e){if(e){var t=e.file+":"+e.file_name;$('[name="voicemessage"]').val(t).change(),v(!1),$(".voicerecord-delete-button").show(),o($("#voicemessage-listen")),b()}else alertsControl.show("\u0625\u0634\u0639\u0627\u0631","\u0647\u0630\u0627 \u0645\u062b\u064a\u0631 \u0644\u0644\u0625\u062d\u0631\u0627\u062c! \u0644\u0642\u062f \u062d\u062f\u062b \u062e\u0637\u0626 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641 \u0623\u062b\u0646\u0627\u0621 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0644\u0645\u0648\u0642\u0639. \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0648\u0642\u062a \u0644\u0627\u062d\u0642.")},fail:function(){h(e)}})}function p(e){e.disabled=!1;var t=document.createEvent("Event");t.initEvent("click",!0,!0),e.dispatchEvent(t)}function m(){return(Math.random()*(new Date).getTime()).toString(5).replace(/\./g,"")}function g(e){var t=new Date;return"voicemessage-"+t.getFullYear()+t.getMonth()+t.getDate()+"-"+m()+"."+e}function v(e){return(e=void 0===e||1==e)?$(".voicemessage-recorder-player").hide():$(".voicemessage-recorder-player").show()}function y(){$("#commentable_form #commentable_submit").attr("disabled",!0),$("#commentable_form #commentable_submit").html("\u062c\u0627\u0631\u064a \u0627\u0644\u0631\u0641\u0639 ...")}function b(){$("#commentable_form #commentable_submit").attr("disabled",!1),$("#commentable_form #commentable_submit").html("\u0623\u0631\u0633\u0644")}$("#btn-start-recording");var _,w,C=$("#btn-stop-recording"),x=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveOrOpenBlob&&!navigator.msSaveBlob),E=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return{init:e,clear_recorder:n}}();$(document).ready((function(){$(".expandable_btn").click((function(){$(this).prev().toggle(),$(this).siblings(".dots").toggle(),"\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"==$(this).text()?($(this).parent().prev().addClass("hidden"),$(this).text("\u0639\u0631\u0636 \u0623\u0642\u0644")):($(this).parent().prev().removeClass("hidden"),$(this).text("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f"))}))}));var selectizeHash={valueField:"text",labelField:"text",delimiter:",",options:[],create:!0,onType:function(){0==this.currentResults.total&&this.currentResults.query.length<3?$(".selectize-dropdown").addClass("hard-hidden"):$(".selectize-dropdown").removeClass("hard-hidden")},render:{option_create:function(e,t){return t(e.input).length<3||t(e.input).length>30?"":isNaN(t(e.input))?($(".selectize-dropdown").removeClass("hard-hidden"),'<div class="create  bg-gray-darker">\u0623\u0636\u0641 \u0643\u0644\u0645\u0629 \u062c\u062f\u064a\u062f\u0629 : '+t(e.input)+"</div>"):""}},plugins:{remove_button:{label:'<i class="fa fa-fw fa-times"></i>',title:"\u062d\u0630\u0641",className:"remove"}}};initSelectizeInputs(),(()=>{function e(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={exports:{}};return t[r].call(o.exports,o,o.exports,e),o.exports}var t={138:function(e){e.exports=function(){"use strict";return function(e,t,n){n.updateLocale=function(e,t){var r=n.Ls[e];if(r)return(t?Object.keys(t):[]).forEach((function(e){r[e]=t[e]})),r}}}()},183:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},215:function(e){e.exports=function(){"use strict";return function(e,t,n){var r="h:mm A",i={lastDay:"[Yesterday at] "+r,sameDay:"[Today at] "+r,nextDay:"[Tomorrow at] "+r,nextWeek:"dddd [at] "+r,lastWeek:"[Last] dddd [at] "+r,sameElse:"MM/DD/YYYY"};t.prototype.calendar=function(e,t){var r=t||this.$locale().calendar||i,o=n(e||void 0).startOf("d"),s=this.diff(o,"d",!0),a="sameElse",l=s<-6?a:s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":a,c=r[l]||i[l];return"function"==typeof c?c.call(this,n()):this.format(c)}}}()},226:(e,t)=>{"use strict";function n(e,t,n){this.props=e,this.context=t,this.refs=k,this.updater=n||E}function r(){}function i(e,t,n){this.props=e,this.context=t,this.refs=k,this.updater=n||E}function o(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)A.call(t,r)&&!O.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return{$$typeof:f,type:e,key:o,ref:s,props:i,_owner:N.current}}function s(e){return"object"==typeof e&&null!==e&&e.$$typeof===f}function a(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function l(e,t,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var c=!1;if(null===e)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case f:case h:c=!0}}if(c)return i=i(c=e),e=""===r?"."+a(c,0):r,T(i)?(n="",null!=e&&(n=e.replace(j,"$&/")+"/"),l(i,t,n,"",(function(e){return e}))):null!=i&&(s(i)&&(i=function(e,t){return{$$typeof:f,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(j,"$&/")+"/")+e)),t.push(i)),1;if(c=0,r=""===r?".":r+":",T(e))for(var u=0;u<e.length;u++){var d=r+a(o=e[u],u);c+=l(o,t,n,d,i)}else if(d=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=x&&e[x]||e["@@iterator"])?e:null}(e),"function"==typeof d)for(e=d.call(e),u=0;!(o=e.next()).done;)c+=l(o=o.value,t,n,d=r+a(o,u++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function c(e,t,n){if(null==e)return e;var r=[],i=0;return l(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function u(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}function d(){throw Error("act(...) is not supported in production builds of React.")}var f=Symbol.for("react.element"),h=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),x=Symbol.iterator,E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};n.prototype.isReactComponent={},n.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},r.prototype=n.prototype;var D=i.prototype=new r;D.constructor=i,S(D,n.prototype),D.isPureReactComponent=!0;var T=Array.isArray,A=Object.prototype.hasOwnProperty,N={current:null},O={key:!0,ref:!0,__self:!0,__source:!0},j=/\/+/g,M={current:null},R={transition:null},F={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:R,ReactCurrentOwner:N};t.Children={map:c,forEach:function(e,t,n){c(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return c(e,(function(){t++})),t},toArray:function(e){return c(e,(function(e){return e}))||[]},only:function(e){if(!s(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=n,t.Fragment=p,t.Profiler=g,t.PureComponent=i,t.StrictMode=m,t.Suspense=_,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.act=d,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=S({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=N.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)A.call(t,l)&&!O.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==a?a[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:f,type:e.type,key:i,ref:o,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:y,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:v,_context:e},e.Consumer=e},t.createElement=o,t.createFactory=function(e){var t=o.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:b,render:e}},t.isValidElement=s,t.lazy=function(e){return{$$typeof:C,_payload:{_status:-1,_result:e},_init:u}},t.memo=function(e,t){return{$$typeof:w,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=d,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},306:(e,t,n)=>{"use strict";function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e,t){o(e,t),o(e+"Capture",t)}function o(e,t){for(fo[e]=t,e=0;e<t.length;e++)uo.add(t[e])}function s(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}function a(e){return e[1].toUpperCase()}function l(e,t,n,r){var i=yo.hasOwnProperty(t)?yo[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!po.call(vo,e)||!po.call(go,e)&&(mo.test(e)?vo[e]=!0:(go[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,
null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function c(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Po&&e[Po]||e["@@iterator"])?e:null}function u(e){if(void 0===Ro)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Ro=t&&t[1]||""}return"\n"+Ro+e}function d(e,t){if(!e||$o)return"";$o=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{$o=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?u(e):""}function f(e){switch(e.tag){case 5:return u(e.type);case 16:return u("Lazy");case 13:return u("Suspense");case 19:return u("SuspenseList");case 0:case 2:case 15:return d(e.type,!1);case 11:return d(e.type.render,!1);case 1:return d(e.type,!0);default:return""}}function h(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case xo:return"Fragment";case Co:return"Portal";case So:return"Profiler";case Eo:return"StrictMode";case Ao:return"Suspense";case No:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Do:return(e.displayName||"Context")+".Consumer";case ko:return(e._context.displayName||"Context")+".Provider";case To:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Oo:return null!==(t=e.displayName||null)?t:h(e.type)||"Memo";case jo:t=e._payload,e=e._init;try{return h(e(t))}catch(e){}}return null}function p(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return h(t);case 8:return t===Eo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function m(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function g(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function v(e){e._valueTracker||(e._valueTracker=function(e){var t=g(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=g(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function b(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function _(e,t){var n=t.checked;return Io({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function w(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=m(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function C(e,t){null!=(t=t.checked)&&l(e,"checked",t,!1)}function x(e,t){C(e,t);var n=m(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?S(e,t.type,n):t.hasOwnProperty("defaultValue")&&S(e,t.type,m(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function E(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function S(e,t,n){"number"===t&&b(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function k(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+m(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function D(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return Io({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function T(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(zo(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:m(n)}}function A(e,t){var n=m(t.value),r=m(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function N(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function O(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function j(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?O(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function M(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function R(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Uo.hasOwnProperty(e)&&Uo[e]?(""+t).trim():t+"px"}function F(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=R(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}function L(e,t){if(t){if(Wo[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62))}}function P(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function I(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function $(e){if(e=yt(e)){if("function"!=typeof qo)throw Error(r(280));var t=e.stateNode;t&&(t=_t(t),qo(e.stateNode,e.type,t))}}function z(e){Vo?Yo?Yo.push(e):Yo=[e]:Vo=e}function B(){if(Vo){var e=Vo,t=Yo;if(Yo=Vo=null,$(e),t)for(e=0;e<t.length;e++)$(t[e])}}function U(e,t){return e(t)}function H(){}function W(e,t,n){if(Jo)return e(t,n);Jo=!0;try{return U(e,t,n)}finally{Jo=!1,(null!==Vo||null!==Yo)&&(H(),B())}}function K(e,t){var n=e.stateNode;if(null===n)return null;var i=_t(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}function q(e,t,n){var r=Array.prototype.slice.call(arguments,3);try{t.apply(n,r)}catch(e){this.onError(e)}}function V(){ss=!1,as=null,q.apply(us,arguments)}function Y(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function J(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function G(e){if(Y(e)!==e)throw Error(r(188))}function X(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Y(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(i=o.return)){n=i;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return G(o),e;if(s===i)return G(o),t;s=s.sibling}throw Error(r(188))}if(n.return!==i.return)n=o,i=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,i=s;break}if(l===i){a=!0,i=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=o;break}if(l===i){a=!0,i=s,n=o;break}l=l.sibling}if(!a)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e))?Q(e):null}function Q(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Q(e);if(null!==t)return t;e=e.sibling}return null}function Z(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ee(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=Z(a):0!=(o&=s)&&(r=Z(o))}else 0!=(s=n&~i)?r=Z(s):0!==o&&(r=Z(o));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!=(4194240&o)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Es(t)),r|=e[n],t&=~i;return r}function te(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ne(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function re(){var e=Ds;return 0==(4194240&(Ds<<=1))&&(Ds=64),e}function ie(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function oe(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-Es(t)]=n}function se(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Es(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function ae(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}function le(e,t){switch(e){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":Fs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ls.delete(t.pointerId)}}function ce(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=yt(t))&&Zo(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function ue(e){var t=vt(e.target);if(null!==t){var n=Y(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=J(n)))return e.blockedOn=t,void ns(e.priority,(function(){es(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function de(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=be(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yt(n))&&Zo(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ko=r,n.target.dispatchEvent(r),Ko=null,t.shift()}return!0}function fe(e,t,n){de(e)&&n.delete(t)}function he(){Ns=!1,null!==js&&de(js)&&(js=null),null!==Ms&&de(Ms)&&(Ms=null),null!==Rs&&de(Rs)&&(Rs=null),Fs.forEach(fe),Ls.forEach(fe)}function pe(e,t){e.blockedOn===t&&(e.blockedOn=null,Ns||(Ns=!0,co.unstable_scheduleCallback(co.unstable_NormalPriority,he)))}function me(e){function t(t){return pe(t,e)}if(0<Os.length){pe(Os[0],e);for(var n=1;n<Os.length;n++){var r=Os[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==js&&pe(js,e),null!==Ms&&pe(Ms,e),null!==Rs&&pe(Rs,e),Fs.forEach(t),Ls.forEach(t),n=0;n<Ps.length;n++)(r=Ps[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ps.length&&null===(n=Ps[0]).blockedOn;)ue(n),null===n.blockedOn&&Ps.shift()}function ge(e,t,n,r){var i=As,o=$s.transition;$s.transition=null;try{As=1,ye(e,t,n,r)}finally{As=i,$s.transition=o}}function ve(e,t,n,r){var i=As,o=$s.transition;$s.transition=null;try{As=4,ye(e,t,n,r)}finally{As=i,$s.transition=o}}function ye(e,t,n,r){if(zs){var i=be(e,t,n,r);if(null===i)it(e,t,r,Bs,n),le(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return js=ce(js,e,t,n,r,i),!0;case"dragenter":return Ms=ce(Ms,e,t,n,r,i),!0;case"mouseover":return Rs=ce(Rs,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Fs.set(o,ce(Fs.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ls.set(o,ce(Ls.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(le(e,r),4&t&&-1<Is.indexOf(e)){for(;null!==i;){var o=yt(i);if(null!==o&&Qo(o),null===(o=be(e,t,n,r))&&it(e,t,r,Bs,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else it(e,t,r,null,n)}}function be(e,t,n,r){if(Bs=null,null!==(e=vt(e=I(r))))if(null===(t=Y(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=J(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bs=e,null}function _e(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gs()){case vs:return 1;case ys:return 4;case bs:case _s:return 16;case ws:return 536870912;default:return 16}default:return 16}}function we(){if(Ws)return Ws;var e,t,n=Hs,r=n.length,i="value"in Us?Us.value:Us.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Ws=i.slice(e,1<t?1-t:void 0)}function Ce(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function xe(){return!0}function Ee(){return!1}function Se(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?xe:Ee,this.isPropagationStopped=Ee,this}return Io(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=xe)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=xe)},persist:function(){},isPersistent:xe}),t}function ke(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=oa[e])&&!!t[e]}function De(){return ke}function Te(e,t){switch(e){case"keyup":return-1!==ha.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ae(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}function Ne(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!wa[e.type]:"textarea"===t}function Oe(e,t,n,r){z(r),0<(t=st(t,"onChange")).length&&(n=new qs("onChange","change",null,n,r),e.push({event:n,listeners:t}))}function je(e){Ze(e,0)}function Me(e){if(y(bt(e)))return e}function Re(e,t){if("change"===e)return t}function Fe(){Ca&&(Ca.detachEvent("onpropertychange",Le),xa=Ca=null)}function Le(e){if("value"===e.propertyName&&Me(xa)){var t=[];Oe(t,xa,e,I(e)),W(je,t)}}function Pe(e,t,n){"focusin"===e?(Fe(),xa=n,(Ca=t).attachEvent("onpropertychange",Le)):"focusout"===e&&Fe()}function Ie(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Me(xa)}function $e(e,t){if("click"===e)return Me(t)}function ze(e,t){if("input"===e||"change"===e)return Me(t)}function Be(e,t){if(Ta(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!po.call(t,i)||!Ta(e[i],t[i]))return!1}return!0}function Ue(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function He(e,t){var n,r=Ue(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ue(r)}}function We(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?We(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Ke(){for(var e=window,t=b();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=b((e=t.contentWindow).document)}return t}function qe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Ve(e){var t=Ke(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&We(n.ownerDocument.documentElement,n)){if(null!==r&&qe(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=He(n,o);var s=He(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}function Ye(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ma||null==Na||Na!==b(r)||(r="selectionStart"in(r=Na)&&qe(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ja&&Be(ja,r)||(ja=r,0<(r=st(Oa,"onSelect")).length&&(t=new qs("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Na)))}function Je(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}function Ge(e){if(Fa[e])return Fa[e];if(!Ra[e])return e;var t,n=Ra[e];for(t in n)if(n.hasOwnProperty(t)&&t in La)return Fa[e]=n[t];return e}function Xe(e,t){Ba.set(e,t),i(t,[e])}function Qe(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,o,s,a,l,c){if(V.apply(this,arguments),ss){if(!ss)throw Error(r(198));var u=as;ss=!1,as=null,ls||(ls=!0,cs=u)}}(i,t,void 0,e),e.currentTarget=null}function Ze(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Qe(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Qe(i,a,c),o=l}}}if(ls)throw e=cs,ls=!1,cs=null,e}function et(e,t){var n=t[ul];void 0===n&&(n=t[ul]=new Set);var r=e+"__bubble";n.has(r)||(rt(t,e,2,!1),n.add(r))}function tt(e,t,n){var r=0;t&&(r|=4),rt(n,e,r,t)}function nt(e){if(!e[Xa]){e[Xa]=!0,uo.forEach((function(t){"selectionchange"!==t&&(Ga.has(t)||tt(t,!1,e),tt(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xa]||(t[Xa]=!0,tt("selectionchange",!1,t))}}function rt(e,t,n,r){switch(_e(t)){case 1:var i=ge;break;case 4:i=ve;break;default:i=ye}n=i.bind(null,t,n,e),i=void 0,!Go||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function it(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=vt(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}W((function(){var r=o,i=I(n),s=[];e:{var a=Ba.get(e);if(void 0!==a){var l=qs,c=e;switch(e){case"keypress":if(0===Ce(n))break e;case"keydown":case"keyup":l=aa;break;case"focusin":c="focus",l=Qs;break;case"focusout":c="blur",l=Qs;break;case"beforeblur":case"afterblur":l=Qs;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Gs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Xs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=ca;break;case Pa:case Ia:case $a:l=Zs;break;case za:l=ua;break;case"scroll":l=Ys;break;case"wheel":l=fa;break;case"copy":case"cut":case"paste":l=ta;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=la}var u=0!=(4&t),d=!u&&"scroll"===e,f=u?null!==a?a+"Capture":null:a;u=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&null!=(m=K(p,f))&&u.push(ot(p,m,h))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Ko||!(c=n.relatedTarget||n.fromElement)||!vt(c)&&!c[cl])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vt(c):null)&&(c!==(d=Y(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=Gs,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=la,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?a:bt(l),h=null==c?a:bt(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=h,m=null,vt(i)===r&&((u=new u(f,p+"enter",c,n,i)).target=h,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(f=c,p=0,h=u=l;h;h=at(h))p++;for(h=0,m=f;m;m=at(m))h++;for(;0<p-h;)u=at(u),p--;for(;0<h-p;)f=at(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=at(u),f=at(f)}u=null}else u=null;null!==l&&lt(s,a,l,u,!1),null!==c&&null!==d&&lt(s,d,c,u,!0)}if("select"===(l=(a=r?bt(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Re;else if(Ne(a))if(Ea)g=ze;else{g=Ie;var v=Pe}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=$e);switch(g&&(g=g(e,r))?Oe(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&S(a,"number",a.value)),v=r?bt(r):window,e){case"focusin":(Ne(v)||"true"===v.contentEditable)&&(Na=v,Oa=r,ja=null);break;case"focusout":ja=Oa=Na=null;break;case"mousedown":Ma=!0;break;case"contextmenu":case"mouseup":case"dragend":Ma=!1,Ye(s,n,i);break;case"selectionchange":if(Aa)break;case"keydown":case"keyup":Ye(s,n,i)}var y;if(pa)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else _a?Te(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(va&&"ko"!==n.locale&&(_a||"onCompositionStart"!==b?"onCompositionEnd"===b&&_a&&(y=we()):(Hs="value"in(Us=i)?Us.value:Us.textContent,_a=!0)),0<(v=st(r,b)).length&&(b=new na(b,e,null,n,i),s.push({event:b,listeners:v}),(y||null!==(y=Ae(n)))&&(b.data=y))),(y=ga?function(e,t){switch(e){case"compositionend":return Ae(t);case"keypress":return 32!==t.which?null:(ba=!0,ya);case"textInput":return(e=t.data)===ya&&ba?null:e;default:return null}}(e,n):function(e,t){if(_a)return"compositionend"===e||!pa&&Te(e,t)?(e=we(),Ws=Hs=Us=null,_a=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return va&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=st(r,"onBeforeInput")).length&&(i=new na("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y)}Ze(s,t)}))}function ot(e,t,n){return{instance:e,listener:t,currentTarget:n}}function st(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=K(e,n))&&r.unshift(ot(e,o,i)),null!=(o=K(e,t))&&r.push(ot(e,o,i))),e=e.return}return r}function at(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function lt(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=K(n,o))&&s.unshift(ot(n,l,a)):i||null!=(l=K(n,o))&&s.push(ot(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function ct(e){return("string"==typeof e?e:""+e).replace(Qa,"\n").replace(Za,"")}function ut(e,t,n){if(t=ct(t),ct(e)!==t&&n)throw Error(r(425))}function dt(){}function ft(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function ht(e){setTimeout((function(){throw e}))}function pt(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void me(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);me(t)}function mt(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function gt(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function vt(e){var t=e[al];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cl]||n[al]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=gt(e);null!==e;){if(n=e[al])return n;e=gt(e)}return t}n=(e=n).parentNode}return null}function yt(e){return!(e=e[al]||e[cl])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bt(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function _t(e){return e[ll]||null}function wt(e){return{current:e}}function Ct(e){0>pl||(e.current=hl[pl],hl[pl]=null,pl--)}function xt(e,t){pl++,hl[pl]=e.current,e.current=t}function Et(e,t){var n=e.type.contextTypes;if(!n)return ml;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function St(e){return null!==(e=e.childContextTypes)&&void 0!==e}function kt(){Ct(vl),Ct(gl)}function Dt(e,t,n){if(gl.current!==ml)throw Error(r(168));xt(gl,t),xt(vl,n)}function Tt(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in t))throw Error(r(108,p(e)||"Unknown",o));return Io({},n,i)}function At(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ml,yl=gl.current,xt(gl,e),xt(vl,vl.current),!0}function Nt(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=Tt(e,t,yl),i.__reactInternalMemoizedMergedChildContext=e,Ct(vl),Ct(gl),xt(gl,e)):Ct(vl),xt(vl,n)}function Ot(e){null===bl?bl=[e]:bl.push(e)}function jt(){if(!wl&&null!==bl){wl=!0;var e=0,t=As;try{var n=bl;for(As=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}bl=null,_l=!1}catch(t){throw null!==bl&&(bl=bl.slice(e+1)),ds(vs,jt),t}finally{As=t,wl=!1}}return null}function Mt(e,t){Cl[xl++]=Sl,Cl[xl++]=El,El=e,Sl=t}function Rt(e,t,n){kl[Dl++]=Al,kl[Dl++]=Nl,kl[Dl++]=Tl,Tl=e;var r=Al;e=Nl;var i=32-Es(r)-1;r&=~(1<<i),n+=1;var o=32-Es(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Al=1<<32-Es(t)+i|n<<i|r,Nl=o+e}else Al=1<<o|n<<i|r,Nl=e}function Ft(e){null!==e.return&&(Mt(e,1),Rt(e,1,0))}function Lt(e){for(;e===El;)El=Cl[--xl],Cl[xl]=null,Sl=Cl[--xl],Cl[xl]=null;for(;e===Tl;)Tl=kl[--Dl],kl[Dl]=null,Nl=kl[--Dl],kl[Dl]=null,Al=kl[--Dl],kl[Dl]=null}function Pt(e,t){var n=zi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function It(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ol=e,jl=mt(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ol=e,jl=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Tl?{id:Al,overflow:Nl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=zi(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ol=e,jl=null,!0);default:return!1}}function $t(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function zt(e){if(Ml){var t=jl;if(t){var n=t;if(!It(e,t)){if($t(e))throw Error(r(418));t=mt(n.nextSibling);var i=Ol
;t&&It(e,t)?Pt(i,n):(e.flags=-4097&e.flags|2,Ml=!1,Ol=e)}}else{if($t(e))throw Error(r(418));e.flags=-4097&e.flags|2,Ml=!1,Ol=e}}}function Bt(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ol=e}function Ut(e){if(e!==Ol)return!1;if(!Ml)return Bt(e),Ml=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ft(e.type,e.memoizedProps)),t&&(t=jl)){if($t(e))throw Ht(),Error(r(418));for(;t;)Pt(e,t),t=mt(t.nextSibling)}if(Bt(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){jl=mt(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}jl=null}}else jl=Ol?mt(e.stateNode.nextSibling):null;return!0}function Ht(){for(var e=jl;e;)e=mt(e.nextSibling)}function Wt(){jl=Ol=null,Ml=!1}function Kt(e){null===Rl?Rl=[e]:Rl.push(e)}function qt(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var o=i,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!=typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function Vt(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yt(e){return(0,e._init)(e._payload)}function Jt(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Ui(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qi(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===xo?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===jo&&Yt(i)===t.type)?((r=o(t,n.props)).ref=qt(e,t,n),r.return=e,r):((r=Hi(n.type,n.key,n.props,null,e.mode,r)).ref=qt(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vi(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Wi(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=qi(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case wo:return(n=Hi(t.type,t.key,t.props,null,e.mode,n)).ref=qt(e,null,t),n.return=e,n;case Co:return(t=Vi(t,e.mode,n)).return=e,t;case jo:return h(e,(0,t._init)(t._payload),n)}if(zo(t)||c(t))return(t=Wi(t,e.mode,n,null)).return=e,t;Vt(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case wo:return n.key===i?u(e,t,n,r):null;case Co:return n.key===i?d(e,t,n,r):null;case jo:return p(e,t,(i=n._init)(n._payload),r)}if(zo(n)||c(n))return null!==i?null:f(e,t,n,r,null);Vt(e,n)}return null}function m(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case wo:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Co:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case jo:return m(e,t,n,(0,r._init)(r._payload),i)}if(zo(r)||c(r))return f(t,e=e.get(n)||null,r,i,null);Vt(t,r)}return null}function g(r,o,a,l){for(var c=null,u=null,d=o,f=o=0,g=null;null!==d&&f<a.length;f++){d.index>f?(g=d,d=null):g=d.sibling;var v=p(r,d,a[f],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(r,d),o=s(v,o,f),null===u?c=v:u.sibling=v,u=v,d=g}if(f===a.length)return n(r,d),Ml&&Mt(r,f),c;if(null===d){for(;f<a.length;f++)null!==(d=h(r,a[f],l))&&(o=s(d,o,f),null===u?c=d:u.sibling=d,u=d);return Ml&&Mt(r,f),c}for(d=i(r,d);f<a.length;f++)null!==(g=m(d,r,f,a[f],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),o=s(g,o,f),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(r,e)})),Ml&&Mt(r,f),c}function v(o,a,l,u){var d=c(l);if("function"!=typeof d)throw Error(r(150));if(null==(l=d.call(l)))throw Error(r(151));for(var f=d=null,g=a,v=a=0,y=null,b=l.next();null!==g&&!b.done;v++,b=l.next()){g.index>v?(y=g,g=null):y=g.sibling;var _=p(o,g,b.value,u);if(null===_){null===g&&(g=y);break}e&&g&&null===_.alternate&&t(o,g),a=s(_,a,v),null===f?d=_:f.sibling=_,f=_,g=y}if(b.done)return n(o,g),Ml&&Mt(o,v),d;if(null===g){for(;!b.done;v++,b=l.next())null!==(b=h(o,b.value,u))&&(a=s(b,a,v),null===f?d=b:f.sibling=b,f=b);return Ml&&Mt(o,v),d}for(g=i(o,g);!b.done;v++,b=l.next())null!==(b=m(g,o,v,b.value,u))&&(e&&null!==b.alternate&&g.delete(null===b.key?v:b.key),a=s(b,a,v),null===f?d=b:f.sibling=b,f=b);return e&&g.forEach((function(e){return t(o,e)})),Ml&&Mt(o,v),d}return function e(r,i,s,l){if("object"==typeof s&&null!==s&&s.type===xo&&null===s.key&&(s=s.props.children),"object"==typeof s&&null!==s){switch(s.$$typeof){case wo:e:{for(var u=s.key,d=i;null!==d;){if(d.key===u){if((u=s.type)===xo){if(7===d.tag){n(r,d.sibling),(i=o(d,s.props.children)).return=r,r=i;break e}}else if(d.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===jo&&Yt(u)===d.type){n(r,d.sibling),(i=o(d,s.props)).ref=qt(r,d,s),i.return=r,r=i;break e}n(r,d);break}t(r,d),d=d.sibling}s.type===xo?((i=Wi(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Hi(s.type,s.key,s.props,null,r.mode,l)).ref=qt(r,i,s),l.return=r,r=l)}return a(r);case Co:e:{for(d=s.key;null!==i;){if(i.key===d){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=o(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Vi(s,r.mode,l)).return=r,r=i}return a(r);case jo:return e(r,i,(d=s._init)(s._payload),l)}if(zo(s))return g(r,i,s,l);if(c(s))return v(r,i,s,l);Vt(r,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,s)).return=r,r=i):(n(r,i),(i=qi(s,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}function Gt(){Bl=zl=$l=null}function Xt(e){var t=Il.current;Ct(Il),e._currentValue=t}function Qt(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zt(e,t){$l=e,Bl=zl=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(hc=!0),e.firstContext=null)}function en(e){var t=e._currentValue;if(Bl!==e)if(e={context:e,memoizedValue:t,next:null},null===zl){if(null===$l)throw Error(r(308));zl=e,$l.dependencies={lanes:0,firstContext:e}}else zl=zl.next=e;return t}function tn(e){null===Ul?Ul=[e]:Ul.push(e)}function nn(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,tn(t)):(n.next=i.next,i.next=n),t.interleaved=n,rn(e,r)}function rn(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function on(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function an(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ln(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&Dc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,rn(e,n)}return null===(i=r.interleaved)?(t.next=t,tn(r)):(t.next=i.next,i.next=t),r.interleaved=t,rn(e,n)}function cn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,se(e,n)}}function un(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function dn(e,t,n,r){var i=e.updateQueue;Hl=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&(a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l)}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var f=a.lane,h=a.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(f=t,h=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"==typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=Io({},d,f);break e;case 2:Hl=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,s|=f;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(f=a).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fc|=s,e.lanes=s,e.memoizedState=d}}function fn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(null!==o){if(i.callback=null,i=n,"function"!=typeof o)throw Error(r(191,o));o.call(i)}}}function hn(e){if(e===Wl)throw Error(r(174));return e}function pn(e,t){switch(xt(Vl,t),xt(ql,e),xt(Kl,Wl),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:j(null,"");break;default:t=j(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ct(Kl),xt(Kl,t)}function mn(){Ct(Kl),Ct(ql),Ct(Vl)}function gn(e){hn(Vl.current);var t=hn(Kl.current),n=j(t,e.type);t!==n&&(xt(ql,e),xt(Kl,n))}function vn(e){ql.current===e&&(Ct(Kl),Ct(ql))}function yn(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function bn(){for(var e=0;e<Jl.length;e++)Jl[e]._workInProgressVersionPrimary=null;Jl.length=0}function _n(){throw Error(r(321))}function wn(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ta(e[n],t[n]))return!1;return!0}function Cn(e,t,n,i,o,s){if(Ql=s,Zl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gl.current=null===e||null===e.memoizedState?ac:lc,e=n(i,o),rc){s=0;do{if(rc=!1,ic=0,25<=s)throw Error(r(301));s+=1,tc=ec=null,t.updateQueue=null,Gl.current=cc,e=n(i,o)}while(rc)}if(Gl.current=sc,t=null!==ec&&null!==ec.next,Ql=0,tc=ec=Zl=null,nc=!1,t)throw Error(r(300));return e}function xn(){var e=0!==ic;return ic=0,e}function En(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===tc?Zl.memoizedState=tc=e:tc=tc.next=e,tc}function Sn(){if(null===ec){var e=Zl.alternate;e=null!==e?e.memoizedState:null}else e=ec.next;var t=null===tc?Zl.memoizedState:tc.next;if(null!==t)tc=t,ec=e;else{if(null===e)throw Error(r(310));e={memoizedState:(ec=e).memoizedState,baseState:ec.baseState,baseQueue:ec.baseQueue,queue:ec.queue,next:null},null===tc?Zl.memoizedState=tc=e:tc=tc.next=e}return tc}function kn(e,t){return"function"==typeof t?t(e):t}function Dn(e){var t=Sn(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=ec,o=i.baseQueue,s=n.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}i.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,i=i.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((Ql&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,a=i):c=c.next=f,Zl.lanes|=d,Fc|=d}u=u.next}while(null!==u&&u!==s);null===c?a=i:c.next=l,Ta(i,t.memoizedState)||(hc=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,Zl.lanes|=s,Fc|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Tn(e){var t=Sn(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);Ta(s,t.memoizedState)||(hc=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function An(){}function Nn(e,t){var n=Zl,i=Sn(),o=t(),s=!Ta(i.memoizedState,o);if(s&&(i.memoizedState=o,hc=!0),i=i.queue,Un(Mn.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||null!==tc&&1&tc.memoizedState.tag){if(n.flags|=2048,Pn(9,jn.bind(null,n,i,o,t),void 0,null),null===Tc)throw Error(r(349));0!=(30&Ql)||On(n,t,o)}return o}function On(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Zl.updateQueue)?(t={lastEffect:null,stores:null},Zl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function jn(e,t,n,r){t.value=n,t.getSnapshot=r,Rn(t)&&Fn(e)}function Mn(e,t,n){return n((function(){Rn(t)&&Fn(e)}))}function Rn(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ta(e,n)}catch(e){return!0}}function Fn(e){var t=rn(e,1);null!==t&&di(t,e,1,-1)}function Ln(e){var t=En();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:e},t.queue=e,e=e.dispatch=er.bind(null,Zl,e),[t.memoizedState,e]}function Pn(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zl.updateQueue)?(t={lastEffect:null,stores:null},Zl.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function In(){return Sn().memoizedState}function $n(e,t,n,r){var i=En();Zl.flags|=e,i.memoizedState=Pn(1|t,n,void 0,void 0===r?null:r)}function zn(e,t,n,r){var i=Sn();r=void 0===r?null:r;var o=void 0;if(null!==ec){var s=ec.memoizedState;if(o=s.destroy,null!==r&&wn(r,s.deps))return void(i.memoizedState=Pn(t,n,o,r))}Zl.flags|=e,i.memoizedState=Pn(1|t,n,o,r)}function Bn(e,t){return $n(8390656,8,e,t)}function Un(e,t){return zn(2048,8,e,t)}function Hn(e,t){return zn(4,2,e,t)}function Wn(e,t){return zn(4,4,e,t)}function Kn(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qn(e,t,n){return n=null!=n?n.concat([e]):null,zn(4,4,Kn.bind(null,t,e),n)}function Vn(){}function Yn(e,t){var n=Sn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wn(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jn(e,t){var n=Sn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wn(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Gn(e,t,n){return 0==(21&Ql)?(e.baseState&&(e.baseState=!1,hc=!0),e.memoizedState=n):(Ta(n,t)||(n=re(),Zl.lanes|=n,Fc|=n,e.baseState=!0),t)}function Xn(e,t){var n=As;As=0!==n&&4>n?n:4,e(!0);var r=Xl.transition;Xl.transition={};try{e(!1),t()}finally{As=n,Xl.transition=r}}function Qn(){return Sn().memoizedState}function Zn(e,t,n){var r=ui(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tr(e)?nr(t,n):null!==(n=nn(e,t,n,r))&&(di(n,e,r,ci()),rr(n,t,r))}function er(e,t,n){var r=ui(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tr(e))nr(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Ta(a,s)){var l=t.interleaved;return null===l?(i.next=i,tn(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=nn(e,t,i,r))&&(di(n,e,r,i=ci()),rr(n,t,r))}}function tr(e){var t=e.alternate;return e===Zl||null!==t&&t===Zl}function nr(e,t){rc=nc=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rr(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,se(e,n)}}function ir(e,t){if(e&&e.defaultProps){for(var n in t=Io({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function or(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:Io({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}function sr(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&Be(n,r)&&Be(i,o))}function ar(e,t,n){var r=!1,i=ml,o=t.contextType;return"object"==typeof o&&null!==o?o=en(o):(i=St(t)?yl:gl.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Et(e,i):ml),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=uc,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function lr(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&uc.enqueueReplaceState(t,t.state,null)}function cr(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},on(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=en(o):(o=St(t)?yl:gl.current,i.context=Et(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(or(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&uc.enqueueReplaceState(i,i.state,null),dn(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function ur(e,t){try{var n="",r=t;do{n+=f(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function dr(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fr(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}function hr(e,t,n){(n=an(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hc||(Hc=!0,Wc=r),fr(0,t)},n}function pr(e,t,n){(n=an(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fr(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){fr(0,t),"function"!=typeof r&&(null===Kc?Kc=new Set([this]):Kc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mr(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new dc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ri.bind(null,e,t,n),t.then(e,e))}function gr(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vr(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=an(-1,1)).tag=2,ln(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function yr(e,t,n,r){t.child=null===e?Pl(t,null,n,r):Ll(t,e.child,n,r)}function br(e,t,n,r,i){n=n.render;var o=t.ref;return Zt(t,i),r=Cn(e,t,n,r,o,i),n=xn(),null===e||hc?(Ml&&n&&Ft(t),t.flags|=1,yr(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pr(e,t,i))}function _r(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Bi(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hi(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,wr(e,t,o,r,i))}if(o=e.child,0==(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Be)(s,r)&&e.ref===t.ref)return Pr(e,t,i)}return t.flags|=1,(e=Ui(o,r)).ref=t.ref,e.return=t,t.child=e}function wr(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Be(o,r)&&e.ref===t.ref){if(hc=!1,t.pendingProps=r=o,0==(e.lanes&i))return t.lanes=e.lanes,Pr(e,t,i);0!=(131072&e.flags)&&(hc=!0)}}return Er(e,t,n,r,i)}function Cr(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(jc,Oc),Oc|=n;else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xt(jc,Oc),Oc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,xt(jc,Oc),Oc|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,xt(jc,Oc),Oc|=r;return yr(e,t,i,n),t.child}function xr(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Er(e,t,n,r,i){var o=St(n)?yl:gl.current;return o=Et(t,o),Zt(t,i),n=Cn(e,t,n,r,o,i),r=xn(),null===e||hc?(Ml&&r&&Ft(t),t.flags|=1,yr(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pr(e,t,i))}function Sr(e,t,n,r,i){if(St(n)){var o=!0;At(t)}else o=!1;if(Zt(t,i),null===t.stateNode)Lr(e,t),ar(t,n,r),cr(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;c="object"==typeof c&&null!==c?en(c):Et(t,c=St(n)?yl:gl.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==c)&&lr(t,s,r,c),Hl=!1;var f=t.memoizedState;s.state=f,dn(t,r,s,i),l=t.memoizedState,a!==r||f!==l||vl.current||Hl?("function"==typeof u&&(or(t,n,u,r),l=t.memoizedState),(a=Hl||sr(t,n,a,r,f,l,c))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,sn(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ir(t.type,a),s.props=c,d=t.pendingProps,f=s.context,l="object"==typeof(l=n.contextType)&&null!==l?en(l):Et(t,l=St(n)?yl:gl.current);var h=n.getDerivedStateFromProps;(u="function"==typeof h||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||f!==l)&&lr(t,s,r,l),Hl=!1,f=t.memoizedState,s.state=f,dn(t,r,s,i);var p=t.memoizedState;a!==d||f!==p||vl.current||Hl?("function"==typeof h&&(or(t,n,h,r),p=t.memoizedState),(c=Hl||sr(t,n,c,r,f,p,l)||!1)?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return kr(e,t,n,r,o,i)}function kr(e,t,n,r,i,o){xr(e,t);var s=0!=(128&t.flags);if(!r&&!s)return i&&Nt(t,n,!1),Pr(e,t,o);r=t.stateNode,fc.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Ll(t,e.child,null,o),t.child=Ll(t,null,a,o)):yr(e,t,a,o),t.memoizedState=r.state,i&&Nt(t,n,!0),t.child}function Dr(e){var t=e.stateNode;t.pendingContext?Dt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Dt(0,t.context,!1),pn(e,t.containerInfo)}function Tr(e,t,n,r,i){return Wt(),Kt(i),t.flags|=256,yr(e,t,n,r),t.child}function Ar(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nr(e,t,n){var i,o=t.pendingProps,s=Yl.current,a=!1,l=0!=(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!=(2&s)),i?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),xt(Yl,1&s),null===e)return zt(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},0==(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Ki(l,o,0,null),e=Wi(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ar(n),t.memoizedState=pc,e):Or(t,l));if(null!==(s=e.memoizedState)&&null!==(i=s.dehydrated))return function(e,t,n,i,o,s,a){if(n)return 256&t.flags?(t.flags&=-257,jr(e,t,a,i=dr(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=Ki({mode:"visible",children:i.children},o,0,null),(s=Wi(s,o,a,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!=(1&t.mode)&&Ll(t,e.child,null,a),t.child.memoizedState=Ar(a),t.memoizedState=pc,s);if(0==(1&t.mode))return jr(e,t,a,null);if("$!"===o.data){if(i=o.nextSibling&&o.nextSibling.dataset)var l=i.dgst;return i=l,jr(e,t,a,i=dr(s=Error(r(419)),i,void 0))}if(l=0!=(a&e.childLanes),hc||l){if(null!==(i=Tc)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!=(o&(i.suspendedLanes|a))?0:o)&&o!==s.retryLane&&(s.retryLane=o,rn(e,o),di(i,e,o,-1))}return Ei(),jr(e,t,a,i=dr(Error(r(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Li.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,jl=mt(o.nextSibling),Ol=t,Ml=!0,Rl=null,null!==e&&(kl[Dl++]=Al,kl[Dl++]=Nl,kl[Dl++]=Tl,Al=e.id,Nl=e.overflow,Tl=t),(t=Or(t,i.children)).flags|=4096,t)}(e,t,l,o,i,s,n);if(a){a=o.fallback,l=t.mode,i=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 0==(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Ui(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==i?a=Ui(i,a):(a=Wi(a,l,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?Ar(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=pc,o}return e=(a=e.child).sibling,o=Ui(a,{mode:"visible",children:o.children}),0==(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Or(e,t){return(t=Ki({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function jr(e,t,n,r){return null!==r&&Kt(r),Ll(t,e.child,null,n),(e=Or(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mr(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Qt(e.return,t,n)}function Rr(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Fr(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(yr(e,t,r.children,n),0!=(2&(r=Yl.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mr(e,n,t);else if(19===e.tag)Mr(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xt(Yl,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===yn(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Rr(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===yn(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Rr(t,!0,n,null,o);break;case"together":Rr(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lr(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pr(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fc|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Ui(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ui(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ir(e,t){if(!Ml)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $r(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zr(e,t,n){var i=t.pendingProps;switch(Lt(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(t),null;case 1:case 17:return St(t.type)&&kt(),$r(t),null;case 3:return i=t.stateNode,mn(),Ct(vl),Ct(gl),bn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(Ut(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==Rl&&(mi(Rl),Rl=null))),qa(e,t),$r(t),null;case 5:vn(t);var o=hn(Vl.current);if(n=t.type,null!==e&&null!=t.stateNode)Va(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(r(166));return $r(t),null}if(e=hn(Kl.current),Ut(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[al]=t,i[ll]=s,e=0!=(1&t.mode),n){case"dialog":et("cancel",i),et("close",i);break;case"iframe":case"object":case"embed":et("load",i);break;case"video":case"audio":for(o=0;o<Ja.length;o++)et(Ja[o],i);break;case"source":et("error",i);break;case"img":case"image":case"link":et("error",i),et("load",i);break;case"details":et("toggle",i);break;case"input":w(i,s),et("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},et("invalid",i);break;case"textarea":T(i,s),et("invalid",i)}for(var a in L(n,s),o=null,s)if(s.hasOwnProperty(a)){
var c=s[a];"children"===a?"string"==typeof c?i.textContent!==c&&(!0!==s.suppressHydrationWarning&&ut(i.textContent,c,e),o=["children",c]):"number"==typeof c&&i.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&ut(i.textContent,c,e),o=["children",""+c]):fo.hasOwnProperty(a)&&null!=c&&"onScroll"===a&&et("scroll",i)}switch(n){case"input":v(i),E(i,s,!0);break;case"textarea":v(i),N(i);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(i.onclick=dt)}i=o,t.updateQueue=i,null!==i&&(t.flags|=4)}else{a=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=O(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=a.createElement("div")).innerHTML="<script></script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=a.createElement(n,{is:i.is}):(e=a.createElement(n),"select"===n&&(a=e,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):e=a.createElementNS(e,n),e[al]=t,e[ll]=i,Ka(e,t,!1,!1),t.stateNode=e;e:{switch(a=P(n,i),n){case"dialog":et("cancel",e),et("close",e),o=i;break;case"iframe":case"object":case"embed":et("load",e),o=i;break;case"video":case"audio":for(o=0;o<Ja.length;o++)et(Ja[o],e);o=i;break;case"source":et("error",e),o=i;break;case"img":case"image":case"link":et("error",e),et("load",e),o=i;break;case"details":et("toggle",e),o=i;break;case"input":w(e,i),o=_(e,i),et("invalid",e);break;case"option":default:o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=Io({},i,{value:void 0}),et("invalid",e);break;case"textarea":T(e,i),o=D(e,i),et("invalid",e)}for(s in L(n,o),c=o)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?F(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&Bo(e,u):"children"===s?"string"==typeof u?("textarea"!==n||""!==u)&&M(e,u):"number"==typeof u&&M(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(fo.hasOwnProperty(s)?null!=u&&"onScroll"===s&&et("scroll",e):null!=u&&l(e,s,u,a))}switch(n){case"input":v(e),E(e,i,!1);break;case"textarea":v(e),N(e);break;case"option":null!=i.value&&e.setAttribute("value",""+m(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?k(e,!!i.multiple,s,!1):null!=i.defaultValue&&k(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=dt)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $r(t),null;case 6:if(e&&null!=t.stateNode)Ya(e,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(n=hn(Vl.current),hn(Kl.current),Ut(t)){if(i=t.stateNode,n=t.memoizedProps,i[al]=t,(s=i.nodeValue!==n)&&null!==(e=Ol))switch(e.tag){case 3:ut(i.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ut(i.nodeValue,n,0!=(1&e.mode))}s&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[al]=t,t.stateNode=i}return $r(t),null;case 13:if(Ct(Yl),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(Ml&&null!==jl&&0!=(1&t.mode)&&0==(128&t.flags))Ht(),Wt(),t.flags|=98560,s=!1;else if(s=Ut(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[al]=t}else Wt(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$r(t),s=!1}else null!==Rl&&(mi(Rl),Rl=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((i=null!==i)!=(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&Yl.current)?0===Mc&&(Mc=3):Ei())),null!==t.updateQueue&&(t.flags|=4),$r(t),null);case 4:return mn(),qa(e,t),null===e&&nt(t.stateNode.containerInfo),$r(t),null;case 10:return Xt(t.type._context),$r(t),null;case 19:if(Ct(Yl),null===(s=t.memoizedState))return $r(t),null;if(i=0!=(128&t.flags),null===(a=s.rendering))if(i)Ir(s,!1);else{if(0!==Mc||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=yn(e))){for(t.flags|=128,Ir(s,!1),null!==(i=a.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=14680066,null===(a=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xt(Yl,1&Yl.current|2),t.child}e=e.sibling}null!==s.tail&&ms()>Bc&&(t.flags|=128,i=!0,Ir(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=yn(a))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ir(s,!0),null===s.tail&&"hidden"===s.tailMode&&!a.alternate&&!Ml)return $r(t),null}else 2*ms()-s.renderingStartTime>Bc&&1073741824!==n&&(t.flags|=128,i=!0,Ir(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=s.last)?n.sibling=a:t.child=a,s.last=a)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ms(),t.sibling=null,n=Yl.current,xt(Yl,i?1&n|2:1&n),t):($r(t),null);case 22:case 23:return _i(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!=(1&t.mode)?0!=(1073741824&Oc)&&($r(t),6&t.subtreeFlags&&(t.flags|=8192)):$r(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function Br(e,t){switch(Lt(t),t.tag){case 1:return St(t.type)&&kt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return mn(),Ct(vl),Ct(gl),bn(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return vn(t),null;case 13:if(Ct(Yl),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));Wt()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ct(Yl),null;case 4:return mn(),null;case 10:return Xt(t.type._context),null;case 22:case 23:return _i(),null;default:return null}}function Ur(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Mi(e,t,n)}else n.current=null}function Hr(e,t,n){try{n()}catch(n){Mi(e,t,n)}}function Wr(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&Hr(t,n,o)}i=i.next}while(i!==r)}}function Kr(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function qr(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function Vr(e){var t=e.alternate;null!==t&&(e.alternate=null,Vr(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[al],delete t[ll],delete t[ul],delete t[dl],delete t[fl]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yr(e){return 5===e.tag||3===e.tag||4===e.tag}function Jr(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Yr(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Gr(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=dt));else if(4!==r&&null!==(e=e.child))for(Gr(e,t,n),e=e.sibling;null!==e;)Gr(e,t,n),e=e.sibling}function Xr(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Xr(e,t,n),e=e.sibling;null!==e;)Xr(e,t,n),e=e.sibling}function Qr(e,t,n){for(n=n.child;null!==n;)Zr(e,t,n),n=n.sibling}function Zr(e,t,n){if(xs&&"function"==typeof xs.onCommitFiberUnmount)try{xs.onCommitFiberUnmount(Cs,n)}catch(e){}switch(n.tag){case 5:vc||Ur(n,t);case 6:var r=wc,i=Cc;wc=null,Qr(e,t,n),Cc=i,null!==(wc=r)&&(Cc?(e=wc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):wc.removeChild(n.stateNode));break;case 18:null!==wc&&(Cc?(e=wc,n=n.stateNode,8===e.nodeType?pt(e.parentNode,n):1===e.nodeType&&pt(e,n),me(e)):pt(wc,n.stateNode));break;case 4:r=wc,i=Cc,wc=n.stateNode.containerInfo,Cc=!0,Qr(e,t,n),wc=r,Cc=i;break;case 0:case 11:case 14:case 15:if(!vc&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!=(2&o)||0!=(4&o))&&Hr(n,t,s),i=i.next}while(i!==r)}Qr(e,t,n);break;case 1:if(!vc&&(Ur(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Mi(n,t,e)}Qr(e,t,n);break;case 21:Qr(e,t,n);break;case 22:1&n.mode?(vc=(r=vc)||null!==n.memoizedState,Qr(e,t,n),vc=r):Qr(e,t,n);break;default:Qr(e,t,n)}}function ei(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new yc),t.forEach((function(t){var r=Pi.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ti(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var o=n[i];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:wc=l.stateNode,Cc=!1;break e;case 3:case 4:wc=l.stateNode.containerInfo,Cc=!0;break e}l=l.return}if(null===wc)throw Error(r(160));Zr(s,a,o),wc=null,Cc=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(e){Mi(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ni(t,e),t=t.sibling}function ni(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ti(t,e),ri(e),4&i){try{Wr(3,e,e.return),Kr(3,e)}catch(t){Mi(e,e.return,t)}try{Wr(5,e,e.return)}catch(t){Mi(e,e.return,t)}}break;case 1:ti(t,e),ri(e),512&i&&null!==n&&Ur(n,n.return);break;case 5:if(ti(t,e),ri(e),512&i&&null!==n&&Ur(n,n.return),32&e.flags){var o=e.stateNode;try{M(o,"")}catch(t){Mi(e,e.return,t)}}if(4&i&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,c=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===c&&"radio"===s.type&&null!=s.name&&C(o,s),P(c,a);var d=P(c,s);for(a=0;a<u.length;a+=2){var f=u[a],h=u[a+1];"style"===f?F(o,h):"dangerouslySetInnerHTML"===f?Bo(o,h):"children"===f?M(o,h):l(o,f,h,d)}switch(c){case"input":x(o,s);break;case"textarea":A(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var m=s.value;null!=m?k(o,!!s.multiple,m,!1):p!==!!s.multiple&&(null!=s.defaultValue?k(o,!!s.multiple,s.defaultValue,!0):k(o,!!s.multiple,s.multiple?[]:"",!1))}o[ll]=s}catch(t){Mi(e,e.return,t)}}break;case 6:if(ti(t,e),ri(e),4&i){if(null===e.stateNode)throw Error(r(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(t){Mi(e,e.return,t)}}break;case 3:if(ti(t,e),ri(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{me(t.containerInfo)}catch(t){Mi(e,e.return,t)}break;case 4:default:ti(t,e),ri(e);break;case 13:ti(t,e),ri(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(zc=ms())),4&i&&ei(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(vc=(d=vc)||f,ti(t,e),vc=d):ti(t,e),ri(e),8192&i){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!f&&0!=(1&e.mode))for(bc=e,f=e.child;null!==f;){for(h=bc=f;null!==bc;){switch(m=(p=bc).child,p.tag){case 0:case 11:case 14:case 15:Wr(4,p,p.return);break;case 1:Ur(p,p.return);var g=p.stateNode;if("function"==typeof g.componentWillUnmount){i=p,n=p.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(e){Mi(i,n,e)}}break;case 5:Ur(p,p.return);break;case 22:if(null!==p.memoizedState){ai(h);continue}}null!==m?(m.return=p,bc=m):ai(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{o=h.stateNode,d?"function"==typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(c=h.stateNode,a=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,c.style.display=R("display",a))}catch(t){Mi(e,e.return,t)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(t){Mi(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ti(t,e),ri(e),4&i&&ei(e);case 21:}}function ri(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(Yr(n)){var i=n;break e}n=n.return}throw Error(r(160))}switch(i.tag){case 5:var o=i.stateNode;32&i.flags&&(M(o,""),i.flags&=-33),Xr(e,Jr(e),o);break;case 3:case 4:var s=i.stateNode.containerInfo;Gr(e,Jr(e),s);break;default:throw Error(r(161))}}catch(t){Mi(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ii(e,t,n){bc=e,oi(e,t,n)}function oi(e,t,n){for(var r=0!=(1&e.mode);null!==bc;){var i=bc,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||gc;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||vc;a=gc;var c=vc;if(gc=s,(vc=l)&&!c)for(bc=i;null!==bc;)l=(s=bc).child,22===s.tag&&null!==s.memoizedState?li(i):null!==l?(l.return=s,bc=l):li(i);for(;null!==o;)bc=o,oi(o,t,n),o=o.sibling;bc=i,gc=a,vc=c}si(e)}else 0!=(8772&i.subtreeFlags)&&null!==o?(o.return=i,bc=o):si(e)}}function si(e){for(;null!==bc;){var t=bc;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:vc||Kr(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!vc)if(null===n)i.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ir(t.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&fn(t,s,i);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}fn(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&me(f)}}}break;default:throw Error(r(163))}vc||512&t.flags&&qr(t)}catch(e){Mi(t,t.return,e)}}if(t===e){bc=null;break}if(null!==(n=t.sibling)){n.return=t.return,bc=n;break}bc=t.return}}function ai(e){for(;null!==bc;){var t=bc;if(t===e){bc=null;break}var n=t.sibling;if(null!==n){n.return=t.return,bc=n;break}bc=t.return}}function li(e){for(;null!==bc;){var t=bc;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kr(4,t)}catch(e){Mi(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Mi(t,i,e)}}var o=t.return;try{qr(t)}catch(e){Mi(t,o,e)}break;case 5:var s=t.return;try{qr(t)}catch(e){Mi(t,s,e)}}}catch(e){Mi(t,t.return,e)}if(t===e){bc=null;break}var a=t.sibling;if(null!==a){a.return=t.return,bc=a;break}bc=t.return}}function ci(){return 0!=(6&Dc)?ms():-1!==Xc?Xc:Xc=ms()}function ui(e){return 0==(1&e.mode)?1:0!=(2&Dc)&&0!==Nc?Nc&-Nc:null!==Fl.transition?(0===Qc&&(Qc=re()),Qc):0!==(e=As)?e:e=void 0===(e=window.event)?16:_e(e.type)}function di(e,t,n,i){if(50<Jc)throw Jc=0,Gc=null,Error(r(185));oe(e,n,i),0!=(2&Dc)&&e===Tc||(e===Tc&&(0==(2&Dc)&&(Lc|=n),4===Mc&&gi(e,Nc)),fi(e,i),1===n&&0===Dc&&0==(1&t.mode)&&(Bc=ms()+500,_l&&jt()))}function fi(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Es(o),a=1<<s,l=i[s];-1===l?0!=(a&n)&&0==(a&r)||(i[s]=te(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ee(e,e===Tc?Nc:0);if(0===r)null!==n&&fs(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&fs(n),1===t)0===e.tag?function(e){_l=!0,Ot(e)}(vi.bind(null,e)):Ot(vi.bind(null,e)),ol((function(){0==(6&Dc)&&jt()})),n=null;else{switch(ae(r)){case 1:n=vs;break;case 4:n=ys;break;case 16:default:n=bs;break;case 536870912:n=ws}n=Ii(n,hi.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hi(e,t){if(Xc=-1,Qc=0,0!=(6&Dc))throw Error(r(327));var n=e.callbackNode;if(Oi()&&e.callbackNode!==n)return null;var i=ee(e,e===Tc?Nc:0);if(0===i)return null;if(0!=(30&i)||0!=(i&e.expiredLanes)||t)t=Si(e,i);else{t=i;var o=Dc;Dc|=2;var s=xi();for(Tc===e&&Nc===t||(Uc=null,Bc=ms()+500,wi(e,t));;)try{Di();break}catch(t){Ci(e,t)}Gt(),Ec.current=s,Dc=o,null!==Ac?t=0:(Tc=null,Nc=0,t=Mc)}if(0!==t){if(2===t&&0!==(o=ne(e))&&(i=o,t=pi(e,o)),1===t)throw n=Rc,wi(e,0),gi(e,i),fi(e,ms()),n;if(6===t)gi(e,i);else{if(o=e.current.alternate,0==(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ta(o(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=Si(e,i))&&0!==(s=ne(e))&&(i=s,t=pi(e,s)),1===t))throw n=Rc,wi(e,0),gi(e,i),fi(e,ms()),n;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(r(345));case 2:case 5:Ni(e,$c,Uc);break;case 3:if(gi(e,i),(130023424&i)===i&&10<(t=zc+500-ms())){if(0!==ee(e,0))break;if(((o=e.suspendedLanes)&i)!==i){ci(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=nl(Ni.bind(null,e,$c,Uc),t);break}Ni(e,$c,Uc);break;case 4:if(gi(e,i),(4194240&i)===i)break;for(t=e.eventTimes,o=-1;0<i;){var a=31-Es(i);s=1<<a,(a=t[a])>o&&(o=a),i&=~s}if(i=o,10<(i=(120>(i=ms()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*xc(i/1960))-i)){e.timeoutHandle=nl(Ni.bind(null,e,$c,Uc),i);break}Ni(e,$c,Uc);break;default:throw Error(r(329))}}}return fi(e,ms()),e.callbackNode===n?hi.bind(null,e):null}function pi(e,t){var n=Ic;return e.current.memoizedState.isDehydrated&&(wi(e,t).flags|=256),2!==(e=Si(e,t))&&(t=$c,$c=n,null!==t&&mi(t)),e}function mi(e){null===$c?$c=e:$c.push.apply($c,e)}function gi(e,t){for(t&=~Pc,t&=~Lc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Es(t),r=1<<n;e[n]=-1,t&=~r}}function vi(e){if(0!=(6&Dc))throw Error(r(327));Oi();var t=ee(e,0);if(0==(1&t))return fi(e,ms()),null;var n=Si(e,t);if(0!==e.tag&&2===n){var i=ne(e);0!==i&&(t=i,n=pi(e,i))}if(1===n)throw n=Rc,wi(e,0),gi(e,t),fi(e,ms()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ni(e,$c,Uc),fi(e,ms()),null}function yi(e,t){var n=Dc;Dc|=1;try{return e(t)}finally{0===(Dc=n)&&(Bc=ms()+500,_l&&jt())}}function bi(e){null!==Vc&&0===Vc.tag&&0==(6&Dc)&&Oi();var t=Dc;Dc|=1;var n=kc.transition,r=As;try{if(kc.transition=null,As=1,e)return e()}finally{As=r,kc.transition=n,0==(6&(Dc=t))&&jt()}}function _i(){Oc=jc.current,Ct(jc)}function wi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rl(n)),null!==Ac)for(n=Ac.return;null!==n;){var r=n;switch(Lt(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&kt();break;case 3:mn(),Ct(vl),Ct(gl),bn();break;case 5:vn(r);break;case 4:mn();break;case 13:case 19:Ct(Yl);break;case 10:Xt(r.type._context);break;case 22:case 23:_i()}n=n.return}if(Tc=e,Ac=e=Ui(e.current,null),Nc=Oc=t,Mc=0,Rc=null,Pc=Lc=Fc=0,$c=Ic=null,null!==Ul){for(t=0;t<Ul.length;t++)if(null!==(r=(n=Ul[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Ul=null}return e}function Ci(e,t){for(;;){var n=Ac;try{if(Gt(),Gl.current=sc,nc){for(var i=Zl.memoizedState;null!==i;){var o=i.queue;null!==o&&(o.pending=null),i=i.next}nc=!1}if(Ql=0,tc=ec=Zl=null,rc=!1,ic=0,Sc.current=null,null===n||null===n.return){Mc=1,Rc=t,Ac=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Nc,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=l,f=d.tag;if(0==(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gr(a);if(null!==p){p.flags&=-257,vr(p,a,l,0,t),1&p.mode&&mr(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0==(1&t)){mr(s,u,t),Ei();break e}c=Error(r(426))}else if(Ml&&1&l.mode){var v=gr(a);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),vr(v,a,l,0,t),Kt(ur(c,l));break e}}s=c=ur(c,l),4!==Mc&&(Mc=2),null===Ic?Ic=[s]:Ic.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,un(s,hr(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0==(128&s.flags)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Kc||!Kc.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,un(s,pr(s,l,t));break e}}s=s.return}while(null!==s)}Ai(n)}catch(e){t=e,Ac===n&&null!==n&&(Ac=n=n.return);continue}break}}function xi(){var e=Ec.current;return Ec.current=sc,null===e?sc:e}function Ei(){0!==Mc&&3!==Mc&&2!==Mc||(Mc=4),null===Tc||0==(268435455&Fc)&&0==(268435455&Lc)||gi(Tc,Nc)}function Si(e,t){var n=Dc;Dc|=2;var i=xi();for(Tc===e&&Nc===t||(Uc=null,wi(e,t));;)try{ki();break}catch(t){Ci(e,t)}if(Gt(),Dc=n,Ec.current=i,null!==Ac)throw Error(r(261));return Tc=null,Nc=0,Mc}function ki(){for(;null!==Ac;)Ti(Ac)}function Di(){for(;null!==Ac&&!hs();)Ti(Ac)}function Ti(e){var t=mc(e.alternate,e,Oc);e.memoizedProps=e.pendingProps,null===t?Ai(e):Ac=t,Sc.current=null}function Ai(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=zr(n,t,Oc)))return void(Ac=n)}else{if(null!==(n=Br(n,t)))return n.flags&=32767,void(Ac=n);if(null===e)return Mc=6,void(Ac=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ac=t);Ac=t=e}while(null!==t);0===Mc&&(Mc=5)}function Ni(e,t,n){var i=As,o=kc.transition;try{kc.transition=null,As=1,function(e,t,n,i){do{Oi()}while(null!==Vc);if(0!=(6&Dc))throw Error(r(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Es(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Tc&&(Ac=Tc=null,Nc=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||qc||(qc=!0,Ii(bs,(function(){return Oi(),null}))),s=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||s){s=kc.transition,kc.transition=null;var a=As;As=1;var l=Dc;Dc|=4,Sc.current=null,function(e,t){if(el=zs,qe(e=Ke())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var o=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==o&&3!==f.nodeType||(l=a+o),f!==s||0!==i&&3!==f.nodeType||(c=a+i),3===f.nodeType&&(a+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===o&&(l=a),h===s&&++d===i&&(c=a),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tl={focusedElem:e,selectionRange:n},zs=!1,bc=t;null!==bc;)if(e=(t=bc).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,bc=e;else for(;null!==bc;){t=bc;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ir(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(r(163))}}catch(e){Mi(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,bc=e;break}bc=t.return}m=_c,_c=!1}(e,n),ni(n,e),Ve(tl),zs=!!el,tl=el=null,e.current=n,ii(n,e,o),ps(),Dc=l,As=a,kc.transition=s}else e.current=n;if(qc&&(qc=!1,Vc=e,Yc=o),0===(s=e.pendingLanes)&&(Kc=null),function(e){if(xs&&"function"==typeof xs.onCommitFiberRoot)try{xs.onCommitFiberRoot(Cs,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),fi(e,ms()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)i((o=t[n]).value,{componentStack:o.stack,digest:o.digest});if(Hc)throw Hc=!1,e=Wc,Wc=null,e;0!=(1&Yc)&&0!==e.tag&&Oi(),0!=(1&(s=e.pendingLanes))?e===Gc?Jc++:(Jc=0,Gc=e):Jc=0,jt()}(e,t,n,i)}finally{kc.transition=o,As=i}return null}function Oi(){if(null!==Vc){var e=ae(Yc),t=kc.transition,n=As;try{if(kc.transition=null,As=16>e?16:e,null===Vc)var i=!1;else{if(e=Vc,Vc=null,Yc=0,0!=(6&Dc))throw Error(r(331));var o=Dc;for(Dc|=4,bc=e.current;null!==bc;){var s=bc,a=s.child;if(0!=(16&bc.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(bc=u;null!==bc;){var d=bc;switch(d.tag){case 0:case 11:case 15:Wr(8,d,s)}var f=d.child;if(null!==f)f.return=d,bc=f;else for(;null!==bc;){var h=(d=bc).sibling,p=d.return;if(Vr(d),d===u){bc=null;break}if(null!==h){h.return=p,bc=h;break}bc=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}bc=s}}if(0!=(2064&s.subtreeFlags)&&null!==a)a.return=s,bc=a;else e:for(;null!==bc;){if(0!=(2048&(s=bc).flags))switch(s.tag){case 0:case 11:case 15:Wr(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,bc=y;break e}bc=s.return}}var b=e.current;for(bc=b;null!==bc;){var _=(a=bc).child;if(0!=(2064&a.subtreeFlags)&&null!==_)_.return=a,bc=_;else e:for(a=b;null!==bc;){if(0!=(2048&(l=bc).flags))try{switch(l.tag){case 0:case 11:case 15:Kr(9,l)}}catch(e){Mi(l,l.return,e)}if(l===a){bc=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,bc=w;break e}bc=l.return}}if(Dc=o,jt(),xs&&"function"==typeof xs.onPostCommitFiberRoot)try{xs.onPostCommitFiberRoot(Cs,e)}catch(e){}i=!0}return i}finally{As=n,kc.transition=t}}return!1}function ji(e,t,n){e=ln(e,t=hr(0,t=ur(n,t),1),1),t=ci(),null!==e&&(oe(e,1,t),fi(e,t))}function Mi(e,t,n){if(3===e.tag)ji(e,e,n);else for(;null!==t;){if(3===t.tag){ji(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Kc||!Kc.has(r))){t=ln(t,e=pr(t,e=ur(n,e),1),1),e=ci(),null!==t&&(oe(t,1,e),fi(t,e));break}}t=t.return}}function Ri(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ci(),e.pingedLanes|=e.suspendedLanes&n,Tc===e&&(Nc&n)===n&&(4===Mc||3===Mc&&(130023424&Nc)===Nc&&500>ms()-zc?wi(e,0):Pc|=n),fi(e,t)}function Fi(e,t){0===t&&(0==(1&e.mode)?t=1:(t=Ts,0==(130023424&(Ts<<=1))&&(Ts=4194304)));var n=ci();null!==(e=rn(e,t))&&(oe(e,t,n),fi(e,n))}function Li(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Fi(e,n)}function Pi(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(r(314))}null!==i&&i.delete(t),Fi(e,n)}function Ii(e,t){return ds(e,t)}function $i(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(e,t,n,r){return new $i(e,t,n,r)}function Bi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ui(e,t){var n=e.alternate;return null===n?((n=zi(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hi(e,t,n,i,o,s){var a=2;if(i=e,"function"==typeof e)Bi(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case xo:return Wi(n.children,o,s,t);case Eo:a=8,o|=8;break;case So:return(e=zi(12,n,t,2|o)).elementType=So,e.lanes=s,e;case Ao:return(e=zi(13,n,t,o)).elementType=Ao,e.lanes=s,e;case No:return(e=zi(19,n,t,o)).elementType=No,e.lanes=s,e;case Mo:return Ki(n,o,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ko:a=10;break e;case Do:a=9;break e;case To:a=11;break e;case Oo:a=14;break e;case jo:a=16,i=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=zi(a,n,t,o)).elementType=e,t.type=i,t.lanes=s,t}function Wi(e,t,n,r){return(e=zi(7,e,r,t)).lanes=n,e}function Ki(e,t,n,r){return(e=zi(22,e,r,t)).elementType=Mo,e.lanes=n,e.stateNode={isHidden:!1},e}function qi(e,t,n){return(e=zi(6,e,null,t)).lanes=n,e}function Vi(e,t,n){return(t=zi(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yi(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ie(0),this.expirationTimes=ie(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ie(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ji(e,t,n,r,i,o,s,a,l){return e=new Yi(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=zi(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},on(o),e}function Gi(e){if(!e)return ml;e:{if(Y(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(St(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(St(n))return Tt(e,n,t)}return t}function Xi(e,t,n,r,i,o,s,a,l){return(e=Ji(n,r,!0,e,0,o,0,a,l)).context=Gi(null),n=e.current,(o=an(r=ci(),i=ui(n))).callback=null!=t?t:null,ln(n,o,i),e.current.lanes=i,oe(e,i,r),fi(e,r),e}function Qi(e,t,n,r){var i=t.current,o=ci(),s=ui(i);return n=Gi(n),null===t.context?t.context=n:t.pendingContext=n,(t=an(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=ln(i,t,s))&&(di(e,i,s,o),cn(e,i,s)),s}function Zi(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function eo(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function to(e,t){eo(e,t),(e=e.alternate)&&eo(e,t)}function no(e){this._internalRoot=e}function ro(e){this._internalRoot=e}function io(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function oo(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function so(){}function ao(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"==typeof i){var a=i;i=function(){var e=Zi(s);a.call(e)}}Qi(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=Zi(s);o.call(e)}}var s=Xi(t,r,e,0,null,!1,0,"",so);return e._reactRootContainer=s,e[cl]=s.current,nt(8===e.nodeType?e.parentNode:e),bi(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var a=r;r=function(){var e=Zi(l);a.call(e)}}var l=Ji(e,0,!1,null,0,!1,0,"",so);return e._reactRootContainer=l,e[cl]=l.current,nt(8===e.nodeType?e.parentNode:e),bi((function(){Qi(t,l,n,r)})),l}(n,t,e,i,r);return Zi(s)}
var lo=n(9643),co=n(1261),uo=new Set,fo={},ho=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),po=Object.prototype.hasOwnProperty,mo=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,go={},vo={},yo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){yo[e]=new s(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];yo[t]=new s(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){yo[e]=new s(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){yo[e]=new s(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){yo[e]=new s(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){yo[e]=new s(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){yo[e]=new s(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){yo[e]=new s(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){yo[e]=new s(e,5,!1,e.toLowerCase(),null,!1,!1)}));var bo=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(bo,a);yo[t]=new s(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(bo,a);yo[t]=new s(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(bo,a);yo[t]=new s(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){yo[e]=new s(e,1,!1,e.toLowerCase(),null,!1,!1)})),yo.xlinkHref=new s("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){yo[e]=new s(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _o=lo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wo=Symbol.for("react.element"),Co=Symbol.for("react.portal"),xo=Symbol.for("react.fragment"),Eo=Symbol.for("react.strict_mode"),So=Symbol.for("react.profiler"),ko=Symbol.for("react.provider"),Do=Symbol.for("react.context"),To=Symbol.for("react.forward_ref"),Ao=Symbol.for("react.suspense"),No=Symbol.for("react.suspense_list"),Oo=Symbol.for("react.memo"),jo=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var Mo=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var Ro,Fo,Lo,Po=Symbol.iterator,Io=Object.assign,$o=!1,zo=Array.isArray,Bo=(Lo=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Fo=Fo||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t){MSApp.execUnsafeLocalFunction((function(){return Lo(e,t)}))}:Lo),Uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ho=["Webkit","ms","Moz","O"];Object.keys(Uo).forEach((function(e){Ho.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Uo[t]=Uo[e]}))}));var Wo=Io({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Ko=null,qo=null,Vo=null,Yo=null,Jo=!1,Go=!1;if(ho)try{var Xo={};Object.defineProperty(Xo,"passive",{get:function(){Go=!0}}),window.addEventListener("test",Xo,Xo),window.removeEventListener("test",Xo,Xo)}catch(Lo){Go=!1}var Qo,Zo,es,ts,ns,rs,is,os,ss=!1,as=null,ls=!1,cs=null,us={onError:function(e){ss=!0,as=e}},ds=co.unstable_scheduleCallback,fs=co.unstable_cancelCallback,hs=co.unstable_shouldYield,ps=co.unstable_requestPaint,ms=co.unstable_now,gs=co.unstable_getCurrentPriorityLevel,vs=co.unstable_ImmediatePriority,ys=co.unstable_UserBlockingPriority,bs=co.unstable_NormalPriority,_s=co.unstable_LowPriority,ws=co.unstable_IdlePriority,Cs=null,xs=null,Es=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Ss(e)/ks|0)|0},Ss=Math.log,ks=Math.LN2,Ds=64,Ts=4194304,As=0,Ns=!1,Os=[],js=null,Ms=null,Rs=null,Fs=new Map,Ls=new Map,Ps=[],Is="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),$s=_o.ReactCurrentBatchConfig,zs=!0,Bs=null,Us=null,Hs=null,Ws=null,Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qs=Se(Ks),Vs=Io({},Ks,{view:0,detail:0}),Ys=Se(Vs),Js=Io({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:De,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==os&&(os&&"mousemove"===e.type?(rs=e.screenX-os.screenX,is=e.screenY-os.screenY):is=rs=0,os=e),rs)},movementY:function(e){return"movementY"in e?e.movementY:is}}),Gs=Se(Js),Xs=Se(Io({},Js,{dataTransfer:0})),Qs=Se(Io({},Vs,{relatedTarget:0})),Zs=Se(Io({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0})),ea=Io({},Ks,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ta=Se(ea),na=Se(Io({},Ks,{data:0})),ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ia={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},sa=Io({},Vs,{key:function(e){if(e.key){var t=ra[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ce(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ia[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:De,charCode:function(e){return"keypress"===e.type?Ce(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ce(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),aa=Se(sa),la=Se(Io({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),ca=Se(Io({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:De})),ua=Se(Io({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0})),da=Io({},Js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fa=Se(da),ha=[9,13,27,32],pa=ho&&"CompositionEvent"in window,ma=null;ho&&"documentMode"in document&&(ma=document.documentMode);var ga=ho&&"TextEvent"in window&&!ma,va=ho&&(!pa||ma&&8<ma&&11>=ma),ya=String.fromCharCode(32),ba=!1,_a=!1,wa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ca=null,xa=null,Ea=!1;if(ho){var Sa;if(ho){var ka="oninput"in document;if(!ka){var Da=document.createElement("div");Da.setAttribute("oninput","return;"),ka="function"==typeof Da.oninput}Sa=ka}else Sa=!1;Ea=Sa&&(!document.documentMode||9<document.documentMode)}var Ta="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Aa=ho&&"documentMode"in document&&11>=document.documentMode,Na=null,Oa=null,ja=null,Ma=!1,Ra={animationend:Je("Animation","AnimationEnd"),animationiteration:Je("Animation","AnimationIteration"),animationstart:Je("Animation","AnimationStart"),transitionend:Je("Transition","TransitionEnd")},Fa={},La={};ho&&(La=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);for(var Pa=Ge("animationend"),Ia=Ge("animationiteration"),$a=Ge("animationstart"),za=Ge("transitionend"),Ba=new Map,Ua="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "),Ha=0;Ha<Ua.length;Ha++){var Wa=Ua[Ha];Xe(Wa.toLowerCase(),"on"+(Wa[0].toUpperCase()+Wa.slice(1)))}Xe(Pa,"onAnimationEnd"),Xe(Ia,"onAnimationIteration"),Xe($a,"onAnimationStart"),Xe("dblclick","onDoubleClick"),Xe("focusin","onFocus"),Xe("focusout","onBlur"),Xe(za,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka,qa,Va,Ya,Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ga=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ja)),Xa="_reactListening"+Math.random().toString(36).slice(2),Qa=/\r\n?/g,Za=/\u0000|\uFFFD/g,el=null,tl=null,nl="function"==typeof setTimeout?setTimeout:void 0,rl="function"==typeof clearTimeout?clearTimeout:void 0,il="function"==typeof Promise?Promise:void 0,ol="function"==typeof queueMicrotask?queueMicrotask:void 0!==il?function(e){return il.resolve(null).then(e).catch(ht)}:nl,sl=Math.random().toString(36).slice(2),al="__reactFiber$"+sl,ll="__reactProps$"+sl,cl="__reactContainer$"+sl,ul="__reactEvents$"+sl,dl="__reactListeners$"+sl,fl="__reactHandles$"+sl,hl=[],pl=-1,ml={},gl=wt(ml),vl=wt(!1),yl=ml,bl=null,_l=!1,wl=!1,Cl=[],xl=0,El=null,Sl=0,kl=[],Dl=0,Tl=null,Al=1,Nl="",Ol=null,jl=null,Ml=!1,Rl=null,Fl=_o.ReactCurrentBatchConfig,Ll=Jt(!0),Pl=Jt(!1),Il=wt(null),$l=null,zl=null,Bl=null,Ul=null,Hl=!1,Wl={},Kl=wt(Wl),ql=wt(Wl),Vl=wt(Wl),Yl=wt(0),Jl=[],Gl=_o.ReactCurrentDispatcher,Xl=_o.ReactCurrentBatchConfig,Ql=0,Zl=null,ec=null,tc=null,nc=!1,rc=!1,ic=0,oc=0,sc={readContext:en,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},ac={readContext:en,useCallback:function(e,t){return En().memoizedState=[e,void 0===t?null:t],e},useContext:en,useEffect:Bn,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,$n(4194308,4,Kn.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $n(4194308,4,e,t)},useInsertionEffect:function(e,t){return $n(4,2,e,t)},useMemo:function(e,t){var n=En();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=En();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Zn.bind(null,Zl,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},En().memoizedState=e},useState:Ln,useDebugValue:Vn,useDeferredValue:function(e){return En().memoizedState=e},useTransition:function(){var e=Ln(!1),t=e[0];return e=Xn.bind(null,e[1]),En().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Zl,o=En();if(Ml){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===Tc)throw Error(r(349));0!=(30&Ql)||On(i,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Bn(Mn.bind(null,i,s,e),[e]),i.flags|=2048,Pn(9,jn.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=En(),t=Tc.identifierPrefix;if(Ml){var n=Nl;t=":"+t+"R"+(n=(Al&~(1<<32-Es(Al)-1)).toString(32)+n),0<(n=ic++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=oc++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lc={readContext:en,useCallback:Yn,useContext:en,useEffect:Un,useImperativeHandle:qn,useInsertionEffect:Hn,useLayoutEffect:Wn,useMemo:Jn,useReducer:Dn,useRef:In,useState:function(){return Dn(kn)},useDebugValue:Vn,useDeferredValue:function(e){return Gn(Sn(),ec.memoizedState,e)},useTransition:function(){return[Dn(kn)[0],Sn().memoizedState]},useMutableSource:An,useSyncExternalStore:Nn,useId:Qn,unstable_isNewReconciler:!1},cc={readContext:en,useCallback:Yn,useContext:en,useEffect:Un,useImperativeHandle:qn,useInsertionEffect:Hn,useLayoutEffect:Wn,useMemo:Jn,useReducer:Tn,useRef:In,useState:function(){return Tn(kn)},useDebugValue:Vn,useDeferredValue:function(e){var t=Sn();return null===ec?t.memoizedState=e:Gn(t,ec.memoizedState,e)},useTransition:function(){return[Tn(kn)[0],Sn().memoizedState]},useMutableSource:An,useSyncExternalStore:Nn,useId:Qn,unstable_isNewReconciler:!1},uc={isMounted:function(e){return!!(e=e._reactInternals)&&Y(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ci(),i=ui(e),o=an(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=ln(e,o,i))&&(di(t,e,i,r),cn(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ci(),i=ui(e),o=an(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=ln(e,o,i))&&(di(t,e,i,r),cn(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ci(),r=ui(e),i=an(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=ln(e,i,r))&&(di(t,e,r,n),cn(t,e,r))}},dc="function"==typeof WeakMap?WeakMap:Map,fc=_o.ReactCurrentOwner,hc=!1,pc={dehydrated:null,treeContext:null,retryLane:0};Ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qa=function(){},Va=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,hn(Kl.current);var o,s=null;switch(n){case"input":i=_(e,i),r=_(e,r),s=[];break;case"select":i=Io({},i,{value:void 0}),r=Io({},r,{value:void 0}),s=[];break;case"textarea":i=D(e,i),r=D(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=dt)}for(c in L(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(fo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(null!=l||null!=a))if("style"===c)if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(s=s||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(fo.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&et("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Ya=function(e,t,n,r){n!==r&&(t.flags|=4)};var mc,gc=!1,vc=!1,yc="function"==typeof WeakSet?WeakSet:Set,bc=null,_c=!1,wc=null,Cc=!1,xc=Math.ceil,Ec=_o.ReactCurrentDispatcher,Sc=_o.ReactCurrentOwner,kc=_o.ReactCurrentBatchConfig,Dc=0,Tc=null,Ac=null,Nc=0,Oc=0,jc=wt(0),Mc=0,Rc=null,Fc=0,Lc=0,Pc=0,Ic=null,$c=null,zc=0,Bc=1/0,Uc=null,Hc=!1,Wc=null,Kc=null,qc=!1,Vc=null,Yc=0,Jc=0,Gc=null,Xc=-1,Qc=0;mc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||vl.current)hc=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return hc=!1,function(e,t,n){switch(t.tag){case 3:Dr(t),Wt();break;case 5:gn(t);break;case 1:St(t.type)&&At(t);break;case 4:pn(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xt(Il,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xt(Yl,1&Yl.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Nr(e,t,n):(xt(Yl,1&Yl.current),null!==(e=Pr(e,t,n))?e.sibling:null);xt(Yl,1&Yl.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return Fr(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xt(Yl,Yl.current),r)break;return null;case 22:case 23:return t.lanes=0,Cr(e,t,n)}return Pr(e,t,n)}(e,t,n);hc=0!=(131072&e.flags)}else hc=!1,Ml&&0!=(1048576&t.flags)&&Rt(t,Sl,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Lr(e,t),e=t.pendingProps;var o=Et(t,gl.current);Zt(t,n),o=Cn(null,t,i,e,o,n);var s=xn();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,St(i)?(s=!0,At(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,on(t),o.updater=uc,t.stateNode=o,o._reactInternals=t,cr(t,i,e,n),t=kr(null,t,i,!0,s,n)):(t.tag=0,Ml&&s&&Ft(t),yr(null,t,o,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Lr(e,t),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Bi(e)?1:0;if(null!=e){if((e=e.$$typeof)===To)return 11;if(e===Oo)return 14}return 2}(i),e=ir(i,e),o){case 0:t=Er(null,t,i,e,n);break e;case 1:t=Sr(null,t,i,e,n);break e;case 11:t=br(null,t,i,e,n);break e;case 14:t=_r(null,t,i,ir(i.type,e),n);break e}throw Error(r(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,Er(e,t,i,o=t.elementType===i?o:ir(i,o),n);case 1:return i=t.type,o=t.pendingProps,Sr(e,t,i,o=t.elementType===i?o:ir(i,o),n);case 3:e:{if(Dr(t),null===e)throw Error(r(387));i=t.pendingProps,o=(s=t.memoizedState).element,sn(e,t),dn(t,i,null,n);var a=t.memoizedState;if(i=a.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Tr(e,t,i,n,o=ur(Error(r(423)),t));break e}if(i!==o){t=Tr(e,t,i,n,o=ur(Error(r(424)),t));break e}for(jl=mt(t.stateNode.containerInfo.firstChild),Ol=t,Ml=!0,Rl=null,n=Pl(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Wt(),i===o){t=Pr(e,t,n);break e}yr(e,t,i,n)}t=t.child}return t;case 5:return gn(t),null===e&&zt(t),i=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,ft(i,o)?a=null:null!==s&&ft(i,s)&&(t.flags|=32),xr(e,t),yr(e,t,a,n),t.child;case 6:return null===e&&zt(t),null;case 13:return Nr(e,t,n);case 4:return pn(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Ll(t,null,i,n):yr(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,br(e,t,i,o=t.elementType===i?o:ir(i,o),n);case 7:return yr(e,t,t.pendingProps,n),t.child;case 8:case 12:return yr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,xt(Il,i._currentValue),i._currentValue=a,null!==s)if(Ta(s.value,a)){if(s.children===o.children&&!vl.current){t=Pr(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===s.tag){(c=an(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Qt(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(r(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Qt(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}yr(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,Zt(t,n),i=i(o=en(o)),t.flags|=1,yr(e,t,i,n),t.child;case 14:return o=ir(i=t.type,t.pendingProps),_r(e,t,i,o=ir(i.type,o),n);case 15:return wr(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:ir(i,o),Lr(e,t),t.tag=1,St(i)?(e=!0,At(t)):e=!1,Zt(t,n),ar(t,i,o),cr(t,i,o,n),kr(null,t,i,!0,e,n);case 19:return Fr(e,t,n);case 22:return Cr(e,t,n)}throw Error(r(156,t.tag))};var Zc="function"==typeof reportError?reportError:function(e){console.error(e)};ro.prototype.render=no.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Qi(e,t,null,null)},ro.prototype.unmount=no.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;bi((function(){Qi(null,e,null,null)})),t[cl]=null}},ro.prototype.unstable_scheduleHydration=function(e){if(e){var t=ts();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ps.length&&0!==t&&t<Ps[n].priority;n++);Ps.splice(n,0,e),0===n&&ue(e)}},Qo=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Z(t.pendingLanes);0!==n&&(se(t,1|n),fi(t,ms()),0==(6&Dc)&&(Bc=ms()+500,jt()))}break;case 13:bi((function(){var t=rn(e,1);if(null!==t){var n=ci();di(t,e,1,n)}})),to(e,1)}},Zo=function(e){if(13===e.tag){var t=rn(e,134217728);null!==t&&di(t,e,134217728,ci()),to(e,134217728)}},es=function(e){if(13===e.tag){var t=ui(e),n=rn(e,t);null!==n&&di(n,e,t,ci()),to(e,t)}},ts=function(){return As},ns=function(e,t){var n=As;try{return As=e,t()}finally{As=n}},qo=function(e,t,n){switch(t){case"input":if(x(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=_t(i);if(!o)throw Error(r(90));y(i),x(i,o)}}}break;case"textarea":A(e,n);break;case"select":null!=(t=n.value)&&k(e,!!n.multiple,t,!1)}},U=yi,H=bi;var eu={usingClientEntryPoint:!1,Events:[yt,bt,_t,z,B,yi]},tu={findFiberByHostInstance:vt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_o.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=X(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{Cs=ru.inject(nu),xs=ru}catch(Lo){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!io(t))throw Error(r(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Co,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!io(e))throw Error(r(299));var n=!1,i="",o=Zc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Ji(e,1,!1,null,0,n,0,i,o),e[cl]=t.current,nt(8===e.nodeType?e.parentNode:e),new no(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return null===(e=X(t))?null:e.stateNode},t.flushSync=function(e){return bi(e)},t.hydrate=function(e,t,n){if(!oo(t))throw Error(r(200));return ao(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!io(e))throw Error(r(405));var i=null!=n&&n.hydratedSources||null,o=!1,s="",a=Zc;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Xi(t,null,e,1,null!=n?n:null,o,0,s,a),e[cl]=t.current,nt(e),i)for(e=0;e<i.length;e++)o=(o=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ro(t)},t.render=function(e,t,n){if(!oo(t))throw Error(r(200));return ao(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oo(e))throw Error(r(40));return!!e._reactRootContainer&&(bi((function(){ao(null,null,e,!1,(function(){e._reactRootContainer=null,e[cl]=null}))})),!0)},t.unstable_batchedUpdates=yi,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!oo(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return ao(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},333:(e,t)=>{var n;!function(){"use strict";function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,i(n)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)s.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}var s={}.hasOwnProperty;e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},338:(e,t,n)=>{"use strict";function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}var i=n(5499);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},507:e=>{"use strict";e.exports=function(){
return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]/g}},592:(e,t,n)=>{"use strict";var r=n(4724);e.exports=Function.prototype.bind||r},1051:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,i,o){var s=i.prototype;o.utc=function(e){return new i({date:e,utc:!0,args:arguments})},s.utc=function(t){var n=o(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},s.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var a=s.parse;s.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),a.call(this,e)};var l=s.init;s.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else l.call(this)};var c=s.utcOffset;s.utcOffset=function(r,i){var o=this.$utils().u;if(o(r))return this.$u?0:o(this.$offset)?c.call(this):this.$offset;if("string"==typeof r&&(r=function(e){void 0===e&&(e="");var r=e.match(t);if(!r)return null;var i=(""+r[0]).match(n)||["-",0,0],o=i[0],s=60*+i[1]+ +i[2];return 0===s?0:"+"===o?s:-s}(r),null===r))return this;var s=Math.abs(r)<=16?60*r:r,a=this;if(i)return a.$offset=s,a.$u=0===r,a;if(0!==r){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(a=this.local().add(s+l,e)).$offset=s,a.$x.$localOffset=l}else a=this.utc();return a};var u=s.format;s.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,t)},s.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var d=s.toDate;s.toDate=function(e){return"s"===e&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var f=s.diff;s.diff=function(e,t,n){if(e&&this.$u===e.$u)return f.call(this,e,t,n);var r=this.local(),i=o(e).local();return f.call(r,i,t,n)}}}()},1202:(e,t,n)=>{"use strict";function r(e){this.defaults=e,this.interceptors={request:new s,response:new s}}var i=n(3702),o=n(1331),s=n(8288),a=n(5011),l=n(1394),c=n(3275);r.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(i,this.defaults,{method:"get"},e)).method=e.method.toLowerCase(),e.baseURL&&!l(e.url)&&(e.url=c(e.baseURL,e.url));var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],(function(e){r.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}})),o.forEach(["post","put","patch"],(function(e){r.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}})),e.exports=r},1241:(e,t,n)=>{"use strict";function r(e,t,n){var r,i={},s=null,u=null;for(r in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:s,ref:u,props:i,_owner:l.current}}var i=n(9643),o=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};t.Fragment=s,t.jsx=r,t.jsxs=r},1261:(e,t,n)=>{"use strict";e.exports=n(3498)},1331:(e,t,n)=>{"use strict";function r(e){return"[object Array]"===c.call(e)}function i(e){return null!==e&&"object"==typeof e}function o(e){return"[object Function]"===c.call(e)}function s(e,t){if(null!=e)if("object"==typeof e||r(e)||(e=[e]),r(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var a=n(2117),l=n(8245),c=Object.prototype.toString;e.exports={isArray:r,isArrayBuffer:function(e){return"[object ArrayBuffer]"===c.call(e)},isBuffer:l,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:i,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===c.call(e)},isFile:function(e){return"[object File]"===c.call(e)},isBlob:function(e){return"[object Blob]"===c.call(e)},isFunction:o,isStream:function(e){return i(e)&&o(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:s,merge:function e(){function t(t,r){"object"==typeof n[r]&&"object"==typeof t?n[r]=e(n[r],t):n[r]=t}for(var n={},r=0,i=arguments.length;r<i;r++)s(arguments[r],t);return n},extend:function(e,t,n){return s(t,(function(t,r){e[r]=n&&"function"==typeof t?a(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},1335:(e,t,n)=>{"use strict";function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=n(1331);e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var s=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)&&(t+="[]"),i.isArray(e)||(e=[e]),i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))})))})),o=s.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},1390:function(e){e.exports=function(){"use strict";var e={year:0,month:1,day:2,hour:3,minute:4,second:5},t={};return function(n,r,i){var o,s=function(e,n,r){void 0===r&&(r={});var i=new Date(e),o=function(e,n){void 0===n&&(n={});var r=n.timeZoneName||"short",i=e+"|"+r,o=t[i];return o||(o=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:r}),t[i]=o),o}(n,r);return o.formatToParts(i)},a=function(t,n){for(var r=s(t,n),o=[],a=0;a<r.length;a+=1){var l=r[a],c=l.type,u=l.value,d=e[c];d>=0&&(o[d]=parseInt(u,10))}var f=o[3],h=24===f?0:f,p=o[0]+"-"+o[1]+"-"+o[2]+" "+h+":"+o[4]+":"+o[5]+":000",m=+t;return(i.utc(p).valueOf()-(m-=m%1e3))/6e4},l=r.prototype;l.tz=function(e,t){void 0===e&&(e=o);var n,r=this.utcOffset(),s=this.toDate(),a=s.toLocaleString("en-US",{timeZone:e}),l=Math.round((s-new Date(a))/1e3/60),c=15*-Math.round(s.getTimezoneOffset()/15)-l;if(Number(c)){if(n=i(a,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(c,!0),t){var u=n.utcOffset();n=n.add(r-u,"minute")}}else n=this.utcOffset(0,t);return n.$x.$timezone=e,n},l.offsetName=function(e){var t=this.$x.$timezone||i.tz.guess(),n=s(this.valueOf(),t,{timeZoneName:e}).find((function(e){return"timezonename"===e.type.toLowerCase()}));return n&&n.value};var c=l.startOf;l.startOf=function(e,t){if(!this.$x||!this.$x.$timezone)return c.call(this,e,t);var n=i(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return c.call(n,e,t).tz(this.$x.$timezone,!0)},i.tz=function(e,t,n){var r=n&&t,s=n||t||o,l=a(+i(),s);if("string"!=typeof e)return i(e).tz(s);var c=function(e,t,n){var r=e-60*t*1e3,i=a(r,n);if(t===i)return[r,t];var o=a(r-=60*(i-t)*1e3,n);return i===o?[r,i]:[e-60*Math.min(i,o)*1e3,Math.max(i,o)]}(i.utc(e,r).valueOf(),l,s),u=c[0],d=c[1],f=i(u).utcOffset(d);return f.$x.$timezone=s,f},i.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},i.tz.setDefault=function(e){o=e}}}()},1394:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},1505:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AbsolutePosition:()=>fn,AbstractConnector:()=>ft,AbstractStruct:()=>Ti,AbstractType:()=>Lr,Array:()=>ri,ContentAny:()=>Ii,ContentBinary:()=>Ni,ContentDeleted:()=>Oi,ContentDoc:()=>Mi,ContentEmbed:()=>Ri,ContentFormat:()=>Fi,ContentJSON:()=>Li,ContentString:()=>$i,ContentType:()=>Yi,Doc:()=>Dt,GC:()=>Ai,ID:()=>Zt,Item:()=>eo,Map:()=>oi,PermanentUserData:()=>ln,RelativePosition:()=>cn,Skip:()=>ro,Snapshot:()=>bn,Text:()=>wi,Transaction:()=>Un,UndoManager:()=>er,UpdateDecoderV1:()=>At,UpdateDecoderV2:()=>Ot,UpdateEncoderV1:()=>Mt,UpdateEncoderV2:()=>Ft,XmlElement:()=>Ei,XmlFragment:()=>xi,XmlHook:()=>ki,XmlText:()=>Di,YArrayEvent:()=>ni,YEvent:()=>kr,YMapEvent:()=>ii,YTextEvent:()=>_i,YXmlEvent:()=>Si,applyUpdate:()=>zt,applyUpdateV2:()=>$t,cleanupYTextFormatting:()=>vi,compareIDs:()=>en,compareRelativePositions:()=>yn,convertUpdateFormatV1ToV2:()=>xr,convertUpdateFormatV2ToV1:()=>Er,createAbsolutePositionFromRelativePosition:()=>vn,createDeleteSet:()=>_t,createDeleteSetFromStructStore:()=>wt,createDocFromSnapshot:()=>Nn,createID:()=>tn,createRelativePositionFromJSON:()=>dn,createRelativePositionFromTypeIndex:()=>pn,createSnapshot:()=>Sn,decodeRelativePosition:()=>gn,decodeSnapshot:()=>En,decodeSnapshotV2:()=>xn,decodeStateVector:()=>Wt,decodeUpdate:()=>ir,decodeUpdateV2:()=>or,diffUpdate:()=>mr,diffUpdateV2:()=>pr,emptySnapshot:()=>kn,encodeRelativePosition:()=>mn,encodeSnapshot:()=>Cn,encodeSnapshotV2:()=>wn,encodeStateAsUpdate:()=>Ut,encodeStateAsUpdateV2:()=>Bt,encodeStateVector:()=>Vt,encodeStateVectorFromUpdate:()=>cr,encodeStateVectorFromUpdateV2:()=>lr,equalDeleteSets:()=>St,equalSnapshots:()=>_n,findIndexSS:()=>Ln,findRootTypeKey:()=>on,getItem:()=>Pn,getItemCleanEnd:()=>zn,getItemCleanStart:()=>$n,getState:()=>Rn,getTypeChildren:()=>Rr,isDeleted:()=>gt,isParentOf:()=>sn,iterateDeletedStructs:()=>mt,logType:()=>an,logUpdate:()=>nr,logUpdateV2:()=>rr,mergeDeleteSets:()=>yt,mergeUpdates:()=>ar,mergeUpdatesV2:()=>hr,obfuscateUpdate:()=>wr,obfuscateUpdateV2:()=>Cr,parseUpdateMeta:()=>dr,parseUpdateMetaV2:()=>ur,readUpdate:()=>It,readUpdateV2:()=>Pt,relativePositionToJSON:()=>un,snapshot:()=>Dn,snapshotContainsUpdate:()=>On,transact:()=>Gn,tryGc:()=>Yn,typeListToArraySnapshot:()=>$r,typeMapGetAllSnapshot:()=>ei,typeMapGetSnapshot:()=>Zr});const r=()=>new Map,i=e=>{const t=r();return e.forEach(((e,n)=>{t.set(n,e)})),t},o=(e,t,n)=>{let r=e.get(t);return void 0===r&&e.set(t,r=n()),r},s=()=>new Set,a=e=>e[e.length-1],l=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},c=Array.from,u=Array.isArray;class d{constructor(){this._observers=r()}on(e,t){return o(this._observers,e,s).add(t),t}once(e,t){var n=this;const r=function(){n.off(e,r),t(...arguments)};this.on(e,r)}off(e,t){const n=this._observers.get(e);void 0!==n&&(n.delete(t),0===n.size&&this._observers.delete(e))}emit(e,t){return c((this._observers.get(e)||r()).values()).forEach((e=>e(...t)))}destroy(){this._observers=r()}}const f=Math.floor,h=(Math.ceil,Math.abs),p=(Math.imul,Math.round,Math.log10,Math.log2,Math.log,Math.sqrt,(e,t)=>e<t?e:t),m=(e,t)=>e>t?e:t,g=(Number.isNaN,Math.pow,Math.sign,e=>0!==e?e<0:1/e<0),v=64,y=128,b=127,_=2147483647,w=Number.MAX_SAFE_INTEGER,C=(Number.MIN_SAFE_INTEGER,Number.isInteger||(e=>"number"==typeof e&&isFinite(e)&&f(e)===e)),x=(Number.isNaN,Number.parseInt,String.fromCharCode),E=(String.fromCodePoint,x(65535),/^\s*/g),S=/([A-Z])/g,k=(e,t)=>(e=>e.replace(E,""))(e.replace(S,(e=>`${t}${(e=>e.toLowerCase())(e)}`))),D="undefined"!=typeof TextEncoder?new TextEncoder:null,T=D?e=>D.encode(e):e=>{const t=unescape(encodeURIComponent(e)),n=t.length,r=new Uint8Array(n);for(let e=0;e<n;e++)r[e]=t.codePointAt(e);return r};let A="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});A&&1===A.decode(new Uint8Array).length&&(A=null);const N=(e,t)=>((e,t)=>{const n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r,n);return n})(t,(()=>e)).join("");class O{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const j=()=>new O,M=e=>{const t=new Uint8Array((e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t})(e));let n=0;for(let r=0;r<e.bufs.length;r++){const i=e.bufs[r];t.set(i,n),n+=i.length}return t.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),n),t},R=(e,t)=>{const n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(2*n),e.cpos=0),e.cbuf[e.cpos++]=t},F=R,L=(e,t)=>{for(;t>b;)R(e,y|b&t),t=f(t/128);R(e,b&t)},P=(e,t)=>{const n=g(t);for(n&&(t=-t),R(e,(t>63?y:0)|(n?v:0)|63&t),t=f(t/64);t>0;)R(e,(t>b?y:0)|b&t),t=f(t/128)},I=new Uint8Array(3e4),$=I.length/3,z=D&&D.encodeInto?(e,t)=>{if(t.length<$){const n=D.encodeInto(t,I).written||0;L(e,n);for(let t=0;t<n;t++)R(e,I[t])}else U(e,T(t))}:(e,t)=>{const n=unescape(encodeURIComponent(t)),r=n.length;L(e,r);for(let t=0;t<r;t++)R(e,n.codePointAt(t))},B=(e,t)=>{const n=e.cbuf.length,r=e.cpos,i=p(n-r,t.length),o=t.length-i;e.cbuf.set(t.subarray(0,i),r),e.cpos+=i,o>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(m(2*n,o)),e.cbuf.set(t.subarray(i)),e.cpos=o)},U=(e,t)=>{L(e,t.byteLength),B(e,t)},H=(e,t)=>{((e,t)=>{const n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(new Uint8Array(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(2*m(n,t)),e.cpos=0)})(e,t);const n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},W=new DataView(new ArrayBuffer(4)),K=(e,t)=>{switch(typeof t){case"string":R(e,119),z(e,t);break;case"number":C(t)&&h(t)<=_?(R(e,125),P(e,t)):(n=t,W.setFloat32(0,n),W.getFloat32(0)===n?(R(e,124),((e,t)=>{H(e,4).setFloat32(0,t,!1)})(e,t)):(R(e,123),((e,t)=>{H(e,8).setFloat64(0,t,!1)})(e,t)));break;case"bigint":R(e,122),((e,t)=>{H(e,8).setBigInt64(0,t,!1)})(e,t);break;case"object":if(null===t)R(e,126);else if(u(t)){R(e,117),L(e,t.length);for(let n=0;n<t.length;n++)K(e,t[n])}else if(t instanceof Uint8Array)R(e,116),U(e,t);else{R(e,118);const n=Object.keys(t);L(e,n.length);for(let r=0;r<n.length;r++){const i=n[r];z(e,i),K(e,t[i])}}break;case"boolean":R(e,t?120:121);break;default:R(e,127)}var n};class q extends O{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&L(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const V=e=>{e.count>0&&(P(e.encoder,1===e.count?e.s:-e.s),e.count>1&&L(e.encoder,e.count-2))};class Y{constructor(){this.encoder=new O,this.s=0,this.count=0}write(e){this.s===e?this.count++:(V(this),this.count=1,this.s=e)}toUint8Array(){return V(this),M(this.encoder)}}const J=e=>{if(e.count>0){const t=2*e.diff+(1===e.count?0:1);P(e.encoder,t),e.count>1&&L(e.encoder,e.count-2)}};class G{constructor(){this.encoder=new O,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(J(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return J(this),M(this.encoder)}}class X{constructor(){this.sarr=[],this.s="",this.lensE=new Y}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new O;return this.sarr.push(this.s),this.s="",z(e,this.sarr.join("")),B(e,this.lensE.toUint8Array()),M(e)}}const Q=e=>new Error(e),Z=()=>{throw Q("Method unimplemented")},ee=()=>{throw Q("Unexpected case")},te=Q("Unexpected end of array"),ne=Q("Integer out of Range");class re{constructor(e){this.arr=e,this.pos=0}}const ie=e=>new re(e),oe=e=>e.pos!==e.arr.length,se=(e,t)=>{const n=new Uint8Array(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},ae=e=>se(e,ce(e)),le=e=>e.arr[e.pos++],ce=e=>{let t=0,n=1;const r=e.arr.length;for(;e.pos<r;){const r=e.arr[e.pos++];if(t+=(r&b)*n,n*=128,r<y)return t;if(t>w)throw ne}throw te},ue=e=>{let t=e.arr[e.pos++],n=63&t,r=64;const i=(t&v)>0?-1:1;if(0==(t&y))return i*n;const o=e.arr.length;for(;e.pos<o;){if(t=e.arr[e.pos++],n+=(t&b)*r,r*=128,t<y)return i*n;if(n>w)throw ne}throw te},de=A?e=>A.decode(ae(e)):e=>{let t=ce(e);if(0===t)return"";{let n=String.fromCodePoint(le(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(le(e));else for(;t>0;){const r=t<1e4?t:1e4,i=e.arr.subarray(e.pos,e.pos+r);e.pos+=r,n+=String.fromCodePoint.apply(null,i),t-=r}return decodeURIComponent(escape(n))}},fe=(e,t)=>{const n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},he=[()=>{},()=>null,ue,e=>fe(e,4).getFloat32(0,!1),e=>fe(e,8).getFloat64(0,!1),e=>fe(e,8).getBigInt64(0,!1),()=>!1,()=>!0,de,e=>{const t=ce(e),n={};for(let r=0;r<t;r++)n[de(e)]=pe(e);return n},e=>{const t=ce(e),n=[];for(let r=0;r<t;r++)n.push(pe(e));return n},ae],pe=e=>he[127-le(e)](e);class me extends re{constructor(e,t){super(e),this.reader=t,this.s=null,this.count=0}read(){return 0===this.count&&(this.s=this.reader(this),oe(this)?this.count=ce(this)+1:this.count=-1),this.count--,this.s}}class ge extends re{constructor(e){super(e),this.s=0,this.count=0}read(){if(0===this.count){this.s=ue(this);const e=g(this.s);this.count=1,e&&(this.s=-this.s,this.count=ce(this)+2)}return this.count--,this.s}}class ve extends re{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(0===this.count){const e=ue(this),t=1&e;this.diff=f(e/2),this.count=1,t&&(this.count=ce(this)+2)}return this.s+=this.diff,this.count--,this.s}}class ye{constructor(e){this.decoder=new ge(e),this.str=de(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),t=this.str.slice(this.spos,e);return this.spos=e,t}}crypto.subtle;const be=crypto.getRandomValues.bind(crypto),_e=(Math.random,()=>be(new Uint32Array(1))[0]),we=[1e7]+-1e3+-4e3+-8e3+-1e11,Ce=()=>we.replace(/[018]/g,(e=>(e^_e()&15>>e/4).toString(16))),xe=e=>new Promise(e),Ee=(Promise.all.bind(Promise),e=>void 0===e?null:e);let Se=new class{constructor(){this.map=new Map}setItem(e,t){this.map.set(e,t)}getItem(e){return this.map.get(e)}},ke=!0;try{"undefined"!=typeof localStorage&&localStorage&&(Se=localStorage,ke=!1)}catch(e){}const De=Se,Te=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&Te(e,t,n+1)}},Ae=e=>e,Ne="undefined"!=typeof process&&process.release&&/node|io\.js/.test(process.release.name)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);let Oe;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);const je=[],Me=()=>{if(void 0===Oe)if(Ne){Oe=r();const e=process.argv;let t=null;for(let n=0;n<e.length;n++){const r=e[n];"-"===r[0]?(null!==t&&Oe.set(t,""),t=r):null!==t?(Oe.set(t,r),t=null):je.push(r)}null!==t&&Oe.set(t,"")}else"object"==typeof location?(Oe=r(),(location.search||"?").slice(1).split("&").forEach((e=>{if(0!==e.length){const[t,n]=e.split("=");Oe.set(`--${k(t,"-")}`,n),Oe.set(`-${k(t,"-")}`,n)}}))):Oe=r();return Oe},Re=e=>Me().has(e),Fe=e=>Ee(Ne?{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[e.toUpperCase().replaceAll("-","_")]:De.getItem(e)),Le=e=>Re("--"+e)||null!==Fe(e);Le("production");const Pe=Ne&&["true","1","2"].includes({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FORCE_COLOR)||!Re("--no-colors")&&!Le("no-color")&&(!Ne||process.stdout.isTTY)&&(!Ne||Re("--color")||null!==Fe("COLORTERM")||(Fe("TERM")||"").includes("color")),Ie=e=>new Uint8Array(e);class $e{constructor(e,t){this.left=e,this.right=t}}const ze=(e,t)=>new $e(e,t),Be="undefined"!=typeof document?document:{},Ue=("undefined"!=typeof DOMParser&&new DOMParser,Be.ELEMENT_NODE,Be.TEXT_NODE,Be.CDATA_SECTION_NODE,Be.COMMENT_NODE,Be.DOCUMENT_NODE,Be.DOCUMENT_TYPE_NODE,Be.DOCUMENT_FRAGMENT_NODE,Symbol),He=Date.now,We=Ue(),Ke=Ue(),qe=Ue(),Ve=Ue(),Ye=Ue(),Je=Ue(),Ge=Ue(),Xe=Ue(),Qe=Ue();He()
;const Ze={[We]:ze("font-weight","bold"),[Ke]:ze("font-weight","normal"),[qe]:ze("color","blue"),[Ye]:ze("color","green"),[Ve]:ze("color","grey"),[Je]:ze("color","red"),[Ge]:ze("color","purple"),[Xe]:ze("color","orange"),[Qe]:ze("color","black")},et=Pe?e=>{1===e.length&&e[0]?.constructor===Function&&(e=e[0]());const t=[],n=[],i=r();let o=[],s=0;for(;s<e.length;s++){const r=e[s],o=Ze[r];if(void 0!==o)i.set(o.left,o.right);else{if(void 0===r)break;if(r.constructor!==String&&r.constructor!==Number)break;{const e=((e,t)=>{const n=[];for(const[r,i]of e)n.push(t(i,r));return n})(i,((e,t)=>`${t}:${e};`)).join("");s>0||e.length>0?(t.push("%c"+r),n.push(e)):t.push(r)}}}for(s>0&&(o=n,o.unshift(t.join("")));s<e.length;s++){const t=e[s];t instanceof Symbol||o.push(t)}return o}:e=>{1===e.length&&e[0]?.constructor===Function&&(e=e[0]());const t=[],n=[];let r=0;for(;r<e.length;r++){const n=e[r];if(void 0===n)break;if(n.constructor===String||n.constructor===Number)t.push(n);else if(n.constructor===Object)break}for(r>0&&n.push(t.join(""));r<e.length;r++){const t=e[r];t instanceof Symbol||n.push(t)}return n},tt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log(...et(t)),rt.forEach((e=>e.print(t)))},nt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.warn(...et(t)),t.unshift(Xe),rt.forEach((e=>e.print(t)))},rt=s(),it=e=>({[Symbol.iterator](){return this},next:e}),ot=(e,t)=>it((()=>{const{done:n,value:r}=e.next();return{done:n,value:n?void 0:t(r)}})),st=Object.assign,at=Object.keys,lt=(Object.values,e=>at(e).length),ct=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),ut=Object.freeze,dt=e=>{for(const t in e){const n=e[t];"object"!=typeof n&&"function"!=typeof n||dt(e[t])}return ut(e)};class ft extends d{constructor(e,t){super(),this.doc=e,this.awareness=t}}class ht{constructor(e,t){this.clock=e,this.len=t}}class pt{constructor(){this.clients=new Map}}const mt=(e,t,n)=>t.clients.forEach(((t,r)=>{const i=e.doc.store.clients.get(r);if(null!=i){const r=i[i.length-1],o=r.id.clock+r.length;for(let r=0,s=t[r];r<t.length&&s.clock<o;s=t[++r])Bn(e,i,s.clock,s.len,n)}})),gt=(e,t)=>{const n=e.clients.get(t.client);return void 0!==n&&null!==((e,t)=>{let n=0,r=e.length-1;for(;n<=r;){const i=f((n+r)/2),o=e[i],s=o.clock;if(s<=t){if(t<s+o.len)return i;n=i+1}else r=i-1}return null})(n,t.clock)},vt=e=>{e.clients.forEach((e=>{let t,n;for(e.sort(((e,t)=>e.clock-t.clock)),t=1,n=1;t<e.length;t++){const r=e[n-1],i=e[t];r.clock+r.len>=i.clock?r.len=m(r.len,i.clock+i.len-r.clock):(n<t&&(e[n]=i),n++)}e.length=n}))},yt=e=>{const t=new pt;for(let n=0;n<e.length;n++)e[n].clients.forEach(((r,i)=>{if(!t.clients.has(i)){const o=r.slice();for(let t=n+1;t<e.length;t++)l(o,e[t].clients.get(i)||[]);t.clients.set(i,o)}}));return vt(t),t},bt=(e,t,n,r)=>{o(e.clients,t,(()=>[])).push(new ht(n,r))},_t=()=>new pt,wt=e=>{const t=_t();return e.clients.forEach(((e,n)=>{const r=[];for(let t=0;t<e.length;t++){const n=e[t];if(n.deleted){const i=n.id.clock;let o=n.length;if(t+1<e.length)for(let n=e[t+1];t+1<e.length&&n.deleted;n=e[1+ ++t])o+=n.length;r.push(new ht(i,o))}}r.length>0&&t.clients.set(n,r)})),t},Ct=(e,t)=>{L(e.restEncoder,t.clients.size),c(t.clients.entries()).sort(((e,t)=>t[0]-e[0])).forEach((t=>{let[n,r]=t;e.resetDsCurVal(),L(e.restEncoder,n);const i=r.length;L(e.restEncoder,i);for(let t=0;t<i;t++){const n=r[t];e.writeDsClock(n.clock),e.writeDsLen(n.len)}}))},xt=e=>{const t=new pt,n=ce(e.restDecoder);for(let r=0;r<n;r++){e.resetDsCurVal();const n=ce(e.restDecoder),r=ce(e.restDecoder);if(r>0){const i=o(t.clients,n,(()=>[]));for(let t=0;t<r;t++)i.push(new ht(e.readDsClock(),e.readDsLen()))}}return t},Et=(e,t,n)=>{const r=new pt,i=ce(e.restDecoder);for(let o=0;o<i;o++){e.resetDsCurVal();const i=ce(e.restDecoder),o=ce(e.restDecoder),s=n.clients.get(i)||[],a=Rn(n,i);for(let n=0;n<o;n++){const n=e.readDsClock(),o=n+e.readDsLen();if(n<a){a<o&&bt(r,i,a,o-a);let e=Ln(s,n),l=s[e];for(!l.deleted&&l.id.clock<n&&(s.splice(e+1,0,Xi(t,l,n-l.id.clock)),e++);e<s.length&&(l=s[e++],l.id.clock<o);)l.deleted||(o<l.id.clock+l.length&&s.splice(e,0,Xi(t,l,o-l.id.clock)),l.delete(t))}else bt(r,i,n,o-n)}}if(r.clients.size>0){const e=new Ft;return L(e.restEncoder,0),Ct(e,r),e.toUint8Array()}return null},St=(e,t)=>{if(e.clients.size!==t.clients.size)return!1;for(const[n,r]of e.clients.entries()){const e=t.clients.get(n);if(void 0===e||r.length!==e.length)return!1;for(let t=0;t<r.length;t++){const n=r[t],i=e[t];if(n.clock!==i.clock||n.len!==i.len)return!1}}return!0},kt=_e;class Dt extends d{constructor(){let{guid:e=Ce(),collectionid:t=null,gc:n=!0,gcFilter:r=(()=>!0),meta:i=null,autoLoad:o=!1,shouldLoad:s=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.gc=n,this.gcFilter=r,this.clientID=kt(),this.guid=e,this.collectionid=t,this.share=new Map,this.store=new jn,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=s,this.autoLoad=o,this.meta=i,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=xe((e=>{this.on("load",(()=>{this.isLoaded=!0,e(this)}))}));const a=()=>xe((e=>{const t=n=>{void 0!==n&&!0!==n||(this.off("sync",t),e())};this.on("sync",t)}));this.on("sync",(e=>{!1===e&&this.isSynced&&(this.whenSynced=a()),this.isSynced=void 0===e||!0===e,this.isSynced&&!this.isLoaded&&this.emit("load",[this])})),this.whenSynced=a()}load(){const e=this._item;null===e||this.shouldLoad||Gn(e.parent.doc,(e=>{e.subdocsLoaded.add(this)}),null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(c(this.subdocs).map((e=>e.guid)))}transact(e){return Gn(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lr;const n=o(this.share,e,(()=>{const e=new t;return e._integrate(this,null),e})),r=n.constructor;if(t!==Lr&&r!==t){if(r===Lr){const r=new t;r._map=n._map,n._map.forEach((e=>{for(;null!==e;e=e.left)e.parent=r})),r._start=n._start;for(let e=r._start;null!==e;e=e.right)e.parent=r;return r._length=n._length,this.share.set(e,r),r._integrate(this,null),r}throw new Error(`Type with the name ${e} has already been defined with a different constructor`)}return n}getArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,ri)}getText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,wi)}getMap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,oi)}getXmlElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,Ei)}getXmlFragment(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,xi)}toJSON(){const e={};return this.share.forEach(((t,n)=>{e[n]=t.toJSON()})),e}destroy(){this.isDestroyed=!0,c(this.subdocs).forEach((e=>e.destroy()));const e=this._item;if(null!==e){this._item=null;const t=e.content;t.doc=new Dt({guid:this.guid,...t.opts,shouldLoad:!1}),t.doc._item=e,Gn(e.parent.doc,(n=>{const r=t.doc;e.deleted||n.subdocsAdded.add(r),n.subdocsRemoved.add(this)}),null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class Tt{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return ce(this.restDecoder)}readDsLen(){return ce(this.restDecoder)}}class At extends Tt{readLeftID(){return tn(ce(this.restDecoder),ce(this.restDecoder))}readRightID(){return tn(ce(this.restDecoder),ce(this.restDecoder))}readClient(){return ce(this.restDecoder)}readInfo(){return le(this.restDecoder)}readString(){return de(this.restDecoder)}readParentInfo(){return 1===ce(this.restDecoder)}readTypeRef(){return ce(this.restDecoder)}readLen(){return ce(this.restDecoder)}readAny(){return pe(this.restDecoder)}readBuf(){return(e=>{const t=Ie(e.byteLength);return t.set(e),t})(ae(this.restDecoder))}readJSON(){return JSON.parse(de(this.restDecoder))}readKey(){return de(this.restDecoder)}}class Nt{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=ce(this.restDecoder),this.dsCurrVal}readDsLen(){const e=ce(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class Ot extends Nt{constructor(e){super(e),this.keys=[],ce(e),this.keyClockDecoder=new ve(ae(e)),this.clientDecoder=new ge(ae(e)),this.leftClockDecoder=new ve(ae(e)),this.rightClockDecoder=new ve(ae(e)),this.infoDecoder=new me(ae(e),le),this.stringDecoder=new ye(ae(e)),this.parentInfoDecoder=new me(ae(e),le),this.typeRefDecoder=new ge(ae(e)),this.lenDecoder=new ge(ae(e))}readLeftID(){return new Zt(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Zt(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return 1===this.parentInfoDecoder.read()}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return pe(this.restDecoder)}readBuf(){return ae(this.restDecoder)}readJSON(){return pe(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const e=this.stringDecoder.read();return this.keys.push(e),e}}}class jt{constructor(){this.restEncoder=j()}toUint8Array(){return M(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){L(this.restEncoder,e)}writeDsLen(e){L(this.restEncoder,e)}}class Mt extends jt{writeLeftID(e){L(this.restEncoder,e.client),L(this.restEncoder,e.clock)}writeRightID(e){L(this.restEncoder,e.client),L(this.restEncoder,e.clock)}writeClient(e){L(this.restEncoder,e)}writeInfo(e){F(this.restEncoder,e)}writeString(e){z(this.restEncoder,e)}writeParentInfo(e){L(this.restEncoder,e?1:0)}writeTypeRef(e){L(this.restEncoder,e)}writeLen(e){L(this.restEncoder,e)}writeAny(e){K(this.restEncoder,e)}writeBuf(e){U(this.restEncoder,e)}writeJSON(e){z(this.restEncoder,JSON.stringify(e))}writeKey(e){z(this.restEncoder,e)}}class Rt{constructor(){this.restEncoder=j(),this.dsCurrVal=0}toUint8Array(){return M(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const t=e-this.dsCurrVal;this.dsCurrVal=e,L(this.restEncoder,t)}writeDsLen(e){0===e&&ee(),L(this.restEncoder,e-1),this.dsCurrVal+=e}}class Ft extends Rt{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new G,this.clientEncoder=new Y,this.leftClockEncoder=new G,this.rightClockEncoder=new G,this.infoEncoder=new q(F),this.stringEncoder=new X,this.parentInfoEncoder=new q(F),this.typeRefEncoder=new Y,this.lenEncoder=new Y}toUint8Array(){const e=j();return L(e,0),U(e,this.keyClockEncoder.toUint8Array()),U(e,this.clientEncoder.toUint8Array()),U(e,this.leftClockEncoder.toUint8Array()),U(e,this.rightClockEncoder.toUint8Array()),U(e,M(this.infoEncoder)),U(e,this.stringEncoder.toUint8Array()),U(e,M(this.parentInfoEncoder)),U(e,this.typeRefEncoder.toUint8Array()),U(e,this.lenEncoder.toUint8Array()),B(e,M(this.restEncoder)),M(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){K(this.restEncoder,e)}writeBuf(e){U(this.restEncoder,e)}writeJSON(e){K(this.restEncoder,e)}writeKey(e){const t=this.keyMap.get(e);void 0===t?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(t)}}const Lt=(e,t,n)=>{const r=new Map;n.forEach(((e,n)=>{Rn(t,n)>e&&r.set(n,e)})),Mn(t).forEach(((e,t)=>{n.has(t)||r.set(t,0)})),L(e.restEncoder,r.size),c(r.entries()).sort(((e,t)=>t[0]-e[0])).forEach((n=>{let[r,i]=n;((e,t,n,r)=>{r=m(r,t[0].id.clock);const i=Ln(t,r);L(e.restEncoder,t.length-i),e.writeClient(n),L(e.restEncoder,r);const o=t[i];o.write(e,r-o.id.clock);for(let n=i+1;n<t.length;n++)t[n].write(e,0)})(e,t.clients.get(r),r,i)}))},Pt=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Ot(e);return Gn(t,(e=>{e.local=!1;let t=!1;const n=e.doc,s=n.store,a=((e,t)=>{const n=r(),i=ce(e.restDecoder);for(let r=0;r<i;r++){const r=ce(e.restDecoder),i=new Array(r),o=e.readClient();let s=ce(e.restDecoder);n.set(o,{i:0,refs:i});for(let n=0;n<r;n++){const r=e.readInfo();switch(31&r){case 0:{const t=e.readLen();i[n]=new Ai(tn(o,s),t),s+=t;break}case 10:{const t=ce(e.restDecoder);i[n]=new ro(tn(o,s),t),s+=t;break}default:{const a=0==(192&r),l=new eo(tn(o,s),null,(r&y)===y?e.readLeftID():null,null,(r&v)===v?e.readRightID():null,a?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,a&&32==(32&r)?e.readString():null,to(e,r));i[n]=l,s+=l.length}}}}return n})(i,n),l=((e,t,n)=>{const r=[];let i=c(n.keys()).sort(((e,t)=>e-t));if(0===i.length)return null;const s=()=>{if(0===i.length)return null;let e=n.get(i[i.length-1]);for(;e.refs.length===e.i;){if(i.pop(),!(i.length>0))return null;e=n.get(i[i.length-1])}return e};let a=s();if(null===a)return null;const l=new jn,u=new Map,d=(e,t)=>{const n=u.get(e);(null==n||n>t)&&u.set(e,t)};let f=a.refs[a.i++];const h=new Map,p=()=>{for(const e of r){const t=e.id.client,r=n.get(t);r?(r.i--,l.clients.set(t,r.refs.slice(r.i)),n.delete(t),r.i=0,r.refs=[]):l.clients.set(t,[e]),i=i.filter((e=>e!==t))}r.length=0};for(;;){if(f.constructor!==ro){const i=o(h,f.id.client,(()=>Rn(t,f.id.client)))-f.id.clock;if(i<0)r.push(f),d(f.id.client,f.id.clock-1),p();else{const o=f.getMissing(e,t);if(null!==o){r.push(f);const e=n.get(o)||{refs:[],i:0};if(e.refs.length!==e.i){f=e.refs[e.i++];continue}d(o,Rn(t,o)),p()}else(0===i||i<f.length)&&(f.integrate(e,i),h.set(f.id.client,f.id.clock+f.length))}}if(r.length>0)f=r.pop();else if(null!==a&&a.i<a.refs.length)f=a.refs[a.i++];else{if(a=s(),null===a)break;f=a.refs[a.i++]}}if(l.clients.size>0){const e=new Ft;return Lt(e,l,new Map),L(e.restEncoder,0),{missing:u,update:e.toUint8Array()}}return null})(e,s,a),u=s.pendingStructs;if(u){for(const[e,n]of u.missing)if(n<Rn(s,e)){t=!0;break}if(l){for(const[e,t]of l.missing){const n=u.missing.get(e);(null==n||n>t)&&u.missing.set(e,t)}u.update=hr([u.update,l.update])}}else s.pendingStructs=l;const d=Et(i,e,s);if(s.pendingDs){const t=new Ot(ie(s.pendingDs));ce(t.restDecoder);const n=Et(t,e,s);s.pendingDs=d&&n?hr([d,n]):d||n}else s.pendingDs=d;if(t){const t=s.pendingStructs.update;s.pendingStructs=null,$t(e.doc,t)}}),n,!1)},It=(e,t,n)=>Pt(e,t,n,new At(e)),$t=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ot;const i=ie(t);Pt(i,e,n,new r(i))},zt=(e,t,n)=>$t(e,t,n,At),Bt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint8Array([0]),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ft;!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;Lt(e,t.store,n),Ct(e,wt(t.store))}(n,e,Wt(t));const r=[n.toUint8Array()];if(e.store.pendingDs&&r.push(e.store.pendingDs),e.store.pendingStructs&&r.push(pr(e.store.pendingStructs.update,t)),r.length>1){if(n.constructor===Mt)return ar(r.map(((e,t)=>0===t?e:Er(e))));if(n.constructor===Ft)return hr(r)}return r[0]},Ut=(e,t)=>Bt(e,t,new Mt),Ht=e=>{const t=new Map,n=ce(e.restDecoder);for(let r=0;r<n;r++){const n=ce(e.restDecoder),r=ce(e.restDecoder);t.set(n,r)}return t},Wt=e=>Ht(new Tt(ie(e))),Kt=(e,t)=>(L(e.restEncoder,t.size),c(t.entries()).sort(((e,t)=>t[0]-e[0])).forEach((t=>{let[n,r]=t;L(e.restEncoder,n),L(e.restEncoder,r)})),e),qt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Rt;return e instanceof Map?Kt(t,e):((e,t)=>{Kt(e,Mn(t.store))})(t,e),t.toUint8Array()},Vt=e=>qt(e,new jt);class Yt{constructor(){this.l=[]}}const Jt=()=>new Yt,Gt=(e,t)=>e.l.push(t),Xt=(e,t)=>{const n=e.l,r=n.length;e.l=n.filter((e=>t!==e)),r===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Qt=(e,t,n)=>Te(e.l,[t,n]);class Zt{constructor(e,t){this.client=e,this.clock=t}}const en=(e,t)=>e===t||null!==e&&null!==t&&e.client===t.client&&e.clock===t.clock,tn=(e,t)=>new Zt(e,t),nn=(e,t)=>{L(e,t.client),L(e,t.clock)},rn=e=>tn(ce(e),ce(e)),on=e=>{for(const[t,n]of e.doc.share.entries())if(n===e)return t;throw ee()},sn=(e,t)=>{for(;null!==t;){if(t.parent===e)return!0;t=t.parent._item}return!1},an=e=>{const t=[];let n=e._start;for(;n;)t.push(n),n=n.right;console.log("Children: ",t),console.log("Children content: ",t.filter((e=>!e.deleted)).map((e=>e.content)))};class ln{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getMap("users");const n=new Map;this.yusers=t,this.doc=e,this.clients=new Map,this.dss=n;const r=(e,t)=>{const n=e.get("ds"),r=e.get("ids"),i=e=>this.clients.set(e,t);n.observe((e=>{e.changes.added.forEach((e=>{e.content.getContent().forEach((e=>{e instanceof Uint8Array&&this.dss.set(t,yt([this.dss.get(t)||_t(),xt(new Tt(ie(e)))]))}))}))})),this.dss.set(t,yt(n.map((e=>xt(new Tt(ie(e))))))),r.observe((e=>e.changes.added.forEach((e=>e.content.getContent().forEach(i))))),r.forEach(i)};t.observe((e=>{e.keysChanged.forEach((e=>r(t.get(e),e)))})),t.forEach(r)}setUserMapping(e,t,n){let{filter:r=(()=>!0)}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=this.yusers;let o=i.get(n);o||(o=new oi,o.set("ids",new ri),o.set("ds",new ri),i.set(n,o)),o.get("ids").push([t]),i.observe((()=>{setTimeout((()=>{const e=i.get(n);if(e!==o){o=e,this.clients.forEach(((e,t)=>{n===e&&o.get("ids").push([t])}));const t=new jt,r=this.dss.get(n);r&&(Ct(t,r),o.get("ds").push([t.toUint8Array()]))}}),0)})),e.on("afterTransaction",(e=>{setTimeout((()=>{const t=o.get("ds"),n=e.deleteSet;if(e.local&&n.clients.size>0&&r(e,n)){const e=new jt;Ct(e,n),t.push([e.toUint8Array()])}}))}))}getUserByClientId(e){return this.clients.get(e)||null}getUserByDeletedId(e){for(const[t,n]of this.dss.entries())if(gt(n,e))return t;return null}}class cn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.type=e,this.tname=t,this.item=n,this.assoc=r}}const un=e=>{const t={};return e.type&&(t.type=e.type),e.tname&&(t.tname=e.tname),e.item&&(t.item=e.item),null!=e.assoc&&(t.assoc=e.assoc),t},dn=e=>new cn(null==e.type?null:tn(e.type.client,e.type.clock),e.tname??null,null==e.item?null:tn(e.item.client,e.item.clock),null==e.assoc?0:e.assoc);class fn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.type=e,this.index=t,this.assoc=n}}const hn=(e,t,n)=>{let r=null,i=null;return null===e._item?i=on(e):r=tn(e._item.id.client,e._item.id.clock),new cn(r,i,t,n)},pn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e._start;if(n<0){if(0===t)return hn(e,null,n);t--}for(;null!==r;){if(!r.deleted&&r.countable){if(r.length>t)return hn(e,tn(r.id.client,r.id.clock+t),n);t-=r.length}if(null===r.right&&n<0)return hn(e,r.lastId,n);r=r.right}return hn(e,null,n)},mn=e=>{const t=j();return((e,t)=>{const{type:n,tname:r,item:i,assoc:o}=t;if(null!==i)L(e,0),nn(e,i);else if(null!==r)F(e,1),z(e,r);else{if(null===n)throw ee();F(e,2),nn(e,n)}P(e,o)})(t,e),M(t)},gn=e=>(e=>{let t=null,n=null,r=null;switch(ce(e)){case 0:r=rn(e);break;case 1:n=de(e);break;case 2:t=rn(e)}const i=oe(e)?ue(e):0;return new cn(t,n,r,i)})(ie(e)),vn=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=t.store,i=e.item,o=e.type,s=e.tname,a=e.assoc;let l=null,c=0;if(null!==i){if(Rn(r,i.client)<=i.clock)return null;const e=n?Ji(r,i):((e,t)=>{const n=Pn(e,t);return{item:n,diff:t.clock-n.id.clock}})(r,i),t=e.item;if(!(t instanceof eo))return null;if(l=t.parent,null===l._item||!l._item.deleted){c=t.deleted||!t.countable?0:e.diff+(a>=0?0:1);let n=t.left;for(;null!==n;)!n.deleted&&n.countable&&(c+=n.length),n=n.left}}else{if(null!==s)l=t.get(s);else{if(null===o)throw ee();{if(Rn(r,o.client)<=o.clock)return null;const{item:e}=n?Ji(r,o):{item:Pn(r,o)};if(!(e instanceof eo&&e.content instanceof Yi))return null;l=e.content.type}}c=a>=0?l._length:0}return function(e,t){return new fn(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)}(l,c,e.assoc)},yn=(e,t)=>e===t||null!==e&&null!==t&&e.tname===t.tname&&en(e.item,t.item)&&en(e.type,t.type)&&e.assoc===t.assoc;class bn{constructor(e,t){this.ds=e,this.sv=t}}const _n=(e,t)=>{const n=e.ds.clients,r=t.ds.clients,i=e.sv,o=t.sv;if(i.size!==o.size||n.size!==r.size)return!1;for(const[e,t]of i.entries())if(o.get(e)!==t)return!1;for(const[e,t]of n.entries()){const n=r.get(e)||[];if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++){const r=t[e],i=n[e];if(r.clock!==i.clock||r.len!==i.len)return!1}}return!0},wn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Rt;return Ct(t,e.ds),Kt(t,e.sv),t.toUint8Array()},Cn=e=>wn(e,new jt),xn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Nt(ie(e));return new bn(xt(t),Ht(t))},En=e=>xn(e,new Tt(ie(e))),Sn=(e,t)=>new bn(e,t),kn=Sn(_t(),new Map),Dn=e=>Sn(wt(e.store),Mn(e.store)),Tn=(e,t)=>void 0===t?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!gt(t.ds,e.id),An=(e,t)=>{const n=o(e.meta,An,s),r=e.doc.store;n.has(t)||(t.sv.forEach(((t,n)=>{t<Rn(r,n)&&$n(e,tn(n,t))})),mt(e,t.ds,(()=>{})),n.add(t))},Nn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Dt;if(e.gc)throw new Error("Garbage-collection must be disabled in `originDoc`!");const{sv:r,ds:i}=t,o=new Ft;return e.transact((t=>{let n=0;r.forEach((e=>{e>0&&n++})),L(o.restEncoder,n);for(const[n,i]of r){if(0===i)continue;i<Rn(e.store,n)&&$n(t,tn(n,i));const r=e.store.clients.get(n)||[],s=Ln(r,i-1);L(o.restEncoder,s+1),o.writeClient(n),L(o.restEncoder,0);for(let e=0;e<=s;e++)r[e].write(o,0)}Ct(o,i)})),$t(n,o.toUint8Array(),"snapshot"),n},On=(e,t)=>function(e,t){const n=new(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ot)(ie(t)),r=new tr(n,!1);for(let t=r.curr;null!==t;t=r.next())if((e.sv.get(t.id.client)||0)<t.id.clock+t.length)return!1;const i=yt([e.ds,xt(n)]);return St(e.ds,i)}(e,t,At);class jn{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Mn=e=>{const t=new Map;return e.clients.forEach(((e,n)=>{const r=e[e.length-1];t.set(n,r.id.clock+r.length)})),t},Rn=(e,t)=>{const n=e.clients.get(t);if(void 0===n)return 0;const r=n[n.length-1];return r.id.clock+r.length},Fn=(e,t)=>{let n=e.clients.get(t.id.client);if(void 0===n)n=[],e.clients.set(t.id.client,n);else{const e=n[n.length-1];if(e.id.clock+e.length!==t.id.clock)throw ee()}n.push(t)},Ln=(e,t)=>{let n=0,r=e.length-1,i=e[r],o=i.id.clock;if(o===t)return r;let s=f(t/(o+i.length-1)*r);for(;n<=r;){if(i=e[s],o=i.id.clock,o<=t){if(t<o+i.length)return s;n=s+1}else r=s-1;s=f((n+r)/2)}throw ee()},Pn=(e,t)=>{const n=e.clients.get(t.client);return n[Ln(n,t.clock)]},In=(e,t,n)=>{const r=Ln(t,n),i=t[r];return i.id.clock<n&&i instanceof eo?(t.splice(r+1,0,Xi(e,i,n-i.id.clock)),r+1):r},$n=(e,t)=>{const n=e.doc.store.clients.get(t.client);return n[In(e,n,t.clock)]},zn=(e,t,n)=>{const r=t.clients.get(n.client),i=Ln(r,n.clock),o=r[i];return n.clock!==o.id.clock+o.length-1&&o.constructor!==Ai&&r.splice(i+1,0,Xi(e,o,n.clock-o.id.clock+1)),o},Bn=(e,t,n,r,i)=>{if(0===r)return;const o=n+r;let s,a=In(e,t,n);do{s=t[a++],o<s.id.clock+s.length&&In(e,t,o),i(s)}while(a<t.length&&t[a].id.clock<o)};class Un{constructor(e,t,n){this.doc=e,this.deleteSet=new pt,this.beforeState=Mn(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=t,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const Hn=(e,t)=>!(0===t.deleteSet.clients.size&&!((e,t)=>{for(const[n,r]of e)if(t(r,n))return!0;return!1})(t.afterState,((e,n)=>t.beforeState.get(n)!==e))||(vt(t.deleteSet),((e,t)=>{Lt(e,t.doc.store,t.beforeState)})(e,t),Ct(e,t.deleteSet),0)),Wn=(e,t,n)=>{const r=t._item;(null===r||r.id.clock<(e.beforeState.get(r.id.client)||0)&&!r.deleted)&&o(e.changed,t,s).add(n)},Kn=(e,t)=>{let n=e[t],r=e[t-1],i=t;for(;i>0&&r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n);n=r,r=e[--i-1])n instanceof eo&&null!==n.parentSub&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);const o=t-i;return o&&e.splice(t+1-o,o),o},qn=(e,t,n)=>{for(const[r,i]of e.clients.entries()){const e=t.clients.get(r);for(let r=i.length-1;r>=0;r--){const o=i[r],s=o.clock+o.len;for(let r=Ln(e,o.clock),i=e[r];r<e.length&&i.id.clock<s;i=e[++r]){const i=e[r];if(o.clock+o.len<=i.id.clock)break;i instanceof eo&&i.deleted&&!i.keep&&n(i)&&i.gc(t,!1)}}}},Vn=(e,t)=>{e.clients.forEach(((e,n)=>{const r=t.clients.get(n);for(let t=e.length-1;t>=0;t--){const n=e[t];for(let e=p(r.length-1,1+Ln(r,n.clock+n.len-1)),t=r[e];e>0&&t.id.clock>=n.clock;t=r[e])e-=1+Kn(r,e)}}))},Yn=(e,t,n)=>{qn(e,t,n),Vn(e,t)},Jn=(e,t)=>{if(t<e.length){const n=e[t],r=n.doc,i=r.store,o=n.deleteSet,s=n._mergeStructs;try{vt(o),n.afterState=Mn(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const e=[];n.changed.forEach(((t,r)=>e.push((()=>{null!==r._item&&r._item.deleted||r._callObserver(n,t)})))),e.push((()=>{n.changedParentTypes.forEach(((e,t)=>{t._dEH.l.length>0&&(null===t._item||!t._item.deleted)&&((e=e.filter((e=>null===e.target._item||!e.target._item.deleted))).forEach((e=>{e.currentTarget=t,e._path=null})),e.sort(((e,t)=>e.path.length-t.path.length)),Qt(t._dEH,e,n))}))})),e.push((()=>r.emit("afterTransaction",[n,r]))),Te(e,[]),n._needFormattingCleanup&&yi(n)}finally{r.gc&&qn(o,i,r.gcFilter),Vn(o,i),n.afterState.forEach(((e,t)=>{const r=n.beforeState.get(t)||0;if(r!==e){const e=i.clients.get(t),n=m(Ln(e,r),1);for(let t=e.length-1;t>=n;)t-=1+Kn(e,t)}}));for(let e=s.length-1;e>=0;e--){const{client:t,clock:n}=s[e].id,r=i.clients.get(t),o=Ln(r,n);o+1<r.length&&Kn(r,o+1)>1||o>0&&Kn(r,o)}if(n.local||n.afterState.get(r.clientID)===n.beforeState.get(r.clientID)||(tt(Xe,We,"[yjs] ",Ke,Je,"Changed the client-id because another client seems to be using it."),r.clientID=kt()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const e=new Mt;Hn(e,n)&&r.emit("update",[e.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const e=new Ft;Hn(e,n)&&r.emit("updateV2",[e.toUint8Array(),n.origin,r,n])}const{subdocsAdded:a,subdocsLoaded:l,subdocsRemoved:c}=n;(a.size>0||c.size>0||l.size>0)&&(a.forEach((e=>{e.clientID=r.clientID,null==e.collectionid&&(e.collectionid=r.collectionid),r.subdocs.add(e)})),c.forEach((e=>r.subdocs.delete(e))),r.emit("subdocs",[{loaded:l,added:a,removed:c},r,n]),c.forEach((e=>e.destroy()))),e.length<=t+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,e])):Jn(e,t+1)}}},Gn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=e._transactionCleanups;let o=!1,s=null;null===e._transaction&&(o=!0,e._transaction=new Un(e,n,r),i.push(e._transaction),1===i.length&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{s=t(e._transaction)}finally{if(o){const t=e._transaction===i[0];e._transaction=null,t&&Jn(i,0)}}return s};class Xn{constructor(e,t){this.insertions=t,this.deletions=e,this.meta=new Map}}const Qn=(e,t,n)=>{mt(e,n.deletions,(n=>{n instanceof eo&&t.scope.some((t=>t===e.doc||sn(t,n)))&&Gi(n,!1)}))},Zn=(e,t,n)=>{let r=null;const i=e.doc,o=e.scope;Gn(i,(n=>{for(;t.length>0&&null===e.currStackItem;){const r=i.store,s=t.pop(),a=new Set,l=[];let c=!1;mt(n,s.insertions,(e=>{if(e instanceof eo){if(null!==e.redone){let{item:t,diff:i}=Ji(r,e.id);i>0&&(t=$n(n,tn(t.id.client,t.id.clock+i))),e=t}!e.deleted&&o.some((t=>t===n.doc||sn(t,e)))&&l.push(e)}})),mt(n,s.deletions,(e=>{e instanceof eo&&o.some((t=>t===n.doc||sn(t,e)))&&!gt(s.insertions,e.id)&&a.add(e)})),a.forEach((t=>{c=null!==Zi(n,t,a,s.insertions,e.ignoreRemoteMapChanges,e)||c}));for(let t=l.length-1;t>=0;t--){const r=l[t];e.deleteFilter(r)&&(r.delete(n),c=!0)}e.currStackItem=c?s:null}n.changed.forEach(((e,t)=>{e.has(null)&&t._searchMarker&&(t._searchMarker.length=0)})),r=n}),e);const s=e.currStackItem;if(null!=s){const t=r.changedParentTypes;e.emit("stack-item-popped",[{stackItem:s,type:n,changedParentTypes:t,origin:e},e]),e.currStackItem=null}return s};class er extends d{constructor(e){let{captureTimeout:t=500,captureTransaction:n=(()=>!0),deleteFilter:r=(()=>!0),trackedOrigins:i=new Set([null]),ignoreRemoteMapChanges:o=!1,doc:s=(u(e)?e[0].doc:e instanceof Dt?e:e.doc)}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.scope=[],this.doc=s,this.addToScope(e),this.deleteFilter=r,i.add(this),this.trackedOrigins=i,this.captureTransaction=n,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=o,this.captureTimeout=t,this.afterTransactionHandler=e=>{if(!(this.captureTransaction(e)&&this.scope.some((t=>e.changedParentTypes.has(t)||t===this.doc))&&(this.trackedOrigins.has(e.origin)||e.origin&&this.trackedOrigins.has(e.origin.constructor))))return;const t=this.undoing,n=this.redoing,r=t?this.redoStack:this.undoStack;t?this.stopCapturing():n||this.clear(!1,!0);const i=new pt;e.afterState.forEach(((t,n)=>{const r=e.beforeState.get(n)||0,o=t-r;o>0&&bt(i,n,r,o)}));const o=He();let s=!1;if(this.lastChange>0&&o-this.lastChange<this.captureTimeout&&r.length>0&&!t&&!n){const t=r[r.length-1];t.deletions=yt([t.deletions,e.deleteSet]),t.insertions=yt([t.insertions,i])}else r.push(new Xn(e.deleteSet,i)),s=!0;t||n||(this.lastChange=o),mt(e,e.deleteSet,(t=>{t instanceof eo&&this.scope.some((n=>n===e.doc||sn(n,t)))&&Gi(t,!0)}));const a=[{stackItem:r[r.length-1],origin:e.origin,type:t?"redo":"undo",changedParentTypes:e.changedParentTypes},this];s?this.emit("stack-item-added",a):this.emit("stack-item-updated",a)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",(()=>{this.destroy()}))}addToScope(e){const t=new Set(this.scope);(e=u(e)?e:[e]).forEach((e=>{t.has(e)||(t.add(e),(e instanceof Lr?e.doc!==this.doc:e!==this.doc)&&nt("[yjs#509] Not same Y.Doc"),this.scope.push(e))}))}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(e&&this.canUndo()||t&&this.canRedo())&&this.doc.transact((n=>{e&&(this.undoStack.forEach((e=>Qn(n,this,e))),this.undoStack=[]),t&&(this.redoStack.forEach((e=>Qn(n,this,e))),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:t}])}))}stopCapturing(){this.lastChange=0}undo(){let e;this.undoing=!0;try{e=Zn(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){let e;this.redoing=!0;try{e=Zn(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}class tr{constructor(e,t){this.gen=function*(e){const t=ce(e.restDecoder);for(let n=0;n<t;n++){const t=ce(e.restDecoder),n=e.readClient();let r=ce(e.restDecoder);for(let i=0;i<t;i++){const t=e.readInfo();if(10===t){const t=ce(e.restDecoder);yield new ro(tn(n,r),t),r+=t}else if(0!=(31&t)){const i=0==(192&t),o=new eo(tn(n,r),null,(t&y)===y?e.readLeftID():null,null,(t&v)===v?e.readRightID():null,i?e.readParentInfo()?e.readString():e.readLeftID():null,i&&32==(32&t)?e.readString():null,to(e,t));yield o,r+=o.length}else{const t=e.readLen();yield new Ai(tn(n,r),t),r+=t}}}}(e),this.curr=null,this.done=!1,this.filterSkips=t,this.next()}next(){do{this.curr=this.gen.next().value||null}while(this.filterSkips&&null!==this.curr&&this.curr.constructor===ro);return this.curr}}const nr=e=>rr(e,At),rr=function(e){const t=[],n=new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ot)(ie(e)),r=new tr(n,!1);for(let e=r.curr;null!==e;e=r.next())t.push(e);tt("Structs: ",t);const i=xt(n);tt("DeleteSet: ",i)},ir=e=>or(e,At),or=function(e){const t=[],n=new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ot)(ie(e)),r=new tr(n,!1);for(let e=r.curr;null!==e;e=r.next())t.push(e);return{structs:t,ds:xt(n)}};class sr{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const ar=e=>hr(e,At,Mt),lr=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ot
;const n=new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rt),r=new tr(new t(ie(e)),!1);let i=r.curr;if(null!==i){let e=0,t=i.id.client,o=0!==i.id.clock,s=o?0:i.id.clock+i.length;for(;null!==i;i=r.next())t!==i.id.client&&(0!==s&&(e++,L(n.restEncoder,t),L(n.restEncoder,s)),t=i.id.client,s=0,o=0!==i.id.clock),i.constructor===ro&&(o=!0),o||(s=i.id.clock+i.length);0!==s&&(e++,L(n.restEncoder,t),L(n.restEncoder,s));const a=j();return L(a,e),((e,t)=>{B(e,M(t))})(a,n.restEncoder),n.restEncoder=a,n.toUint8Array()}return L(n.restEncoder,0),n.toUint8Array()},cr=e=>lr(e,jt,At),ur=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ot;const n=new Map,r=new Map,i=new tr(new t(ie(e)),!1);let o=i.curr;if(null!==o){let e=o.id.client,t=o.id.clock;for(n.set(e,t);null!==o;o=i.next())e!==o.id.client&&(r.set(e,t),n.set(o.id.client,o.id.clock),e=o.id.client),t=o.id.clock+o.length;r.set(e,t)}return{from:n,to:r}},dr=e=>ur(e,At),fr=(e,t)=>{if(e.constructor===Ai){const{client:n,clock:r}=e.id;return new Ai(tn(n,r+t),e.length-t)}if(e.constructor===ro){const{client:n,clock:r}=e.id;return new ro(tn(n,r+t),e.length-t)}{const n=e,{client:r,clock:i}=n.id;return new eo(tn(r,i+t),null,tn(r,i+t-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(t))}},hr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ot,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ft;if(1===e.length)return e[0];const r=e.map((e=>new t(ie(e))));let i=r.map((e=>new tr(e,!0))),o=null;const s=new n,a=new sr(s);for(;i=i.filter((e=>null!==e.curr)),i.sort(((e,t)=>{if(e.curr.id.client===t.curr.id.client){const n=e.curr.id.clock-t.curr.id.clock;return 0===n?e.curr.constructor===t.curr.constructor?0:e.curr.constructor===ro?1:-1:n}return t.curr.id.client-e.curr.id.client})),0!==i.length;){const e=i[0],t=e.curr.id.client;if(null!==o){let n=e.curr,r=!1;for(;null!==n&&n.id.clock+n.length<=o.struct.id.clock+o.struct.length&&n.id.client>=o.struct.id.client;)n=e.next(),r=!0;if(null===n||n.id.client!==t||r&&n.id.clock>o.struct.id.clock+o.struct.length)continue;if(t!==o.struct.id.client)vr(a,o.struct,o.offset),o={struct:n,offset:0},e.next();else if(o.struct.id.clock+o.struct.length<n.id.clock)if(o.struct.constructor===ro)o.struct.length=n.id.clock+n.length-o.struct.id.clock;else{vr(a,o.struct,o.offset);const e=n.id.clock-o.struct.id.clock-o.struct.length;o={struct:new ro(tn(t,o.struct.id.clock+o.struct.length),e),offset:0}}else{const t=o.struct.id.clock+o.struct.length-n.id.clock;t>0&&(o.struct.constructor===ro?o.struct.length-=t:n=fr(n,t)),o.struct.mergeWith(n)||(vr(a,o.struct,o.offset),o={struct:n,offset:0},e.next())}}else o={struct:e.curr,offset:0},e.next();for(let n=e.curr;null!==n&&n.id.client===t&&n.id.clock===o.struct.id.clock+o.struct.length&&n.constructor!==ro;n=e.next())vr(a,o.struct,o.offset),o={struct:n,offset:0}}null!==o&&(vr(a,o.struct,o.offset),o=null),yr(a);const l=r.map((e=>xt(e))),c=yt(l);return Ct(s,c),s.toUint8Array()},pr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ot,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ft;const i=Wt(t),o=new r,s=new sr(o),a=new n(ie(e)),l=new tr(a,!1);for(;l.curr;){const e=l.curr,t=e.id.client,n=i.get(t)||0;if(l.curr.constructor!==ro)if(e.id.clock+e.length>n)for(vr(s,e,m(n-e.id.clock,0)),l.next();l.curr&&l.curr.id.client===t;)vr(s,l.curr,0),l.next();else for(;l.curr&&l.curr.id.client===t&&l.curr.id.clock+l.curr.length<=n;)l.next();else l.next()}yr(s);const c=xt(a);return Ct(o,c),o.toUint8Array()},mr=(e,t)=>pr(e,t,At,Mt),gr=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:M(e.encoder.restEncoder)}),e.encoder.restEncoder=j(),e.written=0)},vr=(e,t,n)=>{e.written>0&&e.currClient!==t.id.client&&gr(e),0===e.written&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),L(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},yr=e=>{gr(e);const t=e.encoder.restEncoder;L(t,e.clientStructs.length);for(let n=0;n<e.clientStructs.length;n++){const r=e.clientStructs[n];L(t,r.written),B(t,r.restEncoder)}},br=(e,t,n,r)=>{const i=new n(ie(e)),o=new tr(i,!1),s=new r,a=new sr(s);for(let e=o.curr;null!==e;e=o.next())vr(a,t(e),0);yr(a);const l=xt(i);return Ct(s,l),s.toUint8Array()},_r=function(){let{formatting:e=!0,subdocs:t=!0,yxml:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=0;const s=r(),a=r(),l=r(),c=r();return c.set(null,null),r=>{switch(r.constructor){case Ai:case ro:return r;case eo:{const u=r,d=u.content;switch(d.constructor){case Oi:break;case Yi:if(n){const e=d.type;e instanceof Ei&&(e.nodeName=o(a,e.nodeName,(()=>"node-"+i))),e instanceof ki&&(e.hookName=o(a,e.hookName,(()=>"hook-"+i)))}break;case Ii:{const e=d;e.arr=e.arr.map((()=>i));break}case Ni:d.content=new Uint8Array([i]);break;case Mi:{const e=d;t&&(e.opts={},e.doc.guid=i+"");break}case Ri:d.embed={};break;case Fi:{const t=d;e&&(t.key=o(l,t.key,(()=>i+"")),t.value=o(c,t.value,(()=>({i:i}))));break}case Li:{const e=d;e.arr=e.arr.map((()=>i));break}case $i:{const e=d;e.str=N(i%10+"",e.str.length);break}default:ee()}return u.parentSub&&(u.parentSub=o(s,u.parentSub,(()=>i+""))),i++,r}default:ee()}}},wr=(e,t)=>br(e,_r(t),At,Mt),Cr=(e,t)=>br(e,_r(t),Ot,Ft),xr=e=>br(e,Ae,At,Ft),Er=e=>br(e,Ae,Ot,Mt),Sr="You must not compute changes after the event-handler fired.";class kr{constructor(e,t){this.target=e,this.currentTarget=e,this.transaction=t,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=Dr(this.currentTarget,this.target))}deletes(e){return gt(this.transaction.deleteSet,e.id)}get keys(){if(null===this._keys){if(0===this.transaction.doc._transactionCleanups.length)throw Q(Sr);const e=new Map,t=this.target;this.transaction.changed.get(t).forEach((n=>{if(null!==n){const r=t._map.get(n);let i,o;if(this.adds(r)){let e=r.left;for(;null!==e&&this.adds(e);)e=e.left;if(this.deletes(r)){if(null===e||!this.deletes(e))return;i="delete",o=a(e.content.getContent())}else null!==e&&this.deletes(e)?(i="update",o=a(e.content.getContent())):(i="add",o=void 0)}else{if(!this.deletes(r))return;i="delete",o=a(r.content.getContent())}e.set(n,{action:i,oldValue:o})}})),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(null===e){if(0===this.transaction.doc._transactionCleanups.length)throw Q(Sr);const t=this.target,n=s(),r=s(),i=[];if(e={added:n,deleted:r,delta:i,keys:this.keys},this.transaction.changed.get(t).has(null)){let e=null;const o=()=>{e&&i.push(e)};for(let i=t._start;null!==i;i=i.right)i.deleted?this.deletes(i)&&!this.adds(i)&&(null!==e&&void 0!==e.delete||(o(),e={delete:0}),e.delete+=i.length,r.add(i)):this.adds(i)?(null!==e&&void 0!==e.insert||(o(),e={insert:[]}),e.insert=e.insert.concat(i.content.getContent()),n.add(i)):(null!==e&&void 0!==e.retain||(o(),e={retain:0}),e.retain+=i.length);null!==e&&void 0===e.retain&&o()}this._changes=e}return e}}const Dr=(e,t)=>{const n=[];for(;null!==t._item&&t!==e;){if(null!==t._item.parentSub)n.unshift(t._item.parentSub);else{let e=0,r=t._item.parent._start;for(;r!==t._item&&null!==r;)!r.deleted&&r.countable&&(e+=r.length),r=r.right;n.unshift(e)}t=t._item.parent}return n},Tr=()=>{nt("Invalid access: Add Yjs type to a document before reading data.")};let Ar=0;class Nr{constructor(e,t){e.marker=!0,this.p=e,this.index=t,this.timestamp=Ar++}}const Or=(e,t,n)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=Ar++},jr=(e,t)=>{if(null===e._start||0===t||null===e._searchMarker)return null;const n=0===e._searchMarker.length?null:e._searchMarker.reduce(((e,n)=>h(t-e.index)<h(t-n.index)?e:n));let r=e._start,i=0;for(null!==n&&(r=n.p,i=n.index,(e=>{e.timestamp=Ar++})(n));null!==r.right&&i<t;){if(!r.deleted&&r.countable){if(t<i+r.length)break;i+=r.length}r=r.right}for(;null!==r.left&&i>t;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;null!==r.left&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return null!==n&&h(n.index-i)<r.parent.length/80?(Or(n,r,i),n):((e,t,n)=>{if(e.length>=80){const r=e.reduce(((e,t)=>e.timestamp<t.timestamp?e:t));return Or(r,t,n),r}{const r=new Nr(t,n);return e.push(r),r}})(e._searchMarker,r,i)},Mr=(e,t,n)=>{for(let r=e.length-1;r>=0;r--){const i=e[r];if(n>0){let t=i.p;for(t.marker=!1;t&&(t.deleted||!t.countable);)t=t.left,t&&!t.deleted&&t.countable&&(i.index-=t.length);if(null===t||!0===t.marker){e.splice(r,1);continue}i.p=t,t.marker=!0}(t<i.index||n>0&&t===i.index)&&(i.index=m(t,i.index+n))}},Rr=e=>{e.doc??Tr();let t=e._start;const n=[];for(;t;)n.push(t),t=t.right;return n},Fr=(e,t,n)=>{const r=e,i=t.changedParentTypes;for(;o(i,e,(()=>[])).push(n),null!==e._item;)e=e._item.parent;Qt(r._eH,n,t)};class Lr{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Jt(),this._dEH=Jt(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,t){this.doc=e,this._item=t}_copy(){throw Z()}clone(){throw Z()}_write(e){}get _first(){let e=this._start;for(;null!==e&&e.deleted;)e=e.right;return e}_callObserver(e,t){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Gt(this._eH,e)}observeDeep(e){Gt(this._dEH,e)}unobserve(e){Xt(this._eH,e)}unobserveDeep(e){Xt(this._dEH,e)}toJSON(){}}const Pr=(e,t,n)=>{e.doc??Tr(),t<0&&(t=e._length+t),n<0&&(n=e._length+n);let r=n-t;const i=[];let o=e._start;for(;null!==o&&r>0;){if(o.countable&&!o.deleted){const e=o.content.getContent();if(e.length<=t)t-=e.length;else{for(let n=t;n<e.length&&r>0;n++)i.push(e[n]),r--;t=0}}o=o.right}return i},Ir=e=>{e.doc??Tr();const t=[];let n=e._start;for(;null!==n;){if(n.countable&&!n.deleted){const e=n.content.getContent();for(let n=0;n<e.length;n++)t.push(e[n])}n=n.right}return t},$r=(e,t)=>{const n=[];let r=e._start;for(;null!==r;){if(r.countable&&Tn(r,t)){const e=r.content.getContent();for(let t=0;t<e.length;t++)n.push(e[t])}r=r.right}return n},zr=(e,t)=>{let n=0,r=e._start;for(e.doc??Tr();null!==r;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let r=0;r<i.length;r++)t(i[r],n++,e)}r=r.right}},Br=(e,t)=>{const n=[];return zr(e,((r,i)=>{n.push(t(r,i,e))})),n},Ur=e=>{let t=e._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(null===n){for(;null!==t&&t.deleted;)t=t.right;if(null===t)return{done:!0,value:void 0};n=t.content.getContent(),r=0,t=t.right}const e=n[r++];return n.length<=r&&(n=null),{done:!1,value:e}}}},Hr=(e,t)=>{e.doc??Tr();const n=jr(e,t);let r=e._start;for(null!==n&&(r=n.p,t-=n.index);null!==r;r=r.right)if(!r.deleted&&r.countable){if(t<r.length)return r.content.getContent()[t];t-=r.length}},Wr=(e,t,n,r)=>{let i=n;const o=e.doc,s=o.clientID,a=o.store,l=null===n?t._start:n.right;let c=[];const u=()=>{c.length>0&&(i=new eo(tn(s,Rn(a,s)),i,i&&i.lastId,l,l&&l.id,t,null,new Ii(c)),i.integrate(e,0),c=[])};r.forEach((n=>{if(null===n)c.push(n);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(n);break;default:switch(u(),n.constructor){case Uint8Array:case ArrayBuffer:i=new eo(tn(s,Rn(a,s)),i,i&&i.lastId,l,l&&l.id,t,null,new Ni(new Uint8Array(n))),i.integrate(e,0);break;case Dt:i=new eo(tn(s,Rn(a,s)),i,i&&i.lastId,l,l&&l.id,t,null,new Mi(n)),i.integrate(e,0);break;default:if(!(n instanceof Lr))throw new Error("Unexpected content type in insert operation");i=new eo(tn(s,Rn(a,s)),i,i&&i.lastId,l,l&&l.id,t,null,new Yi(n)),i.integrate(e,0)}}})),u()},Kr=()=>Q("Length exceeded!"),qr=(e,t,n,r)=>{if(n>t._length)throw Kr();if(0===n)return t._searchMarker&&Mr(t._searchMarker,n,r.length),Wr(e,t,null,r);const i=n,o=jr(t,n);let s=t._start;for(null!==o&&(s=o.p,0==(n-=o.index)&&(s=s.prev,n+=s&&s.countable&&!s.deleted?s.length:0));null!==s;s=s.right)if(!s.deleted&&s.countable){if(n<=s.length){n<s.length&&$n(e,tn(s.id.client,s.id.clock+n));break}n-=s.length}return t._searchMarker&&Mr(t._searchMarker,i,r.length),Wr(e,t,s,r)},Vr=(e,t,n,r)=>{if(0===r)return;const i=n,o=r,s=jr(t,n);let a=t._start;for(null!==s&&(a=s.p,n-=s.index);null!==a&&n>0;a=a.right)!a.deleted&&a.countable&&(n<a.length&&$n(e,tn(a.id.client,a.id.clock+n)),n-=a.length);for(;r>0&&null!==a;)a.deleted||(r<a.length&&$n(e,tn(a.id.client,a.id.clock+r)),a.delete(e),r-=a.length),a=a.right;if(r>0)throw Kr();t._searchMarker&&Mr(t._searchMarker,i,-o+r)},Yr=(e,t,n)=>{const r=t._map.get(n);void 0!==r&&r.delete(e)},Jr=(e,t,n,r)=>{const i=t._map.get(n)||null,o=e.doc,s=o.clientID;let a;if(null==r)a=new Ii([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:a=new Ii([r]);break;case Uint8Array:a=new Ni(r);break;case Dt:a=new Mi(r);break;default:if(!(r instanceof Lr))throw new Error("Unexpected content type");a=new Yi(r)}new eo(tn(s,Rn(o.store,s)),i,i&&i.lastId,null,null,t,n,a).integrate(e,0)},Gr=(e,t)=>{e.doc??Tr();const n=e._map.get(t);return void 0===n||n.deleted?void 0:n.content.getContent()[n.length-1]},Xr=e=>{const t={};return e.doc??Tr(),e._map.forEach(((e,n)=>{e.deleted||(t[n]=e.content.getContent()[e.length-1])})),t},Qr=(e,t)=>{e.doc??Tr();const n=e._map.get(t);return void 0!==n&&!n.deleted},Zr=(e,t,n)=>{let r=e._map.get(t)||null;for(;null!==r&&(!n.sv.has(r.id.client)||r.id.clock>=(n.sv.get(r.id.client)||0));)r=r.left;return null!==r&&Tn(r,n)?r.content.getContent()[r.length-1]:void 0},ei=(e,t)=>{const n={};return e._map.forEach(((e,r)=>{let i=e;for(;null!==i&&(!t.sv.has(i.id.client)||i.id.clock>=(t.sv.get(i.id.client)||0));)i=i.left;null!==i&&Tn(i,t)&&(n[r]=i.content.getContent()[i.length-1])})),n},ti=e=>{return e.doc??Tr(),t=e._map.entries(),n=e=>!e[1].deleted,it((()=>{let e;do{e=t.next()}while(!e.done&&!n(e.value));return e}));var t,n};class ni extends kr{}class ri extends Lr{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const t=new ri;return t.push(e),t}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ri}clone(){const e=new ri;return e.insert(0,this.toArray().map((e=>e instanceof Lr?e.clone():e))),e}get length(){return this.doc??Tr(),this._length}_callObserver(e,t){super._callObserver(e,t),Fr(this,e,new ni(this,e))}insert(e,t){null!==this.doc?Gn(this.doc,(n=>{qr(n,this,e,t)})):this._prelimContent.splice(e,0,...t)}push(e){null!==this.doc?Gn(this.doc,(t=>{((e,t,n)=>{let r=(t._searchMarker||[]).reduce(((e,t)=>t.index>e.index?t:e),{index:0,p:t._start}).p;if(r)for(;r.right;)r=r.right;Wr(e,t,r,n)})(t,this,e)})):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;null!==this.doc?Gn(this.doc,(n=>{Vr(n,this,e,t)})):this._prelimContent.splice(e,t)}get(e){return Hr(this,e)}toArray(){return Ir(this)}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return Pr(this,e,t)}toJSON(){return this.map((e=>e instanceof Lr?e.toJSON():e))}map(e){return Br(this,e)}forEach(e){zr(this,e)}[Symbol.iterator](){return Ur(this)}_write(e){e.writeTypeRef(Bi)}}class ii extends kr{constructor(e,t,n){super(e,t),this.keysChanged=n}}class oi extends Lr{constructor(e){super(),this._prelimContent=null,this._prelimContent=void 0===e?new Map:new Map(e)}_integrate(e,t){super._integrate(e,t),this._prelimContent.forEach(((e,t)=>{this.set(t,e)})),this._prelimContent=null}_copy(){return new oi}clone(){const e=new oi;return this.forEach(((t,n)=>{e.set(n,t instanceof Lr?t.clone():t)})),e}_callObserver(e,t){Fr(this,e,new ii(this,e,t))}toJSON(){this.doc??Tr();const e={};return this._map.forEach(((t,n)=>{if(!t.deleted){const r=t.content.getContent()[t.length-1];e[n]=r instanceof Lr?r.toJSON():r}})),e}get size(){return[...ti(this)].length}keys(){return ot(ti(this),(e=>e[0]))}values(){return ot(ti(this),(e=>e[1].content.getContent()[e[1].length-1]))}entries(){return ot(ti(this),(e=>[e[0],e[1].content.getContent()[e[1].length-1]]))}forEach(e){this.doc??Tr(),this._map.forEach(((t,n)=>{t.deleted||e(t.content.getContent()[t.length-1],n,this)}))}[Symbol.iterator](){return this.entries()}delete(e){null!==this.doc?Gn(this.doc,(t=>{Yr(t,this,e)})):this._prelimContent.delete(e)}set(e,t){return null!==this.doc?Gn(this.doc,(n=>{Jr(n,this,e,t)})):this._prelimContent.set(e,t),t}get(e){return Gr(this,e)}has(e){return Qr(this,e)}clear(){null!==this.doc?Gn(this.doc,(e=>{this.forEach((function(t,n,r){Yr(e,r,n)}))})):this._prelimContent.clear()}_write(e){e.writeTypeRef(Ui)}}const si=(e,t)=>e===t||"object"==typeof e&&"object"==typeof t&&e&&t&&((e,t)=>e===t||lt(e)===lt(t)&&((e,t)=>{for(const n in e)if(!t(e[n],n))return!1;return!0})(e,((e,n)=>(void 0!==e||ct(t,n))&&t[n]===e)))(e,t);class ai{constructor(e,t,n,r){this.left=e,this.right=t,this.index=n,this.currentAttributes=r}forward(){null===this.right&&ee(),this.right.content.constructor===Fi?this.right.deleted||di(this.currentAttributes,this.right.content):this.right.deleted||(this.index+=this.right.length),this.left=this.right,this.right=this.right.right}}const li=(e,t,n)=>{for(;null!==t.right&&n>0;)t.right.content.constructor===Fi?t.right.deleted||di(t.currentAttributes,t.right.content):t.right.deleted||(n<t.right.length&&$n(e,tn(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length),t.left=t.right,t.right=t.right.right;return t},ci=(e,t,n,r)=>{const i=new Map,o=r?jr(t,n):null;if(o){const t=new ai(o.p.left,o.p,o.index,i);return li(e,t,n-o.index)}{const r=new ai(null,t._start,0,i);return li(e,r,n)}},ui=(e,t,n,r)=>{for(;null!==n.right&&(!0===n.right.deleted||n.right.content.constructor===Fi&&si(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const i=e.doc,o=i.clientID;r.forEach(((r,s)=>{const a=n.left,l=n.right,c=new eo(tn(o,Rn(i.store,o)),a,a&&a.lastId,l,l&&l.id,t,null,new Fi(s,r));c.integrate(e,0),n.right=c,n.forward()}))},di=(e,t)=>{const{key:n,value:r}=t;null===r?e.delete(n):e.set(n,r)},fi=(e,t)=>{for(;null!==e.right&&(e.right.deleted||e.right.content.constructor===Fi&&si(t[e.right.content.key]??null,e.right.content.value));)e.forward()},hi=(e,t,n,r)=>{const i=e.doc,o=i.clientID,s=new Map;for(const a in r){const l=r[a],c=n.currentAttributes.get(a)??null;if(!si(c,l)){s.set(a,c);const{left:r,right:u}=n;n.right=new eo(tn(o,Rn(i.store,o)),r,r&&r.lastId,u,u&&u.id,t,null,new Fi(a,l)),n.right.integrate(e,0),n.forward()}}return s},pi=(e,t,n,r,i)=>{n.currentAttributes.forEach(((e,t)=>{void 0===i[t]&&(i[t]=null)}));const o=e.doc,s=o.clientID;fi(n,i);const a=hi(e,t,n,i),l=r.constructor===String?new $i(r):r instanceof Lr?new Yi(r):new Ri(r);let{left:c,right:u,index:d}=n;t._searchMarker&&Mr(t._searchMarker,n.index,l.getLength()),u=new eo(tn(s,Rn(o.store,s)),c,c&&c.lastId,u,u&&u.id,t,null,l),u.integrate(e,0),n.right=u,n.index=d,n.forward(),ui(e,t,n,a)},mi=(e,t,n,r,i)=>{const o=e.doc,s=o.clientID;fi(n,i);const a=hi(e,t,n,i);e:for(;null!==n.right&&(r>0||a.size>0&&(n.right.deleted||n.right.content.constructor===Fi));){if(!n.right.deleted)switch(n.right.content.constructor){case Fi:{const{key:t,value:o}=n.right.content,s=i[t];if(void 0!==s){if(si(s,o))a.delete(t);else{if(0===r)break e;a.set(t,o)}n.right.delete(e)}else n.currentAttributes.set(t,o);break}default:r<n.right.length&&$n(e,tn(n.right.id.client,n.right.id.clock+r)),r-=n.right.length}n.forward()}if(r>0){let i="";for(;r>0;r--)i+="\n";n.right=new eo(tn(s,Rn(o.store,s)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new $i(i)),n.right.integrate(e,0),n.forward()}ui(e,t,n,a)},gi=(e,t,n,i,o)=>{let s=t;const a=r();for(;s&&(!s.countable||s.deleted);){if(!s.deleted&&s.content.constructor===Fi){const e=s.content;a.set(e.key,e)}s=s.right}let l=0,c=!1;for(;t!==s;){if(n===t&&(c=!0),!t.deleted){const n=t.content;switch(n.constructor){case Fi:{const{key:r,value:s}=n,u=i.get(r)??null;a.get(r)===n&&u!==s||(t.delete(e),l++,c||(o.get(r)??null)!==s||u===s||(null===u?o.delete(r):o.set(r,u))),c||t.deleted||di(o,n);break}}}t=t.right}return l},vi=e=>{let t=0;return Gn(e.doc,(n=>{let o=e._start,s=e._start,a=r();const l=i(a);for(;s;)!1===s.deleted&&(s.content.constructor===Fi?di(l,s.content):(t+=gi(n,o,s,a,l),a=i(l),o=s)),s=s.right})),t},yi=e=>{const t=new Set,n=e.doc;for(const[r,i]of e.afterState.entries()){const o=e.beforeState.get(r)||0;i!==o&&Bn(e,n.store.clients.get(r),o,i,(e=>{e.deleted||e.content.constructor!==Fi||e.constructor===Ai||t.add(e.parent)}))}Gn(n,(n=>{mt(e,e.deleteSet,(e=>{if(e instanceof Ai||!e.parent._hasFormatting||t.has(e.parent))return;const r=e.parent;e.content.constructor===Fi?t.add(r):((e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;const n=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===Fi){const r=t.content.key;n.has(r)?t.delete(e):n.add(r)}t=t.left}})(n,e)}));for(const e of t)vi(e)}))},bi=(e,t,n)=>{const r=n,o=i(t.currentAttributes),s=t.right;for(;n>0&&null!==t.right;){if(!1===t.right.deleted)switch(t.right.content.constructor){case Yi:case Ri:case $i:n<t.right.length&&$n(e,tn(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e)}t.forward()}s&&gi(e,s,t.right,o,t.currentAttributes);const a=(t.left||t.right).parent;return a._searchMarker&&Mr(a._searchMarker,t.index,-r+n),t};class _i extends kr{constructor(e,t,n){super(e,t),this.childListChanged=!1,this.keysChanged=new Set,n.forEach((e=>{null===e?this.childListChanged=!0:this.keysChanged.add(e)}))}get changes(){if(null===this._changes){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(null===this._delta){const e=this.target.doc,t=[];Gn(e,(e=>{const n=new Map,r=new Map;let i=this.target._start,o=null;const s={};let a="",l=0,c=0;const u=()=>{if(null!==o){let e=null;switch(o){case"delete":c>0&&(e={delete:c}),c=0;break;case"insert":("object"==typeof a||a.length>0)&&(e={insert:a},n.size>0&&(e.attributes={},n.forEach(((t,n)=>{null!==t&&(e.attributes[n]=t)})))),a="";break;case"retain":l>0&&(e={retain:l},(e=>{for(const t in e)return!1;return!0})(s)||(e.attributes=st({},s))),l=0}e&&t.push(e),o=null}};for(;null!==i;){switch(i.content.constructor){case Yi:case Ri:this.adds(i)?this.deletes(i)||(u(),o="insert",a=i.content.getContent()[0],u()):this.deletes(i)?("delete"!==o&&(u(),o="delete"),c+=1):i.deleted||("retain"!==o&&(u(),o="retain"),l+=1);break;case $i:this.adds(i)?this.deletes(i)||("insert"!==o&&(u(),o="insert"),a+=i.content.str):this.deletes(i)?("delete"!==o&&(u(),o="delete"),c+=i.length):i.deleted||("retain"!==o&&(u(),o="retain"),l+=i.length);break;case Fi:{const{key:t,value:a}=i.content;if(this.adds(i)){if(!this.deletes(i)){const l=n.get(t)??null;si(l,a)?null!==a&&i.delete(e):("retain"===o&&u(),si(a,r.get(t)??null)?delete s[t]:s[t]=a)}}else if(this.deletes(i)){r.set(t,a);const e=n.get(t)??null;si(e,a)||("retain"===o&&u(),s[t]=e)}else if(!i.deleted){r.set(t,a);const n=s[t];void 0!==n&&(si(n,a)?null!==n&&i.delete(e):("retain"===o&&u(),null===a?delete s[t]:s[t]=a))}i.deleted||("insert"===o&&u(),di(n,i.content));break}}i=i.right}for(u();t.length>0;){const e=t[t.length-1];if(void 0===e.retain||void 0!==e.attributes)break;t.pop()}})),this._delta=t}return this._delta}}class wi extends Lr{constructor(e){super(),this._pending=void 0!==e?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Tr(),this._length}_integrate(e,t){super._integrate(e,t);try{this._pending.forEach((e=>e()))}catch(e){console.error(e)}this._pending=null}_copy(){return new wi}clone(){const e=new wi;return e.applyDelta(this.toDelta()),e}_callObserver(e,t){super._callObserver(e,t);const n=new _i(this,e,t);Fr(this,e,n),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??Tr();let e="",t=this._start;for(;null!==t;)!t.deleted&&t.countable&&t.content.constructor===$i&&(e+=t.content.str),t=t.right;return e}toJSON(){return this.toString()}applyDelta(e){let{sanitize:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!==this.doc?Gn(this.doc,(n=>{const r=new ai(null,this._start,0,new Map);for(let i=0;i<e.length;i++){const o=e[i];if(void 0!==o.insert){const s=t||"string"!=typeof o.insert||i!==e.length-1||null!==r.right||"\n"!==o.insert.slice(-1)?o.insert:o.insert.slice(0,-1);("string"!=typeof s||s.length>0)&&pi(n,this,r,s,o.attributes||{})}else void 0!==o.retain?mi(n,this,r,o.retain,o.attributes||{}):void 0!==o.delete&&bi(n,r,o.delete)}})):this._pending.push((()=>this.applyDelta(e)))}toDelta(e,t,n){function r(){if(a.length>0){const e={};let t=!1;o.forEach(((n,r)=>{t=!0,e[r]=n}));const n={insert:a};t&&(n.attributes=e),i.push(n),a=""}}this.doc??Tr();const i=[],o=new Map,s=this.doc;let a="",l=this._start;const c=()=>{for(;null!==l;){if(Tn(l,e)||void 0!==t&&Tn(l,t))switch(l.content.constructor){case $i:{const i=o.get("ychange");void 0===e||Tn(l,e)?void 0===t||Tn(l,t)?void 0!==i&&(r(),o.delete("ychange")):void 0!==i&&i.user===l.id.client&&"added"===i.type||(r(),o.set("ychange",n?n("added",l.id):{type:"added"})):void 0!==i&&i.user===l.id.client&&"removed"===i.type||(r(),o.set("ychange",n?n("removed",l.id):{type:"removed"})),a+=l.content.str;break}case Yi:case Ri:{r();const e={insert:l.content.getContent()[0]};if(o.size>0){const t={};e.attributes=t,o.forEach(((e,n)=>{t[n]=e}))}i.push(e);break}case Fi:Tn(l,e)&&(r(),di(o,l.content))}l=l.right}r()};return e||t?Gn(s,(n=>{e&&An(n,e),t&&An(n,t),c()}),"cleanup"):c(),i}insert(e,t,n){if(t.length<=0)return;const r=this.doc;null!==r?Gn(r,(r=>{const i=ci(r,this,e,!n);n||(n={},i.currentAttributes.forEach(((e,t)=>{n[t]=e}))),pi(r,this,i,t,n)})):this._pending.push((()=>this.insert(e,t,n)))}insertEmbed(e,t,n){const r=this.doc;null!==r?Gn(r,(r=>{const i=ci(r,this,e,!n);pi(r,this,i,t,n||{})})):this._pending.push((()=>this.insertEmbed(e,t,n||{})))}delete(e,t){if(0===t)return;const n=this.doc;null!==n?Gn(n,(n=>{bi(n,ci(n,this,e,!0),t)})):this._pending.push((()=>this.delete(e,t)))}format(e,t,n){if(0===t)return;const r=this.doc;null!==r?Gn(r,(r=>{const i=ci(r,this,e,!1);null!==i.right&&mi(r,this,i,t,n)})):this._pending.push((()=>this.format(e,t,n)))}removeAttribute(e){null!==this.doc?Gn(this.doc,(t=>{Yr(t,this,e)})):this._pending.push((()=>this.removeAttribute(e)))}setAttribute(e,t){null!==this.doc?Gn(this.doc,(n=>{Jr(n,this,e,t)})):this._pending.push((()=>this.setAttribute(e,t)))}getAttribute(e){return Gr(this,e)}getAttributes(){return Xr(this)}_write(e){e.writeTypeRef(Hi)}}class Ci{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>!0;this._filter=t,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??Tr()}[Symbol.iterator](){return this}next(){let e=this._currentNode,t=e&&e.content&&e.content.type;if(null!==e&&(!this._firstCall||e.deleted||!this._filter(t)))do{if(t=e.content.type,e.deleted||t.constructor!==Ei&&t.constructor!==xi||null===t._start)for(;null!==e;){const t=e.next;if(null!==t){e=t;break}e=e.parent===this._root?null:e.parent._item}else e=t._start}while(null!==e&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,null===e?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class xi extends Lr{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new xi}clone(){const e=new xi;return e.insert(0,this.toArray().map((e=>e instanceof Lr?e.clone():e))),e}get length(){return this.doc??Tr(),null===this._prelimContent?this._length:this._prelimContent.length}createTreeWalker(e){return new Ci(this,e)}querySelector(e){e=e.toUpperCase();const t=new Ci(this,(t=>t.nodeName&&t.nodeName.toUpperCase()===e)).next();return t.done?null:t.value}querySelectorAll(e){return e=e.toUpperCase(),c(new Ci(this,(t=>t.nodeName&&t.nodeName.toUpperCase()===e)))}_callObserver(e,t){Fr(this,e,new Si(this,t,e))}toString(){return Br(this,(e=>e.toString())).join("")}toJSON(){return this.toString()}toDOM(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r=e.createDocumentFragment();return void 0!==n&&n._createAssociation(r,this),zr(this,(i=>{r.insertBefore(i.toDOM(e,t,n),null)})),r}insert(e,t){null!==this.doc?Gn(this.doc,(n=>{qr(n,this,e,t)})):this._prelimContent.splice(e,0,...t)}insertAfter(e,t){if(null!==this.doc)Gn(this.doc,(n=>{const r=e&&e instanceof Lr?e._item:e;Wr(n,this,r,t)}));else{const n=this._prelimContent,r=null===e?0:n.findIndex((t=>t===e))+1;if(0===r&&null!==e)throw Q("Reference item not found");n.splice(r,0,...t)}}delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;null!==this.doc?Gn(this.doc,(n=>{Vr(n,this,e,t)})):this._prelimContent.splice(e,t)}toArray(){return Ir(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return Hr(this,e)}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return Pr(this,e,t)}forEach(e){zr(this,e)}_write(e){e.writeTypeRef(Ki)}}class Ei extends xi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"UNDEFINED";super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,t){super._integrate(e,t),this._prelimAttrs.forEach(((e,t)=>{this.setAttribute(t,e)})),this._prelimAttrs=null}_copy(){return new Ei(this.nodeName)}clone(){const e=new Ei(this.nodeName);return((e,t)=>{for(const n in e)t(e[n],n)})(this.getAttributes(),((t,n)=>{"string"==typeof t&&e.setAttribute(n,t)})),e.insert(0,this.toArray().map((e=>e instanceof Lr?e.clone():e))),e}toString(){const e=this.getAttributes(),t=[],n=[];for(const t in e)n.push(t);n.sort();const r=n.length;for(let i=0;i<r;i++){const r=n[i];t.push(r+'="'+e[r]+'"')}const i=this.nodeName.toLocaleLowerCase();return`<${i}${t.length>0?" "+t.join(" "):""}>${super.toString()}</${i}>`}removeAttribute(e){null!==this.doc?Gn(this.doc,(t=>{Yr(t,this,e)})):this._prelimAttrs.delete(e)}setAttribute(e,t){null!==this.doc?Gn(this.doc,(n=>{Jr(n,this,e,t)})):this._prelimAttrs.set(e,t)}getAttribute(e){return Gr(this,e)}hasAttribute(e){return Qr(this,e)}getAttributes(e){return e?ei(this,e):Xr(this)}toDOM(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r=e.createElement(this.nodeName),i=this.getAttributes();for(const e in i){const t=i[e];"string"==typeof t&&r.setAttribute(e,t)}return zr(this,(i=>{r.appendChild(i.toDOM(e,t,n))})),void 0!==n&&n._createAssociation(r,this),r}_write(e){e.writeTypeRef(Wi),e.writeKey(this.nodeName)}}class Si extends kr{constructor(e,t,n){super(e,n),this.childListChanged=!1,this.attributesChanged=new Set,t.forEach((e=>{null===e?this.childListChanged=!0:this.attributesChanged.add(e)}))}}class ki extends oi{constructor(e){super(),this.hookName=e}_copy(){return new ki(this.hookName)}clone(){const e=new ki(this.hookName);return this.forEach(((t,n)=>{e.set(n,t)})),e}toDOM(){arguments.length>0&&void 0!==arguments[0]||document;let e=arguments.length>2?arguments[2]:void 0;const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})[this.hookName];let n;return n=void 0!==t?t.createDom(this):document.createElement(this.hookName),n.setAttribute("data-yjs-hook",this.hookName),void 0!==e&&e._createAssociation(n,this),n}_write(e){e.writeTypeRef(qi),e.writeKey(this.hookName)}}class Di extends wi{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new Di}clone(){const e=new Di;return e.applyDelta(this.toDelta()),e}toDOM(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>2?arguments[2]:void 0;const n=e.createTextNode(this.toString());return void 0!==t&&t._createAssociation(n,this),n}toString(){return this.toDelta().map((e=>{const t=[];for(const n in e.attributes){const r=[];for(const t in e.attributes[n])r.push({key:t,value:e.attributes[n][t]});r.sort(((e,t)=>e.key<t.key?-1:1)),t.push({nodeName:n,attrs:r})}t.sort(((e,t)=>e.nodeName<t.nodeName?-1:1));let n="";for(let e=0;e<t.length;e++){const r=t[e];n+=`<${r.nodeName}`;for(let e=0;e<r.attrs.length;e++){const t=r.attrs[e]
;n+=` ${t.key}="${t.value}"`}n+=">"}n+=e.insert;for(let e=t.length-1;e>=0;e--)n+=`</${t[e].nodeName}>`;return n})).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(Vi)}}class Ti{constructor(e,t){this.id=e,this.length=t}get deleted(){throw Z()}mergeWith(e){return!1}write(e,t,n){throw Z()}integrate(e,t){throw Z()}}class Ai extends Ti{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}integrate(e,t){t>0&&(this.id.clock+=t,this.length-=t),Fn(e.doc.store,this)}write(e,t){e.writeInfo(0),e.writeLen(this.length-t)}getMissing(e,t){return null}}class Ni{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Ni(this.content)}splice(e){throw Z()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeBuf(this.content)}getRef(){return 3}}class Oi{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Oi(this.len)}splice(e){const t=new Oi(this.len-e);return this.len=e,t}mergeWith(e){return this.len+=e.len,!0}integrate(e,t){bt(e.deleteSet,t.id.client,t.id.clock,this.len),t.markDeleted()}delete(e){}gc(e){}write(e,t){e.writeLen(this.len-t)}getRef(){return 1}}const ji=(e,t)=>new Dt({guid:e,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1});class Mi{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const t={};this.opts=t,e.gc||(t.gc=!1),e.autoLoad&&(t.autoLoad=!0),null!==e.meta&&(t.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Mi(ji(this.doc.guid,this.opts))}splice(e){throw Z()}mergeWith(e){return!1}integrate(e,t){this.doc._item=t,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,t){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}class Ri{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Ri(this.embed)}splice(e){throw Z()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeJSON(this.embed)}getRef(){return 5}}class Fi{constructor(e,t){this.key=e,this.value=t}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Fi(this.key,this.value)}splice(e){throw Z()}mergeWith(e){return!1}integrate(e,t){const n=t.parent;n._searchMarker=null,n._hasFormatting=!0}delete(e){}gc(e){}write(e,t){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}class Li{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Li(this.arr)}splice(e){const t=new Li(this.arr.slice(e));return this.arr=this.arr.slice(0,e),t}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){const n=this.arr.length;e.writeLen(n-t);for(let r=t;r<n;r++){const t=this.arr[r];e.writeString(void 0===t?"undefined":JSON.stringify(t))}}getRef(){return 2}}const Pi="development"===Fe("node_env");class Ii{constructor(e){this.arr=e,Pi&&dt(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Ii(this.arr)}splice(e){const t=new Ii(this.arr.slice(e));return this.arr=this.arr.slice(0,e),t}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){const n=this.arr.length;e.writeLen(n-t);for(let r=t;r<n;r++){const t=this.arr[r];e.writeAny(t)}}getRef(){return 8}}class $i{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new $i(this.str)}splice(e){const t=new $i(this.str.slice(e));this.str=this.str.slice(0,e);const n=this.str.charCodeAt(e-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,e-1)+"\ufffd",t.str="\ufffd"+t.str.slice(1)),t}mergeWith(e){return this.str+=e.str,!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeString(0===t?this.str:this.str.slice(t))}getRef(){return 4}}const zi=[()=>new ri,()=>new oi,()=>new wi,e=>new Ei(e.readKey()),()=>new xi,e=>new ki(e.readKey()),()=>new Di],Bi=0,Ui=1,Hi=2,Wi=3,Ki=4,qi=5,Vi=6;class Yi{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Yi(this.type._copy())}splice(e){throw Z()}mergeWith(e){return!1}integrate(e,t){this.type._integrate(e.doc,t)}delete(e){let t=this.type._start;for(;null!==t;)t.deleted?t.id.clock<(e.beforeState.get(t.id.client)||0)&&e._mergeStructs.push(t):t.delete(e),t=t.right;this.type._map.forEach((t=>{t.deleted?t.id.clock<(e.beforeState.get(t.id.client)||0)&&e._mergeStructs.push(t):t.delete(e)})),e.changed.delete(this.type)}gc(e){let t=this.type._start;for(;null!==t;)t.gc(e,!0),t=t.right;this.type._start=null,this.type._map.forEach((t=>{for(;null!==t;)t.gc(e,!0),t=t.left})),this.type._map=new Map}write(e,t){this.type._write(e)}getRef(){return 7}}const Ji=(e,t)=>{let n,r=t,i=0;do{i>0&&(r=tn(r.client,r.clock+i)),n=Pn(e,r),i=r.clock-n.id.clock,r=n.redone}while(null!==r&&n instanceof eo);return{item:n,diff:i}},Gi=(e,t)=>{for(;null!==e&&e.keep!==t;)e.keep=t,e=e.parent._item},Xi=(e,t,n)=>{const{client:r,clock:i}=t.id,o=new eo(tn(r,i+n),t,tn(r,i+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&o.markDeleted(),t.keep&&(o.keep=!0),null!==t.redone&&(o.redone=tn(t.redone.client,t.redone.clock+n)),t.right=o,null!==o.right&&(o.right.left=o),e._mergeStructs.push(o),null!==o.parentSub&&null===o.right&&o.parent._map.set(o.parentSub,o),t.length=n,o},Qi=(e,t)=>((e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1})(e,(e=>gt(e.deletions,t))),Zi=(e,t,n,r,i,o)=>{const s=e.doc,a=s.store,l=s.clientID,c=t.redone;if(null!==c)return $n(e,c);let u,d=t.parent._item,f=null;if(null!==d&&!0===d.deleted){if(null===d.redone&&(!n.has(d)||null===Zi(e,d,n,r,i,o)))return null;for(;null!==d.redone;)d=$n(e,d.redone)}const h=null===d?t.parent:d.content.type;if(null===t.parentSub){for(f=t.left,u=t;null!==f;){let t=f;for(;null!==t&&t.parent._item!==d;)t=null===t.redone?null:$n(e,t.redone);if(null!==t&&t.parent._item===d){f=t;break}f=f.left}for(;null!==u;){let t=u;for(;null!==t&&t.parent._item!==d;)t=null===t.redone?null:$n(e,t.redone);if(null!==t&&t.parent._item===d){u=t;break}u=u.right}}else if(u=null,t.right&&!i){for(f=t;null!==f&&null!==f.right&&(f.right.redone||gt(r,f.right.id)||Qi(o.undoStack,f.right.id)||Qi(o.redoStack,f.right.id));)for(f=f.right;f.redone;)f=$n(e,f.redone);if(f&&null!==f.right)return null}else f=h._map.get(t.parentSub)||null;const p=Rn(a,l),m=tn(l,p),g=new eo(m,f,f&&f.lastId,u,u&&u.id,h,t.parentSub,t.content.copy());return t.redone=m,Gi(g,!0),g.integrate(e,0),g};class eo extends Ti{constructor(e,t,n,r,i,o,s,a){super(e,a.getLength()),this.origin=n,this.left=t,this.right=r,this.rightOrigin=i,this.parent=o,this.parentSub=s,this.redone=null,this.content=a,this.info=this.content.isCountable()?2:0}set marker(e){(8&this.info)>0!==e&&(this.info^=8)}get marker(){return(8&this.info)>0}get keep(){return(1&this.info)>0}set keep(e){this.keep!==e&&(this.info^=1)}get countable(){return(2&this.info)>0}get deleted(){return(4&this.info)>0}set deleted(e){this.deleted!==e&&(this.info^=4)}markDeleted(){this.info|=4}getMissing(e,t){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Rn(t,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Rn(t,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Zt&&this.id.client!==this.parent.client&&this.parent.clock>=Rn(t,this.parent.client))return this.parent.client;if(this.origin&&(this.left=zn(e,t,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=$n(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Ai||this.right&&this.right.constructor===Ai)this.parent=null;else if(this.parent){if(this.parent.constructor===Zt){const e=Pn(t,this.parent);e.constructor===Ai?this.parent=null:this.parent=e.content.type}}else this.left&&this.left.constructor===eo?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===eo&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}integrate(e,t){if(t>0&&(this.id.clock+=t,this.left=zn(e,e.doc.store,tn(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(t),this.length-=t),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){let t,n=this.left;if(null!==n)t=n.right;else if(null!==this.parentSub)for(t=this.parent._map.get(this.parentSub)||null;null!==t&&null!==t.left;)t=t.left;else t=this.parent._start;const r=new Set,i=new Set;for(;null!==t&&t!==this.right;){if(i.add(t),r.add(t),en(this.origin,t.origin)){if(t.id.client<this.id.client)n=t,r.clear();else if(en(this.rightOrigin,t.rightOrigin))break}else{if(null===t.origin||!i.has(Pn(e.doc.store,t.origin)))break;r.has(Pn(e.doc.store,t.origin))||(n=t,r.clear())}t=t.right}this.left=n}if(null!==this.left){const e=this.left.right;this.right=e,this.left.right=this}else{let e;if(null!==this.parentSub)for(e=this.parent._map.get(this.parentSub)||null;null!==e&&null!==e.left;)e=e.left;else e=this.parent._start,this.parent._start=this;this.right=e}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(e)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),Fn(e.doc.store,this),this.content.integrate(e,this),Wn(e,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(e)}else new Ai(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;null!==e&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;null!==e&&e.deleted;)e=e.left;return e}get lastId(){return 1===this.length?this.id:tn(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&en(e.origin,this.lastId)&&this.right===e&&en(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&null===this.redone&&null===e.redone&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const t=this.parent._searchMarker;return t&&t.forEach((t=>{t.p===e&&(t.p=this,!this.deleted&&this.countable&&(t.index-=this.length))})),e.keep&&(this.keep=!0),this.right=e.right,null!==this.right&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const t=this.parent;this.countable&&null===this.parentSub&&(t._length-=this.length),this.markDeleted(),bt(e.deleteSet,this.id.client,this.id.clock,this.length),Wn(e,t,this.parentSub),this.content.delete(e)}}gc(e,t){if(!this.deleted)throw ee();this.content.gc(e),t?((e,t,n)=>{const r=e.clients.get(t.id.client);r[Ln(r,t.id.clock)]=n})(e,this,new Ai(this.id,this.length)):this.content=new Oi(this.length)}write(e,t){const n=t>0?tn(this.id.client,this.id.clock+t-1):this.origin,r=this.rightOrigin,i=this.parentSub,o=31&this.content.getRef()|(null===n?0:y)|(null===r?0:v)|(null===i?0:32);if(e.writeInfo(o),null!==n&&e.writeLeftID(n),null!==r&&e.writeRightID(r),null===n&&null===r){const t=this.parent;if(void 0!==t._item){const n=t._item;if(null===n){const n=on(t);e.writeParentInfo(!0),e.writeString(n)}else e.writeParentInfo(!1),e.writeLeftID(n.id)}else t.constructor===String?(e.writeParentInfo(!0),e.writeString(t)):t.constructor===Zt?(e.writeParentInfo(!1),e.writeLeftID(t)):ee();null!==i&&e.writeString(i)}this.content.write(e,t)}}const to=(e,t)=>no[31&t](e),no=[()=>{ee()},e=>new Oi(e.readLen()),e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++){const t=e.readString();"undefined"===t?n.push(void 0):n.push(JSON.parse(t))}return new Li(n)},e=>new Ni(e.readBuf()),e=>new $i(e.readString()),e=>new Ri(e.readJSON()),e=>new Fi(e.readKey(),e.readJSON()),e=>new Yi(zi[e.readTypeRef()](e)),e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++)n.push(e.readAny());return new Ii(n)},e=>new Mi(ji(e.readString(),e.readAny())),()=>{ee()}];class ro extends Ti{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}integrate(e,t){ee()}write(e,t){e.writeInfo(10),L(e.restEncoder,this.length-t)}getMissing(e,t){return null}}const io="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},oo="__ $YJS$ __";!0===io[oo]&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),io[oo]=!0},1621:(e,t,n)=>{"use strict";var r=n(1331);e.exports=function(e){var t,n,i,o={};return e?(r.forEach(e.split("\n"),(function(e){i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t&&(o[t]=o[t]?o[t]+", "+n:n)})),o):o}},1679:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},1701:(e,t,n)=>{"use strict";var r=n(9874);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2117:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},2205:(e,t,n)=>{var r=n(7447),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},2534:(e,t,n)=>{var r=n(5158),i=n(5645),o=n(7817),s=Math.max,a=Math.min;e.exports=function(e,t,n){function l(t){var n=h,r=p;return h=p=void 0,b=t,g=e.apply(r,n)}function c(e){var n=e-y;return void 0===y||n>=t||n<0||w&&e-b>=m}function u(){var e=i();if(c(e))return d(e);v=setTimeout(u,function(e){var n=t-(e-y);return w?a(n,m-(e-b)):n}(e))}function d(e){return v=void 0,C&&h?l(e):(h=p=void 0,g)}function f(){var e=i(),n=c(e);if(h=arguments,p=this,y=e,n){if(void 0===v)return function(e){return b=e,v=setTimeout(u,t),_?l(e):g}(y);if(w)return clearTimeout(v),v=setTimeout(u,t),l(y)}return void 0===v&&(v=setTimeout(u,t)),g}var h,p,m,g,v,y,b=0,_=!1,w=!1,C=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return t=o(t)||0,r(n)&&(_=!!n.leading,m=(w="maxWait"in n)?s(o(n.maxWait)||0,t):m,C="trailing"in n?!!n.trailing:C),f.cancel=function(){void 0!==v&&clearTimeout(v),b=0,h=y=p=v=void 0},f.flush=function(){return void 0===v?g:d(i())},f}},2638:e=>{"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e}},2673:function(e){e.exports=function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}}}()},2698:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3093:function(e){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isYesterday=function(){var e="YYYY-MM-DD",t=n().subtract(1,"day");return this.format(e)===t.format(e)}}}()},3275:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},3498:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}function s(e){for(var t=r(v);null!==t;){if(null===t.callback)i(v);else{if(!(t.startTime<=e))break;i(v),t.sortIndex=t.expirationTime,n(g,t)}t=r(v)}}function a(e){if(x=!1,s(e),!C)if(null!==r(g))C=!0,d(l);else{var t=r(v);null!==t&&f(a,t.startTime-e)}}function l(e,n){C=!1,x&&(x=!1,S(N),N=-1),w=!0;var o=_;try{for(s(n),b=r(g);null!==b&&(!(b.expirationTime>n)||e&&!c());){var l=b.callback;if("function"==typeof l){b.callback=null,_=b.priorityLevel;var u=l(b.expirationTime<=n);n=t.unstable_now(),"function"==typeof u?b.callback=u:b===r(g)&&i(g),s(n)}else i(g);b=r(g)}if(null!==b)var d=!0;else{var h=r(v);null!==h&&f(a,h.startTime-n),d=!1}return d}finally{b=null,_=o,w=!1}}function c(){return!(t.unstable_now()-j<O)}function u(){if(null!==A){var e=t.unstable_now();j=e;var n=!0;try{n=A(!0,e)}finally{n?D():(T=!1,A=null)}}else T=!1}function d(e){A=e,T||(T=!0,D())}function f(e,n){N=E((function(){e(t.unstable_now())}),n)}if("object"==typeof performance&&"function"==typeof performance.now){var h=performance;t.unstable_now=function(){return h.now()}}else{var p=Date,m=p.now();t.unstable_now=function(){return p.now()-m}}var g=[],v=[],y=1,b=null,_=3,w=!1,C=!1,x=!1,E="function"==typeof setTimeout?setTimeout:null,S="function"==typeof clearTimeout?clearTimeout:null,k="undefined"!=typeof setImmediate?setImmediate:null;"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var D,T=!1,A=null,N=-1,O=5,j=-1;if("function"==typeof k)D=function(){k(u)};else if("undefined"!=typeof MessageChannel){var M=new MessageChannel,R=M.port2;M.port1.onmessage=u,D=function(){R.postMessage(null)}}else D=function(){E(u,0)};t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){C||w||(C=!0,d(l))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return r(g)},t.unstable_next=function(e){switch(_){case 1:case 2:case 3:var t=3;break;default:t=_}var n=_;_=t;try{return e()}finally{_=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=_;_=e;try{return t()}finally{_=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?s+o:s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:y++,callback:i,priorityLevel:e,startTime:o,expirationTime:c=o+c,sortIndex:-1},o>s?(e.sortIndex=o,n(v,e),null===r(g)&&e===r(v)&&(x?(S(N),N=-1):x=!0,f(a,o-s))):(e.sortIndex=c,n(g,e),C||w||(C=!0,d(l))),e},t.unstable_shouldYield=c,t.unstable_wrapCallback=function(e){var t=_;return function(){var n=_;_=t;try{return e.apply(this,arguments)}finally{_=n}}}},3521:(e,t,n)=>{"use strict";function r(){}function i(){}var o=n(2698);i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,s){if(s!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},3702:(e,t,n)=>{"use strict";function r(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i=n(1331),o=n(8161),s={"Content-Type":"application/x-www-form-urlencoded"},a={adapter:function(){var e;return("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process)&&(e=n(9341)),e}(),transformRequest:[function(e,t){return o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){a.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){a.headers[e]=i.merge(s)})),e.exports=a},3766:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(306)},3837:(e,t,n)=>{e.exports=n(3521)()},4724:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n};e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,s=function(e){for(var t=[],n=1||0,r=0;n<e.length;n+=1,r+=1)t[r]=e[n];return t}(arguments),a=n(0,i.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=i.apply(this,r(s,arguments));return Object(t)===t?t:this}return i.apply(e,r(s,arguments))})),i.prototype){var u=function(){};u.prototype=i.prototype,o.prototype=new u,u.prototype=null}return o}},5011:(e,t,n)=>{"use strict";function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var i=n(1331),o=n(5720),s=n(1679),a=n(3702);e.exports=function(e){return r(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return r(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(r(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},5158:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},5400:e=>{"use strict";function t(){this.message="String contains an invalid character"}t.prototype=new Error,t.prototype.code=5,t.prototype.name="InvalidCharacterError",e.exports=function(e){for(var n,r,i=String(e),o="",s=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.charAt(0|s)||(a="=",s%1);o+=a.charAt(63&n>>8-s%1*8)){if((r=i.charCodeAt(s+=3/4))>255)throw new t;n=n<<8|r}return o}},5499:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},5645:(e,t,n)=>{var r=n(6944);e.exports=function(){return r.Date.now()}},5688:(e,t,n)=>{"use strict";function r(e){var t=new s(e),n=o(s.prototype.request,t);return i.extend(n,s.prototype,t),i.extend(n,t),n}var i=n(1331),o=n(2117),s=n(1202),a=n(3702),l=r(a);l.Axios=s,l.create=function(e){return r(i.merge(a,e))},l.Cancel=n(5499),l.CancelToken=n(338),l.isCancel=n(1679),l.all=function(e){return Promise.all(e)},l.spread=n(9301),e.exports=l,e.exports.default=l},5720:(e,t,n)=>{"use strict";var r=n(1331);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},5756:(e,t)=>{"use strict";t.A=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(0===n.length)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?o===t.replace(/\/.*$/,""):i===t}))}return!0}},5961:(e,t,n)=>{var r=n(6476),i=n(8896),o=n(183),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},6476:(e,t,n)=>{var r=n(6944).Symbol;e.exports=r},6507:(e,t,n)=>{"use strict";e.exports=n(1241)},6873:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},6944:(e,t,n)=>{var r=n(6873),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},7214:(e,t,n)=>{e.exports=n(5688)},7415:(e,t,n)=>{"use strict";var r=n(1331);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},7440:function(e){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isToday=function(){var e="YYYY-MM-DD",t=n();return this.format(e)===t.format(e)}}}()},7447:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},7633:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},7657:(e,t,n)=>{var r=n(5961),i=n(7633);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},7817:(e,t,n)=>{var r=n(2205),i=n(5158),o=n(7657),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=a.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):s.test(e)?NaN:+e}},8161:(e,t,n)=>{"use strict";var r=n(1331);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},8245:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},8288:(e,t,n)=>{"use strict";function r(){this.handlers=[]}var i=n(1331);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},8778:function(e){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isTomorrow=function(){var e="YYYY-MM-DD",t=n().add(1,"day");return this.format(e)===t.format(e)}}}()},8896:(e,t,n)=>{var r=n(6476),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},9301:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},9341:(e,t,n)=>{"use strict";var r=n(1331),i=n(1701),o=n(1335),s=n(1621),a=n(9817),l=n(9874),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(5400);e.exports=function(e){return new Promise((function(t,u){var d=e.data,f=e.headers;r.isFormData(d)&&delete f["Content-Type"];var h=new XMLHttpRequest,p="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in h||a(e.url)||(h=new window.XDomainRequest,p="onload",m=!0,h.onprogress=function(){},h.ontimeout=function(){}),e.auth){var g=e.auth.username||"",v=e.auth.password||"";f.Authorization="Basic "+c(g+":"+v)}if(h.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h[p]=function(){if(h&&(4===h.readyState||m)&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?s(h.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:1223===h.status?204:h.status,statusText:1223===h.status?"No Content":h.statusText,headers:n,config:e,request:h};i(t,u,r),h=null}},h.onerror=function(){u(l("Network Error",e,null,h)),h=null},h.ontimeout=function(){u(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var y=n(7415),b=(e.withCredentials||a(e.url))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}if("setRequestHeader"in h&&r.forEach(f,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:h.setRequestHeader(t,e)})),e.withCredentials&&(h.withCredentials=!0),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),u(e),h=null)})),void 0===d&&(d=null),h.send(d)}))}},9643:(e,t,n)=>{"use strict";e.exports=n(226)},9817:(e,t,n)=>{"use strict";var r=n(1331);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(i.setAttribute("href",t),t=i.href),i.setAttribute("href",t),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return t=e(window.location.href),function(n){var i=r.isString(n)?e(n):n;return i.protocol===t.protocol&&i.host===t.host}}():function(){return!0}},9874:(e,t,n)=>{"use strict";var r=n(2638);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},9993:(e,t,n)=>{var r=n(2534),i=n(5158);e.exports=function(e,t,n){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:o,maxWait:t,trailing:s})}}},n={};e.m=t,e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},(()=>{var t,n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;e.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"==typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"==typeof r.then)return r}var o=Object.create(null);e.r(o);var s={};t=t||[null,n({}),n([]),n(n)];for(var a=2&i&&r;"object"==typeof a&&!~t.indexOf(a);a=n(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,e.d(o,s),o}})(),e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.f={},e.e=t=>Promise.all(Object.keys(e.f).reduce(((n,r)=>(e.f[r](t,n),n)),[])),e.u=e=>"static/js/"+e+".0b885a45.chunk.js",e.miniCssF=()=>{},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var t={},n="scripts:";e.l=(r,i,o)=>{if(t[r])t[r].push(i);else{var s,a;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==n+o){s=u;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,e.nc&&s.setAttribute("nonce",e.nc),s.setAttribute("data-webpack",n+o),s.src=r),t[r]=[i];var d=(e,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=t[r];if(delete t[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),e)return e(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),
s.onload=d.bind(null,s.onload),a&&document.head.appendChild(s)}}})(),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.p="/",(()=>{var t={792:0};e.f.j=(n,r)=>{var i=e.o(t,n)?t[n]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((e,r)=>i=t[n]=[e,r]));r.push(i[2]=o);var s=e.p+e.u(n),a=new Error;e.l(s,(r=>{if(e.o(t,n)&&(0!==(i=t[n])&&(t[n]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+n+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+n,n)}};var n=(n,r)=>{var i,o,s=r[0],a=r[1],l=r[2],c=0;if(s.some((e=>0!==t[e]))){for(i in a)e.o(a,i)&&(e.m[i]=a[i]);l&&l(e)}for(n&&n(r);c<s.length;c++)o=s[c],e.o(t,o)&&t[o]&&t[o][0](),t[o]=0},r=self.webpackChunkscripts=self.webpackChunkscripts||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})(),(()=>{"use strict";function t(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function n(e){return"nodeType"in e}function r(e){var r,i;return e?t(e)?e:n(e)&&null!=(r=null==(i=e.ownerDocument)?void 0:i.defaultView)?r:window:window}function i(e){const{Document:t}=r(e);return e instanceof t}function o(e){return!t(e)&&e instanceof r(e).HTMLElement}function s(e){return e instanceof r(e).SVGElement}function a(e){return e?t(e)?e.document:n(e)?i(e)?e:o(e)||s(e)?e.ownerDocument:document:document:document}function l(e,t){void 0===t&&(t=[e]);const n=(0,MS.useRef)(e);return PS((()=>{n.current!==e&&(n.current=e)}),t),n}function c(e,t){const n=(0,MS.useRef)();return(0,MS.useMemo)((()=>{const t=e(n.current);return n.current=t,t}),[...t])}function u(e){const t=function(e){const t=(0,MS.useRef)(e);return PS((()=>{t.current=e})),(0,MS.useCallback)((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}(e),n=(0,MS.useRef)(null),r=(0,MS.useCallback)((e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e}),[]);return[n,r]}function d(e,t){return(0,MS.useMemo)((()=>{if(t)return t;const n=null==IS[e]?0:IS[e]+1;return IS[e]=n,e+"-"+n}),[e,t])}function f(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((t,n)=>{const r=Object.entries(n);for(const[n,i]of r){const r=t[n];null!=r&&(t[n]=r+e*i)}return t}),{...t})}}function h(e){if(!e)return!1;const{KeyboardEvent:t}=r(e.target);return t&&e instanceof t}function p(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=r(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}function m(e){let{id:t,value:n}=e;return MS.createElement("div",{id:t,style:US},n)}function g(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;return MS.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":r,"aria-atomic":!0},n)}function v(){}function y(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:{},translate:{x:0,y:0}},droppable:{containers:new qS}}}function b(e,t){switch(t.type){case KS.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case KS.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case KS.DragEnd:case KS.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case KS.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new qS(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case KS.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new qS(e.droppable.containers);return s.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:s}}}case KS.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new qS(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function _(e){let{announcements:t=WS,hiddenTextDescribedById:n,screenReaderInstructions:r}=e;const{announce:i,announcement:o}=function(){const[e,t]=(0,MS.useState)("");return{announce:(0,MS.useCallback)((e=>{null!=e&&t(e)}),[]),announcement:e}}(),s=d("DndLiveRegion"),[a,l]=(0,MS.useState)(!1);return(0,MS.useEffect)((()=>{l(!0)}),[]),function(e){let{onDragStart:t,onDragMove:n,onDragOver:r,onDragEnd:i,onDragCancel:o}=e;const s=(0,MS.useContext)(XS),a=(0,MS.useRef)(s);(0,MS.useEffect)((()=>{if(s!==a.current){const{type:e,event:l}=s;switch(e){case KS.DragStart:null==t||t(l);break;case KS.DragMove:null==n||n(l);break;case KS.DragOver:null==r||r(l);break;case KS.DragCancel:null==o||o(l);break;case KS.DragEnd:null==i||i(l)}a.current=s}}),[s,t,n,r,i,o])}((0,MS.useMemo)((()=>({onDragStart(e){let{active:n}=e;i(t.onDragStart(n.id))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&i(t.onDragMove(n.id,null==r?void 0:r.id))},onDragOver(e){let{active:n,over:r}=e;i(t.onDragOver(n.id,null==r?void 0:r.id))},onDragEnd(e){let{active:n,over:r}=e;i(t.onDragEnd(n.id,null==r?void 0:r.id))},onDragCancel(e){let{active:n}=e;i(t.onDragCancel(n.id))}})),[i,t])),a?(0,FS.createPortal)(MS.createElement(MS.Fragment,null,MS.createElement(m,{id:n,value:r.draggable}),MS.createElement(g,{id:s,announcement:o})),document.body):null}function w(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function C(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),s=i-r,a=o-n;if(r<i&&n<o){const n=t.width*t.height,r=e.width*e.height,i=s*a;return Number((i/(n+r-i)).toFixed(4))}return 0}function x(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x})),{...t})}}function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tk,n=e.getBoundingClientRect();if(t.ignoreTransform){const{getComputedStyle:t}=r(e),{transform:i,transformOrigin:o}=t(e);i&&(n=function(e,t,n){let r,i,o,s,a;if(t.startsWith("matrix3d("))r=t.slice(9,-1).split(/, /),i=+r[0],o=+r[5],s=+r[12],a=+r[13];else{if(!t.startsWith("matrix("))return e;r=t.slice(7,-1).split(/, /),i=+r[0],o=+r[3],s=+r[4],a=+r[5]}const l=e.left-s-(1-i)*parseFloat(n),c=e.top-a-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),u=i?e.width/i:e.width,d=o?e.height/o:e.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}(n,i,o))}const{top:i,left:o,width:s,height:a,bottom:l,right:c}=n;return{top:i,left:o,width:s,height:a,bottom:l,right:c}}function S(e){return E(e,{ignoreTransform:!0})}function k(e){const t=[];return e?function n(a){if(!a)return t;if(i(a)&&null!=a.scrollingElement&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!o(a)||s(a))return t;if(t.includes(a))return t;const{getComputedStyle:l}=r(a),c=l(a);return a!==e&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r(e).getComputedStyle(e);const n=/(auto|scroll|overlay)/;return null!=["overflow","overflowX","overflowY"].find((e=>{const r=t[e];return"string"==typeof r&&n.test(r)}))}(a,c)&&t.push(a),function(e){return"fixed"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:r(e).getComputedStyle(e)).position}(a,c)?t:n(a.parentNode)}(e):t}function D(e){return LS&&e?t(e)?e:n(e)?i(e)||e===a(e).scrollingElement?window:o(e)?e:null:null:null}function T(e){return t(e)?e.scrollX:e.scrollLeft}function A(e){return t(e)?e.scrollY:e.scrollTop}function N(e){return{x:T(e),y:A(e)}}function O(e){const t={x:0,y:0},n={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}function j(e,t,n){let{top:r,left:i,right:o,bottom:s}=n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rk;const{clientHeight:c,clientWidth:u}=e,d=(f=e,LS&&f&&f===document.scrollingElement?{top:0,left:0,right:u,bottom:c,width:u,height:c}:t);var f;const{isTop:h,isBottom:p,isLeft:m,isRight:g}=O(e),v={x:0,y:0},y={x:0,y:0},b=d.height*l.y,_=d.width*l.x;return!h&&r<=d.top+b?(v.y=nk.Backward,y.y=a*Math.abs((d.top+b-r)/b)):!p&&s>=d.bottom-b&&(v.y=nk.Forward,y.y=a*Math.abs((d.bottom-b-s)/b)),!g&&o>=d.right-_?(v.x=nk.Forward,y.x=a*Math.abs((d.right-_-o)/_)):!m&&i<=d.left+_&&(v.x=nk.Backward,y.x=a*Math.abs((d.left+_-i)/_)),{direction:v,speed:y}}function M(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function R(e){return e.reduce(((e,t)=>$S(e,N(t))),QS)}function F(e){let{acceleration:t,activator:n=sk.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:s=5,order:a=ak.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,threshold:d}=e;const[f,h]=function(){const e=(0,MS.useRef)(null);return[(0,MS.useCallback)(((t,n)=>{e.current=setInterval(t,n)}),[]),(0,MS.useCallback)((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}(),p=(0,MS.useRef)({x:1,y:1}),m=(0,MS.useMemo)((()=>{switch(n){case sk.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case sk.DraggableRect:return i}return null}),[n,i,l]),g=(0,MS.useRef)(QS),v=(0,MS.useRef)(null),y=(0,MS.useCallback)((()=>{const e=v.current;if(!e)return;const t=p.current.x*g.current.x,n=p.current.y*g.current.y;e.scrollBy(t,n)}),[]),b=(0,MS.useMemo)((()=>a===ak.TreeOrder?[...c].reverse():c),[a,c]);(0,MS.useEffect)((()=>{if(o&&c.length&&m){for(const e of b){if(!1===(null==r?void 0:r(e)))continue;const n=c.indexOf(e),i=u[n];if(!i)continue;const{direction:o,speed:a}=j(e,i,m,t,d);if(a.x>0||a.y>0)return h(),v.current=e,f(y,s),p.current=a,void(g.current=o)}p.current={x:0,y:0},g.current={x:0,y:0},h()}else h()}),[t,y,r,h,o,s,JSON.stringify(m),f,c,b,u,JSON.stringify(d)])}function L(e){let{onResize:t,disabled:n}=e;const r=(0,MS.useMemo)((()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(t)}),[n,t]);return(0,MS.useEffect)((()=>()=>null==r?void 0:r.disconnect()),[r]),r}function P(e,t,n){const r=(0,MS.useRef)(e);return c((i=>e?n||!i&&e||e!==r.current?o(e)&&null==e.parentNode?null:new ok(t(e),e):null!=i?i:null:null),[e,n,t])}function I(e){return(t,n)=>P(t,e,n)}function z(e){const t=[];return function(n,r){const i=(0,MS.useRef)(n);return c((o=>n.length?r||!o&&n.length||n!==i.current?n.map((t=>new ok(e(t),t))):null!=o?o:t:t),[n,r])}}function B(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return o(t)?t:e}function U(e,t){return(0,MS.useMemo)((()=>({sensor:e,options:null!=t?t:{}})),[e,t])}function H(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}function W(e){e.preventDefault()}function K(e){e.stopPropagation()}function q(e){return Boolean(e&&"distance"in e)}function V(e){return Boolean(e&&"delay"in e)}function Y(e,t){let{transform:n,...r}=t;return(null==e?void 0:e.length)?e.reduce(((e,t)=>t({transform:e,...r})),n):n}function J(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const o=d("Droppable"),{activators:s,activatorEvent:a,active:c,activeNodeRect:f,ariaDescribedById:h,draggableNodes:p,over:m}=(0,MS.useContext)(JS),{role:g=Rk,roleDescription:v="draggable",tabIndex:y=0}=null!=i?i:{},b=(null==c?void 0:c.id)===t,_=(0,MS.useContext)(b?Ok:Mk),[w,C]=u(),x=function(e,t){return(0,MS.useMemo)((()=>e.reduce(((e,n)=>{let{eventName:r,handler:i}=n;return e[r]=e=>{i(e,t)},e}),{})),[e,t])}(s,t),E=l(n);return PS((()=>(p[t]={id:t,key:o,node:w,data:E},()=>{const e=p[t];e&&e.key===o&&delete p[t]})),[p,t]),{active:c,activatorEvent:a,activeNodeRect:f,attributes:(0,MS.useMemo)((()=>({role:g,tabIndex:y,"aria-pressed":!(!b||g!==Rk)||void 0,"aria-roledescription":v,"aria-describedby":h.draggable})),[g,y,b,v,h.draggable]),isDragging:b,listeners:r?void 0:x,node:w,over:m,setNodeRef:C,transform:_}}function G(){return(0,MS.useContext)(GS)}function X(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Q(e,t){return e.reduce(((e,n,r)=>{const i=t.get(n);return i&&(e[r]=i),e}),Array(e.length))}function Z(e){return null!==e&&e>=0}function ee(e){let{children:t,id:n,items:r,strategy:i=Lk}=e;const{active:o,dragOverlay:s,droppableRects:a,over:l,measureDroppableContainers:c,measuringScheduled:u}=G(),f=d(Pk,n),h=Boolean(null!==s.rect),p=(0,MS.useMemo)((()=>r.map((e=>"string"==typeof e?e:e.id))),[r]),m=null!=o,g=o?p.indexOf(o.id):-1,v=l?p.indexOf(l.id):-1,y=(0,MS.useRef)(p),b=(_=p,w=y.current,!(_.join()===w.join()));var _,w;const C=-1!==v&&-1===g||b;PS((()=>{b&&m&&!u&&c(p)}),[b,p,m,c,u]),(0,MS.useEffect)((()=>{y.current=p}),[p]);const x=(0,MS.useMemo)((()=>({activeIndex:g,containerId:f,disableTransforms:C,items:p,overIndex:v,useDragOverlay:h,sortedRects:Q(p,a),strategy:i})),[g,f,C,p,v,a,h,i]);return MS.createElement(Ik.Provider,{value:x},t)}function te(e){let{animateLayoutChanges:t=zk,attributes:n,disabled:r,data:i,getNewIndex:o=$k,id:s,strategy:a,resizeObserverConfig:c,transition:f=Bk}=e;const{items:p,containerId:m,activeIndex:g,disableTransforms:v,sortedRects:y,overIndex:b,useDragOverlay:_,strategy:w}=(0,MS.useContext)(Ik),C=p.indexOf(s),x=(0,MS.useMemo)((()=>({sortable:{containerId:m,index:C,items:p},...i})),[m,i,C,p]),S=(0,MS.useMemo)((()=>p.slice(p.indexOf(s))),[p,s]),{rect:k,node:D,isOver:T,setNodeRef:A}=function(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const o=d("Droppable"),{active:s,dispatch:a,over:c,measureDroppableContainers:f}=(0,MS.useContext)(JS),h=(0,MS.useRef)(!1),p=(0,MS.useRef)(null),m=(0,MS.useRef)(null),{disabled:g,updateMeasurementsFor:v,timeout:y}={...Fk,...i},b=l(null!=v?v:r),_=L({onResize:(0,MS.useCallback)((()=>{h.current?(null!=m.current&&clearTimeout(m.current),m.current=setTimeout((()=>{f("string"==typeof b.current?[b.current]:b.current),m.current=null}),y)):h.current=!0}),[y]),disabled:g||!s}),w=(0,MS.useCallback)(((e,t)=>{_&&(t&&(_.unobserve(t),h.current=!1),e&&_.observe(e))}),[_]),[C,x]=u(w),E=l(t);return(0,MS.useEffect)((()=>{_&&C.current&&(_.disconnect(),h.current=!1,_.observe(C.current))}),[C,_]),PS((()=>(a({type:KS.RegisterDroppable,element:{id:r,key:o,disabled:n,node:C,rect:p,data:E}}),()=>a({type:KS.UnregisterDroppable,key:o,id:r}))),[r]),(0,MS.useEffect)((()=>{a({type:KS.SetDroppableDisabled,id:r,key:o,disabled:n})}),[n]),{active:s,rect:p,isOver:(null==c?void 0:c.id)===r,node:C,over:c,setNodeRef:x}}({id:s,data:x,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:N,activatorEvent:O,activeNodeRect:j,attributes:M,setNodeRef:R,listeners:F,isDragging:P,over:I,transform:$}=J({id:s,data:x,attributes:{...Wk,...n},disabled:r}),z=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,MS.useMemo)((()=>e=>{t.forEach((t=>t(e)))}),t)}(A,R),B=Boolean(N),U=B&&!v&&Z(g)&&Z(b),H=!_&&P,W=H&&U?$:null,K=U?null!=W?W:(null!=a?a:w)({rects:y,activeNodeRect:j,activeIndex:g,overIndex:b,index:C}):null,q=Z(g)&&Z(b)?o({id:s,items:p,activeIndex:g,overIndex:b}):C,V=null==N?void 0:N.id,Y=(0,MS.useRef)({activeId:V,items:p,newIndex:q,containerId:m}),G=p!==Y.current.items,X=t({active:N,containerId:m,isDragging:P,isSorting:B,id:s,index:C,items:p,newIndex:Y.current.newIndex,previousItems:Y.current.items,previousContainerId:Y.current.containerId,transition:f,wasDragging:null!=Y.current.activeId}),Q=function(e){let{disabled:t,index:n,node:r,rect:i}=e;const[o,s]=(0,MS.useState)(null),a=(0,MS.useRef)(n);return PS((()=>{if(!t&&n!==a.current&&r.current){const e=i.current;if(e){const t=E(r.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&s(n)}}n!==a.current&&(a.current=n)}),[t,n,r,i]),(0,MS.useEffect)((()=>{o&&requestAnimationFrame((()=>{s(null)}))}),[o]),o}({disabled:!X,index:C,node:D,rect:k});return(0,MS.useEffect)((()=>{B&&Y.current.newIndex!==q&&(Y.current.newIndex=q),m!==Y.current.containerId&&(Y.current.containerId=m),p!==Y.current.items&&(Y.current.items=p),V!==Y.current.activeId&&(Y.current.activeId=V)}),[V,B,q,m,p]),{active:N,activeIndex:g,attributes:M,rect:k,index:C,newIndex:q,items:p,isOver:T,isSorting:B,isDragging:P,listeners:F,node:D,overIndex:b,over:I,setNodeRef:z,setDroppableNodeRef:A,setDraggableNodeRef:R,transform:null!=Q?Q:K,transition:Q||G&&Y.current.newIndex===C?Hk:H&&!h(O)||!f?void 0:B||X?BS.Transition.toString({...f,property:Uk}):void 0}}function ne(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function re(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function ie(e){var t,n,r,i;let o;switch(e.type){case"text":o=!!(null===(t=e.data.text)||void 0===t?void 0:t.trim().length);break;case"video":o=!!(null===(i=null===(r=null===(n=e.data)||void 0===n?void 0:n.items[0])||void 0===r?void 0:r.url)||void 0===i?void 0:i.trim().length);break;case"image":o=!!e.data.items.length;break;case"url":{let t=!1;e.data.items.map((e=>{var n,r,i;(null===(n=e.url)||void 0===n?void 0:n.trim().length)&&(null===(i=null===(r=e.title)||void 0===r?void 0:r.trim())||void 0===i?void 0:i.length)&&(t=!0)})),o=t;break}case"list":{let t=!1;e.data.items.map((e=>{var n;(null===(n=e.title)||void 0===n?void 0:n.trim().length)&&(t=!0)})),o=t;break}default:o=!1}return o}function oe(e){return!!["input","textarea"].includes(e.tagName.toLowerCase())}function se(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function ae(e,t){function n(n){return function(l){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,n[0]&&(s=0)),s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,l])}}var r,i,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=n(0),a.throw=n(1),a.return=n(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function le(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function ce(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function ue(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=UD.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!=typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"==typeof t?t:"string"==typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function de(e){return"object"==typeof e&&null!==e}function fe(e){return ge(e.target.files).map((function(e){return ue(e)}))}function he(e){return se(this,void 0,void 0,(function(){return ae(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return e.getFile()})))];case 1:return[2,t.sent().map((function(e){return ue(e)}))]}}))}))}function pe(e,t){return se(this,void 0,void 0,(function(){var n;return ae(this,(function(r){switch(r.label){case 0:return e.items?(n=ge(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(ve))]):[3,2];case 1:return[2,me(ye(r.sent()))];case 2:return[2,me(ge(e.files).map((function(e){return ue(e)})))]}}))}))}function me(e){return e.filter((function(e){return-1===HD.indexOf(e.name)}))}function ge(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function ve(e){if("function"!=typeof e.webkitGetAsEntry)return be(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?we(t):be(e)}function ye(e){return e.reduce((function(e,t){return ce(ce([],le(e),!1),le(Array.isArray(t)?ye(t):[t]),!1)}),[])}function be(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=ue(t);return Promise.resolve(n)}function _e(e){return se(this,void 0,void 0,(function(){return ae(this,(function(){return[2,e.isDirectory?we(e):Ce(e)]}))}))}function we(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function i(){var o=this;t.readEntries((function(t){return se(o,void 0,void 0,(function(){var o,s,a;return ae(this,(function(l){switch(l.label){case 0:if(t.length)return[3,5];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return o=l.sent(),e(o),[3,4];case 3:return s=l.sent(),n(s),[3,4];case 4:return[3,6];case 5:a=Promise.all(t.map(_e)),r.push(a),i(),l.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function Ce(e){return se(this,void 0,void 0,(function(){return ae(this,(function(){return[2,new Promise((function(t,n){e.file((function(n){var r=ue(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}function xe(e){return function(e){if(Array.isArray(e))return Ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||Te(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){if(e){if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ne(e,t){var n="application/x-moz-file"===e.type||KD(e,t);return[n,n?null:JD(t)]}function Oe(e,t,n){if(je(e.size))if(je(t)&&je(n)){if(e.size>n)return[!1,GD(n)];if(e.size<t)return[!1,XD(t)]}else{if(je(t)&&e.size<t)return[!1,XD(t)];if(je(n)&&e.size>n)return[!1,GD(n)]}return[!0,null]}function je(e){return null!=e}function Me(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function Re(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function Fe(e){e.preventDefault()}function Le(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return!Me(e)&&t&&t.apply(void 0,[e].concat(r)),Me(e)}))}}function Pe(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)}function Ie(e){return/^.*\.[\w]+$/.test(e)}function $e(e){return function(e){if(Array.isArray(e))return Ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Be(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||Be(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){if(e){if("string"==typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(e,t):void 0}}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){Ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=We(We({},iT),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,s=t.minSize,a=t.multiple,l=t.maxFiles,c=t.onDragEnter,u=t.onDragLeave,d=t.onDragOver,f=t.onDrop,h=t.onDropAccepted,p=t.onDropRejected,m=t.onFileDialogCancel,g=t.onFileDialogOpen,v=t.useFsAccessApi,y=t.autoFocus,b=t.preventDropOnDocument,_=t.noClick,w=t.noKeyboard,C=t.noDrag,x=t.noDragEventsBubbling,E=t.onError,S=t.validator,k=(0,MS.useMemo)((function(){return function(e){if(je(e))return Object.entries(e).reduce((function(e,t){var n=De(t,2),r=n[0],i=n[1];return[].concat(xe(e),[r],xe(i))}),[]).filter((function(e){return Pe(e)||Ie(e)})).join(",")}(n)}),[n]),D=(0,MS.useMemo)((function(){return function(e){if(je(e)){var t=Object.entries(e).filter((function(e){var t=De(e,2),n=t[0],r=t[1],i=!0;return Pe(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),Array.isArray(r)&&r.every(Ie)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),i=!1),i})).reduce((function(e,t){var n=De(t,2),r=n[0],i=n[1];return Se(Se({},e),{},ke({},r,i))}),{});return[{description:"Files",accept:t}]}return e}(n)}),[n]),T=(0,MS.useMemo)((function(){return"function"==typeof g?g:Je}),[g]),A=(0,MS.useMemo)((function(){return"function"==typeof m?m:Je}),[m]),N=(0,MS.useRef)(null),O=(0,MS.useRef)(null),j=ze((0,MS.useReducer)(Ye,oT),2),M=j[0],R=j[1],F=M.isFocused,L=M.isFileDialogActive,P=(0,MS.useRef)("undefined"!=typeof window&&window.isSecureContext&&v&&"showOpenFilePicker"in window),I=function(){!P.current&&L&&setTimeout((function(){O.current&&(O.current.files.length||(R({type:"closeDialog"}),A()))}),300)};(0,MS.useEffect)((function(){return window.addEventListener("focus",I,!1),function(){window.removeEventListener("focus",I,!1)}}),[O,L,A,P]);var $=(0,MS.useRef)([]),z=function(e){N.current&&N.current.contains(e.target)||(e.preventDefault(),$.current=[])};(0,MS.useEffect)((function(){return b&&(document.addEventListener("dragover",Fe,!1),document.addEventListener("drop",z,!1)),function(){b&&(document.removeEventListener("dragover",Fe),document.removeEventListener("drop",z))}}),[N,b]),(0,MS.useEffect)((function(){return!r&&y&&N.current&&N.current.focus(),function(){}}),[N,y,r]);var B=(0,MS.useCallback)((function(e){E?E(e):console.error(e)}),[E]),U=(0,MS.useCallback)((function(e){e.preventDefault(),e.persist(),te(e),$.current=[].concat($e($.current),[e.target]),Re(e)&&Promise.resolve(i(e)).then((function(t){if(!Me(e)||x){var n=t.length,r=n>0&&function(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,o=e.multiple,s=e.maxFiles,a=e.validator;return!(!o&&t.length>1||o&&s>=1&&t.length>s)&&t.every((function(e){var t=De(Ne(e,n),1)[0],o=De(Oe(e,r,i),1)[0],s=a?a(e):null;return t&&o&&!s}))}({files:t,accept:k,minSize:s,maxSize:o,multiple:a,maxFiles:l,validator:S});R({isDragAccept:r,isDragReject:n>0&&!r,isDragActive:!0,type:"setDraggedFiles"}),c&&c(e)}})).catch((function(e){return B(e)}))}),[i,c,B,x,k,s,o,a,l,S]),H=(0,MS.useCallback)((function(e){e.preventDefault(),e.persist(),te(e);var t=Re(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return t&&d&&d(e),!1}),[d,x]),W=(0,MS.useCallback)((function(e){e.preventDefault(),e.persist(),te(e);var t=$.current.filter((function(e){return N.current&&N.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),$.current=t,t.length>0||(R({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Re(e)&&u&&u(e))}),[N,u,x]),K=(0,MS.useCallback)((function(e,t){var n=[],r=[];e.forEach((function(e){var t=ze(Ne(e,k),2),i=t[0],a=t[1],l=ze(Oe(e,s,o),2),c=l[0],u=l[1],d=S?S(e):null;if(i&&c&&!d)n.push(e);else{var f=[a,u];d&&(f=f.concat(d)),r.push({file:e,errors:f.filter((function(e){return e}))})}})),(!a&&n.length>1||a&&l>=1&&n.length>l)&&(n.forEach((function(e){
r.push({file:e,errors:[QD]})})),n.splice(0)),R({acceptedFiles:n,fileRejections:r,type:"setFiles"}),f&&f(n,r,t),r.length>0&&p&&p(r,t),n.length>0&&h&&h(n,t)}),[R,a,k,s,o,l,f,h,p,S]),q=(0,MS.useCallback)((function(e){e.preventDefault(),e.persist(),te(e),$.current=[],Re(e)&&Promise.resolve(i(e)).then((function(t){Me(e)&&!x||K(t,e)})).catch((function(e){return B(e)})),R({type:"reset"})}),[i,K,B,x]),V=(0,MS.useCallback)((function(){if(P.current){R({type:"openDialog"}),T();var e={multiple:a,types:D};window.showOpenFilePicker(e).then((function(e){return i(e)})).then((function(e){K(e,null),R({type:"closeDialog"})})).catch((function(e){!function(e){return e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)}(e)?function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?(P.current=!1,O.current?(O.current.value=null,O.current.click()):B(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):B(e):(A(e),R({type:"closeDialog"}))}))}else O.current&&(R({type:"openDialog"}),T(),O.current.value=null,O.current.click())}),[R,T,A,v,K,B,D,a]),Y=(0,MS.useCallback)((function(e){N.current&&N.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),V()))}),[N,V]),J=(0,MS.useCallback)((function(){R({type:"focus"})}),[]),G=(0,MS.useCallback)((function(){R({type:"blur"})}),[]),X=(0,MS.useCallback)((function(){_||(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?setTimeout(V,0):V())}),[_,V]),Q=function(e){return r?null:e},Z=function(e){return w?null:Q(e)},ee=function(e){return C?null:Q(e)},te=function(e){x&&e.stopPropagation()},ne=(0,MS.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,i=e.role,o=e.onKeyDown,s=e.onFocus,a=e.onBlur,l=e.onClick,c=e.onDragEnter,u=e.onDragOver,d=e.onDragLeave,f=e.onDrop,h=qe(e,tT);return We(We(Ke({onKeyDown:Z(Le(o,Y)),onFocus:Z(Le(s,J)),onBlur:Z(Le(a,G)),onClick:Q(Le(l,X)),onDragEnter:ee(Le(c,U)),onDragOver:ee(Le(u,H)),onDragLeave:ee(Le(d,W)),onDrop:ee(Le(f,q)),role:"string"==typeof i&&""!==i?i:"presentation"},n,N),r||w?{}:{tabIndex:0}),h)}}),[N,Y,J,G,X,U,H,W,q,w,C,r]),re=(0,MS.useCallback)((function(e){e.stopPropagation()}),[]),ie=(0,MS.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onChange,i=e.onClick,o=qe(e,nT);return We(We({},Ke({accept:k,multiple:a,type:"file",style:{display:"none"},onChange:Q(Le(r,q)),onClick:Q(Le(i,re)),tabIndex:-1},n,O)),o)}}),[O,n,a,q,r]);return We(We({},M),{},{isFocused:F&&!r,getRootProps:ne,getInputProps:ie,rootRef:N,inputRef:O,open:Q(V)})}function Ye(e,t){switch(t.type){case"focus":return We(We({},e),{},{isFocused:!0});case"blur":return We(We({},e),{},{isFocused:!1});case"openDialog":return We(We({},oT),{},{isFileDialogActive:!0});case"closeDialog":return We(We({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return We(We({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return We(We({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return We({},oT);default:return e}}function Je(){}function Ge(e,t){var n=[];return e.forEach((e=>{n.push({text:escapeHtml(e[t]),value:escapeHtml(e[t])})})),n}function Xe(e,t,n,r,i){$.ajax({url:window.location.origin+t,method:"GET",dataType:"json",data:n}).done((function(n){for(var o,s=Ge(n.result,e),a=$(r).val().split(","),l=0;l<a.length;l++)s.push({text:escapeHtml(a[l]),value:escapeHtml(a[l])});!function(e){"tag"===e&&(cT.closeAfterSelect=!1,cT.plugins={remove_button:{label:'<i class="fa fa-fw fa-times"></i>',title:"\u062d\u0630\u0641",className:"remove"}})}(e),cT.searchField=["text","value"],cT.maxItems=i,cT.onChange=(o=r,function(){$(o).hasClass("predicted")||(selectizeElement=$(o)[0].selectize,selectizeElement.blur()),$(o).removeClass("predicted")}),cT.options=s,cT.load=function(r,i){i(),n.query=r,$.ajax({url:window.location.origin+t,type:"GET",data:n,error:function(){i()},success:function(t){var n=Ge(t.result,e);i(n)}})},$(r).selectize(cT)}))}function Qe(){$(".multi-select-or-create-selectize#select-tags").length>0&&function(){var e=$("#service_id").val(),t=$("#select-tags").attr("data-tags-count");t<5&&(t=5),null==e&&(e=null),Xe("tag","/ajax/tags",{service_id:e},".multi-select-or-create-selectize",t)}(),$(".multi-create-selectize").selectize(cT)}function Ze(e,t){$(".flash-box").html(""),$(".flash-box").html('<div class="alert alert-'+t+' alert-dismissible fade show" role="alert"><span class="msg">'+e+'</span><button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>')}function et(){return et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},et.apply(null,arguments)}function tt(e,t){let{title:n,titleId:r,...i}=e;return MS.createElement("svg",et({xmlns:"http://www.w3.org/2000/svg",height:24,width:22,viewBox:"0 0 448 512",ref:t,"aria-labelledby":r},i),n?MS.createElement("title",{id:r},n):null,pT||(pT=MS.createElement("path",{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0h120.4c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64s14.3-32 32-32h96l7.2-14.3zM32 128h384v320c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16v224c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16v224c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16v224c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"})))}function nt(){return nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nt.apply(null,arguments)}function rt(e,t){let{title:n,titleId:r,...i}=e;return MS.createElement("svg",nt({fill:"#000000",xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 52 52",enableBackground:"new 0 0 52 52",xmlSpace:"preserve",ref:t,"aria-labelledby":r},i),n?MS.createElement("title",{id:r},n):null,gT||(gT=MS.createElement("g",null,MS.createElement("path",{d:"M41.5,20h-31C9.7,20,9,20.7,9,21.5V45c0,2.8,2.2,5,5,5h24c2.8,0,5-2.2,5-5V21.5C43,20.7,42.3,20,41.5,20z       M26,46v-4c3.3,0,6-2.7,6-6s-2.7-6-6-6c-1.6,0-3.1,0.7-4.2,1.8c0.9,0.9,1.8,1.8,2.4,2.4c0.3,0.3,0.1,0.9-0.4,0.9h-7.3       c-0.3,0-0.5-0.2-0.5-0.5v-7.3c0-0.4,0.5-0.7,0.9-0.4c0.5,0.5,1.3,1.3,2.1,2.1c1.9-1.8,4.4-2.9,7.1-2.9c5.5,0,10,4.5,10,10       S31.5,46,26,46z"}),MS.createElement("path",{d:"M45.5,10H33V6c0-2.2-1.8-4-4-4h-6c-2.2,0-4,1.8-4,4v4H6.5C5.7,10,5,10.7,5,11.5v3C5,15.3,5.7,16,6.5,16h39       c0.8,0,1.5-0.7,1.5-1.5v-3C47,10.7,46.3,10,45.5,10z M29,10h-6V7c0-0.6,0.4-1,1-1h4c0.6,0,1,0.4,1,1V10z"}))))}function it(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ot(){if(TA)return DA;TA=1;var e=BA("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch(t){e=!1}return DA=e}function st(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function at(e,t,n,r,i,o){if("string"!=typeof e)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return e;var s=e,a=r||HN,l=o||PN,c="number"==typeof t?{smart_count:t}:t;if(null!=c.smart_count&&e){var u=i||BN,d=IN.call(e,$N),f=function(e,t,n){return e.pluralTypes[t](n)}(u,UN(u,n||"en"),c.smart_count);s=PN.call(d[f]||d[0],/^[^\S]*|[^\S]*$/g,"")}return l.call(s,a,(function(e,t){return FN(c,t)&&null!=c[t]?c[t]:e}))}function lt(e){var t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var n=t.allowMissing?at:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:n,this.warn=t.warn||LN,this.replaceImplementation=t.replace||PN,this.tokenRegex=function(e){var t=e&&e.prefix||"%{",n=e&&e.suffix||"}";if(t===$N||n===$N)throw new RangeError('"||||" token is reserved for pluralization');return new RegExp(st(t)+"(.*?)"+st(n),"g")}(t.interpolation),this.pluralRules=t.pluralRules||BN}function ct(e,t,n){const r=new KN({phrases:t,locale:e}),i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return r.has(e)?r.t(e,t):(console.warn("Missing translation",e),n?i(n,t):e)};return{_e:i,_d:t=>function(e,t,n){const r=n||PT;return t?RT(e).tz(r).locale(t):RT(e).tz(r)}(t,e,n),language:e}}function ut(){if(!WN&&!(WN="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return WN(qN)}function dt(e){throw new Error(e)}function ft(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const t of n)if(t&&"string"==typeof t)for(const[n]of t.matchAll(/\S+/g))e.push(n);return e}function ht(e,t,n,r,i,o){let s=e.getFirstChild();for(;null!==s;){const e=s.__key;s.__parent===t&&(_r(s)&&ht(s,e,n,r,i,o),n.has(e)||o.delete(e),i.push(e)),s=s.getNextSibling()}}function pt(e){PO=e.timeStamp}function mt(e,t,n){const r="BR"===e.nodeName,i=t.__lexicalLineBreak;return i&&(e===i||r&&e.previousSibling===i)||r&&void 0!==Yr(e,n)}function gt(e,t,n){const r=Pi(Ti(n));let i=null,o=null;null!==r&&r.anchorNode===e&&(i=r.anchorOffset,o=r.focusOffset);const s=e.nodeValue;null!==s&&li(t,s,i,o,!1)}function vt(e,t,n){if(On(e)){const t=e.anchor.getNode();if(t.is(n)&&e.format!==t.getFormat())return!1}return Pr(t)&&n.isAttached()}function yt(e,t,n,r){for(let i=e;i&&!Ji(i);i=Ci(i)){const e=Yr(i,t);if(void 0!==e){const t=qr(e,n);if(t)return Cr(t)||!$i(i)?void 0:[i,t]}else if(i===r)return[r,Zr(n)]}}function bt(e,t,n){LO=!0;const r=performance.now()-PO>100;try{yr(e,(()=>{const i=qn()||function(e){return e.getEditorState().read((()=>{const e=qn();return null!==e?e.clone():null}))}(e),o=new Map,s=e.getRootElement(),a=e._editorState,l=e._blockCursorElement;let c=!1,u="";for(let n=0;n<t.length;n++){const d=t[n],f=d.type,h=d.target,p=yt(h,e,a,s);if(!p)continue;const[m,g]=p;if("characterData"===f)r&&En(g)&&Pr(h)&&vt(i,h,g)&&gt(h,g,e);else if("childList"===f){c=!0;const t=d.addedNodes;for(let n=0;n<t.length;n++){const r=t[n],i=Vr(r),o=r.parentNode;if(null!=o&&r!==l&&null===i&&!mt(r,o,e)){if(oO){const e=($i(r)?r.innerText:null)||r.nodeValue;e&&(u+=e)}o.removeChild(r)}}const n=d.removedNodes,r=n.length;if(r>0){let t=0;for(let i=0;i<r;i++){const r=n[i];(mt(r,h,e)||l===r)&&(h.appendChild(r),t++)}r!==t&&o.set(m,g)}}}if(o.size>0)for(const[t,n]of o)n.reconcileObservedMutation(t,e);const d=n.takeRecords();if(d.length>0){for(let t=0;t<d.length;t++){const n=d[t],r=n.addedNodes,i=n.target;for(let t=0;t<r.length;t++){const n=r[t],o=n.parentNode;null==o||"BR"!==n.nodeName||mt(n,i,e)||o.removeChild(n)}}n.takeRecords()}null!==i&&(c&&ei(i),oO&&yi(e)&&i.insertRawText(u))}))}finally{LO=!1}}function _t(e){const t=e._observer;null!==t&&bt(e,t.takeRecords(),t)}function wt(e){!function(e){0===PO&&Ti(e).addEventListener("textInput",pt,!0)}(e),e._observer=new MutationObserver(((t,n)=>{bt(e,t,n)}))}function Ct(e){return e}function xt(e,t){const n=("latest"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"latest")?e.getLatest():e).__state;return n?(Et(e,t,n),n.getValue(t)):t.defaultValue}function Et(e,t,n){{const r=n.sharedConfigMap.get(t.key);void 0!==r&&r!==t&&dt(`$setState: State key collision ${JSON.stringify(t.key)} detected in ${e.constructor.name} node with type ${e.getType()} and key ${e.getKey()}. Only one StateConfig with a given key should be used on a node.`)}}function St(e){if(e)for(const t in e)return e}function kt(e){const t=e.getWritable(),n=t.__state?t.__state.getWritable(t):new $O(t);return t.__state=n,n}function Dt(e,t){const n=e.__mode,r=e.__format,i=e.__style,o=t.__mode,s=t.__format,a=t.__style,l=e.__state,c=t.__state;return(null===n||n===o)&&(null===r||r===s)&&(null===i||i===a)&&(null===e.__state||l===c||function(e,t){if(e===t)return!0;if(e&&t&&e.size!==t.size)return!1;const n=new Set,r=(e,t)=>{for(const[r,i]of e.knownState){if(n.has(r.key))continue;n.add(r.key);const e=t?t.getValue(r):r.defaultValue;if(e!==i&&!r.isEqual(e,i))return!0}return!1},i=(e,t)=>{const{unknownState:r}=e,i=t?t.unknownState:void 0;if(r)for(const[e,t]of Object.entries(r))if(!n.has(e)&&(n.add(e),t!==(i?i[e]:void 0)))return!0;return!1};return!(e&&r(e,t)||t&&r(t,e)||e&&i(e,t)||t&&i(t,e))}(l,c))}function Tt(e,t){const n=e.mergeWithSibling(t),r=sr()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function At(e){let t,n,r=e;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(t=r.getPreviousSibling())&&En(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){if(Dt(t,r)){r=Tt(t,r);break}break}t.remove()}for(;null!==(n=r.getNextSibling())&&En(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if(Dt(r,n)){r=Tt(r,n);break}break}n.remove()}}else r.remove()}function Nt(e){return Ot(e.anchor),Ot(e.focus),e}function Ot(e){for(;"element"===e.type;){const t=e.getNode(),n=e.offset;let r,i;if(n===t.getChildrenSize()?(r=t.getChildAtIndex(n-1),i=!0):(r=t.getChildAtIndex(n),i=!1),En(r)){e.set(r.__key,i?r.getTextContentSize():0,"text",!0);break}if(!_r(r))break;e.set(r.__key,i?r.getChildrenSize():0,"element",!0)}}function jt(e,t){const n=qO.get(e);if(null!==t){const n=qt(e);n.parentNode===t&&t.removeChild(n)}if(VO.has(e)||BO._keyToDOMMap.delete(e),_r(n)){const e=Ut(n,qO);Mt(e,0,e.length-1,null)}void 0!==n&&mi(JO,UO,HO,n,"destroyed")}function Mt(e,t,n,r){let i=t;for(;i<=n;++i){const t=e[i];void 0!==t&&jt(t,r)}}function Rt(e,t){e.setProperty("text-align",t)}function Ft(e,t){const n=zO.theme.indent;if("string"==typeof n){const r=e.classList.contains(n);t>0&&!r?e.classList.add(n):t<1&&r&&e.classList.remove(n)}const r=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||ij;e.style.setProperty("padding-inline-start",0===t?"":`calc(${t} * ${r})`)}function Lt(e,t){const n=e.style;0===t?Rt(n,""):1===t?Rt(n,"left"):2===t?Rt(n,"center"):3===t?Rt(n,"right"):4===t?Rt(n,"justify"):5===t?Rt(n,"start"):6===t&&Rt(n,"end")}function Pt(e,t){const n=VO.get(e);void 0===n&&dt("createNode: node does not exist in nodeMap");const r=n.createDOM(zO,BO);if(function(e,t,n){const r=n._keyToDOMMap;(function(e,t,n){e[`__lexicalKey_${t._key}`]=n})(t,n,e),r.set(e,t)}(e,r,BO),En(n)?r.setAttribute("data-lexical-text","true"):Cr(n)&&r.setAttribute("data-lexical-decorator","true"),_r(n)){const e=n.__indent,t=n.__size;if(0!==e&&Ft(r,e),0!==t){const e=t-1;!function(e,t,n,r){const i=XO;XO="",It(e,n,0,t,n.getDOMSlot(r)),Bt(n,r),XO=i}(Ut(n,VO),e,n,r)}const i=n.__format;0!==i&&Lt(r,i),n.isInline()||zt(null,n,r),_i(n)&&(GO+=xO,ej+=xO)}else{const t=n.getTextContent();if(Cr(n)){const t=n.decorate(BO,zO);null!==t&&Wt(e,t),r.contentEditable="false"}else En(n)&&(n.isDirectionless()||(XO+=t));GO+=t,ej+=t}return null!==t&&t.insertChild(r),Object.freeze(n),mi(JO,UO,HO,n,"created"),r}function It(e,t,n,r,i){const o=GO;GO="";let s=n;for(;s<=r;++s){Pt(e[s],i);const t=VO.get(e[s]);null!==t&&En(t)&&(null===QO&&(QO=t.getFormat()),""===ZO&&(ZO=t.getStyle()))}_i(t)&&(GO+=xO),i.element.__lexicalTextContent=GO,GO=o+GO}function $t(e,t){if(e){const n=e.__last;if(n){const e=t.get(n);if(e)return cn(e)?"line-break":Cr(e)&&e.isInline()?"decorator":null}return"empty"}return null}function zt(e,t,n){const r=$t(e,qO),i=$t(t,VO);r!==i&&t.getDOMSlot(n).setManagedLineBreak(i)}function Bt(e,t){const n=t.__lexicalDirTextContent||"",r=t.__lexicalDir||"";if(n!==XO||r!==rj){const n=""===XO,i=n?rj:function(e){return DO.test(e)?"rtl":TO.test(e)?"ltr":null}(XO);if(i!==r){const o=t.classList,s=zO.theme;let a=null!==r?s[r]:void 0,l=null!==i?s[i]:void 0;if(void 0!==a){if("string"==typeof a){const e=ft(a);a=s[r]=e}o.remove(...a)}if(null===i||n&&"ltr"===i)t.removeAttribute("dir");else{if(void 0!==l){if("string"==typeof l){const e=ft(l);l=s[i]=e}void 0!==l&&o.add(...l)}t.dir=i}nj||(e.getWritable().__dir=i)}rj=i,t.__lexicalDirTextContent=XO,t.__lexicalDir=i}}function Ut(e,t){const n=[];let r=e.__first;for(;null!==r;){const e=t.get(r);void 0===e&&dt("createChildrenArray: node does not exist in nodeMap"),n.push(r),r=e.__next}return n}function Ht(e,t){const n=qO.get(e);let r=VO.get(e);void 0!==n&&void 0!==r||dt("reconcileNode: prevNode or nextNode does not exist in nodeMap");const i=tj||KO.has(e)||WO.has(e),o=wi(BO,e);if(n===r&&!i){if(_r(n)){const e=o.__lexicalTextContent;void 0!==e&&(GO+=e,ej+=e);const t=o.__lexicalDirTextContent;void 0!==t&&(XO+=t)}else{const e=n.getTextContent();En(n)&&!n.isDirectionless()&&(XO+=e),ej+=e,GO+=e}return o}if(n!==r&&i&&mi(JO,UO,HO,r,"updated"),r.updateDOM(n,o,zO)){const n=Pt(e,null);return null===t&&dt("reconcileNode: parentDOM is null"),t.replaceChild(n,o),jt(e,null),n}if(_r(n)&&_r(r)){const e=r.__indent;e!==n.__indent&&Ft(o,e);const t=r.__format;t!==n.__format&&Lt(o,t),i&&(function(e,t,n){const r=XO;var i;XO="",QO=null,ZO="",function(e,t,n){const r=GO,i=e.__size,o=t.__size;GO="";const s=n.element;if(1===i&&1===o){const n=e.__first,r=t.__first;if(n===r)Ht(n,s);else{const e=qt(n),t=Pt(r,null);try{s.replaceChild(t,e)}catch(i){if("object"==typeof i&&null!=i){const o=`${i.toString()} Parent: ${s.tagName}, new child: {tag: ${t.tagName} key: ${r}}, old child: {tag: ${e.tagName}, key: ${n}}.`;throw new Error(o)}throw i}jt(n,null)}const o=VO.get(r);En(o)&&(null===QO&&(QO=o.getFormat()),""===ZO&&(ZO=o.getStyle()))}else{const r=Ut(e,qO),a=Ut(t,VO);if(r.length!==i&&dt("$reconcileChildren: prevChildren.length !== prevChildrenSize"),a.length!==o&&dt("$reconcileChildren: nextChildren.length !== nextChildrenSize"),0===i)0!==o&&It(a,t,0,o-1,n);else if(0===o){if(0!==i){const e=null==n.after&&null==n.before&&null==n.element.__lexicalLineBreak;Mt(r,0,i-1,e?null:s),e&&(s.textContent="")}}else!function(e,t,n,r,i,o){const s=r-1,a=i-1;let l,c,u=o.getFirstChild(),d=0,f=0;for(;d<=s&&f<=a;){const e=t[d],r=n[f];if(e===r)u=Kt(Ht(r,o.element)),d++,f++;else{void 0===l&&(l=new Set(t)),void 0===c&&(c=new Set(n));const i=c.has(e),s=l.has(r);if(i)if(s){const e=wi(BO,r);e===u?u=Kt(Ht(r,o.element)):(o.withBefore(u).insertChild(e),Ht(r,o.element)),d++,f++}else Pt(r,o.withBefore(u)),f++;else u=Kt(qt(e)),jt(e,o.element),d++}const i=VO.get(r);null!==i&&En(i)&&(null===QO&&(QO=i.getFormat()),""===ZO&&(ZO=i.getStyle()))}const h=d>s,p=f>a;if(h&&!p){const t=n[a+1],r=void 0===t?null:BO.getElementByKey(t);It(n,e,f,a,o.withBefore(r))}else p&&!h&&Mt(t,d,s,o.element)}(t,r,a,i,o,n)}_i(t)&&(GO+=xO),s.__lexicalTextContent=GO,GO=r+GO}(e,t,t.getDOMSlot(n)),Bt(t,n),i=t,null==QO||QO===i.__textFormat||nj||i.setTextFormat(QO),function(e){""===ZO||ZO===e.__textStyle||nj||e.setTextStyle(ZO)}(t),XO=r}(n,r,o),xr(r)||r.isInline()||zt(n,r,o)),_i(r)&&(GO+=xO,ej+=xO)}else{const t=r.getTextContent();if(Cr(r)){const t=r.decorate(BO,zO);null!==t&&Wt(e,t)}else En(r)&&!r.isDirectionless()&&(XO+=t);GO+=t,ej+=t}if(!nj&&xr(r)&&r.__cachedText!==ej){const e=r.getWritable();e.__cachedText=ej,r=e}return Object.freeze(r),o}function Wt(e,t){let n=BO._pendingDecorators;const r=BO._decorators;if(null===n){if(r[e]===t)return;n=Gr(BO)}n[e]=t}function Kt(e){let t=e.nextSibling;return null!==t&&t===BO._blockCursorElement&&(t=t.nextSibling),t}function qt(e){const t=YO.get(e);return void 0===t&&dt(`Reconciliation: could not find DOM element for node key ${e}`),t}function Vt(e){return{type:e}}function Yt(e,t,n,r,i){const o=e.anchor,s=e.focus,a=o.getNode(),l=sr(),c=Pi(Ti(l)),u=null!==c?c.anchorNode:null,d=o.key,f=l.getElementByKey(d),h=n.length;return d!==s.key||!En(a)||(!i&&(!sO||eM<r+50)||a.isDirty()&&h<2||ri(n))&&o.offset!==s.offset&&!a.isComposing()||Lr(a)||a.isDirty()&&h>1||(i||!sO)&&null!==f&&!a.isComposing()&&u!==$r(f)||null!==c&&null!==t&&(!t.collapsed||t.startContainer!==c.anchorNode||t.startOffset!==c.anchorOffset)||a.getFormat()!==e.format||a.getStyle()!==e.style||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;const n=e.anchor.offset,r=t.getParentOrThrow(),i=t.isToken();return 0===n?!t.canInsertTextBefore()||!r.canInsertTextBefore()&&!t.isComposing()||i||function(e){const t=e.getPreviousSibling();return(En(t)||_r(t)&&t.isInline())&&!t.canInsertTextAfter()}(t):n===t.getTextContentSize()&&(!t.canInsertTextAfter()||!r.canInsertTextAfter()&&!t.isComposing()||i)}(e,a)}function Jt(e,t){return Pr(e)&&null!==e.nodeValue&&0!==t&&t!==e.nodeValue.length}function Gt(e,t,n){const{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}=e;rM&&(rM=!1,Jt(r,i)&&Jt(o,s)&&!cM)||yr(t,(()=>{if(!n)return void ei(null);if(!jr(t,r,o))return;let a=qn();if(cM&&On(a)&&a.isCollapsed()){const e=a.anchor,t=cM.anchor;(e.key===t.key&&e.offset===t.offset+1||1===e.offset&&t.getNode().is(e.getNode().getPreviousSibling()))&&(a=cM.clone(),ei(a))}if(cM=null,On(a)){const n=a.anchor,r=n.getNode();if(a.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(a.dirty=!0);const i=Ti(t).event,o=i?i.timeStamp:performance.now(),[s,l,c,u,d]=uM,f=Qr(),h=!1===t.isComposing()&&""===f.getTextContent();if(o<d+200&&n.offset===c&&n.key===u)Xt(a,s,l);else if("text"===n.type)En(r)||dt("Point.getNode() must return TextNode when type is text"),Qt(a,r);else if("element"===n.type&&!h){_r(r)||dt("Point.getNode() must return ElementNode when type is element");const e=n.getNode();e.isEmpty()?function(e,t){Xt(e,t.getTextFormat(),t.getTextStyle())}(a,e):Xt(a,0,"")}}else{const e=n.key,t=a.focus.key,r=a.getNodes(),o=r.length,l=a.isBackward(),c=l?s:i,u=l?i:s,d=l?t:e,f=l?e:t;let h=2047,p=!1;for(let e=0;e<o;e++){const t=r[e],n=t.getTextContentSize();if(En(t)&&0!==n&&!(0===e&&t.__key===d&&c===n||e===o-1&&t.__key===f&&0===u)&&(p=!0,h&=t.getFormat(),0===h))break}a.format=p?h:0}}bi(t,oj,void 0)}))}function Xt(e,t,n){e.format===t&&e.style===n||(e.format=t,e.style=n,e.dirty=!0)}function Qt(e,t){Xt(e,t.getFormat(),t.getStyle())}function Zt(e){if(!e.getTargetRanges)return null;const t=e.getTargetRanges();return 0===t.length?null:t[0]}function en(e,t){const n=e._compositionKey;if(Wr(null),null!==n&&null!=t){if(""===t){const t=qr(n),r=$r(e.getElementByKey(n));return void(null!==r&&null!==r.nodeValue&&En(t)&&li(t,r.nodeValue,null,null,!0))}if("\n"===t[t.length-1]){const t=qn();if(On(t)){const n=t.focus;return t.anchor.set(n.key,n.offset,n.type),void bi(e,kj,null)}}}ai(!0,e,t)}function tn(e){let t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}function nn(e){const t=Ii(e.target);if(null===t)return;const n=Rr(t.anchorNode);if(null===n)return;iM&&(iM=!1,yr(n,(()=>{const r=Vn(),i=t.anchorNode;($i(i)||Pr(i))&&ei(Wn(r,t,n,e))})));const r=ii(n),i=r[r.length-1],o=i._key,s=dM.get(o),a=s||i;a!==n&&Gt(t,a,!1),Gt(t,n,!0),n!==i?dM.set(o,n):s&&dM.delete(o)}function rn(e){e._lexicalHandled=!0}function on(e){return!0===e._lexicalHandled}function sn(e,t,n){rr();const r=e.__key,i=e.getParent();if(null===i)return;const o=function(e){const t=qn();if(!On(t)||!_r(e))return t;const{anchor:n,focus:r}=t,i=n.getNode(),o=r.getNode();return ki(i,e)&&n.set(e.__key,0,"element"),ki(o,e)&&r.set(e.__key,0,"element"),t}(e);let s=!1;if(On(o)&&t){const t=o.anchor,n=o.focus;t.key===r&&(Gn(t,e,i,e.getPreviousSibling(),e.getNextSibling()),s=!0),n.key===r&&(Gn(n,e,i,e.getPreviousSibling(),e.getNextSibling()),s=!0)}else jn(o)&&t&&e.isSelected()&&e.selectPrevious();if(On(o)&&t&&!s){const t=e.getIndexWithinParent();Ur(e),Yn(o,i,t,-1)}else Ur(e);n||Ni(i)||i.canBeEmpty()||!i.isEmpty()||sn(i,t),t&&o&&xr(i)&&i.isEmpty()&&i.selectEnd()}function an(){return{node:ln()}}function ln(){return ji(new pM)}function cn(e){return e instanceof pM}function un(e){return Pr(e)&&/^( |\t|\r?\n)+$/.test(e.textContent||"")}function dn(e,t){return 16&t?"code":128&t?"mark":32&t?"sub":64&t?"sup":null}function fn(e,t){return 1&t?"strong":2&t?"em":"span"}function hn(e,t,n,r,i){const o=r.classList;let s=pi(i,"base");void 0!==s&&o.add(...s),s=pi(i,"underlineStrikethrough");let a=!1;const l=8&t&&4&t;void 0!==s&&(8&n&&4&n?(a=!0,l||o.add(...s)):l&&o.remove(...s));for(const e in AO){const r=AO[e];if(s=pi(i,e),void 0!==s)if(n&r){if(a&&("underline"===e||"strikethrough"===e)){t&r&&o.remove(...s);continue}(0==(t&r)||l&&"underline"===e||"strikethrough"===e)&&o.add(...s)}else t&r&&o.remove(...s)}}function pn(e,t,n){const r=t.firstChild,i=n.isComposing(),o=e+(i?CO:"");if(null==r)t.textContent=o;else{const e=r.nodeValue;if(e!==o)if(i||oO){const[t,n,i]=function(e,t){const n=e.length,r=t.length;let i=0,o=0;for(;i<n&&i<r&&e[i]===t[i];)i++;for(;o+i<n&&o+i<r&&e[n-o-1]===t[r-o-1];)o++;return[i,n-i-o,t.slice(i,r-o)]}(e,o);0!==n&&r.deleteData(t,n),r.insertData(t,i)}else r.nodeValue=o}}function mn(e,t,n,r,i,o){pn(i,e,t);const s=o.theme.text;void 0!==s&&hn(0,0,r,e,s)}function gn(e,t){const n=document.createElement(t);return n.appendChild(e),n}function vn(e){return{forChild:Sn(e.style),node:null}}function yn(e){const t=e,n="normal"===t.style.fontWeight;return{forChild:Sn(t.style,n?void 0:"bold"),node:null}}function bn(e){if(!$i(e))return!1;if("PRE"===e.nodeName)return!0;const t=e.style.whiteSpace;return"string"==typeof t&&t.startsWith("pre")}function _n(e){const t=e;null===e.parentElement&&dt("Expected parentElement of Text not to be null");let n=t.textContent||"";if(null!==function(e){let t,n=e.parentNode;const r=[e];for(;null!==n&&void 0===(t=gM.get(n))&&!bn(n);)r.push(n),n=n.parentNode;const i=void 0===t?n:t;for(let e=0;e<r.length;e++)gM.set(r[e],i);return i}(t)){const e=n.split(/(\r?\n|\t)/),t=[],r=e.length;for(let n=0;n<r;n++){const r=e[n];"\n"===r||"\r\n"===r?t.push(ln()):"\t"===r?t.push(kn()):""!==r&&t.push(xn(r))}return{node:t}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),""===n)return{node:null};if(" "===n[0]){let e=t,r=!0;for(;null!==e&&null!==(e=wn(e,!1));){const t=e.textContent||"";if(t.length>0){/[ \t\n]$/.test(t)&&(n=n.slice(1)),r=!1;break}}r&&(n=n.slice(1))}if(" "===n[n.length-1]){let e=t,r=!0;for(;null!==e&&null!==(e=wn(e,!0));)if((e.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){r=!1;break}r&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:xn(n)}}function wn(e,t){let n=e;for(;;){let e;for(;null===(e=t?n.nextSibling:n.previousSibling);){const e=n.parentElement;if(null===e)return null;n=e}if(n=e,$i(n)){const e=n.style.display;if(""===e&&!Ui(n)||""!==e&&!e.startsWith("inline"))return null}let r=n;for(;null!==(r=t?n.firstChild:n.lastChild);)n=r;if(Pr(n))return n;if("BR"===n.nodeName)return null}}function Cn(e){const t=vM[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:Sn(e.style,t),node:null}}function xn(){return ji(new mM(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""))}function En(e){return e instanceof mM}function Sn(e,t){const n=e.fontWeight,r=e.textDecoration.split(" "),i="700"===n||"bold"===n,o=r.includes("line-through"),s="italic"===e.fontStyle,a=r.includes("underline"),l=e.verticalAlign;return e=>En(e)?(i&&!e.hasFormat("bold")&&e.toggleFormat("bold"),o&&!e.hasFormat("strikethrough")&&e.toggleFormat("strikethrough"),s&&!e.hasFormat("italic")&&e.toggleFormat("italic"),a&&!e.hasFormat("underline")&&e.toggleFormat("underline"),"sub"!==l||e.hasFormat("subscript")||e.toggleFormat("subscript"),"super"!==l||e.hasFormat("superscript")||e.toggleFormat("superscript"),t&&!e.hasFormat(t)&&e.toggleFormat(t),e):e}function kn(){return ji(new yM)}function Dn(e){return e instanceof yM}function Tn(e,t,n){return new bM(e,t,n)}function An(e,t){let n=t.__key,r=e.offset,i="element";if(En(t)){i="text";const e=t.getTextContentSize();r>e&&(r=e)}else if(!_r(t)){const e=t.getNextSibling();if(En(e))n=e.__key,r=0,i="text";else{const e=t.getParent();e&&(n=e.__key,r=t.getIndexWithinParent()+1)}}e.set(n,r,i)}function Nn(e,t){if(_r(t)){const n=t.getLastDescendant();_r(n)||En(n)?An(e,n):An(e,t)}else An(e,t)}function On(e){return e instanceof wM}function jn(e){return e instanceof _M}function Mn(e){const t=e.offset;if("text"===e.type)return t;const n=e.getNode();return t===n.getChildrenSize()?n.getTextContent().length:0}function Rn(e){const t=e.getStartEndPoints();if(null===t)return[0,0];const[n,r]=t;return"element"===n.type&&"element"===r.type&&n.key===r.key&&n.offset===r.offset?[0,0]:[Mn(n),Mn(r)]}function Fn(e,t){for(let n=t;n;n=n.getParent()){if(_r(n)){if(n.collapseAtStart(e))return!0;if(Ni(n))break}if(n.getPreviousSibling())break}return!1}function Ln(e,t,n){const r=e,i=r.getTextContent().split(/(?=\s)/g),o=i.length;let s=0,a=0;for(let e=0;e<o;e++){const r=e===o-1;if(a=s,s+=i[e].length,t&&s===n||s>n||r){i.splice(e,1),r&&(a=void 0);break}}const l=i.join("").trim();""===l?r.remove():(r.setTextContent(l),r.select(a,a))}function Pn(e,t,n,r){let i,o=t;if($i(e)){let s=!1;const a=e.childNodes,l=a.length,c=r._blockCursorElement;o===l&&(s=!0,o=l-1);let u=a[o],d=!1;if(u===c)u=a[o+1],d=!0;else if(null!==c){const n=c.parentNode;e===n&&t>Array.prototype.indexOf.call(n.children,c)&&o--}if(i=ti(u),En(i))o=ni(i,s);else{let a=ti(e);if(null===a)return null;if(_r(a)){const l=r.getElementByKey(a.getKey());null===l&&dt("$internalResolveSelectionPoint: node in DOM but not keyToDOMMap");const c=a.getDOMSlot(l);[a,o]=c.resolveChildIndex(a,l,e,t),_r(a)||dt("$internalResolveSelectionPoint: resolvedElement is not an ElementNode"),s&&o>=a.getChildrenSize()&&(o=Math.max(0,a.getChildrenSize()-1));let u=a.getChildAtIndex(o);if(_r(u)&&function(e,t,n){const r=e.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode()}(u,0,n)){const e=s?u.getLastDescendant():u.getFirstDescendant();null===e?a=u:(u=e,a=_r(u)?u:u.getParentOrThrow()),o=0}En(u)?(i=u,a=null,o=ni(u,s)):u!==a&&s&&!d&&(_r(a)||dt("invariant"),o=Math.min(a.getChildrenSize(),o+1))}else{const n=a.getIndexWithinParent();o=0===t&&Cr(a)&&ti(e)===a?n:n+1,a=a.getParentOrThrow()}if(_r(a))return Tn(a.__key,o,"element")}}else i=ti(e);return En(i)?Tn(i.__key,o,"text"):null}function In(e,t,n){const r=e.offset,i=e.getNode();if(0===r){const r=i.getPreviousSibling(),o=i.getParent();if(t){if((n||!t)&&null===r&&_r(o)&&o.isInline()){const t=o.getPreviousSibling();En(t)&&e.set(t.__key,t.getTextContent().length,"text")}}else _r(r)&&!n&&r.isInline()?e.set(r.__key,r.getChildrenSize(),"element"):En(r)&&e.set(r.__key,r.getTextContent().length,"text")}else if(r===i.getTextContent().length){const r=i.getNextSibling(),o=i.getParent();if(t&&_r(r)&&r.isInline())e.set(r.__key,0,"element");else if((n||t)&&null===r&&_r(o)&&o.isInline()&&!o.canInsertTextAfter()){const t=o.getNextSibling();En(t)&&e.set(t.__key,0,"text")}}}function $n(e,t,n){if("text"===e.type&&"text"===t.type){const r=e.isBefore(t),i=e.is(t);In(e,r,i),In(t,!r,i),i&&t.set(e.key,e.offset,e.type);const o=sr();if(o.isComposing()&&o._compositionKey!==e.key&&On(n)){const r=n.anchor,i=n.focus;e.set(r.key,r.offset,r.type,!0),t.set(i.key,i.offset,i.type,!0)}}}function zn(e,t,n,r,i,o){if(null===e||null===n||!jr(i,e,n))return null;const s=Pn(e,t,On(o)?o.anchor:null,i);if(null===s)return null;const a=Pn(n,r,On(o)?o.focus:null,i);if(null===a)return null;if(Kn(i,"anchor",s),Kn(i,"focus",s),"element"===s.type&&"element"===a.type){const t=ti(e),r=ti(n);if(Cr(t)&&Cr(r))return null}return $n(s,a,o),[s,a]}function Bn(e,t,n,r,i,o){const s=or(),a=new wM(Tn(e,t,i),Tn(n,r,o),0,"");return a.dirty=!0,s._selection=a,a}function Un(){const e=Tn("root",0,"element"),t=Tn("root",0,"element");return new wM(e,t,0,"")}function Hn(){return new _M(new Set)}function Wn(e,t,n,r){const i=n._window;if(null===i)return null;const o=r||i.event,s=o?o.type:void 0,a="selectionchange"===s,l=!LO&&(a||"beforeinput"===s||"compositionstart"===s||"compositionend"===s||"click"===s&&o&&3===o.detail||"drop"===s||void 0===s);let c,u,d,f;if(On(e)&&!l)return e.clone();if(null===t)return null;if(c=t.anchorNode,u=t.focusNode,d=t.anchorOffset,f=t.focusOffset,a&&On(e)&&!jr(n,c,u))return e.clone();const h=zn(c,d,u,f,n,e);if(null===h)return null;const[p,m]=h;return new wM(p,m,On(e)?e.format:0,On(e)?e.style:"")}function Kn(e,t,n){const r=qr(n.key);if(void 0===r&&dt(`$validatePoint: ${t} key ${n.key} not found in current editorState`),"text"===n.type){En(r)||dt(`$validatePoint: ${t} key ${n.key} is not a TextNode`);const e=r.getTextContentSize();n.offset<=e||dt(`$validatePoint: ${t} point.offset > node.getTextContentSize() (${String(n.offset)} > ${String(e)})`)}else{_r(r)||dt(`$validatePoint: ${t} key ${n.key} is not an ElementNode`);const e=r.getChildrenSize()
;n.offset<=e||dt(`$validatePoint: ${t} point.offset > node.getChildrenSize() (${String(n.offset)} > ${String(e)})`)}}function qn(){return or()._selection}function Vn(){return sr()._editorState._selection}function Yn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const i=e.anchor,o=e.focus,s=i.getNode(),a=o.getNode();if(!t.is(s)&&!t.is(a))return;const l=t.__key;if(e.isCollapsed()){const t=i.offset;if(n<=t&&r>0||n<t&&r<0){const n=Math.max(0,t+r);i.set(l,n,"element"),o.set(l,n,"element"),Jn(e)}}else{const s=e.isBackward(),a=s?o:i,c=a.getNode(),u=s?i:o,d=u.getNode();if(t.is(c)){const e=a.offset;(n<=e&&r>0||n<e&&r<0)&&a.set(l,Math.max(0,e+r),"element")}if(t.is(d)){const e=u.offset;(n<=e&&r>0||n<e&&r<0)&&u.set(l,Math.max(0,e+r),"element")}}Jn(e)}function Jn(e){const t=e.anchor,n=t.offset,r=e.focus,i=r.offset,o=t.getNode(),s=r.getNode();if(e.isCollapsed()){if(!_r(o))return;const e=o.getChildrenSize(),i=n>=e,s=i?o.getChildAtIndex(e-1):o.getChildAtIndex(n);if(En(s)){let e=0;i&&(e=s.getTextContentSize()),t.set(s.__key,e,"text"),r.set(s.__key,e,"text")}}else{if(_r(o)){const e=o.getChildrenSize(),r=n>=e,i=r?o.getChildAtIndex(e-1):o.getChildAtIndex(n);if(En(i)){let e=0;r&&(e=i.getTextContentSize()),t.set(i.__key,e,"text")}}if(_r(s)){const e=s.getChildrenSize(),t=i>=e,n=t?s.getChildAtIndex(e-1):s.getChildAtIndex(i);if(En(n)){let e=0;t&&(e=n.getTextContentSize()),r.set(n.__key,e,"text")}}}}function Gn(e,t,n,r,i){let o=null,s=0,a=null;null!==r?(o=r.__key,En(r)?(s=r.getTextContentSize(),a="text"):_r(r)&&(s=r.getChildrenSize(),a="element")):null!==i&&(o=i.__key,En(i)?a="text":_r(i)&&(a="element")),null!==o&&null!==a?e.set(o,s,a):(s=t.getIndexWithinParent(),-1===s&&(s=n.getChildrenSize()),e.set(n.__key,s,"element"))}function Xn(e,t,n,r,i){"text"===e.type?e.set(n,e.offset+(t?0:i),"text"):e.offset>r.getIndexWithinParent()&&e.set(e.key,e.offset-1,"element")}function Qn(e,t,n,r,i){try{e.setBaseAndExtent(t,n,r,i)}catch(e){console.warn(e)}}function Zn(e){let t=e;e.isCollapsed()||t.removeText();const n=qn();On(n)&&(t=n),On(t)||dt("Unexpected dirty selection to be null");const r=t.anchor;let i=r.getNode(),o=r.offset;for(;!Wi(i);){const e=i;if([i,o]=er(i,o),e.is(i))break}return o}function er(e,t){const n=e.getParent();if(!n){const e=Tr();return Qr().append(e),e.select(),[Qr(),0]}if(En(e)){const r=e.splitText(t);if(0===r.length)return[n,e.getIndexWithinParent()];const i=0===t?0:1;return[n,r[0].getIndexWithinParent()+i]}if(!_r(e)||0===t)return[n,e.getIndexWithinParent()];const r=e.getChildAtIndex(t);if(r){const n=new wM(Tn(e.__key,t,"element"),Tn(e.__key,t,"element"),0,""),i=e.insertNewAfter(n);i&&i.append(r,...r.getNextSiblings())}return[n,e.getIndexWithinParent()+1]}function tr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"decorators-and-blocks";if("move"===t&&"character"===r&&!e.isCollapsed()){const[t,r]=n===e.isBackward()?[e.focus,e.anchor]:[e.anchor,e.focus];return r.set(t.key,t.offset,t.type),!0}const o=yo(e.focus,n?"previous":"next"),s="lineboundary"===r,a="move"===t;let l=o,c="decorators-and-blocks"===i;if(!To(l)){for(const e of l){c=!1;const{origin:t}=e;if(!Cr(t)||t.isIsolated()||(l=e,!s||!t.isInline()))break}if(c)for(const e of lo(o).iterNodeCarets("extend"===t?"shadowRoot":"root")){if(eo(e))e.origin.isInline()||(l=e);else{if(_r(e.origin))continue;Cr(e.origin)&&!e.origin.isInline()&&(l=e)}break}}if(l===o)return!1;if(a&&!s&&Cr(l.origin)&&l.origin.isKeyboardSelectable()){const e=Hn();return e.add(l.origin.getKey()),ei(e),!0}return l=Do(l),a&&bo(e.anchor,l),bo(e.focus,l),c||!s}function nr(){return SM||null!==xM&&xM._readOnly}function rr(){SM&&dt("Cannot use method in read-only mode.")}function ir(){DM>99&&dt("One or more transforms are endlessly triggering additional transforms. May have encountered infinite recursion caused by transforms that have their preconditions too lose and/or conflict with each other.")}function or(){return null===xM&&dt(`Unable to find an active editor state. State helpers or node methods can only be used synchronously during the callback of editor.update(), editor.read(), or editorState.read().${ar()}`),xM}function sr(){return null===EM&&dt(`Unable to find an active editor. This method can only be used synchronously during the callback of editor.update() or editor.read().${ar()}`),EM}function ar(){let e=0;const t=new Set,n=zM.version;if("undefined"!=typeof window)for(const r of document.querySelectorAll("[contenteditable]")){const i=Fr(r);if(Mr(i))e++;else if(i){let e=String(i.constructor.version||"<0.17.1");e===n&&(e+=" (separately built, likely a bundler configuration issue)"),t.add(e)}}let r=` Detected on the page: ${e} compatible editor(s) with version ${n}`;return t.size&&(r+=` and incompatible editors with versions ${Array.from(t).join(", ")}`),r}function lr(e,t,n){const r=t.__type,i=function(e,t){const n=e._nodes.get(t);return void 0===n&&dt(`registeredNode: Type ${t} not found`),n}(e,r);let o=n.get(r);void 0===o&&(o=Array.from(i.transforms),n.set(r,o));const s=o.length;for(let e=0;e<s&&(o[e](t),t.isAttached());e++);}function cr(e,t){return void 0!==e&&e.__key!==t&&e.isAttached()}function ur(e,t){if(!t)return;const n=e._updateTags;let r=t;Array.isArray(t)||(r=[t]);for(const e of r)n.add(e)}function dr(e,t){const n=e.type,r=t.get(n);void 0===r&&dt(`parseEditorState: type "${n}" + not found`);const i=r.klass;e.type!==i.getType()&&dt(`LexicalNode: Node ${i.name} does not implement .importJSON().`);const o=i.importJSON(e),s=e.children;if(_r(o)&&Array.isArray(s))for(let e=0;e<s.length;e++){const n=dr(s[e],t);o.append(n)}return o}function fr(e,t,n){const r=xM,i=SM,o=EM;xM=t,SM=!0,EM=e;try{return n()}finally{xM=r,SM=i,EM=o}}function hr(e){const t=e._nodeMap;t.set=()=>{throw new Error("Cannot call set() on a frozen Lexical node map")},t.clear=()=>{throw new Error("Cannot call clear() on a frozen Lexical node map")},t.delete=()=>{throw new Error("Cannot call delete() on a frozen Lexical node map")}}function pr(e,t){const n=e._pendingEditorState,r=e._rootElement,i=e._headless||null===r;if(null===n)return;const o=e._editorState,s=o._selection,a=n._selection,l=0!==e._dirtyType,c=xM,u=SM,d=EM,f=e._updating,h=e._observer;let p=null;if(e._pendingEditorState=null,e._editorState=n,!i&&l&&null!==h){EM=e,xM=n,SM=!1,e._updating=!0;try{const t=e._dirtyType,r=e._dirtyElements,i=e._dirtyLeaves;h.disconnect(),p=function(e,t,n,r,i,o){GO="",ej="",XO="",tj=2===r,rj=null,BO=n,zO=n._config,UO=n._nodes,HO=BO._listeners.mutation,WO=i,KO=o,qO=e._nodeMap,VO=t._nodeMap,nj=t._readOnly,YO=new Map(n._keyToDOMMap);const s=new Map;return JO=s,Ht("root",null),BO=void 0,UO=void 0,WO=void 0,KO=void 0,qO=void 0,VO=void 0,zO=void 0,YO=void 0,JO=void 0,s}(o,n,e,t,r,i)}catch(t){if(t instanceof Error&&e._onError(t),kM)throw t;return Ar(e,null,r,n),wt(e),e._dirtyType=2,kM=!0,pr(e,o),void(kM=!1)}finally{h.observe(r,TM),e._updating=f,xM=c,SM=u,EM=d}}n._readOnly||(n._readOnly=!0,hr(n),On(a)&&(Object.freeze(a.anchor),Object.freeze(a.focus)),Object.freeze(a));const m=e._dirtyLeaves,g=e._dirtyElements,v=e._normalizedNodes,y=e._updateTags,b=e._deferred;l&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(e,t){const n=e._decorators;let r=e._pendingDecorators||n;const i=t._nodeMap;let o;for(o in r)i.has(o)||(r===n&&(r=Gr(e)),delete r[o])}(e,n);const _=i?null:Pi(Ti(e));if(e._editable&&null!==_&&(l||null===a||a.dirty)&&null!==r&&!y.has(PM)){EM=e,xM=n;try{if(null!==h&&h.disconnect(),l||null===a||a.dirty){const t=e._blockCursorElement;null!==t&&Li(t,e,r),function(e,t,n,r,i,o){const s=r.anchorNode,a=r.focusNode,l=r.anchorOffset,c=r.focusOffset,u=document.activeElement;if(i.has(FM)&&u!==o||null!==u&&Or(u))return;if(!On(t))return void(null!==e&&jr(n,s,a)&&r.removeAllRanges());const d=t.anchor,f=t.focus,h=d.key,p=f.key,m=wi(n,h),g=wi(n,p),v=d.offset,y=f.offset,b=t.format,_=t.style,w=t.isCollapsed();let C=m,x=g,E=!1;if("text"===d.type){C=$r(m);const e=d.getNode();E=e.getFormat()!==b||e.getStyle()!==_}else On(e)&&"text"===e.anchor.type&&(E=!0);if("text"===f.type&&(x=$r(g)),null!==C&&null!==x&&(w&&(null===e||E||On(e)&&(e.format!==b||e.style!==_))&&function(e,t,n,r,i){uM=[e,t,n,r,i]}(b,_,v,h,performance.now()),l!==v||c!==y||s!==C||a!==x||"Range"===r.type&&w||(null!==u&&o.contains(u)||o.focus({preventScroll:!0}),"element"===d.type))){if(Qn(r,C,v,x,y),!i.has(LM)&&t.isCollapsed()&&null!==o&&o===document.activeElement){const e=On(t)&&"element"===t.anchor.type?C.childNodes[v]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==e){let t;if(e instanceof Text){const n=document.createRange();n.selectNode(e),t=n.getBoundingClientRect()}else t=e.getBoundingClientRect();!function(e,t,n){const r=xi(n),i=Di(r);if(null===r||null===i)return;let{top:o,bottom:s}=t,a=0,l=0,c=n;for(;null!==c;){const t=c===r.body;if(t)a=0,l=Ti(e).innerHeight;else{const e=c.getBoundingClientRect();a=e.top,l=e.bottom}let n=0;if(o<a?n=-(a-o):s>l&&(n=s-l),0!==n)if(t)i.scrollBy(0,n);else{const e=c.scrollTop;c.scrollTop+=n;const t=c.scrollTop-e;o-=t,s-=t}if(t)break;c=Ci(c)}}(n,t,o)}}rM=!0}}(s,a,e,_,y,r)}!function(e,t,n){let r=e._blockCursorElement;if(On(n)&&n.isCollapsed()&&"element"===n.anchor.type&&t.contains(document.activeElement)){const i=n.anchor,o=i.getNode(),s=i.offset;let a=!1,l=null;if(s===o.getChildrenSize())Fi(o.getChildAtIndex(s-1))&&(a=!0);else{const t=o.getChildAtIndex(s);if(null!==t&&Fi(t)){const n=t.getPreviousSibling();(null===n||Fi(n))&&(a=!0,l=e.getElementByKey(t.__key))}}if(a){const n=e.getElementByKey(o.__key);return null===r&&(e._blockCursorElement=r=function(e){const t=e.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");let r=t.blockCursor;if(void 0!==r){if("string"==typeof r){const e=ft(r);r=t.blockCursor=e}void 0!==r&&n.classList.add(...r)}return n}(e._config)),t.style.caretColor="transparent",void(null===l?n.appendChild(r):n.insertBefore(r,l))}}null!==r&&Li(r,e,t)}(e,r,a)}finally{null!==h&&h.observe(r,TM),EM=d,xM=c}}null!==p&&function(e,t,n,r,i){const o=Array.from(e._listeners.mutation),s=o.length;for(let e=0;e<s;e++){const[s,a]=o[e],l=t.get(a);void 0!==l&&s(l,{dirtyLeaves:r,prevEditorState:i,updateTags:n})}}(e,p,y,m,o),On(a)||null===a||null!==s&&s.is(a)||e.dispatchCommand(oj,void 0);const w=e._pendingDecorators;null!==w&&(e._decorators=w,e._pendingDecorators=null,mr("decorator",e,!0,w)),function(e,t,n){const r=Xr(t),i=Xr(n);r!==i&&mr("textcontent",e,!0,i)}(e,t||o,n),mr("update",e,!0,{dirtyElements:g,dirtyLeaves:m,editorState:n,mutatedNodes:p,normalizedNodes:v,prevEditorState:t||o,tags:y}),function(e,t){if(e._deferred=[],0!==t.length){const n=e._updating;e._updating=!0;try{for(let e=0;e<t.length;e++)t[e]()}finally{e._updating=n}}}(e,b),function(e){const t=e._updates;if(0!==t.length){const n=t.shift();if(n){const[t,r]=n;vr(e,t,r)}}}(e)}function mr(e,t,n){const r=t._updating;t._updating=n;try{const n=Array.from(t._listeners[e]);for(var i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];for(let e=0;e<n.length;e++)n[e].apply(null,o)}finally{t._updating=r}}function gr(e,t){const n=e._updates;let r=t||!1;for(;0!==n.length;){const t=n.shift();if(t){const[n,i]=t;let o;if(void 0!==i){if(o=i.onUpdate,i.skipTransforms&&(r=!0),i.discrete){const t=e._pendingEditorState;null===t&&dt("Unexpected empty pending editor state on discrete nested update"),t._flushSync=!0}o&&e._deferred.push(o),ur(e,i.tag)}n()}}return r}function vr(e,t,n){const r=e._updateTags;let i,o=!1,s=!1;void 0!==n&&(i=n.onUpdate,ur(e,n.tag),o=n.skipTransforms||!1,s=n.discrete||!1),i&&e._deferred.push(i);const a=e._editorState;let l=e._pendingEditorState,c=!1;(null===l||l._readOnly)&&(l=e._pendingEditorState=Er(l||a),c=!0),l._flushSync=s;const u=xM,d=SM,f=EM,h=e._updating;xM=l,SM=!1,e._updating=!0,EM=e;const p=e._headless||null===e.getRootElement();try{c&&(p?null!==a._selection&&(l._selection=a._selection.clone()):l._selection=function(e,t){const n=e.getEditorState()._selection,r=Pi(Ti(e));return On(n)||null==n?Wn(n,r,e,t):n.clone()}(e,n&&n.event||null));const r=e._compositionKey;t(),o=gr(e,o),function(e,t){const n=t.getEditorState()._selection,r=e._selection;if(On(r)){const e=r.anchor,t=r.focus;let i;if("text"===e.type&&(i=e.getNode(),i.selectionTransform(n,r)),"text"===t.type){const e=t.getNode();i!==e&&e.selectionTransform(n,r)}}}(l,e),0!==e._dirtyType&&(o?function(e,t){const n=t._dirtyLeaves,r=e._nodeMap;for(const e of n){const t=r.get(e);En(t)&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&At(t)}}(l,e):function(e,t){const n=t._dirtyLeaves,r=t._dirtyElements,i=e._nodeMap,o=Kr(),s=new Map;let a=n,l=a.size,c=r,u=c.size;for(;l>0||u>0;){if(l>0){t._dirtyLeaves=new Set;for(const e of a){const r=i.get(e);En(r)&&r.isAttached()&&r.isSimpleText()&&!r.isUnmergeable()&&At(r),void 0!==r&&cr(r,o)&&lr(t,r,s),n.add(e)}if(a=t._dirtyLeaves,l=a.size,l>0){DM++;continue}}t._dirtyLeaves=new Set,t._dirtyElements=new Map,c.delete("root")&&c.set("root",!0);for(const e of c){const n=e[0],a=e[1];if(r.set(n,a),!a)continue;const l=i.get(n);void 0!==l&&cr(l,o)&&lr(t,l,s)}a=t._dirtyLeaves,l=a.size,c=t._dirtyElements,u=c.size,DM++}t._dirtyLeaves=n,t._dirtyElements=r}(l,e),gr(e),function(e,t,n,r){const i=e._nodeMap,o=t._nodeMap,s=[];for(const[e]of r){const t=o.get(e);void 0!==t&&(t.isAttached()||(_r(t)&&ht(t,e,i,o,s,r),i.has(e)||r.delete(e),s.push(e)))}for(const e of s)o.delete(e);for(const e of n){const t=o.get(e);void 0===t||t.isAttached()||(i.has(e)||n.delete(e),o.delete(e))}}(a,l,e._dirtyLeaves,e._dirtyElements)),r!==e._compositionKey&&(l._flushSync=!0);const i=l._selection;if(On(i)){const e=l._nodeMap,t=i.anchor.key,n=i.focus.key;void 0!==e.get(t)&&void 0!==e.get(n)||dt("updateEditor: selection has been lost because the previously selected nodes have been removed and selection wasn't moved to another node. Ensure selection changes after removing/replacing a selected node.")}else jn(i)&&0===i._nodes.size&&(l._selection=null)}catch(t){return t instanceof Error&&e._onError(t),e._pendingEditorState=a,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void pr(e)}finally{xM=u,SM=d,EM=f,e._updating=h,DM=0}const m=0!==e._dirtyType||e._deferred.length>0||function(e,t){const n=t.getEditorState()._selection,r=e._selection;if(null!==r){if(r.dirty||!r.is(n))return!0}else if(null!==n)return!0;return!1}(l,e);m?l._flushSync?(l._flushSync=!1,pr(e)):c&&UM((()=>{pr(e)})):(l._flushSync=!1,c&&(r.clear(),e._deferred=[],e._pendingEditorState=null))}function yr(e,t,n){EM===e&&void 0===n?t():vr(e,t,n)}function br(e,t){const n=[];let r=t;for(;r!==e&&null!==r;r=r.parentNode){let e=0;for(let t=r.previousSibling;null!==t;t=t.previousSibling)e++;n.push(e)}return r!==e&&dt("indexPath: root is not a parent of child"),n.reverse()}function _r(e){return e instanceof NM}function wr(e,t,n){let r=e.getNode();for(;r;){const e=r.__key;if(t.has(e)&&!n.has(e))return!0;r=r.getParent()}return!1}function Cr(e){return e instanceof OM}function xr(e){return e instanceof jM}function Er(e){return new MM(new Map(e._nodeMap))}function Sr(){return new MM(new Map([["root",new jM]]))}function kr(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&dt(`LexicalNode: Node ${n.name} does not match the serialized type. Check if .exportJSON() is implemented and it is returning the correct type.`),_r(e)){const r=t.children;Array.isArray(r)||dt(`LexicalNode: Node ${n.name} is an element but .exportJSON() does not have a children array.`);const i=e.getChildren();for(let e=0;e<i.length;e++){const t=kr(i[e]);r.push(t)}}return t}function Dr(e){const t=Tr();return e.style&&(t.setFormat(e.style.textAlign),Yi(e,t)),{node:t}}function Tr(){return ji(new $M)}function Ar(e,t,n,r){const i=e._keyToDOMMap;i.clear(),e._editorState=Sr(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;const o=e._observer;null!==o&&(o.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",i.set("root",n))}function Nr(e){return Cr(Jr(e))}function Or(e){const t=document.activeElement;if(!$i(t))return!1;const n=t.nodeName;return Cr(Jr(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==Fr(t))}function jr(e,t,n){const r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&!Or(t)&&Rr(t)===e}catch(e){return!1}}function Mr(e){return e instanceof zM}function Rr(e){let t=e;for(;null!=t;){const e=Fr(t);if(Mr(e))return e;t=Ci(t)}return null}function Fr(e){return e?e.__lexicalEditor:null}function Lr(e){return e.isToken()||e.isSegmented()}function Pr(e){return zi(e)&&3===e.nodeType}function Ir(e){return zi(e)&&9===e.nodeType}function $r(e){let t=e;for(;null!=t;){if(Pr(t))return t;t=t.firstChild}return null}function zr(e,t,n){const r=AO[t];if(null!==n&&(e&r)==(n&r))return e;let i=e^r;return"subscript"===t?i&=~AO.superscript:"superscript"===t?i&=~AO.subscript:"lowercase"===t?(i&=~AO.uppercase,i&=~AO.capitalize):"uppercase"===t?(i&=~AO.lowercase,i&=~AO.capitalize):"capitalize"===t&&(i&=~AO.lowercase,i&=~AO.uppercase),i}function Br(e,t){if(null!=t)return function(e,t){if(!xM)return;const n=xM._nodeMap.get(t);n&&n.constructor!==e.constructor&&(e.constructor.name!==n.constructor.name?dt(`Lexical node with constructor ${e.constructor.name} attempted to re-use key from node in active editor state with constructor ${n.constructor.name}. Keys must not be re-used when the type is changed.`):dt(`Lexical node with constructor ${e.constructor.name} attempted to re-use key from node in active editor state with different constructor with the same name (possibly due to invalid Hot Module Replacement). Keys must not be re-used when the type is changed.`))}(e,t),void(e.__key=t);rr(),ir();const n=sr(),r=or(),i=""+BM++;r._nodeMap.set(i,e),_r(e)?n._dirtyElements.set(i,!0):n._dirtyLeaves.add(i),n._cloneNotNeeded.add(i),n._dirtyType=1,e.__key=i}function Ur(e){const t=e.getParent();if(null!==t){const n=e.getWritable(),r=t.getWritable(),i=e.getPreviousSibling(),o=e.getNextSibling(),s=null!==o?o.__key:null,a=null!==i?i.__key:null,l=null!==i?i.getWritable():null,c=null!==o?o.getWritable():null;null===i&&(r.__first=s),null===o&&(r.__last=a),null!==l&&(l.__next=s),null!==c&&(c.__prev=a),n.__prev=null,n.__next=null,n.__parent=null,r.__size--}}function Hr(e){ir();const t=e.getLatest(),n=t.__parent,r=or(),i=sr(),o=r._nodeMap,s=i._dirtyElements;null!==n&&function(e,t,n){let r=e;for(;null!==r;){if(n.has(r))return;const e=t.get(r);if(void 0===e)break;n.set(r,!1),r=e.__parent}}(n,o,s);const a=t.__key;i._dirtyType=1,_r(e)?s.set(a,!0):i._dirtyLeaves.add(a)}function Wr(e){rr();const t=sr(),n=t._compositionKey;if(e!==n){if(t._compositionKey=e,null!==n){const e=qr(n);null!==e&&e.getWritable()}if(null!==e){const t=qr(e);null!==t&&t.getWritable()}}}function Kr(){return nr()?null:sr()._compositionKey}function qr(e,t){const n=(t||or())._nodeMap.get(e);return void 0===n?null:n}function Vr(e,t){const n=Yr(e,sr());return void 0!==n?qr(n,t):null}function Yr(e,t){return e[`__lexicalKey_${t._key}`]}function Jr(e,t){let n=e;for(;null!=n;){const e=Vr(n,t);if(null!==e)return e;n=Ci(n)}return null}function Gr(e){const t=e._decorators,n=Object.assign({},t);return e._pendingDecorators=n,n}function Xr(e){return e.read((()=>Qr().getTextContent()))}function Qr(){return Zr(or())}function Zr(e){return e._nodeMap.get("root")}function ei(e){rr();const t=or();null!==e&&(Object.isFrozen(e)&&dt("$setSelection called on frozen selection object. Ensure selection is cloned before passing in."),e.dirty=!0,e.setCachedNodes(null)),t._selection=e}function ti(e){const t=sr(),n=function(e,t){let n=e;for(;null!=n;){const e=Yr(n,t);if(void 0!==e)return e;n=Ci(n)}return null}(e,t);return null===n?e===t.getRootElement()?qr("root"):null:qr(n)}function ni(e,t){return t?e.getTextContentSize():0}function ri(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function ii(e){const t=[];let n=e;for(;null!==n;)t.push(n),n=n._parentEditor;return t}function oi(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function si(e){return Pr(e)?e.nodeValue:null}function ai(e,t,n){const r=Pi(Ti(t));if(null===r)return;const i=r.anchorNode;let{anchorOffset:o,focusOffset:s}=r;if(null!==i){let t=si(i);const r=Jr(i);if(null!==t&&En(r)){if(t===CO&&n){const e=n.length;t=n,o=e,s=e}null!==t&&li(r,t,o,s,e)}}}function li(e,t,n,r,i){let o=e;if(o.isAttached()&&(i||!o.isDirty())){const s=o.isComposing();let a=t;(s||i)&&t[t.length-1]===CO&&(a=t.slice(0,-1));const l=o.getTextContent();if(i||a!==l){if(""===a){if(Wr(null),aO||lO||fO)o.remove();else{const e=sr();setTimeout((()=>{e.update((()=>{o.isAttached()&&o.remove()}))}),20)}return}const t=o.getParent(),i=Vn(),l=o.getTextContentSize(),c=Kr(),u=o.getKey();if(o.isToken()||null!==c&&u===c&&!s||On(i)&&(null!==t&&!t.canInsertTextBefore()&&0===i.anchor.offset||i.anchor.key===e.__key&&0===i.anchor.offset&&!o.canInsertTextBefore()&&!s||i.focus.key===e.__key&&i.focus.offset===l&&!o.canInsertTextAfter()&&!s))return void o.markDirty();const d=qn();if(!On(d)||null===n||null===r)return void o.setTextContent(a);if(d.setTextNodeRange(o,n,o,r),o.isSegmented()){const e=xn(o.getTextContent());o.replace(e),o=e}o.setTextContent(a)}}}function ci(e,t,n){const r=t[n]||!1;return"any"===r||r===e[n]}function ui(e,t){return ci(e,t,"altKey")&&ci(e,t,"ctrlKey")&&ci(e,t,"shiftKey")&&ci(e,t,"metaKey")}function di(e,t,n){return ui(e,n)&&e.key.toLowerCase()===t.toLowerCase()}function fi(e){return"Backspace"===e.key}function hi(e){return di(e,"a",HM)}function pi(e,t){void 0===e.__lexicalClassNameCache&&(e.__lexicalClassNameCache={});const n=e.__lexicalClassNameCache,r=n[t];if(void 0!==r)return r;const i=e[t];if("string"==typeof i){const e=ft(i);return n[t]=e,e}return i}function mi(e,t,n,r,i){if(0===n.size)return;const o=r.__type,s=r.__key,a=t.get(o);void 0===a&&dt(`Type ${o} not in registeredNodes`);const l=a.klass;let c=e.get(l);void 0===c&&(c=new Map,e.set(l,c));const u=c.get(s),d="destroyed"===u&&"created"===i;(void 0===u||d)&&c.set(s,d?"updated":i)}function gi(e,t,n){const r=e.getParent();let i=n,o=e;return null!==r&&(t&&0===n?(i=o.getIndexWithinParent(),o=r):t||n!==o.getChildrenSize()||(i=o.getIndexWithinParent()+1,o=r)),o.getChildAtIndex(t?i-1:i)}function vi(e,t){const n=e.offset;if("element"===e.type)return gi(e.getNode(),t,n);{const r=e.getNode();if(t&&0===n||!t&&n===r.getTextContentSize()){const e=t?r.getPreviousSibling():r.getNextSibling();return null===e?gi(r.getParentOrThrow(),t,r.getIndexWithinParent()+(t?0:1)):e}}return null}function yi(e){const t=Ti(e).event,n=t&&t.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n}function bi(e,t,n){return function(e,t,n){const r=ii(e);for(let i=4;i>=0;i--)for(let o=0;o<r.length;o++){const s=r[o],a=s._commands.get(t);if(void 0!==a){const t=a[i];if(void 0!==t){const r=Array.from(t),i=r.length;let o=!1;if(yr(s,(()=>{for(let t=0;t<i;t++)if(r[t](n,e))return void(o=!0)})),o)return o}}}return!1}(e,t,n)}function _i(e){return!xr(e)&&!e.isLastChild()&&!e.isInline()}function wi(e,t){const n=e._keyToDOMMap.get(t);return void 0===n&&dt(`Reconciliation: could not find DOM element for node key ${t}`),n}function Ci(e){const t=e.assignedSlot||e.parentElement;return Bi(t)?t.host:t}function xi(e){return Ir(e)?e:$i(e)?e.ownerDocument:null}function Ei(e){rr(),sr()._updateTags.add(e)}function Si(e){rr(),sr()._deferred.push(e)}function ki(e,t){let n=e.getParent();for(;null!==n;){if(n.is(t))return!0;n=n.getParent()}return!1}function Di(e){const t=xi(e);return t?t.defaultView:null}function Ti(e){const t=e._window;return null===t&&dt("window object not found"),t}function Ai(e){let t=e.getParentOrThrow();for(;null!==t;){if(Ni(t))return t;t=t.getParentOrThrow()}return t}function Ni(e){return xr(e)||_r(e)&&e.isShadowRoot()}function Oi(e){const t=e.constructor.clone(e);return Br(t,null),t}function ji(e){const t=sr(),n=e.constructor.getType(),r=t._nodes.get(n);void 0===r&&dt(`$applyNodeReplacement node ${e.constructor.name} with type ${n} must be registered to the editor. You can do this by passing the node class via the "nodes" array in the editor config.`);const{replace:i,replaceWithKlass:o}=r;if(null!==i){const t=i(e),r=t.constructor;return null!==o?t instanceof o||dt(`$applyNodeReplacement failed. Expected replacement node to be an instance of ${o.name} with type ${o.getType()} but returned ${r.name} with type ${r.getType()} from original node ${e.constructor.name} with type ${n}`):t instanceof e.constructor&&r!==e.constructor||dt(`$applyNodeReplacement failed. Ensure replacement node ${r.name} with type ${r.getType()} is a subclass of the original node ${e.constructor.name} with type ${n}.`),t.__key===e.__key&&dt(`$applyNodeReplacement failed. Ensure that the key argument is *not* used in your replace function (from node ${e.constructor.name} with type ${n} to node ${r.name} with type ${r.getType()}), Node keys must never be re-used except by the static clone method.`),t}return e}function Mi(e,t){!xr(e.getParent())||_r(t)||Cr(t)||dt("Only element or decorator nodes can be inserted in to the root node")}function Ri(e){const t=qr(e);return null===t&&dt(`Expected node with key ${e} to exist but it's not in the nodeMap.`),t}function Fi(e){return(Cr(e)||_r(e)&&!e.canBeEmpty())&&!e.isInline()}function Li(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null;const r=e.parentElement;null!==r&&r.removeChild(e)}function Pi(e){return nO?(e||window).getSelection():null}function Ii(e){const t=Di(e);return t?t.getSelection():null}function $i(e){return zi(e)&&1===e.nodeType}function zi(e){return"object"==typeof e&&null!==e&&"nodeType"in e&&"number"==typeof e.nodeType}function Bi(e){return zi(e)&&11===e.nodeType}function Ui(e){const t=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==e.nodeName.match(t)}function Hi(e){const t=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==e.nodeName.match(t)}function Wi(e){if(Cr(e)&&!e.isInline())return!0;if(!_r(e)||Ni(e))return!1;const t=e.getFirstChild(),n=null===t||cn(t)||En(t)||t.isInline();return!e.isInline()&&!1!==e.canBeEmpty()&&n}function Ki(e,t){let n=e;for(;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}function qi(e){if(!e._readOnly&&e.isEmpty())return qM;e._readOnly||dt("getCachedTypeToNodeMap called with a writable EditorState");let t=KM.get(e);return t||(t=function(e){const t=new Map;for(const[n,r]of e._nodeMap){const e=r.__type;let i=t.get(e);i||(i=new Map,t.set(e,i)),i.set(n,r)}return t}(e),KM.set(e,t)),t}function Vi(e){const t=e.constructor,n=t.clone(e);return n.afterCloneFrom(e),n.__key!==e.__key&&dt(`$cloneWithProperties: ${t.name}.clone(node) (with type '${t.getType()}') did not return a node with the same key, make sure to specify node.__key as the last argument to the constructor`),n.__parent===e.__parent&&n.__next===e.__next&&n.__prev===e.__prev||dt(`$cloneWithProperties: ${t.name}.clone(node) (with type '${t.getType()}') overrode afterCloneFrom but did not call super.afterCloneFrom(prevNode)`),n}function Yi(e,t){const n=parseInt(e.style.paddingInlineStart,10)||0,r=Math.round(n/40);t.setIndent(r)}function Ji(e){return!0===e.__lexicalUnmanaged}function Gi(e){return VM[e]}function Xi(e){return GM[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root"](e)?null:e}function Qi(e){return e instanceof QM}function Zi(e){return e instanceof XM}function eo(e){return e instanceof JM}function to(e,t){return e?new eR[t](e):null}function no(e,t,n){return e?new ZM[t](e,ro(e,n)):null}function ro(e,t){const n=e.getTextContentSize();let r="next"===t?n:"previous"===t?0:t;return(r<0||r>n)&&(dt(`$getTextNodeOffset: invalid offset ${String(t)} for size ${String(n)} at key ${e.getKey()}`),r=r<0?0:n),r}function io(e,t){return new rR(e,t)}function oo(e,t){return _r(e)?new tR[t](e):null}function so(e){return e&&e.getChildCaret()||e}function ao(e){return e&&so(e.getAdjacentCaret())}function lo(e){return uo(e,to(Qr(),e.direction))}function co(e){return uo(e,e)}function uo(e,t){return e.direction!==t.direction&&dt("$getCaretRange: anchor and focus must be in the same direction"),new nR(e,t,e.direction)}function fo(e){const{initial:t,hasNext:n,step:r,map:i}=e;let o=t;return{[Symbol.iterator](){return this},next(){if(!n(o))return{done:!0,value:void 0};const e={done:!1,value:i(o)};return o=r(o),e}}}function ho(e,t){const n=vo(e.origin,t.origin);switch(null===n&&dt(`$comparePointCaretNext: a (key ${e.origin.getKey()}) and b (key ${t.origin.getKey()}) do not have a common ancestor`),n.type){case"same":{const n="text"===e.type,r="text"===t.type;return n&&r?function(e,t){return Math.sign(e-t)}(e.offset,t.offset):e.type===t.type?0:n?-1:r?1:"child"===e.type?-1:1}case"ancestor":return"child"===e.type?-1:1;case"descendant":return"child"===t.type?1:-1;case"branch":return po(n)}}function po(e){const{a:t,b:n}=e,r=t.__key,i=n.__key;let o=t,s=n;for(;o&&s;o=o.getNextSibling(),s=s.getNextSibling()){if(o.__key===i)return-1;if(s.__key===r)return 1}return null===o?1:-1}function mo(e,t){return t.is(e)}function go(e){return _r(e)?[e.getLatest(),null]:[e.getParent(),e.getLatest()]}function vo(e,t){if(e.is(t))return{commonAncestor:e,type:"same"};const n=new Map;for(let[t,r]=go(e);t;r=t,t=t.getParent())n.set(t,r);for(let[r,i]=go(t);r;i=r,r=r.getParent()){const o=n.get(r);if(void 0!==o)return null===o?(mo(e,r)||dt("$originComparison: ancestor logic error"),{commonAncestor:r,type:"ancestor"}):null===i?(mo(t,r)||dt("$originComparison: descendant logic error"),{commonAncestor:r,type:"descendant"}):((_r(o)||mo(e,o))&&(_r(i)||mo(t,i))&&r.is(o.getParent())&&r.is(i.getParent())||dt("$originComparison: branch logic error"),{a:o,b:i,commonAncestor:r,type:"branch"})}return null}function yo(e,t){const{type:n,key:r,offset:i}=e,o=Ri(e.key);return"text"===n?(En(o)||dt(`$caretFromPoint: Node with type ${o.getType()} and key ${r} that does not inherit from TextNode encountered for text point`),no(o,t,i)):(_r(o)||dt(`$caretFromPoint: Node with type ${o.getType()} and key ${r} that does not inherit from ElementNode encountered for element point`),Oo(o,e.offset,t))}function bo(e,t){const{origin:n,direction:r}=t,i="next"===r;Qi(t)?e.set(n.getKey(),t.offset,"text"):Zi(t)?En(n)?e.set(n.getKey(),ro(n,r),"text"):e.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent()+(i?1:0),"element"):(eo(t)&&_r(n)||dt("$setPointFromCaret: exhaustiveness check"),e.set(n.getKey(),i?0:n.getChildrenSize(),"element"))}function _o(e){const t=qn(),n=On(t)?t:Un();return wo(n,e),ei(n),n}function wo(e,t){bo(e.anchor,t.anchor),bo(e.focus,t.focus)}function Co(e){const{anchor:t,focus:n}=e,r=yo(t,"next"),i=yo(n,"next"),o=ho(r,i)<=0?"next":"previous";return uo(Ao(r,o),Ao(i,o))}function xo(e){const{direction:t,origin:n}=e,r=to(n,Gi(t)).getNodeAtCaret();return r?to(r,t):oo(n.getParentOrThrow(),t)}function Eo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root";const n=[e];for(let r=eo(e)?e.getParentCaret(t):e.getSiblingCaret();null!==r;r=r.getParentCaret(t))n.push(xo(r));return n}function So(e){return!!e&&e.origin.isAttached()}function ko(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"removeEmptySlices";if(e.isCollapsed())return e;const n="root",r="next";let i=t;const o=No(e,r),s=Eo(o.anchor,n),a=Eo(o.focus.getFlipped(),n),l=new Set,c=[];for(const e of o.iterNodeCarets(n))if(eo(e))l.add(e.origin.getKey());else if(Zi(e)){const{origin:t}=e;_r(t)&&!l.has(t.getKey())||c.push(t)}for(const e of c)e.remove();for(const e of o.getTextSlices()){if(!e)continue;const{origin:t}=e.caret,n=t.getTextContentSize(),o=xo(to(t,r)),l=t.getMode();if(Math.abs(e.distance)===n&&"removeEmptySlices"===i||"token"===l&&0!==e.distance)o.remove();else if(0!==e.distance){i="removeEmptySlices";let t=e.removeTextSlice();const n=e.caret.origin;if("segmented"===l){const e=t.origin,n=xn(e.getTextContent()).setStyle(e.getStyle()).setFormat(e.getFormat());o.replaceOrInsert(n),t=no(n,r,t.offset)}n.is(s[0].origin)&&(s[0]=t),n.is(a[0].origin)&&(a[0]=t.getFlipped())}}let u,d;for(const e of s)if(So(e)){u=Do(e);break}for(const e of a)if(So(e)){d=Do(e);break}const f=function(e,t,n){if(!e||!t)return null;const r=e.getParentAtCaret(),i=t.getParentAtCaret();if(!r||!i)return null;const o=r.getParents().reverse();o.push(r);const s=i.getParents().reverse();s.push(i);const a=Math.min(o.length,s.length);let l;for(l=0;l<a&&o[l]===s[l];l++);
const c=(e,t)=>{let n;for(let r=l;r<e.length;r++){const i=e[r];if(Ni(i))return;!n&&t(i)&&(n=i)}return n},u=c(o,Wi),d=u&&c(s,(e=>n.has(e.getKey())&&Wi(e)));return u&&d?[u,d]:null}(u,d,l);if(f){const[e,t]=f;oo(e,"previous").splice(0,t.getChildren()),t.remove()}const h=[u,d,...s,...a].find(So);if(h)return co(Ao(Do(h),e.direction));dt(`$removeTextFromCaretRange: selection was lost, could not find a new anchor given candidates with keys: ${JSON.stringify(s.map((e=>e.origin.__key)))}`)}function Do(e){const t=function(e){let t=e;for(;eo(t);){const e=ao(t);if(!eo(e))break;t=e}return t}(e.getLatest()),{direction:n}=t;if(En(t.origin))return Qi(t)?t:no(t.origin,n,n);const r=t.getAdjacentCaret();return Zi(r)&&En(r.origin)?no(r.origin,n,Gi(n)):t}function To(e){return Qi(e)&&e.offset!==ro(e.origin,e.direction)}function Ao(e,t){return e.direction===t?e:e.getFlipped()}function No(e,t){return e.direction===t?e:uo(Ao(e.focus,t),Ao(e.anchor,t))}function Oo(e,t,n){let r=oo(e,"next");for(let e=0;e<t;e++){const e=r.getAdjacentCaret();if(null===e)break;r=e}return Ao(r,n)}function jo(e){const{origin:t,offset:n,direction:r}=e;if(n===ro(t,r))return e.getSiblingCaret();if(n===ro(t,Gi(r)))return xo(e.getSiblingCaret());const[i]=t.splitText(n);return En(i)||dt("$splitTextPointCaret: splitText must return at least one TextNode"),Ao(to(i,"next"),r)}function Mo(){return!0}function Ro(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(const e of i)n.append("v",e);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Fo(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const t of n)if(t&&"string"==typeof t)for(const[n]of t.matchAll(/\S+/g))e.push(n);return e}function Lo(e,t,n,r,i,o){let s=e.getFirstChild();for(;null!==s;){const e=s.__key;s.__parent===t&&($a(s)&&Lo(s,e,n,r,i,o),n.has(e)||o.delete(e),i.push(e)),s=s.getNextSibling()}}function Po(e){JR=e.timeStamp}function Io(e,t,n){const r="BR"===e.nodeName,i=t.__lexicalLineBreak;return i&&(e===i||r&&e.previousSibling===i)||r&&void 0!==hl(e,n)}function $o(e,t,n){const r=nc(Vl(n));let i=null,o=null;null!==r&&r.anchorNode===e&&(i=r.anchorOffset,o=r.focusOffset);const s=e.nodeValue;null!==s&&Dl(t,s,i,o,!1)}function zo(e,t,n){if(Qs(e)){const t=e.anchor.getNode();if(t.is(n)&&e.format!==t.getFormat())return!1}return nl(t)&&n.isAttached()}function Bo(e,t,n,r){for(let i=e;i&&!pc(i);i=Bl(i)){const e=hl(i,t);if(void 0!==e){const t=dl(e,n);if(t)return Ba(t)||!ic(i)?void 0:[i,t]}else if(i===r)return[r,yl(n)]}}function Uo(e,t,n){YR=!0;const r=performance.now()-JR>100;try{Pa(e,(()=>{const i=fa()||function(e){return e.getEditorState().read((()=>{const e=fa();return null!==e?e.clone():null}))}(e),o=new Map,s=e.getRootElement(),a=e._editorState,l=e._blockCursorElement;let c=!1,u="";for(let n=0;n<t.length;n++){const d=t[n],f=d.type,h=d.target,p=Bo(h,e,a,s);if(!p)continue;const[m,g]=p;if("characterData"===f)r&&Ks(g)&&nl(h)&&zo(i,h,g)&&$o(h,g,e);else if("childList"===f){c=!0;const t=d.addedNodes;for(let n=0;n<t.length;n++){const r=t[n],i=fl(r),o=r.parentNode;if(null!=o&&r!==l&&null===i&&!Io(r,o,e)){if(aR){const e=(ic(r)?r.innerText:null)||r.nodeValue;e&&(u+=e)}o.removeChild(r)}}const n=d.removedNodes,r=n.length;if(r>0){let t=0;for(let i=0;i<r;i++){const r=n[i];(Io(r,h,e)||l===r)&&(h.appendChild(r),t++)}r!==t&&o.set(m,g)}}}if(o.size>0)for(const[t,n]of o)n.reconcileObservedMutation(t,e);const d=n.takeRecords();if(d.length>0){for(let t=0;t<d.length;t++){const n=d[t],r=n.addedNodes,i=n.target;for(let t=0;t<r.length;t++){const n=r[t],o=n.parentNode;null==o||"BR"!==n.nodeName||Io(n,i,e)||o.removeChild(n)}}n.takeRecords()}null!==i&&(c&&bl(i),aR&&Pl(e)&&i.insertRawText(u))}))}finally{YR=!1}}function Ho(e){const t=e._observer;null!==t&&Uo(e,t.takeRecords(),t)}function Wo(e){!function(e){0===JR&&Vl(e).addEventListener("textInput",Po,!0)}(e),e._observer=new MutationObserver(((t,n)=>{Uo(e,t,n)}))}function Ko(e){return e}function qo(e,t){const n=("latest"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"latest")?e.getLatest():e).__state;return n?n.getValue(t):t.defaultValue}function Vo(e){if(e)for(const t in e)return e}function Yo(e){const t=e.getWritable(),n=t.__state?t.__state.getWritable(t):new XR(t);return t.__state=n,n}function Jo(e,t){const n=e.__mode,r=e.__format,i=e.__style,o=t.__mode,s=t.__format,a=t.__style,l=e.__state,c=t.__state;return(null===n||n===o)&&(null===r||r===s)&&(null===i||i===a)&&(null===e.__state||l===c||function(e,t){if(e===t)return!0;if(e&&t&&e.size!==t.size)return!1;const n=new Set,r=(e,t)=>{for(const[r,i]of e.knownState){if(n.has(r.key))continue;n.add(r.key);const e=t?t.getValue(r):r.defaultValue;if(e!==i&&!r.isEqual(e,i))return!0}return!1},i=(e,t)=>{const{unknownState:r}=e,i=t?t.unknownState:void 0;if(r)for(const[e,t]of Object.entries(r))if(!n.has(e)&&(n.add(e),t!==(i?i[e]:void 0)))return!0;return!1};return!(e&&r(e,t)||t&&r(t,e)||e&&i(e,t)||t&&i(t,e))}(l,c))}function Go(e,t){const n=e.mergeWithSibling(t),r=ka()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function Xo(e){let t,n,r=e;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(t=r.getPreviousSibling())&&Ks(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){if(Jo(t,r)){r=Go(t,r);break}break}t.remove()}for(;null!==(n=r.getNextSibling())&&Ks(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if(Jo(r,n)){r=Go(r,n);break}break}n.remove()}}else r.remove()}function Qo(e){return Zo(e.anchor),Zo(e.focus),e}function Zo(e){for(;"element"===e.type;){const t=e.getNode(),n=e.offset;let r,i;if(n===t.getChildrenSize()?(r=t.getChildAtIndex(n-1),i=!0):(r=t.getChildAtIndex(n),i=!1),Ks(r)){e.set(r.__key,i?r.getTextContentSize():0,"text",!0);break}if(!$a(r))break;e.set(r.__key,i?r.getChildrenSize():0,"element",!0)}}function es(e,t){const n=WR.get(e);if(null!==t){const n=ps(e);n.parentNode===t&&t.removeChild(n)}if(KR.has(e)||$R._keyToDOMMap.delete(e),$a(n)){const e=us(n,WR);ts(e,0,e.length-1,null)}void 0!==n&&Rl(VR,zR,BR,n,"destroyed")}function ts(e,t,n,r){let i=t;for(;i<=n;++i){const t=e[i];void 0!==t&&es(t,r)}}function ns(e,t){e.setProperty("text-align",t)}function rs(e,t){const n=IR.theme.indent;if("string"==typeof n){const r=e.classList.contains(n);t>0&&!r?e.classList.add(n):t<1&&r&&e.classList.remove(n)}const r=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||sF;e.style.setProperty("padding-inline-start",0===t?"":`calc(${t} * ${r})`)}function is(e,t){const n=e.style;0===t?ns(n,""):1===t?ns(n,"left"):2===t?ns(n,"center"):3===t?ns(n,"right"):4===t?ns(n,"justify"):5===t?ns(n,"start"):6===t&&ns(n,"end")}function os(e,t){const n=KR.get(e);void 0===n&&Ro(60);const r=n.createDOM(IR,$R);if(function(e,t,n){const r=n._keyToDOMMap;(function(e,t,n){e[`__lexicalKey_${t._key}`]=n})(t,n,e),r.set(e,t)}(e,r,$R),Ks(n)?r.setAttribute("data-lexical-text","true"):Ba(n)&&r.setAttribute("data-lexical-decorator","true"),$a(n)){const e=n.__indent,t=n.__size;if(0!==e&&rs(r,e),0!==t){const e=t-1;!function(e,t,n,r){const i=ZR;ZR="",ss(e,n,0,t,n.getDOMSlot(r)),cs(n,r),ZR=i}(us(n,KR),e,n,r)}const i=n.__format;0!==i&&is(r,i),n.isInline()||ls(null,n,r),$l(n)&&(QR+=SR,nF+=SR)}else{const t=n.getTextContent();if(Ba(n)){const t=n.decorate($R,IR);null!==t&&fs(e,t),r.contentEditable="false"}else Ks(n)&&(n.isDirectionless()||(ZR+=t));QR+=t,nF+=t}return null!==t&&t.insertChild(r),Rl(VR,zR,BR,n,"created"),r}function ss(e,t,n,r,i){const o=QR;QR="";let s=n;for(;s<=r;++s){os(e[s],i);const t=KR.get(e[s]);null!==t&&Ks(t)&&(null===eF&&(eF=t.getFormat()),""===tF&&(tF=t.getStyle()))}$l(t)&&(QR+=SR),i.element.__lexicalTextContent=QR,QR=o+QR}function as(e,t){if(e){const n=e.__last;if(n){const e=t.get(n);if(e)return Ns(e)?"line-break":Ba(e)&&e.isInline()?"decorator":null}return"empty"}return null}function ls(e,t,n){const r=as(e,WR),i=as(t,KR);r!==i&&t.getDOMSlot(n).setManagedLineBreak(i)}function cs(e,t){const n=t.__lexicalDirTextContent||"",r=t.__lexicalDir||"";if(n!==ZR||r!==oF){const n=""===ZR,i=n?oF:function(e){return AR.test(e)?"rtl":NR.test(e)?"ltr":null}(ZR);if(i!==r){const o=t.classList,s=IR.theme;let a=null!==r?s[r]:void 0,l=null!==i?s[i]:void 0;if(void 0!==a){if("string"==typeof a){const e=Fo(a);a=s[r]=e}o.remove(...a)}if(null===i||n&&"ltr"===i)t.removeAttribute("dir");else{if(void 0!==l){if("string"==typeof l){const e=Fo(l);l=s[i]=e}void 0!==l&&o.add(...l)}t.dir=i}iF||(e.getWritable().__dir=i)}oF=i,t.__lexicalDirTextContent=ZR,t.__lexicalDir=i}}function us(e,t){const n=[];let r=e.__first;for(;null!==r;){const e=t.get(r);void 0===e&&Ro(101),n.push(r),r=e.__next}return n}function ds(e,t){const n=WR.get(e);let r=KR.get(e);void 0!==n&&void 0!==r||Ro(61);const i=rF||HR.has(e)||UR.has(e),o=zl($R,e);if(n===r&&!i){if($a(n)){const e=o.__lexicalTextContent;void 0!==e&&(QR+=e,nF+=e);const t=o.__lexicalDirTextContent;void 0!==t&&(ZR+=t)}else{const e=n.getTextContent();Ks(n)&&!n.isDirectionless()&&(ZR+=e),nF+=e,QR+=e}return o}if(n!==r&&i&&Rl(VR,zR,BR,r,"updated"),r.updateDOM(n,o,IR)){const n=os(e,null);return null===t&&Ro(62),t.replaceChild(n,o),es(e,null),n}if($a(n)&&$a(r)){const e=r.__indent;e!==n.__indent&&rs(o,e);const t=r.__format;t!==n.__format&&is(o,t),i&&(function(e,t,n){const r=ZR;var i;ZR="",eF=null,tF="",function(e,t,n){const r=QR,i=e.__size,o=t.__size;QR="";const s=n.element;if(1===i&&1===o){const n=e.__first,i=t.__first;if(n===i)ds(n,s);else{const e=ps(n),t=os(i,null);try{s.replaceChild(t,e)}catch(r){if("object"==typeof r&&null!=r){const o=`${r.toString()} Parent: ${s.tagName}, new child: {tag: ${t.tagName} key: ${i}}, old child: {tag: ${e.tagName}, key: ${n}}.`;throw new Error(o)}throw r}es(n,null)}const o=KR.get(i);Ks(o)&&(null===eF&&(eF=o.getFormat()),""===tF&&(tF=o.getStyle()))}else{const r=us(e,WR),a=us(t,KR);if(r.length!==i&&Ro(227),a.length!==o&&Ro(228),0===i)0!==o&&ss(a,t,0,o-1,n);else if(0===o){if(0!==i){const e=null==n.after&&null==n.before&&null==n.element.__lexicalLineBreak;ts(r,0,i-1,e?null:s),e&&(s.textContent="")}}else!function(e,t,n,r,i,o){const s=r-1,a=i-1;let l,c,u=o.getFirstChild(),d=0,f=0;for(;d<=s&&f<=a;){const e=t[d],r=n[f];if(e===r)u=hs(ds(r,o.element)),d++,f++;else{void 0===l&&(l=new Set(t)),void 0===c&&(c=new Set(n));const i=c.has(e),s=l.has(r);if(i)if(s){const e=zl($R,r);e===u?u=hs(ds(r,o.element)):(o.withBefore(u).insertChild(e),ds(r,o.element)),d++,f++}else os(r,o.withBefore(u)),f++;else u=hs(ps(e)),es(e,o.element),d++}const i=KR.get(r);null!==i&&Ks(i)&&(null===eF&&(eF=i.getFormat()),""===tF&&(tF=i.getStyle()))}const h=d>s,p=f>a;if(h&&!p){const t=n[a+1],r=void 0===t?null:$R.getElementByKey(t);ss(n,e,f,a,o.withBefore(r))}else p&&!h&&ts(t,d,s,o.element)}(t,r,a,i,o,n)}$l(t)&&(QR+=SR),s.__lexicalTextContent=QR,QR=r+QR}(e,t,t.getDOMSlot(n)),cs(t,n),i=t,null==eF||eF===i.__textFormat||iF||i.setTextFormat(eF),function(e){""===tF||tF===e.__textStyle||iF||e.setTextStyle(tF)}(t),ZR=r}(n,r,o),Ua(r)||r.isInline()||ls(n,r,o)),$l(r)&&(QR+=SR,nF+=SR)}else{const t=r.getTextContent();if(Ba(r)){const t=r.decorate($R,IR);null!==t&&fs(e,t)}else Ks(r)&&!r.isDirectionless()&&(ZR+=t);QR+=t,nF+=t}if(!iF&&Ua(r)&&r.__cachedText!==nF){const e=r.getWritable();e.__cachedText=nF,r=e}return o}function fs(e,t){let n=$R._pendingDecorators;const r=$R._decorators;if(null===n){if(r[e]===t)return;n=ml($R)}n[e]=t}function hs(e){let t=e.nextSibling;return null!==t&&t===$R._blockCursorElement&&(t=t.nextSibling),t}function ps(e){const t=qR.get(e);return void 0===t&&Ro(75,e),t}function ms(e){return{type:e}}function gs(e,t,n,r,i){const o=e.anchor,s=e.focus,a=o.getNode(),l=ka(),c=nc(Vl(l)),u=null!==c?c.anchorNode:null,d=o.key,f=l.getElementByKey(d),h=n.length;return d!==s.key||!Ks(a)||(!i&&(!lR||nL<r+50)||a.isDirty()&&h<2||Cl(n))&&o.offset!==s.offset&&!a.isComposing()||tl(a)||a.isDirty()&&h>1||(i||!lR)&&null!==f&&!a.isComposing()&&u!==il(f)||null!==c&&null!==t&&(!t.collapsed||t.startContainer!==c.anchorNode||t.startOffset!==c.anchorOffset)||a.getFormat()!==e.format||a.getStyle()!==e.style||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;const n=e.anchor.offset,r=t.getParentOrThrow(),i=t.isToken();return 0===n?!t.canInsertTextBefore()||!r.canInsertTextBefore()&&!t.isComposing()||i||function(e){const t=e.getPreviousSibling();return(Ks(t)||$a(t)&&t.isInline())&&!t.canInsertTextAfter()}(t):n===t.getTextContentSize()&&(!t.canInsertTextAfter()||!r.canInsertTextAfter()&&!t.isComposing()||i)}(e,a)}function vs(e,t){return nl(e)&&null!==e.nodeValue&&0!==t&&t!==e.nodeValue.length}function ys(e,t,n){const{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}=e;oL&&(oL=!1,vs(r,i)&&vs(o,s)&&!dL)||Pa(t,(()=>{if(!n)return void bl(null);if(!Xa(t,r,o))return;let a=fa();if(dL&&Qs(a)&&a.isCollapsed()){const e=a.anchor,t=dL.anchor;(e.key===t.key&&e.offset===t.offset+1||1===e.offset&&t.getNode().is(e.getNode().getPreviousSibling()))&&(a=dL.clone(),bl(a))}if(dL=null,Qs(a)){const n=a.anchor,r=n.getNode();if(a.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(a.dirty=!0);const i=Vl(t).event,o=i?i.timeStamp:performance.now(),[s,l,c,u,d]=fL,f=vl(),h=!1===t.isComposing()&&""===f.getTextContent();if(o<d+200&&n.offset===c&&n.key===u)bs(a,s,l);else if("text"===n.type)Ks(r)||Ro(141),_s(a,r);else if("element"===n.type&&!h){$a(r)||Ro(259);const e=n.getNode();e.isEmpty()?function(e,t){bs(e,t.getTextFormat(),t.getTextStyle())}(a,e):bs(a,0,"")}}else{const e=n.key,t=a.focus.key,r=a.getNodes(),o=r.length,l=a.isBackward(),c=l?s:i,u=l?i:s,d=l?t:e,f=l?e:t;let h=2047,p=!1;for(let e=0;e<o;e++){const t=r[e],n=t.getTextContentSize();if(Ks(t)&&0!==n&&!(0===e&&t.__key===d&&c===n||e===o-1&&t.__key===f&&0===u)&&(p=!0,h&=t.getFormat(),0===h))break}a.format=p?h:0}}Il(t,aF,void 0)}))}function bs(e,t,n){e.format===t&&e.style===n||(e.format=t,e.style=n,e.dirty=!0)}function _s(e,t){bs(e,t.getFormat(),t.getStyle())}function ws(e){if(!e.getTargetRanges)return null;const t=e.getTargetRanges();return 0===t.length?null:t[0]}function Cs(e,t){const n=e._compositionKey;if(cl(null),null!==n&&null!=t){if(""===t){const t=dl(n),r=il(e.getElementByKey(n));return void(null!==r&&null!==r.nodeValue&&Ks(t)&&Dl(t,r.nodeValue,null,null,!0))}if("\n"===t[t.length-1]){const t=fa();if(Qs(t)){const n=t.focus;return t.anchor.set(n.key,n.offset,n.type),void Il(e,TF,null)}}}kl(!0,e,t)}function xs(e){let t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}function Es(e){const t=rc(e.target);if(null===t)return;const n=Za(t.anchorNode);if(null===n)return;sL&&(sL=!1,Pa(n,(()=>{const r=ha(),i=t.anchorNode;(ic(i)||nl(i))&&bl(da(r,t,n,e))})));const r=xl(n),i=r[r.length-1],o=i._key,s=hL.get(o),a=s||i;a!==n&&ys(t,a,!1),ys(t,n,!0),n!==i?hL.set(o,n):s&&hL.delete(o)}function Ss(e){e._lexicalHandled=!0}function ks(e){return!0===e._lexicalHandled}function Ds(e,t,n){xa();const r=e.__key,i=e.getParent();if(null===i)return;const o=function(e){const t=fa();if(!Qs(t)||!$a(e))return t;const{anchor:n,focus:r}=t,i=n.getNode(),o=r.getNode();return Kl(i,e)&&n.set(e.__key,0,"element"),Kl(o,e)&&r.set(e.__key,0,"element"),t}(e);let s=!1;if(Qs(o)&&t){const t=o.anchor,n=o.focus;t.key===r&&(ga(t,e,i,e.getPreviousSibling(),e.getNextSibling()),s=!0),n.key===r&&(ga(n,e,i,e.getPreviousSibling(),e.getNextSibling()),s=!0)}else Zs(o)&&t&&e.isSelected()&&e.selectPrevious();if(Qs(o)&&t&&!s){const t=e.getIndexWithinParent();al(e),pa(o,i,t,-1)}else al(e);n||Jl(i)||i.canBeEmpty()||!i.isEmpty()||Ds(i,t),t&&o&&Ua(i)&&i.isEmpty()&&i.selectEnd()}function Ts(){return{node:As()}}function As(){return Xl(new mL)}function Ns(e){return e instanceof mL}function Os(e){return nl(e)&&/^( |\t|\r?\n)+$/.test(e.textContent||"")}function js(e,t){return 16&t?"code":128&t?"mark":32&t?"sub":64&t?"sup":null}function Ms(e,t){return 1&t?"strong":2&t?"em":"span"}function Rs(e,t,n,r,i){const o=r.classList;let s=Ml(i,"base");void 0!==s&&o.add(...s),s=Ml(i,"underlineStrikethrough");let a=!1;const l=8&t&&4&t;void 0!==s&&(8&n&&4&n?(a=!0,l||o.add(...s)):l&&o.remove(...s));for(const e in OR){const r=OR[e];if(s=Ml(i,e),void 0!==s)if(n&r){if(a&&("underline"===e||"strikethrough"===e)){t&r&&o.remove(...s);continue}t&r&&(!l||"underline"!==e)&&"strikethrough"!==e||o.add(...s)}else t&r&&o.remove(...s)}}function Fs(e,t,n){const r=t.firstChild,i=n.isComposing(),o=e+(i?ER:"");if(null==r)t.textContent=o;else{const e=r.nodeValue;if(e!==o)if(i||aR){const[t,n,i]=function(e,t){const n=e.length,r=t.length;let i=0,o=0;for(;i<n&&i<r&&e[i]===t[i];)i++;for(;o+i<n&&o+i<r&&e[n-o-1]===t[r-o-1];)o++;return[i,n-i-o,t.slice(i,r-o)]}(e,o);0!==n&&r.deleteData(t,n),r.insertData(t,i)}else r.nodeValue=o}}function Ls(e,t,n,r,i,o){Fs(i,e,t);const s=o.theme.text;void 0!==s&&Rs(0,0,r,e,s)}function Ps(e,t){const n=document.createElement(t);return n.appendChild(e),n}function Is(e){return{forChild:qs(e.style),node:null}}function $s(e){const t=e,n="normal"===t.style.fontWeight;return{forChild:qs(t.style,n?void 0:"bold"),node:null}}function zs(e){if(!ic(e))return!1;if("PRE"===e.nodeName)return!0;const t=e.style.whiteSpace;return"string"==typeof t&&t.startsWith("pre")}function Bs(e){const t=e;null===e.parentElement&&Ro(129);let n=t.textContent||"";if(null!==function(e){let t,n=e.parentNode;const r=[e];for(;null!==n&&void 0===(t=vL.get(n))&&!zs(n);)r.push(n),n=n.parentNode;const i=void 0===t?n:t;for(let e=0;e<r.length;e++)vL.set(r[e],i);return i}(t)){const e=n.split(/(\r?\n|\t)/),t=[],r=e.length;for(let n=0;n<r;n++){const r=e[n];"\n"===r||"\r\n"===r?t.push(As()):"\t"===r?t.push(Vs()):""!==r&&t.push(Ws(r))}return{node:t}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),""===n)return{node:null};if(" "===n[0]){let e=t,r=!0;for(;null!==e&&null!==(e=Us(e,!1));){const t=e.textContent||"";if(t.length>0){/[ \t\n]$/.test(t)&&(n=n.slice(1)),r=!1;break}}r&&(n=n.slice(1))}if(" "===n[n.length-1]){let e=t,r=!0;for(;null!==e&&null!==(e=Us(e,!0));)if((e.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){r=!1;break}r&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:Ws(n)}}function Us(e,t){let n=e;for(;;){let e;for(;null===(e=t?n.nextSibling:n.previousSibling);){const e=n.parentElement;if(null===e)return null;n=e}if(n=e,ic(n)){const e=n.style.display;if(""===e&&!ac(n)||""!==e&&!e.startsWith("inline"))return null}let r=n;for(;null!==(r=t?n.firstChild:n.lastChild);)n=r;if(nl(n))return n;if("BR"===n.nodeName)return null}}function Hs(e){const t=yL[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:qs(e.style,t),node:null}}function Ws(){return Xl(new gL(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""))}function Ks(e){return e instanceof gL}function qs(e,t){const n=e.fontWeight,r=e.textDecoration.split(" "),i="700"===n||"bold"===n,o=r.includes("line-through"),s="italic"===e.fontStyle,a=r.includes("underline"),l=e.verticalAlign;return e=>Ks(e)?(i&&!e.hasFormat("bold")&&e.toggleFormat("bold"),o&&!e.hasFormat("strikethrough")&&e.toggleFormat("strikethrough"),s&&!e.hasFormat("italic")&&e.toggleFormat("italic"),a&&!e.hasFormat("underline")&&e.toggleFormat("underline"),"sub"!==l||e.hasFormat("subscript")||e.toggleFormat("subscript"),"super"!==l||e.hasFormat("superscript")||e.toggleFormat("superscript"),t&&!e.hasFormat(t)&&e.toggleFormat(t),e):e}function Vs(){return Xl(new bL)}function Ys(e){return e instanceof bL}function Js(e,t,n){return new _L(e,t,n)}function Gs(e,t){let n=t.__key,r=e.offset,i="element";if(Ks(t)){i="text";const e=t.getTextContentSize();r>e&&(r=e)}else if(!$a(t)){const e=t.getNextSibling();if(Ks(e))n=e.__key,r=0,i="text";else{const e=t.getParent();e&&(n=e.__key,r=t.getIndexWithinParent()+1)}}e.set(n,r,i)}function Xs(e,t){if($a(t)){const n=t.getLastDescendant();$a(n)||Ks(n)?Gs(e,n):Gs(e,t)}else Gs(e,t)}function Qs(e){return e instanceof CL}function Zs(e){return e instanceof wL}function ea(e){const t=e.offset;if("text"===e.type)return t;const n=e.getNode();return t===n.getChildrenSize()?n.getTextContent().length:0}function ta(e){const t=e.getStartEndPoints();if(null===t)return[0,0];const[n,r]=t;return"element"===n.type&&"element"===r.type&&n.key===r.key&&n.offset===r.offset?[0,0]:[ea(n),ea(r)]}function na(e,t){for(let n=t;n;n=n.getParent()){if($a(n)){if(n.collapseAtStart(e))return!0;if(Jl(n))break}if(n.getPreviousSibling())break}return!1}function ra(e,t,n){const r=e,i=r.getTextContent().split(/(?=\s)/g),o=i.length;let s=0,a=0;for(let e=0;e<o;e++){const r=e===o-1;if(a=s,s+=i[e].length,t&&s===n||s>n||r){i.splice(e,1),r&&(a=void 0);break}}const l=i.join("").trim();""===l?r.remove():(r.setTextContent(l),r.select(a,a))}function ia(e,t,n,r){let i,o=t;if(ic(e)){let s=!1;const a=e.childNodes,l=a.length,c=r._blockCursorElement;o===l&&(s=!0,o=l-1);let u=a[o],d=!1;if(u===c)u=a[o+1],d=!0;else if(null!==c){const n=c.parentNode;e===n&&t>Array.prototype.indexOf.call(n.children,c)&&o--}if(i=_l(u),Ks(i))o=wl(i,s);else{let a=_l(e);if(null===a)return null;if($a(a)){const l=r.getElementByKey(a.getKey());null===l&&Ro(214);const c=a.getDOMSlot(l);[a,o]=c.resolveChildIndex(a,l,e,t),$a(a)||Ro(215),s&&o>=a.getChildrenSize()&&(o=Math.max(0,a.getChildrenSize()-1));let u=a.getChildAtIndex(o);if($a(u)&&function(e,t,n){const r=e.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode()}(u,0,n)){const e=s?u.getLastDescendant():u.getFirstDescendant();null===e?a=u:(u=e,a=$a(u)?u:u.getParentOrThrow()),o=0}Ks(u)?(i=u,a=null,o=wl(u,s)):u!==a&&s&&!d&&($a(a)||Ro(216),o=Math.min(a.getChildrenSize(),o+1))}else{const n=a.getIndexWithinParent();o=0===t&&Ba(a)&&_l(e)===a?n:n+1,a=a.getParentOrThrow()}if($a(a))return Js(a.__key,o,"element")}}else i=_l(e);return Ks(i)?Js(i.__key,o,"text"):null}function oa(e,t,n){const r=e.offset,i=e.getNode();if(0===r){const r=i.getPreviousSibling(),o=i.getParent();if(t){if((n||!t)&&null===r&&$a(o)&&o.isInline()){const t=o.getPreviousSibling();Ks(t)&&e.set(t.__key,t.getTextContent().length,"text")}}else $a(r)&&!n&&r.isInline()?e.set(r.__key,r.getChildrenSize(),"element"):Ks(r)&&e.set(r.__key,r.getTextContent().length,"text")}else if(r===i.getTextContent().length){const r=i.getNextSibling(),o=i.getParent();if(t&&$a(r)&&r.isInline())e.set(r.__key,0,"element");else if((n||t)&&null===r&&$a(o)&&o.isInline()&&!o.canInsertTextAfter()){const t=o.getNextSibling();Ks(t)&&e.set(t.__key,0,"text")}}}function sa(e,t,n){if("text"===e.type&&"text"===t.type){const r=e.isBefore(t),i=e.is(t);oa(e,r,i),oa(t,!r,i),i&&t.set(e.key,e.offset,e.type);const o=ka();if(o.isComposing()&&o._compositionKey!==e.key&&Qs(n)){const r=n.anchor,i=n.focus;e.set(r.key,r.offset,r.type,!0),t.set(i.key,i.offset,i.type,!0)}}}function aa(e,t,n,r,i,o){if(null===e||null===n||!Xa(i,e,n))return null;const s=ia(e,t,Qs(o)?o.anchor:null,i);if(null===s)return null;const a=ia(n,r,Qs(o)?o.focus:null,i);if(null===a)return null;if("element"===s.type&&"element"===a.type){const t=_l(e),r=_l(n);if(Ba(t)&&Ba(r))return null}return sa(s,a,o),[s,a]}function la(e,t,n,r,i,o){const s=Sa(),a=new CL(Js(e,t,i),Js(n,r,o),0,"");return a.dirty=!0,s._selection=a,a}function ca(){const e=Js("root",0,"element"),t=Js("root",0,"element");return new CL(e,t,0,"")}function ua(){return new wL(new Set)}function da(e,t,n,r){const i=n._window;if(null===i)return null;const o=r||i.event,s=o?o.type:void 0,a="selectionchange"===s,l=!YR&&(a||"beforeinput"===s||"compositionstart"===s||"compositionend"===s||"click"===s&&o&&3===o.detail||"drop"===s||void 0===s);let c,u,d,f;if(Qs(e)&&!l)return e.clone();if(null===t)return null;if(c=t.anchorNode,u=t.focusNode,d=t.anchorOffset,f=t.focusOffset,a&&Qs(e)&&!Xa(n,c,u))return e.clone();const h=aa(c,d,u,f,n,e);if(null===h)return null;const[p,m]=h;return new CL(p,m,Qs(e)?e.format:0,Qs(e)?e.style:"")}function fa(){return Sa()._selection}function ha(){return ka()._editorState._selection}function pa(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const i=e.anchor,o=e.focus,s=i.getNode(),a=o.getNode();if(!t.is(s)&&!t.is(a))return;const l=t.__key;if(e.isCollapsed()){const t=i.offset;if(n<=t&&r>0||n<t&&r<0){const n=Math.max(0,t+r);i.set(l,n,"element"),o.set(l,n,"element"),ma(e)}}else{const s=e.isBackward(),a=s?o:i,c=a.getNode(),u=s?i:o,d=u.getNode();if(t.is(c)){const e=a.offset;(n<=e&&r>0||n<e&&r<0)&&a.set(l,Math.max(0,e+r),"element")}if(t.is(d)){const e=u.offset;(n<=e&&r>0||n<e&&r<0)&&u.set(l,Math.max(0,e+r),"element")}}ma(e)}function ma(e){const t=e.anchor,n=t.offset,r=e.focus,i=r.offset,o=t.getNode(),s=r.getNode();if(e.isCollapsed()){if(!$a(o))return;const e=o.getChildrenSize(),i=n>=e,s=i?o.getChildAtIndex(e-1):o.getChildAtIndex(n);if(Ks(s)){let e=0;i&&(e=s.getTextContentSize()),t.set(s.__key,e,"text"),r.set(s.__key,e,"text")}}else{if($a(o)){const e=o.getChildrenSize(),r=n>=e,i=r?o.getChildAtIndex(e-1):o.getChildAtIndex(n);if(Ks(i)){let e=0;r&&(e=i.getTextContentSize()),t.set(i.__key,e,"text")}}if($a(s)){const e=s.getChildrenSize(),t=i>=e,n=t?s.getChildAtIndex(e-1):s.getChildAtIndex(i);if(Ks(n)){let e=0;t&&(e=n.getTextContentSize()),r.set(n.__key,e,"text")}}}}function ga(e,t,n,r,i){let o=null,s=0,a=null;null!==r?(o=r.__key,Ks(r)?(s=r.getTextContentSize(),a="text"):$a(r)&&(s=r.getChildrenSize(),a="element")):null!==i&&(o=i.__key,Ks(i)?a="text":$a(i)&&(a="element")),null!==o&&null!==a?e.set(o,s,a):(s=t.getIndexWithinParent(),-1===s&&(s=n.getChildrenSize()),e.set(n.__key,s,"element"))}function va(e,t,n,r,i){"text"===e.type?e.set(n,e.offset+(t?0:i),"text"):e.offset>r.getIndexWithinParent()&&e.set(e.key,e.offset-1,"element")}function ya(e,t,n,r,i){try{e.setBaseAndExtent(t,n,r,i)}catch(e){}}function ba(e){let t=e;e.isCollapsed()||t.removeText();const n=fa();Qs(n)&&(t=n),Qs(t)||Ro(161);const r=t.anchor;let i=r.getNode(),o=r.offset;for(;!cc(i);){const e=i;if([i,o]=_a(i,o),e.is(i))break}return o}function _a(e,t){const n=e.getParent();if(!n){const e=Va();return vl().append(e),e.select(),[vl(),0]}if(Ks(e)){const r=e.splitText(t);if(0===r.length)return[n,e.getIndexWithinParent()];const i=0===t?0:1;return[n,r[0].getIndexWithinParent()+i]}if(!$a(e)||0===t)return[n,e.getIndexWithinParent()];const r=e.getChildAtIndex(t);if(r){const n=new CL(Js(e.__key,t,"element"),Js(e.__key,t,"element"),0,""),i=e.insertNewAfter(n);i&&i.append(r,...r.getNextSiblings())}return[n,e.getIndexWithinParent()+1]}function wa(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"decorators-and-blocks";if("move"===t&&"character"===r&&!e.isCollapsed()){const[t,r]=n===e.isBackward()?[e.focus,e.anchor]:[e.anchor,e.focus];return r.set(t.key,t.offset,t.type),!0}const o=Lc(e.focus,n?"previous":"next"),s="lineboundary"===r,a="move"===t;let l=o,c="decorators-and-blocks"===i;if(!qc(l)){for(const e of l){c=!1;const{origin:t}=e;if(!Ba(t)||t.isIsolated()||(l=e,!s||!t.isInline()))break}if(c)for(const e of Dc(o).iterNodeCarets("extend"===t?"shadowRoot":"root")){if(bc(e))e.origin.isInline()||(l=e);else{if($a(e.origin))continue;Ba(e.origin)&&!e.origin.isInline()&&(l=e)}break}}if(l===o)return!1;if(a&&!s&&Ba(l.origin)&&l.origin.isKeyboardSelectable()){const e=ua();return e.add(l.origin.getKey()),bl(e),!0}return l=Kc(l),a&&Pc(e.anchor,l),Pc(e.focus,l),c||!s}function Ca(){return kL||null!==EL&&EL._readOnly}function xa(){kL&&Ro(13)}function Ea(){TL>99&&Ro(14)}function Sa(){return null===EL&&Ro(195,Da()),EL}function ka(){return null===SL&&Ro(196,Da()),SL}function Da(){let e=0;const t=new Set,n=BL.version;if("undefined"!=typeof window)for(const r of document.querySelectorAll("[contenteditable]")){const i=el(r);if(Qa(i))e++;else if(i){let e=String(i.constructor.version||"<0.17.1");e===n&&(e+=" (separately built, likely a bundler configuration issue)"),t.add(e)}}let r=` Detected on the page: ${e} compatible editor(s) with version ${n}`;return t.size&&(r+=` and incompatible editors with versions ${Array.from(t).join(", ")}`),r}function Ta(e,t,n){const r=t.__type,i=function(e,t){const n=e._nodes.get(t);return void 0===n&&Ro(30,t),n}(e,r);let o=n.get(r);void 0===o&&(o=Array.from(i.transforms),n.set(r,o));const s=o.length;for(let e=0;e<s&&(o[e](t),t.isAttached());e++);}function Aa(e,t){return void 0!==e&&e.__key!==t&&e.isAttached()}function Na(e,t){if(!t)return;const n=e._updateTags;let r=t;Array.isArray(t)||(r=[t]);for(const e of r)n.add(e)}function Oa(e,t){const n=e.type,r=t.get(n);void 0===r&&Ro(17,n);const i=r.klass;e.type!==i.getType()&&Ro(18,i.name);const o=i.importJSON(e),s=e.children;if($a(o)&&Array.isArray(s))for(let e=0;e<s.length;e++){const n=Oa(s[e],t);o.append(n)}return o}function ja(e,t,n){const r=EL,i=kL,o=SL;EL=t,kL=!0,SL=e;try{return n()}finally{EL=r,kL=i,SL=o}}function Ma(e,t){const n=e._pendingEditorState,r=e._rootElement,i=e._headless||null===r;if(null===n)return;const o=e._editorState,s=o._selection,a=n._selection,l=0!==e._dirtyType,c=EL,u=kL,d=SL,f=e._updating,h=e._observer;let p=null;if(e._pendingEditorState=null,e._editorState=n,!i&&l&&null!==h){SL=e,EL=n,kL=!1,e._updating=!0;try{const t=e._dirtyType,r=e._dirtyElements,i=e._dirtyLeaves;h.disconnect(),p=function(e,t,n,r,i,o){QR="",nF="",ZR="",rF=2===r,oF=null,$R=n,IR=n._config,zR=n._nodes,BR=$R._listeners.mutation,UR=i,HR=o,WR=e._nodeMap,KR=t._nodeMap,iF=t._readOnly,qR=new Map(n._keyToDOMMap);const s=new Map;return VR=s,ds("root",null),$R=void 0,zR=void 0,UR=void 0,HR=void 0,WR=void 0,KR=void 0,IR=void 0,qR=void 0,VR=void 0,s}(o,n,e,t,r,i)}catch(t){if(t instanceof Error&&e._onError(t),DL)throw t;return Ya(e,null,r,n),Wo(e),e._dirtyType=2,DL=!0,Ma(e,o),void(DL=!1)}finally{h.observe(r,AL),e._updating=f,EL=c,kL=u,SL=d}}n._readOnly||(n._readOnly=!0);const m=e._dirtyLeaves,g=e._dirtyElements,v=e._normalizedNodes,y=e._updateTags,b=e._deferred;l&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(e,t){const n=e._decorators;let r=e._pendingDecorators||n;const i=t._nodeMap;let o;for(o in r)i.has(o)||(r===n&&(r=ml(e)),delete r[o])}(e,n);const _=i?null:nc(Vl(e));if(e._editable&&null!==_&&(l||null===a||a.dirty)&&null!==r&&!y.has(IL)){SL=e,EL=n;try{if(null!==h&&h.disconnect(),l||null===a||a.dirty){const t=e._blockCursorElement;null!==t&&tc(t,e,r),function(e,t,n,r,i,o){const s=r.anchorNode,a=r.focusNode,l=r.anchorOffset,c=r.focusOffset,u=document.activeElement;if(i.has(LL)&&u!==o||null!==u&&Ga(u))return;if(!Qs(t))return void(null!==e&&Xa(n,s,a)&&r.removeAllRanges());const d=t.anchor,f=t.focus,h=d.key,p=f.key,m=zl(n,h),g=zl(n,p),v=d.offset,y=f.offset,b=t.format,_=t.style,w=t.isCollapsed();let C=m,x=g,E=!1;if("text"===d.type){C=il(m);const e=d.getNode();E=e.getFormat()!==b||e.getStyle()!==_}else Qs(e)&&"text"===e.anchor.type&&(E=!0);var S,k,D,T,A;if("text"===f.type&&(x=il(g)),null!==C&&null!==x&&(w&&(null===e||E||Qs(e)&&(e.format!==b||e.style!==_))&&(S=b,k=_,D=v,T=h,A=performance.now(),fL=[S,k,D,T,A]),l!==v||c!==y||s!==C||a!==x||"Range"===r.type&&w||(null!==u&&o.contains(u)||o.focus({preventScroll:!0}),"element"===d.type))){if(ya(r,C,v,x,y),!i.has(PL)&&t.isCollapsed()&&null!==o&&o===document.activeElement){const e=Qs(t)&&"element"===t.anchor.type?C.childNodes[v]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==e){let t;if(e instanceof Text){const n=document.createRange();n.selectNode(e),t=n.getBoundingClientRect()}else t=e.getBoundingClientRect();!function(e,t,n){const r=Ul(n),i=ql(r);if(null===r||null===i)return;let{top:o,bottom:s}=t,a=0,l=0,c=n;for(;null!==c;){const t=c===r.body;if(t)a=0,l=Vl(e).innerHeight;else{const e=c.getBoundingClientRect();a=e.top,l=e.bottom}let n=0;if(o<a?n=-(a-o):s>l&&(n=s-l),0!==n)if(t)i.scrollBy(0,n);else{const e=c.scrollTop;c.scrollTop+=n;const t=c.scrollTop-e;o-=t,s-=t}if(t)break;c=Bl(c)}}(n,t,o)}}oL=!0}}(s,a,e,_,y,r)}!function(e,t,n){let r=e._blockCursorElement;if(Qs(n)&&n.isCollapsed()&&"element"===n.anchor.type&&t.contains(document.activeElement)){const i=n.anchor,o=i.getNode(),s=i.offset;let a=!1,l=null;if(s===o.getChildrenSize())ec(o.getChildAtIndex(s-1))&&(a=!0);else{const t=o.getChildAtIndex(s);if(null!==t&&ec(t)){const n=t.getPreviousSibling();(null===n||ec(n))&&(a=!0,l=e.getElementByKey(t.__key))}}if(a){const n=e.getElementByKey(o.__key);return null===r&&(e._blockCursorElement=r=function(e){const t=e.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");let r=t.blockCursor;if(void 0!==r){if("string"==typeof r){const e=Fo(r);r=t.blockCursor=e}void 0!==r&&n.classList.add(...r)}return n}(e._config)),t.style.caretColor="transparent",void(null===l?n.appendChild(r):n.insertBefore(r,l))}}null!==r&&tc(r,e,t)}(e,r,a)}finally{null!==h&&h.observe(r,AL),SL=d,EL=c}}null!==p&&function(e,t,n,r,i){const o=Array.from(e._listeners.mutation),s=o.length;for(let e=0;e<s;e++){const[s,a]=o[e],l=t.get(a)
;void 0!==l&&s(l,{dirtyLeaves:r,prevEditorState:i,updateTags:n})}}(e,p,y,m,o),Qs(a)||null===a||null!==s&&s.is(a)||e.dispatchCommand(aF,void 0);const w=e._pendingDecorators;null!==w&&(e._decorators=w,e._pendingDecorators=null,Ra("decorator",e,!0,w)),function(e,t,n){const r=gl(t),i=gl(n);r!==i&&Ra("textcontent",e,!0,i)}(e,t||o,n),Ra("update",e,!0,{dirtyElements:g,dirtyLeaves:m,editorState:n,mutatedNodes:p,normalizedNodes:v,prevEditorState:t||o,tags:y}),function(e,t){if(e._deferred=[],0!==t.length){const n=e._updating;e._updating=!0;try{for(let e=0;e<t.length;e++)t[e]()}finally{e._updating=n}}}(e,b),function(e){const t=e._updates;if(0!==t.length){const n=t.shift();if(n){const[t,r]=n;La(e,t,r)}}}(e)}function Ra(e,t,n){const r=t._updating;t._updating=n;try{const n=Array.from(t._listeners[e]);for(var i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];for(let e=0;e<n.length;e++)n[e].apply(null,o)}finally{t._updating=r}}function Fa(e,t){const n=e._updates;let r=t||!1;for(;0!==n.length;){const t=n.shift();if(t){const[n,i]=t;let o;if(void 0!==i){if(o=i.onUpdate,i.skipTransforms&&(r=!0),i.discrete){const t=e._pendingEditorState;null===t&&Ro(191),t._flushSync=!0}o&&e._deferred.push(o),Na(e,i.tag)}n()}}return r}function La(e,t,n){const r=e._updateTags;let i,o=!1,s=!1;void 0!==n&&(i=n.onUpdate,Na(e,n.tag),o=n.skipTransforms||!1,s=n.discrete||!1),i&&e._deferred.push(i);const a=e._editorState;let l=e._pendingEditorState,c=!1;(null===l||l._readOnly)&&(l=e._pendingEditorState=Ha(l||a),c=!0),l._flushSync=s;const u=EL,d=kL,f=SL,h=e._updating;EL=l,kL=!1,e._updating=!0,SL=e;const p=e._headless||null===e.getRootElement();try{c&&(p?null!==a._selection&&(l._selection=a._selection.clone()):l._selection=function(e,t){const n=e.getEditorState()._selection,r=nc(Vl(e));return Qs(n)||null==n?da(n,r,e,t):n.clone()}(e,n&&n.event||null));const r=e._compositionKey;t(),o=Fa(e,o),function(e,t){const n=t.getEditorState()._selection,r=e._selection;if(Qs(r)){const e=r.anchor,t=r.focus;let i;if("text"===e.type&&(i=e.getNode(),i.selectionTransform(n,r)),"text"===t.type){const e=t.getNode();i!==e&&e.selectionTransform(n,r)}}}(l,e),0!==e._dirtyType&&(o?function(e,t){const n=t._dirtyLeaves,r=e._nodeMap;for(const e of n){const t=r.get(e);Ks(t)&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&Xo(t)}}(l,e):function(e,t){const n=t._dirtyLeaves,r=t._dirtyElements,i=e._nodeMap,o=ul(),s=new Map;let a=n,l=a.size,c=r,u=c.size;for(;l>0||u>0;){if(l>0){t._dirtyLeaves=new Set;for(const e of a){const r=i.get(e);Ks(r)&&r.isAttached()&&r.isSimpleText()&&!r.isUnmergeable()&&Xo(r),void 0!==r&&Aa(r,o)&&Ta(t,r,s),n.add(e)}if(a=t._dirtyLeaves,l=a.size,l>0){TL++;continue}}t._dirtyLeaves=new Set,t._dirtyElements=new Map,c.delete("root")&&c.set("root",!0);for(const e of c){const n=e[0],a=e[1];if(r.set(n,a),!a)continue;const l=i.get(n);void 0!==l&&Aa(l,o)&&Ta(t,l,s)}a=t._dirtyLeaves,l=a.size,c=t._dirtyElements,u=c.size,TL++}t._dirtyLeaves=n,t._dirtyElements=r}(l,e),Fa(e),function(e,t,n,r){const i=e._nodeMap,o=t._nodeMap,s=[];for(const[e]of r){const t=o.get(e);void 0!==t&&(t.isAttached()||($a(t)&&Lo(t,e,i,o,s,r),i.has(e)||r.delete(e),s.push(e)))}for(const e of s)o.delete(e);for(const e of n){const t=o.get(e);void 0===t||t.isAttached()||(i.has(e)||n.delete(e),o.delete(e))}}(a,l,e._dirtyLeaves,e._dirtyElements)),r!==e._compositionKey&&(l._flushSync=!0);const i=l._selection;if(Qs(i)){const e=l._nodeMap,t=i.anchor.key,n=i.focus.key;void 0!==e.get(t)&&void 0!==e.get(n)||Ro(19)}else Zs(i)&&0===i._nodes.size&&(l._selection=null)}catch(t){return t instanceof Error&&e._onError(t),e._pendingEditorState=a,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void Ma(e)}finally{EL=u,kL=d,SL=f,e._updating=h,TL=0}const m=0!==e._dirtyType||e._deferred.length>0||function(e,t){const n=t.getEditorState()._selection,r=e._selection;if(null!==r){if(r.dirty||!r.is(n))return!0}else if(null!==n)return!0;return!1}(l,e);m?l._flushSync?(l._flushSync=!1,Ma(e)):c&&HL((()=>{Ma(e)})):(l._flushSync=!1,c&&(r.clear(),e._deferred=[],e._pendingEditorState=null))}function Pa(e,t,n){SL===e&&void 0===n?t():La(e,t,n)}function Ia(e,t){const n=[];let r=t;for(;r!==e&&null!==r;r=r.parentNode){let e=0;for(let t=r.previousSibling;null!==t;t=t.previousSibling)e++;n.push(e)}return r!==e&&Ro(225),n.reverse()}function $a(e){return e instanceof OL}function za(e,t,n){let r=e.getNode();for(;r;){const e=r.__key;if(t.has(e)&&!n.has(e))return!0;r=r.getParent()}return!1}function Ba(e){return e instanceof jL}function Ua(e){return e instanceof ML}function Ha(e){return new RL(new Map(e._nodeMap))}function Wa(){return new RL(new Map([["root",new ML]]))}function Ka(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&Ro(130,n.name),$a(e)){const r=t.children;Array.isArray(r)||Ro(59,n.name);const i=e.getChildren();for(let e=0;e<i.length;e++){const t=Ka(i[e]);r.push(t)}}return t}function qa(e){const t=Va();return e.style&&(t.setFormat(e.style.textAlign),hc(e,t)),{node:t}}function Va(){return Xl(new zL)}function Ya(e,t,n,r){const i=e._keyToDOMMap;i.clear(),e._editorState=Wa(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;const o=e._observer;null!==o&&(o.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",i.set("root",n))}function Ja(e){return Ba(pl(e))}function Ga(e){const t=document.activeElement;if(!ic(t))return!1;const n=t.nodeName;return Ba(pl(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==el(t))}function Xa(e,t,n){const r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&!Ga(t)&&Za(t)===e}catch(e){return!1}}function Qa(e){return e instanceof BL}function Za(e){let t=e;for(;null!=t;){const e=el(t);if(Qa(e))return e;t=Bl(t)}return null}function el(e){return e?e.__lexicalEditor:null}function tl(e){return e.isToken()||e.isSegmented()}function nl(e){return oc(e)&&3===e.nodeType}function rl(e){return oc(e)&&9===e.nodeType}function il(e){let t=e;for(;null!=t;){if(nl(t))return t;t=t.firstChild}return null}function ol(e,t,n){const r=OR[t];if(null!==n&&(e&r)==(n&r))return e;let i=e^r;return"subscript"===t?i&=~OR.superscript:"superscript"===t?i&=~OR.subscript:"lowercase"===t?(i&=~OR.uppercase,i&=~OR.capitalize):"uppercase"===t?(i&=~OR.lowercase,i&=~OR.capitalize):"capitalize"===t&&(i&=~OR.lowercase,i&=~OR.uppercase),i}function sl(e,t){if(null!=t)return void(e.__key=t);xa(),Ea();const n=ka(),r=Sa(),i=""+UL++;r._nodeMap.set(i,e),$a(e)?n._dirtyElements.set(i,!0):n._dirtyLeaves.add(i),n._cloneNotNeeded.add(i),n._dirtyType=1,e.__key=i}function al(e){const t=e.getParent();if(null!==t){const n=e.getWritable(),r=t.getWritable(),i=e.getPreviousSibling(),o=e.getNextSibling(),s=null!==o?o.__key:null,a=null!==i?i.__key:null,l=null!==i?i.getWritable():null,c=null!==o?o.getWritable():null;null===i&&(r.__first=s),null===o&&(r.__last=a),null!==l&&(l.__next=s),null!==c&&(c.__prev=a),n.__prev=null,n.__next=null,n.__parent=null,r.__size--}}function ll(e){Ea();const t=e.getLatest(),n=t.__parent,r=Sa(),i=ka(),o=r._nodeMap,s=i._dirtyElements;null!==n&&function(e,t,n){let r=e;for(;null!==r;){if(n.has(r))return;const e=t.get(r);if(void 0===e)break;n.set(r,!1),r=e.__parent}}(n,o,s);const a=t.__key;i._dirtyType=1,$a(e)?s.set(a,!0):i._dirtyLeaves.add(a)}function cl(e){xa();const t=ka(),n=t._compositionKey;if(e!==n){if(t._compositionKey=e,null!==n){const e=dl(n);null!==e&&e.getWritable()}if(null!==e){const t=dl(e);null!==t&&t.getWritable()}}}function ul(){return Ca()?null:ka()._compositionKey}function dl(e,t){const n=(t||Sa())._nodeMap.get(e);return void 0===n?null:n}function fl(e,t){const n=hl(e,ka());return void 0!==n?dl(n,t):null}function hl(e,t){return e[`__lexicalKey_${t._key}`]}function pl(e,t){let n=e;for(;null!=n;){const e=fl(n,t);if(null!==e)return e;n=Bl(n)}return null}function ml(e){const t=e._decorators,n=Object.assign({},t);return e._pendingDecorators=n,n}function gl(e){return e.read((()=>vl().getTextContent()))}function vl(){return yl(Sa())}function yl(e){return e._nodeMap.get("root")}function bl(e){xa();const t=Sa();null!==e&&(e.dirty=!0,e.setCachedNodes(null)),t._selection=e}function _l(e){const t=ka(),n=function(e,t){let n=e;for(;null!=n;){const e=hl(n,t);if(void 0!==e)return e;n=Bl(n)}return null}(e,t);return null===n?e===t.getRootElement()?dl("root"):null:dl(n)}function wl(e,t){return t?e.getTextContentSize():0}function Cl(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function xl(e){const t=[];let n=e;for(;null!==n;)t.push(n),n=n._parentEditor;return t}function El(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function Sl(e){return nl(e)?e.nodeValue:null}function kl(e,t,n){const r=nc(Vl(t));if(null===r)return;const i=r.anchorNode;let{anchorOffset:o,focusOffset:s}=r;if(null!==i){let t=Sl(i);const r=pl(i);if(null!==t&&Ks(r)){if(t===ER&&n){const e=n.length;t=n,o=e,s=e}null!==t&&Dl(r,t,o,s,e)}}}function Dl(e,t,n,r,i){let o=e;if(o.isAttached()&&(i||!o.isDirty())){const s=o.isComposing();let a=t;(s||i)&&t[t.length-1]===ER&&(a=t.slice(0,-1));const l=o.getTextContent();if(i||a!==l){if(""===a){if(cl(null),cR||uR||pR)o.remove();else{const e=ka();setTimeout((()=>{e.update((()=>{o.isAttached()&&o.remove()}))}),20)}return}const t=o.getParent(),i=ha(),l=o.getTextContentSize(),c=ul(),u=o.getKey();if(o.isToken()||null!==c&&u===c&&!s||Qs(i)&&(null!==t&&!t.canInsertTextBefore()&&0===i.anchor.offset||i.anchor.key===e.__key&&0===i.anchor.offset&&!o.canInsertTextBefore()&&!s||i.focus.key===e.__key&&i.focus.offset===l&&!o.canInsertTextAfter()&&!s))return void o.markDirty();const d=fa();if(!Qs(d)||null===n||null===r)return void o.setTextContent(a);if(d.setTextNodeRange(o,n,o,r),o.isSegmented()){const e=Ws(o.getTextContent());o.replace(e),o=e}o.setTextContent(a)}}}function Tl(e,t,n){const r=t[n]||!1;return"any"===r||r===e[n]}function Al(e,t){return Tl(e,t,"altKey")&&Tl(e,t,"ctrlKey")&&Tl(e,t,"shiftKey")&&Tl(e,t,"metaKey")}function Nl(e,t,n){return Al(e,n)&&e.key.toLowerCase()===t.toLowerCase()}function Ol(e){return"Backspace"===e.key}function jl(e){return Nl(e,"a",WL)}function Ml(e,t){void 0===e.__lexicalClassNameCache&&(e.__lexicalClassNameCache={});const n=e.__lexicalClassNameCache,r=n[t];if(void 0!==r)return r;const i=e[t];if("string"==typeof i){const e=Fo(i);return n[t]=e,e}return i}function Rl(e,t,n,r,i){if(0===n.size)return;const o=r.__type,s=r.__key,a=t.get(o);void 0===a&&Ro(33,o);const l=a.klass;let c=e.get(l);void 0===c&&(c=new Map,e.set(l,c));const u=c.get(s),d="destroyed"===u&&"created"===i;(void 0===u||d)&&c.set(s,d?"updated":i)}function Fl(e,t,n){const r=e.getParent();let i=n,o=e;return null!==r&&(t&&0===n?(i=o.getIndexWithinParent(),o=r):t||n!==o.getChildrenSize()||(i=o.getIndexWithinParent()+1,o=r)),o.getChildAtIndex(t?i-1:i)}function Ll(e,t){const n=e.offset;if("element"===e.type)return Fl(e.getNode(),t,n);{const r=e.getNode();if(t&&0===n||!t&&n===r.getTextContentSize()){const e=t?r.getPreviousSibling():r.getNextSibling();return null===e?Fl(r.getParentOrThrow(),t,r.getIndexWithinParent()+(t?0:1)):e}}return null}function Pl(e){const t=Vl(e).event,n=t&&t.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n}function Il(e,t,n){return function(e,t,n){const r=xl(e);for(let i=4;i>=0;i--)for(let o=0;o<r.length;o++){const s=r[o],a=s._commands.get(t);if(void 0!==a){const t=a[i];if(void 0!==t){const r=Array.from(t),i=r.length;let o=!1;if(Pa(s,(()=>{for(let t=0;t<i;t++)if(r[t](n,e))return void(o=!0)})),o)return o}}}return!1}(e,t,n)}function $l(e){return!Ua(e)&&!e.isLastChild()&&!e.isInline()}function zl(e,t){const n=e._keyToDOMMap.get(t);return void 0===n&&Ro(75,t),n}function Bl(e){const t=e.assignedSlot||e.parentElement;return sc(t)?t.host:t}function Ul(e){return rl(e)?e:ic(e)?e.ownerDocument:null}function Hl(e){xa(),ka()._updateTags.add(e)}function Wl(e){xa(),ka()._deferred.push(e)}function Kl(e,t){let n=e.getParent();for(;null!==n;){if(n.is(t))return!0;n=n.getParent()}return!1}function ql(e){const t=Ul(e);return t?t.defaultView:null}function Vl(e){const t=e._window;return null===t&&Ro(78),t}function Yl(e){let t=e.getParentOrThrow();for(;null!==t;){if(Jl(t))return t;t=t.getParentOrThrow()}return t}function Jl(e){return Ua(e)||$a(e)&&e.isShadowRoot()}function Gl(e){const t=e.constructor.clone(e);return sl(t,null),t}function Xl(e){const t=ka(),n=e.constructor.getType(),r=t._nodes.get(n);void 0===r&&Ro(200,e.constructor.name,n);const{replace:i,replaceWithKlass:o}=r;if(null!==i){const t=i(e),r=t.constructor;return null!==o?t instanceof o||Ro(201,o.name,o.getType(),r.name,r.getType(),e.constructor.name,n):t instanceof e.constructor&&r!==e.constructor||Ro(202,r.name,r.getType(),e.constructor.name,n),t.__key===e.__key&&Ro(203,e.constructor.name,n,r.name,r.getType()),t}return e}function Ql(e,t){!Ua(e.getParent())||$a(t)||Ba(t)||Ro(99)}function Zl(e){const t=dl(e);return null===t&&Ro(63,e),t}function ec(e){return(Ba(e)||$a(e)&&!e.canBeEmpty())&&!e.isInline()}function tc(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null;const r=e.parentElement;null!==r&&r.removeChild(e)}function nc(e){return iR?(e||window).getSelection():null}function rc(e){const t=ql(e);return t?t.getSelection():null}function ic(e){return oc(e)&&1===e.nodeType}function oc(e){return"object"==typeof e&&null!==e&&"nodeType"in e&&"number"==typeof e.nodeType}function sc(e){return oc(e)&&11===e.nodeType}function ac(e){const t=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==e.nodeName.match(t)}function lc(e){const t=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==e.nodeName.match(t)}function cc(e){if(Ba(e)&&!e.isInline())return!0;if(!$a(e)||Jl(e))return!1;const t=e.getFirstChild(),n=null===t||Ns(t)||Ks(t)||t.isInline();return!e.isInline()&&!1!==e.canBeEmpty()&&n}function uc(e,t){let n=e;for(;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}function dc(e){if(!e._readOnly&&e.isEmpty())return VL;e._readOnly||Ro(192);let t=qL.get(e);return t||(t=function(e){const t=new Map;for(const[n,r]of e._nodeMap){const e=r.__type;let i=t.get(e);i||(i=new Map,t.set(e,i)),i.set(n,r)}return t}(e),qL.set(e,t)),t}function fc(e){const t=e.constructor.clone(e);return t.afterCloneFrom(e),t}function hc(e,t){const n=parseInt(e.style.paddingInlineStart,10)||0,r=Math.round(n/40);t.setIndent(r)}function pc(e){return!0===e.__lexicalUnmanaged}function mc(e){return YL[e]}function gc(e){return XL[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root"](e)?null:e}function vc(e){return e instanceof ZL}function yc(e){return e instanceof QL}function bc(e){return e instanceof GL}function _c(e,t){return e?new tP[t](e):null}function wc(e,t,n){return e?new eP[t](e,Cc(e,n)):null}function Cc(e,t){const n=e.getTextContentSize();let r="next"===t?n:"previous"===t?0:t;return(r<0||r>n)&&(function(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(const e of i)n.append("v",e);t.search=n.toString(),console.warn(`Minified Lexical warning #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(284,String(t),String(n),e.getKey()),r=r<0?0:n),r}function xc(e,t){return new iP(e,t)}function Ec(e,t){return $a(e)?new nP[t](e):null}function Sc(e){return e&&e.getChildCaret()||e}function kc(e){return e&&Sc(e.getAdjacentCaret())}function Dc(e){return Ac(e,_c(vl(),e.direction))}function Tc(e){return Ac(e,e)}function Ac(e,t){return e.direction!==t.direction&&Ro(265),new rP(e,t,e.direction)}function Nc(e){const{initial:t,hasNext:n,step:r,map:i}=e;let o=t;return{[Symbol.iterator](){return this},next(){if(!n(o))return{done:!0,value:void 0};const e={done:!1,value:i(o)};return o=r(o),e}}}function Oc(e,t){const n=Fc(e.origin,t.origin);switch(null===n&&Ro(275,e.origin.getKey(),t.origin.getKey()),n.type){case"same":{const n="text"===e.type,r="text"===t.type;return n&&r?function(e,t){return Math.sign(e-t)}(e.offset,t.offset):e.type===t.type?0:n?-1:r?1:"child"===e.type?-1:1}case"ancestor":return"child"===e.type?-1:1;case"descendant":return"child"===t.type?1:-1;case"branch":return jc(n)}}function jc(e){const{a:t,b:n}=e,r=t.__key,i=n.__key;let o=t,s=n;for(;o&&s;o=o.getNextSibling(),s=s.getNextSibling()){if(o.__key===i)return-1;if(s.__key===r)return 1}return null===o?1:-1}function Mc(e,t){return t.is(e)}function Rc(e){return $a(e)?[e.getLatest(),null]:[e.getParent(),e.getLatest()]}function Fc(e,t){if(e.is(t))return{commonAncestor:e,type:"same"};const n=new Map;for(let[t,r]=Rc(e);t;r=t,t=t.getParent())n.set(t,r);for(let[r,i]=Rc(t);r;i=r,r=r.getParent()){const o=n.get(r);if(void 0!==o)return null===o?(Mc(e,r)||Ro(276),{commonAncestor:r,type:"ancestor"}):null===i?(Mc(t,r)||Ro(277),{commonAncestor:r,type:"descendant"}):(($a(o)||Mc(e,o))&&($a(i)||Mc(t,i))&&r.is(o.getParent())&&r.is(i.getParent())||Ro(278),{a:o,b:i,commonAncestor:r,type:"branch"})}return null}function Lc(e,t){const{type:n,key:r,offset:i}=e,o=Zl(e.key);return"text"===n?(Ks(o)||Ro(266,o.getType(),r),wc(o,t,i)):($a(o)||Ro(267,o.getType(),r),Jc(o,e.offset,t))}function Pc(e,t){const{origin:n,direction:r}=t,i="next"===r;vc(t)?e.set(n.getKey(),t.offset,"text"):yc(t)?Ks(n)?e.set(n.getKey(),Cc(n,r),"text"):e.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent()+(i?1:0),"element"):(bc(t)&&$a(n)||Ro(268),e.set(n.getKey(),i?0:n.getChildrenSize(),"element"))}function Ic(e){const t=fa(),n=Qs(t)?t:ca();return $c(n,e),bl(n),n}function $c(e,t){Pc(e.anchor,t.anchor),Pc(e.focus,t.focus)}function zc(e){const{anchor:t,focus:n}=e,r=Lc(t,"next"),i=Lc(n,"next"),o=Oc(r,i)<=0?"next":"previous";return Ac(Vc(r,o),Vc(i,o))}function Bc(e){const{direction:t,origin:n}=e,r=_c(n,mc(t)).getNodeAtCaret();return r?_c(r,t):Ec(n.getParentOrThrow(),t)}function Uc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root";const n=[e];for(let r=bc(e)?e.getParentCaret(t):e.getSiblingCaret();null!==r;r=r.getParentCaret(t))n.push(Bc(r));return n}function Hc(e){return!!e&&e.origin.isAttached()}function Wc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"removeEmptySlices";if(e.isCollapsed())return e;const n="root",r="next";let i=t;const o=Yc(e,r),s=Uc(o.anchor,n),a=Uc(o.focus.getFlipped(),n),l=new Set,c=[];for(const e of o.iterNodeCarets(n))if(bc(e))l.add(e.origin.getKey());else if(yc(e)){const{origin:t}=e;$a(t)&&!l.has(t.getKey())||c.push(t)}for(const e of c)e.remove();for(const e of o.getTextSlices()){if(!e)continue;const{origin:t}=e.caret,n=t.getTextContentSize(),o=Bc(_c(t,r)),l=t.getMode();if(Math.abs(e.distance)===n&&"removeEmptySlices"===i||"token"===l&&0!==e.distance)o.remove();else if(0!==e.distance){i="removeEmptySlices";let t=e.removeTextSlice();const n=e.caret.origin;if("segmented"===l){const e=t.origin,n=Ws(e.getTextContent()).setStyle(e.getStyle()).setFormat(e.getFormat());o.replaceOrInsert(n),t=wc(n,r,t.offset)}n.is(s[0].origin)&&(s[0]=t),n.is(a[0].origin)&&(a[0]=t.getFlipped())}}let u,d;for(const e of s)if(Hc(e)){u=Kc(e);break}for(const e of a)if(Hc(e)){d=Kc(e);break}const f=function(e,t,n){if(!e||!t)return null;const r=e.getParentAtCaret(),i=t.getParentAtCaret();if(!r||!i)return null;const o=r.getParents().reverse();o.push(r);const s=i.getParents().reverse();s.push(i);const a=Math.min(o.length,s.length);let l;for(l=0;l<a&&o[l]===s[l];l++);const c=(e,t)=>{let n;for(let r=l;r<e.length;r++){const i=e[r];if(Jl(i))return;!n&&t(i)&&(n=i)}return n},u=c(o,cc),d=u&&c(s,(e=>n.has(e.getKey())&&cc(e)));return u&&d?[u,d]:null}(u,d,l);if(f){const[e,t]=f;Ec(e,"previous").splice(0,t.getChildren()),t.remove()}const h=[u,d,...s,...a].find(Hc);if(h)return Tc(Vc(Kc(h),e.direction));Ro(269,JSON.stringify(s.map((e=>e.origin.__key))))}function Kc(e){const t=function(e){let t=e;for(;bc(t);){const e=kc(t);if(!bc(e))break;t=e}return t}(e.getLatest()),{direction:n}=t;if(Ks(t.origin))return vc(t)?t:wc(t.origin,n,n);const r=t.getAdjacentCaret();return yc(r)&&Ks(r.origin)?wc(r.origin,n,mc(n)):t}function qc(e){return vc(e)&&e.offset!==Cc(e.origin,e.direction)}function Vc(e,t){return e.direction===t?e:e.getFlipped()}function Yc(e,t){return e.direction===t?e:Ac(Vc(e.focus,t),Vc(e.anchor,t))}function Jc(e,t,n){let r=Ec(e,"next");for(let e=0;e<t;e++){const e=r.getAdjacentCaret();if(null===e)break;r=e}return Vc(r,n)}function Gc(e){const{origin:t,offset:n,direction:r}=e;if(n===Cc(t,r))return e.getSiblingCaret();if(n===Cc(t,mc(r)))return Bc(e.getSiblingCaret());const[i]=t.splitText(n);return Ks(i)||Ro(281),Vc(_c(i,"next"),r)}function Xc(){return!0}function Qc(e){throw new Error(e)}function Zc(e){let t=e;for(;null!=t;){if(t.nodeType===Node.TEXT_NODE)return t;t=t.firstChild}return null}function eu(e){const t=e.parentNode;if(null==t)throw new Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(e)]}function tu(e){const t={};if(!e)return t;const n=e.split(";");for(const e of n)if(""!==e){const[n,r]=e.split(/:([^]+)/);n&&r&&(t[n.trim()]=r.trim())}return t}function nu(e){let t=$$.get(e);return void 0===t&&(t=tu(e),$$.set(e,t)),Object.freeze(t),t}function ru(e){let t="";for(const n in e)n&&(t+=`${n}: ${e[n]};`);return t}function iu(e,t,n){let r=t.getNode(),i=n;if(HP(r)){const e=r.getDescendantByIndex(t.offset);null!==e&&(r=e)}for(;i>0&&null!==r;){if(HP(r)){const e=r.getLastDescendant();null!==e&&(r=e)}let n=r.getPreviousSibling(),o=0;if(null===n){let e=r.getParentOrThrow(),t=e.getPreviousSibling();for(;null===t;){if(e=e.getParent(),null===e){n=null;break}t=e.getPreviousSibling()}null!==e&&(o=e.isInline()?0:2,n=t)}let s=r.getTextContent();""===s&&HP(r)&&!r.isInline()&&(s="\n\n");const a=s.length;if(!tI(r)||i>=a){const e=r.getParent();r.remove(),null==e||0!==e.getChildrenSize()||XP(e)||e.remove(),i-=a+o,r=n}else{const n=r.getKey(),o=e.getEditorState().read((()=>{const e=NP(n);return tI(e)&&e.isSimpleText()?e.getTextContent():null})),l=a-i,c=s.slice(0,l);if(null!==o&&o!==s){const e=jP();let t=r;if(r.isSimpleText())r.setTextContent(o);else{const e=bP(o);r.replace(e),t=e}if(GP(e)&&e.isCollapsed()){const n=e.anchor.offset;t.select(n,n)}}else if(r.isSimpleText()){const e=t.key===n;let o=t.offset;o<i&&(o=a);const s=e?o-i:0,c=e?o:l;if(e&&0===s){const[e]=r.splitText(s,c);e.remove()}else{const[,e]=r.splitText(s,c);e.remove()}}else{const e=bP(c);r.replace(e)}i=0}}}function ou(e,t){(GP(e)?e.isCollapsed():tI(e)||HP(e))||Qc("$patchStyle must only be called with a TextNode, ElementNode, or collapsed RangeSelection");const n=nu(GP(e)?e.style:tI(e)?e.getStyle():e.getTextStyle()),r=Object.entries(t).reduce(((t,r)=>{let[i,o]=r;return"function"==typeof o?t[i]=o(n[i],e):null===o?delete t[i]:t[i]=o,t}),{...n}),i=ru(r);GP(e)||tI(e)?e.setStyle(i):e.setTextStyle(i),$$.set(i,r)}function su(e){const t=RP();if(!t)return;const n=new Map,r=e=>n.get(e.getKey())||[0,e.getTextContentSize()];if(GP(t))for(const e of uP(t).getTextSlices())e&&n.set(e.caret.origin.getKey(),e.getSliceIndices());const i=t.getNodes();for(const t of i){if(!tI(t)||!t.canHaveFormat())continue;const[n,i]=r(t);i!==n&&(rI(t)||0===n&&i===t.getTextContentSize()?e(t):e(t.splitText(n,i)[0===n?0:1]))}GP(t)&&"text"===t.anchor.type&&"text"===t.focus.type&&t.anchor.key===t.focus.key&&au(t)}function au(e){if(e.isBackward()){const{anchor:t,focus:n}=e,{key:r,offset:i,type:o}=t;t.set(n.key,n.offset,n.type),n.set(r,i,o)}}function lu(e,t){const n=e.getFormatType(),r=e.getIndent();n!==t.getFormatType()&&t.setFormat(n),r!==t.getIndent()&&t.setIndent(r)}function cu(e){return e.getNode().isAttached()}function uu(e){let t=e;for(;null!==t&&!QP(t);){const e=t.getLatest(),n=t.getParent();0===e.getChildrenSize()&&t.remove(!0),t=n}}function du(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(0===t.length)return;const o=t[0],s=new Map,a=[];let l=HP(o)?o:o.getParentOrThrow();l.isInline()&&(l=l.getParentOrThrow());let c=!1;for(;null!==l;){const e=l.getPreviousSibling();if(null!==e){l=e,c=!0;break}if(l=l.getParentOrThrow(),QP(l))break}const u=new Set;for(let e=0;e<n;e++){const n=t[e];HP(n)&&0===n.getChildrenSize()&&u.add(n.getKey())}const d=new Set;for(let e=0;e<n;e++){const n=t[e];let i=n.getParent();if(null!==i&&i.isInline()&&(i=i.getParent()),null!==i&&qP(n)&&!d.has(n.getKey())){const e=i.getKey();if(void 0===s.get(e)){const t=r();t.setFormat(i.getFormatType()),t.setIndent(i.getIndent()),a.push(t),s.set(e,t),i.getChildren().forEach((e=>{t.append(e),d.add(e.getKey()),HP(e)&&e.getChildrenKeys().forEach((e=>d.add(e)))})),uu(i)}}else if(u.has(n.getKey())){HP(n)||Qc("Expected node in emptyElements to be an ElementNode");const e=r();e.setFormat(n.getFormatType()),e.setIndent(n.getIndent()),a.push(e),n.remove(!0)}}if(null!==i)for(let e=0;e<a.length;e++){const t=a[e];i.append(t)}let f=null;if(QP(l))if(c)if(null!==i)l.insertAfter(i);else for(let e=a.length-1;e>=0;e--){const t=a[e];l.insertAfter(t)}else{const e=l.getFirstChild();if(HP(e)&&(l=e),null===e)if(i)l.append(i);else for(let e=0;e<a.length;e++){const t=a[e];l.append(t),f=t}else if(null!==i)e.insertBefore(i);else for(let t=0;t<a.length;t++){const n=a[t];e.insertBefore(n),f=n}}else if(i)l.insertAfter(i);else for(let e=a.length-1;e>=0;e--){const t=a[e];l.insertAfter(t),f=t}const h=jP();GP(h)&&cu(h.anchor)&&cu(h.focus)?uI(h.clone()):null!==f?f.selectEnd():e.dirty=!0}function fu(e){const t=e.anchor.getNode(),n=XP(t)?t:t.getParentOrThrow(),r=TP().getElementByKey(n.getKey());if(null===r)return!1;const i=r.ownerDocument.defaultView;return null!==i&&"vertical-rl"===i.getComputedStyle(r).writingMode}function hu(e,t,n,r){e.modify(t?"extend":"move",n,r)}function pu(e){const t=e.anchor.getNode();return"rtl"===(XP(t)?t:t.getParentOrThrow()).getDirection()}function mu(e,t,n){const r=nu(e.getStyle());return null!==r&&r[t]||n}function gu(e,t){let n=e;for(;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}function vu(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(const e of i)n.append("v",e);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function yu(e){let t=e;for(;null!=t;){if(t.nodeType===Node.TEXT_NODE)return t;t=t.firstChild}return null}function bu(e){const t=e.parentNode;if(null==t)throw new Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(e)]}function _u(e){const t={};if(!e)return t;const n=e.split(";");for(const e of n)if(""!==e){const[n,r]=e.split(/:([^]+)/);n&&r&&(t[n.trim()]=r.trim())}return t}function wu(e){let t=B$.get(e);return void 0===t&&(t=_u(e),B$.set(e,t)),t}function Cu(e){let t="";for(const n in e)n&&(t+=`${n}: ${e[n]};`);return t}function xu(e,t,n){let r=t.getNode(),i=n;if(HP(r)){const e=r.getDescendantByIndex(t.offset);null!==e&&(r=e)}for(;i>0&&null!==r;){if(HP(r)){const e=r.getLastDescendant();null!==e&&(r=e)}let n=r.getPreviousSibling(),o=0;if(null===n){let e=r.getParentOrThrow(),t=e.getPreviousSibling();for(;null===t;){if(e=e.getParent(),null===e){n=null;break}t=e.getPreviousSibling()}null!==e&&(o=e.isInline()?0:2,n=t)}let s=r.getTextContent();""===s&&HP(r)&&!r.isInline()&&(s="\n\n");const a=s.length;if(!tI(r)||i>=a){const e=r.getParent();r.remove(),null==e||0!==e.getChildrenSize()||XP(e)||e.remove(),i-=a+o,r=n}else{const n=r.getKey(),o=e.getEditorState().read((()=>{const e=NP(n);return tI(e)&&e.isSimpleText()?e.getTextContent():null})),l=a-i,c=s.slice(0,l);if(null!==o&&o!==s){const e=jP();let t=r;if(r.isSimpleText())r.setTextContent(o);else{const e=bP(o);r.replace(e),t=e}if(GP(e)&&e.isCollapsed()){const n=e.anchor.offset;t.select(n,n)}}else if(r.isSimpleText()){const e=t.key===n;let o=t.offset;o<i&&(o=a);const s=e?o-i:0,c=e?o:l;if(e&&0===s){const[e]=r.splitText(s,c);e.remove()}else{const[,e]=r.splitText(s,c);e.remove()}}else{const e=bP(c);r.replace(e)}i=0}}}function Eu(e,t){(GP(e)?e.isCollapsed():tI(e)||HP(e))||vu(280);const n=wu(GP(e)?e.style:tI(e)?e.getStyle():e.getTextStyle()),r=Object.entries(t).reduce(((t,r)=>{let[i,o]=r;return"function"==typeof o?t[i]=o(n[i],e):null===o?delete t[i]:t[i]=o,t}),{...n}),i=Cu(r);GP(e)||tI(e)?e.setStyle(i):e.setTextStyle(i),B$.set(i,r)}function Su(e){const t=RP();if(!t)return;const n=new Map;if(GP(t))for(const e of uP(t).getTextSlices())e&&n.set(e.caret.origin.getKey(),e.getSliceIndices());const r=t.getNodes();for(const t of r){if(!tI(t)||!t.canHaveFormat())continue;const[r,o]=(i=t,n.get(i.getKey())||[0,i.getTextContentSize()]);o!==r&&(rI(t)||0===r&&o===t.getTextContentSize()?e(t):e(t.splitText(r,o)[0===r?0:1]))}var i;GP(t)&&"text"===t.anchor.type&&"text"===t.focus.type&&t.anchor.key===t.focus.key&&ku(t)}function ku(e){if(e.isBackward()){const{anchor:t,focus:n}=e,{key:r,offset:i,type:o}=t;t.set(n.key,n.offset,n.type),n.set(r,i,o)}}function Du(e,t){const n=e.getFormatType(),r=e.getIndent();n!==t.getFormatType()&&t.setFormat(n),r!==t.getIndent()&&t.setIndent(r)}function Tu(e){return e.getNode().isAttached()}function Au(e){let t=e;for(;null!==t&&!QP(t);){const e=t.getLatest(),n=t.getParent();0===e.getChildrenSize()&&t.remove(!0),t=n}}function Nu(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(0===t.length)return;const o=t[0],s=new Map,a=[];let l=HP(o)?o:o.getParentOrThrow();l.isInline()&&(l=l.getParentOrThrow());let c=!1;for(;null!==l;){const e=l.getPreviousSibling();if(null!==e){l=e,c=!0;break}if(l=l.getParentOrThrow(),QP(l))break}const u=new Set;for(let e=0;e<n;e++){const n=t[e];HP(n)&&0===n.getChildrenSize()&&u.add(n.getKey())}const d=new Set;for(let e=0;e<n;e++){const n=t[e];let i=n.getParent();if(null!==i&&i.isInline()&&(i=i.getParent()),null!==i&&qP(n)&&!d.has(n.getKey())){const e=i.getKey();if(void 0===s.get(e)){const t=r();t.setFormat(i.getFormatType()),t.setIndent(i.getIndent()),a.push(t),s.set(e,t),i.getChildren().forEach((e=>{t.append(e),d.add(e.getKey()),HP(e)&&e.getChildrenKeys().forEach((e=>d.add(e)))})),Au(i)}}else if(u.has(n.getKey())){HP(n)||vu(179);const e=r();e.setFormat(n.getFormatType()),e.setIndent(n.getIndent()),a.push(e),n.remove(!0)}}if(null!==i)for(let e=0;e<a.length;e++){const t=a[e];i.append(t)}let f=null;if(QP(l))if(c)if(null!==i)l.insertAfter(i);else for(let e=a.length-1;e>=0;e--){const t=a[e];l.insertAfter(t)}else{const e=l.getFirstChild();if(HP(e)&&(l=e),null===e)if(i)l.append(i);else for(let e=0;e<a.length;e++){const t=a[e];l.append(t),f=t}else if(null!==i)e.insertBefore(i);else for(let t=0;t<a.length;t++){const n=a[t];e.insertBefore(n),f=n}}else if(i)l.insertAfter(i);else for(let e=a.length-1;e>=0;e--){const t=a[e];l.insertAfter(t),f=t}const h=jP();GP(h)&&Tu(h.anchor)&&Tu(h.focus)?uI(h.clone()):null!==f?f.selectEnd():e.dirty=!0}function Ou(e){const t=e.anchor.getNode(),n=XP(t)?t:t.getParentOrThrow(),r=TP().getElementByKey(n.getKey());if(null===r)return!1;const i=r.ownerDocument.defaultView;return null!==i&&"vertical-rl"===i.getComputedStyle(r).writingMode}function ju(e,t,n,r){e.modify(t?"extend":"move",n,r)}function Mu(e){const t=e.anchor.getNode();return"rtl"===(XP(t)?t:t.getParentOrThrow()).getDirection()}function Ru(e,t,n){const r=wu(e.getStyle());return null!==r&&r[t]||n}function Fu(e,t){let n=e;for(;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}function Lu(e){throw new Error(e)}function Pu(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const t of n)if(t&&"string"==typeof t)for(const[n]of t.matchAll(/\S+/g))e.push(n);return e}function Iu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return()=>{for(let e=t.length-1;e>=0;e--)t[e]();t.length=0}}function $u(e){return`${e}px`}function zu(e,t,n){function r(){null===o&&Lu("Unexpected null rootDOMNode"),null===s&&Lu("Unexpected null parentDOMNode");const{left:r,top:i}=s.getBoundingClientRect(),a=ez(e,t);var u,d;c.isConnected||(d=c,(u=s).insertBefore(d,u.firstChild));let f=!1;for(let e=0;e<a.length;e++){const t=a[e],n=l[e]||document.createElement("div"),o=n.style;"absolute"!==o.position&&(o.position="absolute",f=!0);const s=$u(t.left-r);o.left!==s&&(o.left=s,f=!0);const u=$u(t.top-i);o.top!==u&&(n.style.top=u,f=!0);const d=$u(t.width);o.width!==d&&(n.style.width=d,f=!0);const h=$u(t.height)
;o.height!==h&&(n.style.height=h,f=!0),n.parentNode!==c&&(c.append(n),f=!0),l[e]=n}for(;l.length>a.length;)l.pop();f&&n(l)}function i(){s=null,o=null,null!==a&&a.disconnect(),a=null,c.remove();for(const e of l)e.remove();l=[]}let o=null,s=null,a=null,l=[];const c=document.createElement("div");c.style.position="relative";const u=e.registerRootListener((function t(){const n=e.getRootElement();if(null===n)return i();const l=n.parentElement;if(!O$(l))return i();i(),o=n,s=l,a=new MutationObserver((n=>{const i=e.getRootElement(),a=i&&i.parentElement;if(i!==o||a!==s)return t();for(const e of n)if(!c.contains(e.target))return r()})),a.observe(l,hz),r()}));return()=>{u(),i()}}function Bu(e,t,n){if("text"!==e.type&&HP(t)){const r=t.getDOMSlot(n);return[r.element,r.getFirstChildOffset()+e.offset]}return[E$(n)||n,e.offset]}function Uu(e,t){function n(n){n.read((()=>{const n=RP();if(!GP(n))return r=null,o=null,s=null,l=null,c(),void(c=()=>{});const{anchor:u,focus:d}=n,f=u.getNode(),h=f.getKey(),p=u.offset,m=d.getNode(),g=m.getKey(),v=d.offset,y=e.getElementByKey(h),b=e.getElementByKey(g),_=null===r||y!==i||p!==o||h!==r.getKey(),w=null===s||b!==a||v!==l||g!==s.getKey();if((_||w)&&null!==y&&null!==b){const n=function(e,t,n,r,i,o,s){const a=(e._window?e._window.document:document).createRange();return o.isBefore(n)?(a.setStart(...Bu(i,o,s)),a.setEnd(...Bu(t,n,r))):(a.setStart(...Bu(t,n,r)),a.setEnd(...Bu(i,o,s))),a}(e,u,f,y,d,m,b);c(),c=zu(e,n,(e=>{if(void 0===t)for(const t of e){const e=t.style;"Highlight"!==e.background&&(e.background="Highlight"),"HighlightText"!==e.color&&(e.color="HighlightText"),e.marginTop!==$u(-1.5)&&(e.marginTop=$u(-1.5)),e.paddingTop!==$u(4)&&(e.paddingTop=$u(4)),e.paddingBottom!==$u(0)&&(e.paddingBottom=$u(0))}else t(e)}))}r=f,i=y,o=p,s=m,a=b,l=v}))}let r=null,i=null,o=null,s=null,a=null,l=null,c=()=>{};return n(e.getEditorState()),Iu(e.registerUpdateListener((e=>{let{editorState:t}=e;return n(t)})),(()=>{c()}))}function Hu(e,t){for(const n of t)if(e.type.startsWith(n))return!0;return!1}function Wu(e,t){return Ku("next",e,t)}function Ku(e,t,n){const r=MP(),i=t||r,o=HP(i)?SP(i,e):FP(i,e),s=qu(i),a=n?wP(kP(FP(n,e))):function(e,t){const n=Qu(FP(e,t));return n&&n[0]}(i,e);let l=s;return F$({hasNext:e=>null!==e,initial:o,map:e=>({depth:l,node:e.origin}),step:e=>{if(e.isSameNodeCaret(a))return null;BP(e)&&l++;const t=Qu(e);return!t||t[0].isSameNodeCaret(a)?null:(l+=t[1],t[0])}})}function qu(e){let t=-1;for(let n=e;null!==n;n=n.getParent())t++;return t}function Vu(e,t){return Ku("previous",e,t)}function Yu(e,t,n){let r=xP(t,"next");for(let e=r;e;e=hI(e,n))r=e;return nI(r)&&Lu("$insertNodeToNearestRootAtCaret: An unattached TextNode can not be split"),r.insert(e.isInline()?pP().append(e):e),xP(FP(e.getLatest(),"next"),t.direction)}function Ju(e,t,n){let r=!1;for(const i of Gu(e))t(i)?null!==n&&n(i):(r=!0,HP(i)&&Ju(i,t,n||(e=>i.insertAfter(e))),i.remove());return r}function Gu(e){return Xu(SP(e,"previous"))}function Xu(e){const t=new Set;return F$({hasNext:ZP,initial:e.getAdjacentCaret(),map:e=>{const n=e.origin.getLatest();if(null!==t){const e=n.getKey();t.has(e)&&Lu(`$childIterator: Cycle detected, node with key ${String(e)} has already been traversed`),t.add(e)}return n},step:e=>e.getAdjacentCaret()})}function Qu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root",n=0,r=e,i=wP(r);for(;null===i;){if(n--,i=r.getParentCaret(t),!i)return null;r=i,i=wP(r)}return i&&[i,n]}function Zu(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(const e of i)n.append("v",e);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function ed(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const t of n)if(t&&"string"==typeof t)for(const[n]of t.matchAll(/\S+/g))e.push(n);return e}function td(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return()=>{for(let e=t.length-1;e>=0;e--)t[e]();t.length=0}}function nd(e){return`${e}px`}function rd(e,t,n){function r(){null===o&&Zu(182),null===s&&Zu(183);const{left:r,top:i}=s.getBoundingClientRect(),a=ez(e,t);var u,d;c.isConnected||(d=c,(u=s).insertBefore(d,u.firstChild));let f=!1;for(let e=0;e<a.length;e++){const t=a[e],n=l[e]||document.createElement("div"),o=n.style;"absolute"!==o.position&&(o.position="absolute",f=!0);const s=nd(t.left-r);o.left!==s&&(o.left=s,f=!0);const u=nd(t.top-i);o.top!==u&&(n.style.top=u,f=!0);const d=nd(t.width);o.width!==d&&(n.style.width=d,f=!0);const h=nd(t.height);o.height!==h&&(n.style.height=h,f=!0),n.parentNode!==c&&(c.append(n),f=!0),l[e]=n}for(;l.length>a.length;)l.pop();f&&n(l)}function i(){s=null,o=null,null!==a&&a.disconnect(),a=null,c.remove();for(const e of l)e.remove();l=[]}let o=null,s=null,a=null,l=[];const c=document.createElement("div");c.style.position="relative";const u=e.registerRootListener((function t(){const n=e.getRootElement();if(null===n)return i();const l=n.parentElement;if(!O$(l))return i();i(),o=n,s=l,a=new MutationObserver((n=>{const i=e.getRootElement(),a=i&&i.parentElement;if(i!==o||a!==s)return t();for(const e of n)if(!c.contains(e.target))return r()})),a.observe(l,Pz),r()}));return()=>{u(),i()}}function id(e,t,n){if("text"!==e.type&&HP(t)){const r=t.getDOMSlot(n);return[r.element,r.getFirstChildOffset()+e.offset]}return[E$(n)||n,e.offset]}function od(e,t){function n(n){n.read((()=>{const n=RP();if(!GP(n))return r=null,o=null,s=null,l=null,c(),void(c=()=>{});const{anchor:u,focus:d}=n,f=u.getNode(),h=f.getKey(),p=u.offset,m=d.getNode(),g=m.getKey(),v=d.offset,y=e.getElementByKey(h),b=e.getElementByKey(g),_=null===r||y!==i||p!==o||h!==r.getKey(),w=null===s||b!==a||v!==l||g!==s.getKey();if((_||w)&&null!==y&&null!==b){const n=function(e,t,n,r,i,o,s){const a=(e._window?e._window.document:document).createRange();return o.isBefore(n)?(a.setStart(...id(i,o,s)),a.setEnd(...id(t,n,r))):(a.setStart(...id(t,n,r)),a.setEnd(...id(i,o,s))),a}(e,u,f,y,d,m,b);c(),c=rd(e,n,(e=>{if(void 0===t)for(const t of e){const e=t.style;"Highlight"!==e.background&&(e.background="Highlight"),"HighlightText"!==e.color&&(e.color="HighlightText"),e.marginTop!==nd(-1.5)&&(e.marginTop=nd(-1.5)),e.paddingTop!==nd(4)&&(e.paddingTop=nd(4)),e.paddingBottom!==nd(0)&&(e.paddingBottom=nd(0))}else t(e)}))}r=f,i=y,o=p,s=m,a=b,l=v}))}let r=null,i=null,o=null,s=null,a=null,l=null,c=()=>{};return n(e.getEditorState()),td(e.registerUpdateListener((e=>{let{editorState:t}=e;return n(t)})),(()=>{c()}))}function sd(e,t){for(const n of t)if(e.type.startsWith(n))return!0;return!1}function ad(e,t){return ld("next",e,t)}function ld(e,t,n){const r=MP(),i=t||r,o=HP(i)?SP(i,e):FP(i,e),s=cd(i),a=n?wP(kP(FP(n,e))):function(e,t){const n=md(FP(e,t));return n&&n[0]}(i,e);let l=s;return F$({hasNext:e=>null!==e,initial:o,map:e=>({depth:l,node:e.origin}),step:e=>{if(e.isSameNodeCaret(a))return null;BP(e)&&l++;const t=md(e);return!t||t[0].isSameNodeCaret(a)?null:(l+=t[1],t[0])}})}function cd(e){let t=-1;for(let n=e;null!==n;n=n.getParent())t++;return t}function ud(e,t){return ld("previous",e,t)}function dd(e,t,n){let r=xP(t,"next");for(let e=r;e;e=hI(e,n))r=e;return nI(r)&&Zu(283),r.insert(e.isInline()?pP().append(e):e),xP(FP(e.getLatest(),"next"),t.direction)}function fd(e,t,n){let r=!1;for(const i of hd(e))t(i)?null!==n&&n(i):(r=!0,HP(i)&&fd(i,t,n||(e=>i.insertAfter(e))),i.remove());return r}function hd(e){return pd(SP(e,"previous"))}function pd(e){return F$({hasNext:ZP,initial:e.getAdjacentCaret(),map:e=>e.origin.getLatest(),step:e=>e.getAdjacentCaret()})}function md(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root",n=0,r=e,i=wP(r);for(;null===i;){if(n--,i=r.getParentCaret(t),!i)return null;r=i,i=wP(r)}return i&&[i,n]}function gd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=null===r||t.isSelected(r);const o=HP(t)&&t.excludeFromCopy("html");let s=t;if(null!==r){let e=dP(t);e=tI(e)&&null!==r?X$(r,e):e,s=e}const a=HP(s)?s.getChildren():[],l=e._nodes.get(s.getType());let c;c=l&&void 0!==l.exportDOM?l.exportDOM(e,s):s.exportDOM(e);const{element:u,after:d}=c;if(!u)return!1;const f=document.createDocumentFragment();for(let n=0;n<a.length;n++){const o=a[n],s=gd(e,o,f,r);!i&&HP(t)&&s&&t.extractWithChild(o,r,"html")&&(i=!0)}if(i&&!o){if((hB(u)||A$(u))&&u.append(f),n.append(u),d){const e=d.call(s,u);e&&(A$(u)?u.replaceChildren(e):u.replaceWith(e))}}else n.append(f);return i}function vd(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Map,o=arguments.length>5?arguments[5]:void 0,s=[];if(vB.has(e.nodeName))return s;let a=null;const l=function(e,t){const{nodeName:n}=e,r=t._htmlConversions.get(n.toLowerCase());let i=null;if(void 0!==r)for(const t of r){const n=t(e);null!==n&&(null===i||(i.priority||0)<=(n.priority||0))&&(i=n)}return null!==i?i.conversion:null}(e,t),c=l?l(e):null;let u=null;if(null!==c){u=c.after;const t=c.node;if(a=Array.isArray(t)?t[t.length-1]:t,null!==a){for(const[,e]of i)if(a=e(a,o),!a)break;a&&s.push(...Array.isArray(t)?t:[a])}null!=c.forChild&&i.set(e.nodeName,c.forChild)}const d=e.childNodes;let f=[];const h=(null==a||!QP(a))&&(null!=a&&zP(a)||r);for(let e=0;e<d.length;e++)f.push(...vd(d[e],t,n,h,new Map(i),a));return null!=u&&(f=u(f)),dB(e)&&(f=function(e,t,n){const r=e.style.textAlign,i=[];let o=[];for(let e=0;e<t.length;e++){const s=t[e];if(zP(s))r&&!s.getFormat()&&s.setFormat(r),i.push(s);else if(o.push(s),e===t.length-1||e<t.length-1&&zP(t[e+1])){const e=n();e.setFormat(r),e.append(...o),i.push(e),o=[]}}return i}(e,f,h?()=>{const e=new mI;return n.push(e),e}:pP)),null==a?f.length>0?s=s.concat(f):dB(e)&&function(e){return null!=e.nextSibling&&null!=e.previousSibling&&j$(e.nextSibling)&&j$(e.previousSibling)}(e)&&(s=s.concat(fP())):HP(a)&&a.append(...f),s}function yd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=null===r||t.isSelected(r);const o=HP(t)&&t.excludeFromCopy("html");let s=t;if(null!==r){let e=dP(t);e=tI(e)&&null!==r?X$(r,e):e,s=e}const a=HP(s)?s.getChildren():[],l=e._nodes.get(s.getType());let c;c=l&&void 0!==l.exportDOM?l.exportDOM(e,s):s.exportDOM(e);const{element:u,after:d}=c;if(!u)return!1;const f=document.createDocumentFragment();for(let n=0;n<a.length;n++){const o=a[n],s=yd(e,o,f,r);!i&&HP(t)&&s&&t.extractWithChild(o,r,"html")&&(i=!0)}if(i&&!o){if((hB(u)||A$(u))&&u.append(f),n.append(u),d){const e=d.call(s,u);e&&(A$(u)?u.replaceChildren(e):u.replaceWith(e))}}else n.append(f);return i}function bd(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Map,o=arguments.length>5?arguments[5]:void 0,s=[];if(yB.has(e.nodeName))return s;let a=null;const l=function(e,t){const{nodeName:n}=e,r=t._htmlConversions.get(n.toLowerCase());let i=null;if(void 0!==r)for(const t of r){const n=t(e);null!==n&&(null===i||(i.priority||0)<=(n.priority||0))&&(i=n)}return null!==i?i.conversion:null}(e,t),c=l?l(e):null;let u=null;if(null!==c){u=c.after;const t=c.node;if(a=Array.isArray(t)?t[t.length-1]:t,null!==a){for(const[,e]of i)if(a=e(a,o),!a)break;a&&s.push(...Array.isArray(t)?t:[a])}null!=c.forChild&&i.set(e.nodeName,c.forChild)}const d=e.childNodes;let f=[];const h=(null==a||!QP(a))&&(null!=a&&zP(a)||r);for(let e=0;e<d.length;e++)f.push(...bd(d[e],t,n,h,new Map(i),a));return null!=u&&(f=u(f)),dB(e)&&(f=function(e,t,n){const r=e.style.textAlign,i=[];let o=[];for(let e=0;e<t.length;e++){const s=t[e];if(zP(s))r&&!s.getFormat()&&s.setFormat(r),i.push(s);else if(o.push(s),e===t.length-1||e<t.length-1&&zP(t[e+1])){const e=n();e.setFormat(r),e.append(...o),i.push(e),o=[]}}return i}(e,f,h?()=>{const e=new mI;return n.push(e),e}:pP)),null==a?f.length>0?s=s.concat(f):dB(e)&&function(e){return null!=e.nextSibling&&null!=e.previousSibling&&j$(e.nextSibling)&&j$(e.previousSibling)}(e)&&(s=s.concat(fP())):HP(a)&&a.append(...f),s}function _d(e){throw new Error(e)}function wd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RP();return null==t&&_d("Expected valid LexicalSelection"),GP(t)&&t.isCollapsed()||0===t.getNodes().length?"":wB(e,t)}function Cd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RP();return null==t&&_d("Expected valid LexicalSelection"),GP(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(Sd(e,t))}function xd(e,t,n){e.dispatchCommand(m$,{nodes:t,selection:n})||n.insertNodes(t)}function Ed(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=null===t||n.isSelected(t);const o=HP(n)&&n.excludeFromCopy("html");let s=n;if(null!==t){let e=dP(n);e=tI(e)&&null!==t?X$(t,e):e,s=e}const a=HP(s)?s.getChildren():[],l=function(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&_d(`LexicalNode: Node ${n.name} does not implement .exportJSON().`),HP(e)){const e=t.children;Array.isArray(e)||_d(`LexicalNode: Node ${n.name} is an element but .exportJSON() does not have a children array.`)}return t}(s);if(tI(s)){const e=s.__text;e.length>0?l.text=e:i=!1}for(let r=0;r<a.length;r++){const o=a[r],s=Ed(e,t,o,l.children);!i&&HP(n)&&s&&n.extractWithChild(o,t,"clone")&&(i=!0)}if(i&&!o)r.push(l);else if(Array.isArray(l.children))for(let e=0;e<l.children.length;e++){const t=l.children[e];r.push(t)}return i}function Sd(e,t){const n=[],r=MP().getChildren();for(let i=0;i<r.length;i++)Ed(e,t,r[i],n);return{namespace:e._config.namespace,nodes:n}}function kd(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n],i=sI(r);tI(i)&&K$(i),t.push(i)}return t}function Dd(e,t,n){if(void 0===n){const t=x$(e._window);if(!t)return!1;const r=t.anchorNode,i=t.focusNode;if(null!==r&&null!==i&&!R$(e,r,i))return!1;const o=RP();if(null===o)return!1;n=Td(o)}t.preventDefault();const r=t.clipboardData;return null!==r&&(Ad(r,n),!0)}function Td(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RP();const t={"text/plain":e?e.getTextContent():""};if(e){const n=TP();for(const[r,i]of EB){const o=i(n,e);null!==o&&(t[r]=o)}}return t}function Ad(e,t){for(const n in t){const r=t[n];void 0!==r&&e.setData(n,r)}}function Nd(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(const e of i)n.append("v",e);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Od(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RP();return null==t&&Nd(166),GP(t)&&t.isCollapsed()||0===t.getNodes().length?"":wB(e,t)}function jd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RP();return null==t&&Nd(166),GP(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(Fd(e,t))}function Md(e,t,n){e.dispatchCommand(m$,{nodes:t,selection:n})||n.insertNodes(t)}function Rd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=null===t||n.isSelected(t);const o=HP(n)&&n.excludeFromCopy("html");let s=n;if(null!==t){let e=dP(n);e=tI(e)&&null!==t?X$(t,e):e,s=e}const a=HP(s)?s.getChildren():[],l=function(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&Nd(58,n.name),HP(e)){const e=t.children;Array.isArray(e)||Nd(59,n.name)}return t}(s);if(tI(s)){const e=s.__text;e.length>0?l.text=e:i=!1}for(let r=0;r<a.length;r++){const o=a[r],s=Rd(e,t,o,l.children);!i&&HP(n)&&s&&n.extractWithChild(o,t,"clone")&&(i=!0)}if(i&&!o)r.push(l);else if(Array.isArray(l.children))for(let e=0;e<l.children.length;e++){const t=l.children[e];r.push(t)}return i}function Fd(e,t){const n=[],r=MP().getChildren();for(let i=0;i<r.length;i++)Rd(e,t,r[i],n);return{namespace:e._config.namespace,nodes:n}}function Ld(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n],i=sI(r);tI(i)&&K$(i),t.push(i)}return t}function Pd(e,t,n){if(void 0===n){const t=x$(e._window);if(!t)return!1;const r=t.anchorNode,i=t.focusNode;if(null!==r&&null!==i&&!R$(e,r,i))return!1;const o=RP();if(null===o)return!1;n=Id(o)}t.preventDefault();const r=t.clipboardData;return null!==r&&($d(r,n),!0)}function Id(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RP();const t={"text/plain":e?e.getTextContent():""};if(e){const n=TP();for(const[r,i]of kB){const o=i(n,e);null!==o&&(t[r]=o)}}return t}function $d(e,t){for(const n in t){const r=t[n];void 0!==r&&e.setData(n,r)}}function zd(e,t){if(void 0!==document.caretRangeFromPoint){const n=document.caretRangeFromPoint(e,t);return null===n?null:{node:n.startContainer,offset:n.startOffset}}if("undefined"!==document.caretPositionFromPoint){const n=document.caretPositionFromPoint(e,t);return null===n?null:{node:n.offsetNode,offset:n.offset}}return null}function Bd(){return lP(new WB)}function Ud(e){return"span"===e.nodeName.toLowerCase()&&"26pt"===e.style.fontSize}function Hd(e){const t=e.nodeName.toLowerCase();let n=null;return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t||(n=Kd(t),null!==e.style&&(I$(e,n),n.setFormat(e.style.textAlign))),{node:n}}function Wd(e){const t=Bd();return null!==e.style&&(t.setFormat(e.style.textAlign),I$(e,t)),{node:t}}function Kd(){return lP(new KB(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"h1"))}function qd(e){let t=null;if(mB(e,DragEvent)?t=e.dataTransfer:mB(e,ClipboardEvent)&&(t=e.clipboardData),null===t)return[!1,[],!1];const n=t.types,r=n.includes("Files"),i=n.includes("text/html")||n.includes("text/plain");return[r,Array.from(t.files),i]}function Vd(e){const t=RP();if(!GP(t))return!1;const n=new Set,r=t.getNodes();for(let t=0;t<r.length;t++){const i=r[t],o=i.getKey();if(n.has(o))continue;const s=Zz(i,(e=>HP(e)&&!e.isInline()));if(null===s)continue;const a=s.getKey();s.canIndent()&&!n.has(a)&&(n.add(a),e(s))}return n.size>0}function Yd(e){const t=AP(e);return UP(t)}function Jd(e){for(const t of["lowercase","uppercase","capitalize"])e.hasFormat(t)&&e.toggleFormat(t)}function Gd(e,t){if(void 0!==document.caretRangeFromPoint){const n=document.caretRangeFromPoint(e,t);return null===n?null:{node:n.startContainer,offset:n.startOffset}}if("undefined"!==document.caretPositionFromPoint){const n=document.caretPositionFromPoint(e,t);return null===n?null:{node:n.offsetNode,offset:n.offset}}return null}function Xd(){return lP(new eU)}function Qd(e){return"span"===e.nodeName.toLowerCase()&&"26pt"===e.style.fontSize}function Zd(e){const t=e.nodeName.toLowerCase();let n=null;return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t||(n=tf(t),null!==e.style&&(I$(e,n),n.setFormat(e.style.textAlign))),{node:n}}function ef(e){const t=Xd();return null!==e.style&&(t.setFormat(e.style.textAlign),I$(e,t)),{node:t}}function tf(){return lP(new tU(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"h1"))}function nf(e){let t=null;if(mB(e,DragEvent)?t=e.dataTransfer:mB(e,ClipboardEvent)&&(t=e.clipboardData),null===t)return[!1,[],!1];const n=t.types,r=n.includes("Files"),i=n.includes("text/html")||n.includes("text/plain");return[r,Array.from(t.files),i]}function rf(e){const t=RP();if(!GP(t))return!1;const n=new Set,r=t.getNodes();for(let t=0;t<r.length;t++){const i=r[t],o=i.getKey();if(n.has(o))continue;const s=Zz(i,(e=>HP(e)&&!e.isInline()));if(null===s)continue;const a=s.getKey();s.canIndent()&&!n.has(a)&&(n.add(a),e(s))}return n.size>0}function of(e){const t=AP(e);return UP(t)}function sf(e){for(const t of["lowercase","uppercase","capitalize"])e.hasFormat(t)&&e.toggleFormat(t)}function af(e){throw new Error(e)}function lf(e,t){for(const n of e.childNodes){if(hB(n)&&n.tagName===t)return!0;lf(n,t)}return!1}function cf(e){return lP(new yU(e))}function uf(e){return e instanceof yU}function df(e){return{node:cf(e.getAttribute(gU))}}function ff(e){const t=e,n=mf(t);return n||function(e){let t=e.parentElement;for(;null!==t;){if(mf(t))return!0;t=t.parentElement}return!1}(t)?{node:n?cf():null}:{node:null}}function hf(){return{node:cf()}}function pf(){return{node:null}}function mf(e){return null!==e.style.fontFamily.match("monospace")}function gf(e){return e.classList.contains("js-file-line-container")}function vf(e){return wU[e]||e}function yf(e,t){return t&&e&&e.codeHighlight&&e.codeHighlight[t]}function bf(){return lP(new CU(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1?arguments[1]:void 0))}function _f(e){return e instanceof CU}function wf(e,t){let n=e;for(let r=FP(e,t);r&&(_f(r.origin)||eI(r.origin));r=eB(r))n=r.origin;return n}function Cf(e){return wf(e,"previous")}function xf(e){return wf(e,"next")}function Ef(e,t){let n=null,r=null,i=e,o=t,s=e.getTextContent();for(;;){if(0===o){if(i=i.getPreviousSibling(),null===i)break;if(_f(i)||eI(i)||VP(i)||af("Expected a valid Code Node: CodeHighlightNode, TabNode, LineBreakNode"),VP(i)){n={node:i,offset:1};break}o=Math.max(0,i.getTextContentSize()-1),s=i.getTextContent()}else o--;const e=s[o];_f(i)&&" "!==e&&(r={node:i,offset:o})}if(null!==r)return r;let a=null;if(t<e.getTextContentSize())_f(e)&&(a=e.getTextContent()[t]);else{const t=e.getNextSibling();_f(t)&&(a=t.getTextContent()[0])}if(null!==a&&" "!==a)return n;{const r=function(e,t){let n=e,r=t,i=e.getTextContent(),o=e.getTextContentSize();for(;;){if(!_f(n)||r===o){if(n=n.getNextSibling(),null===n||VP(n))return null;_f(n)&&(r=0,i=n.getTextContent(),o=n.getTextContentSize())}if(_f(n)){if(" "!==i[r])return{node:n,offset:r};r++}}}(e,t);return null!==r?r:n}}function Sf(e){const t=xf(e);return VP(t)&&af("Unexpected lineBreakNode in getEndOfCodeInLine"),t}function kf(e,t,n){const r=e.getParent();uf(r)?Tf(r,t,n):_f(e)&&e.replace(bP(e.__text))}function Df(e,t){const n=t.getElementByKey(e.getKey());if(null===n)return;const r=e.getChildren(),i=r.length;if(i===n.__cachedChildrenLength)return;n.__cachedChildrenLength=i;let o="1",s=1;for(let e=0;e<i;e++)VP(r[e])&&(o+="\n"+ ++s);n.setAttribute("data-gutter",o)}function Tf(e,t,n){const r=e.getKey();EU.has(r)||(EU.add(r),void 0===e.getLanguage()&&e.setLanguage(n.defaultLanguage),t.update((()=>{!function(e,t){const n=NP(e);if(!uf(n)||!n.isAttached())return;const r=RP();if(!GP(r))return void t();const i=r.anchor,o=i.offset,s="element"===i.type&&VP(n.getChildAtIndex(i.offset-1));let a=0;if(!s){const e=i.getNode();a=o+e.getPreviousSiblings().reduce(((e,t)=>e+t.getTextContentSize()),0)}t()&&(s?i.getNode().select(o,o):n.getChildren().some((e=>{const t=tI(e);if(t||VP(e)){const n=e.getTextContentSize();if(t&&n>=a)return e.select(a,a),!0;a-=n}return!1})))}(r,(()=>{const t=NP(r);if(!uf(t)||!t.isAttached())return!1;const i=t.getTextContent(),o=Af(n.tokenize(i,t.getLanguage()||n.defaultLanguage)),s=function(e,t){let n=0;for(;n<e.length&&Nf(e[n],t[n]);)n++;const r=e.length,i=t.length,o=Math.min(r,i)-n;let s=0;for(;s<o;)if(s++,!Nf(e[r-s],t[i-s])){s--;break}const a=r-s;return{from:n,nodesForReplacement:t.slice(n,i-s),to:a}}(t.getChildren(),o),{from:a,to:l,nodesForReplacement:c}=s;return!(a===l&&!c.length||(e.splice(a,l-a,c),0))}))}),{onUpdate:()=>{EU.delete(r)},skipTransforms:!0}))}function Af(e,t){const n=[];for(const r of e)if("string"==typeof r){const e=r.split(/(\n|\t)/),i=e.length;for(let r=0;r<i;r++){const i=e[r];"\n"===i||"\r\n"===i?n.push(fP()):"\t"===i?n.push(yP()):i.length>0&&n.push(bf(i,t))}}else{const{content:e}=r;"string"==typeof e?n.push(...Af([e],r.type)):Array.isArray(e)&&n.push(...Af(e,r.type))}return n}function Nf(e,t){return _f(e)&&_f(t)&&e.__text===t.__text&&e.__highlightType===t.__highlightType||eI(e)&&eI(t)||VP(e)&&VP(t)}function Of(e){if(!GP(e))return!1;const t=e.anchor.getNode(),n=e.focus.getNode();if(t.is(n)&&uf(t))return!0;const r=t.getParent();return uf(r)&&r.is(n.getParent())}function jf(e){const t=e.getNodes(),n=[[]];if(1===t.length&&uf(t[0]))return n;let r=n[0];for(let e=0;e<t.length;e++){const i=t[e];_f(i)||eI(i)||VP(i)||af("Expected selection to be inside CodeBlock and consisting of CodeHighlightNode, TabNode and LineBreakNode"),VP(i)?0!==e&&r.length>0&&(r=[],n.push(r)):r.push(i)}return n}function Mf(e){const t=RP();if(!GP(t)||!Of(t))return!1;const n=jf(t),r=n.length;if(n.length>1){for(let t=0;t<r;t++){const r=n[t];if(r.length>0){let n=r[0];0===t&&(n=Cf(n)),null!==n&&(e===WI?n.insertBefore(yP()):eI(n)&&n.remove())}}return!0}const i=t.getNodes()[0];if(uf(i)||_f(i)||eI(i)||VP(i)||af("Expected selection firstNode to be CodeHighlightNode or CodeTabNode"),uf(i))return e===WI&&t.insertNodes([yP()]),!0;const o=Cf(i);return e===WI?VP(o)?o.insertAfter(yP()):o.insertBefore(yP()):eI(o)&&o.remove(),!0}function Rf(e,t){const n=RP();if(!GP(n))return!1;const{anchor:r,focus:i}=n,o=r.offset,s=i.offset,a=r.getNode(),l=i.getNode(),c=e===QI;if(!Of(n)||!_f(a)&&!eI(a)||!_f(l)&&!eI(l))return!1;if(!t.altKey){if(n.isCollapsed()){const e=a.getParentOrThrow();if(c&&0===o&&null===a.getPreviousSibling()){if(null===e.getPreviousSibling())return e.selectPrevious(),t.preventDefault(),!0}else if(!c&&o===a.getTextContentSize()&&null===a.getNextSibling()&&null===e.getNextSibling())return e.selectNext(),t.preventDefault(),!0}return!1}let u,d;if(a.isBefore(l)?(u=Cf(a),d=xf(l)):(u=Cf(l),d=xf(a)),null==u||null==d)return!1;const f=u.getNodesBetween(d);for(let e=0;e<f.length;e++){const t=f[e];if(!_f(t)&&!eI(t)&&!VP(t))return!1}t.preventDefault(),t.stopPropagation();const h=c?u.getPreviousSibling():d.getNextSibling();if(!VP(h))return!0;const p=c?h.getPreviousSibling():h.getNextSibling();if(null==p)return!0;const m=_f(p)||eI(p)||VP(p)?c?Cf(p):xf(p):null;let g=null!=m?m:p;return h.remove(),f.forEach((e=>e.remove())),e===QI?(f.forEach((e=>g.insertBefore(e))),g.insertBefore(h)):(g.insertAfter(h),g=h,f.forEach((e=>{g.insertAfter(e),g=e}))),n.setTextNodeRange(a,o,l,s),!0}function Ff(e,t){const n=RP();if(!GP(n))return!1;const{anchor:r,focus:i}=n,o=r.getNode(),s=i.getNode(),a=e===a$;if(!Of(n)||!_f(o)&&!eI(o)||!_f(s)&&!eI(s))return!1;if(a){const e=Ef(s,i.offset);if(null!==e){const{node:t,offset:r}=e;VP(t)?t.selectNext(0,0):n.setTextNodeRange(t,r,t,r)}else s.getParentOrThrow().selectStart()}else Sf(s).select();return t.preventDefault(),t.stopPropagation(),!0}function Lf(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(const e of i)n.append("v",e);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Pf(e,t){for(const n of e.childNodes){if(hB(n)&&n.tagName===t)return!0;Pf(n,t)}return!1}function If(e){return lP(new MU(e))}function $f(e){return e instanceof MU}function zf(e){return{node:If(e.getAttribute(OU))}}function Bf(e){const t=e,n=Wf(t);return n||function(e){let t=e.parentElement;for(;null!==t;){if(Wf(t))return!0;t=t.parentElement}return!1}(t)?{node:n?If():null}:{node:null}}function Uf(){return{node:If()}}function Hf(){return{node:null}}function Wf(e){return null!==e.style.fontFamily.match("monospace")}function Kf(e){return e.classList.contains("js-file-line-container")}function qf(e){return LU[e]||e}function Vf(e,t){return t&&e&&e.codeHighlight&&e.codeHighlight[t]}function Yf(){return lP(new PU(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1?arguments[1]:void 0))}function Jf(e){return e instanceof PU}function Gf(e,t){let n=e;for(let r=FP(e,t);r&&(Jf(r.origin)||eI(r.origin));r=eB(r))n=r.origin;return n}function Xf(e){return Gf(e,"previous")}function Qf(e){return Gf(e,"next")}function Zf(e,t){let n=null,r=null,i=e,o=t,s=e.getTextContent();for(;;){if(0===o){if(i=i.getPreviousSibling(),null===i)break;if(Jf(i)||eI(i)||VP(i)||Lf(167),VP(i)){n={node:i,offset:1};break}o=Math.max(0,i.getTextContentSize()-1),s=i.getTextContent()}else o--;const e=s[o];Jf(i)&&" "!==e&&(r={node:i,offset:o})}if(null!==r)return r;let a=null;if(t<e.getTextContentSize())Jf(e)&&(a=e.getTextContent()[t]);else{const t=e.getNextSibling();Jf(t)&&(a=t.getTextContent()[0])}if(null!==a&&" "!==a)return n;{const r=function(e,t){let n=e,r=t,i=e.getTextContent(),o=e.getTextContentSize();for(;;){if(!Jf(n)||r===o){if(n=n.getNextSibling(),null===n||VP(n))return null;Jf(n)&&(r=0,i=n.getTextContent(),o=n.getTextContentSize())}if(Jf(n)){if(" "!==i[r])return{node:n,offset:r};r++}}}(e,t);return null!==r?r:n}}function eh(e){const t=Qf(e);return VP(t)&&Lf(168),t}function th(e,t,n){const r=e.getParent();$f(r)?rh(r,t,n):Jf(e)&&e.replace(bP(e.__text))}function nh(e,t){const n=t.getElementByKey(e.getKey());if(null===n)return;const r=e.getChildren(),i=r.length;if(i===n.__cachedChildrenLength)return;n.__cachedChildrenLength=i;let o="1",s=1;for(let e=0;e<i;e++)VP(r[e])&&(o+="\n"+ ++s);n.setAttribute("data-gutter",o)}function rh(e,t,n){const r=e.getKey();$U.has(r)||($U.add(r),void 0===e.getLanguage()&&e.setLanguage(n.defaultLanguage),t.update((()=>{!function(e,t){const n=NP(e);if(!$f(n)||!n.isAttached())return;const r=RP();if(!GP(r))return void t();const i=r.anchor,o=i.offset,s="element"===i.type&&VP(n.getChildAtIndex(i.offset-1));let a=0;if(!s){const e=i.getNode();a=o+e.getPreviousSiblings().reduce(((e,t)=>e+t.getTextContentSize()),0)}t()&&(s?i.getNode().select(o,o):n.getChildren().some((e=>{const t=tI(e);if(t||VP(e)){const n=e.getTextContentSize();if(t&&n>=a)return e.select(a,a),!0;a-=n}return!1})))}(r,(()=>{const t=NP(r);if(!$f(t)||!t.isAttached())return!1;const i=t.getTextContent(),o=ih(n.tokenize(i,t.getLanguage()||n.defaultLanguage)),s=function(e,t){let n=0;for(;n<e.length&&oh(e[n],t[n]);)n++;const r=e.length,i=t.length,o=Math.min(r,i)-n;let s=0;for(;s<o;)if(s++,!oh(e[r-s],t[i-s])){s--;break}const a=r-s;return{from:n,nodesForReplacement:t.slice(n,i-s),to:a}}(t.getChildren(),o),{from:a,to:l,nodesForReplacement:c}=s;return!(a===l&&!c.length||(e.splice(a,l-a,c),0))}))}),{onUpdate:()=>{$U.delete(r)},skipTransforms:!0}))}function ih(e,t){const n=[];for(const r of e)if("string"==typeof r){const e=r.split(/(\n|\t)/),i=e.length;for(let r=0;r<i;r++){const i=e[r];"\n"===i||"\r\n"===i?n.push(fP()):"\t"===i?n.push(yP()):i.length>0&&n.push(Yf(i,t))}}else{const{content:e}=r;"string"==typeof e?n.push(...ih([e],r.type)):Array.isArray(e)&&n.push(...ih(e,r.type))}return n}function oh(e,t){return Jf(e)&&Jf(t)&&e.__text===t.__text&&e.__highlightType===t.__highlightType||eI(e)&&eI(t)||VP(e)&&VP(t)}function sh(e){if(!GP(e))return!1;const t=e.anchor.getNode(),n=e.focus.getNode();if(t.is(n)&&$f(t))return!0;const r=t.getParent();return $f(r)&&r.is(n.getParent())}function ah(e){const t=e.getNodes(),n=[[]];if(1===t.length&&$f(t[0]))return n;let r=n[0];for(let e=0;e<t.length;e++){const i=t[e];Jf(i)||eI(i)||VP(i)||Lf(169),VP(i)?0!==e&&r.length>0&&(r=[],n.push(r)):r.push(i)}return n}function lh(e){const t=RP();if(!GP(t)||!sh(t))return!1;const n=ah(t),r=n.length;if(n.length>1){for(let t=0;t<r;t++){const r=n[t];if(r.length>0){let n=r[0];0===t&&(n=Xf(n)),null!==n&&(e===WI?n.insertBefore(yP()):eI(n)&&n.remove())}}return!0}const i=t.getNodes()[0];if($f(i)||Jf(i)||eI(i)||VP(i)||Lf(171),$f(i))return e===WI&&t.insertNodes([yP()]),!0;const o=Xf(i);return e===WI?VP(o)?o.insertAfter(yP()):o.insertBefore(yP()):eI(o)&&o.remove(),!0}function ch(e,t){const n=RP();if(!GP(n))return!1;const{anchor:r,focus:i}=n,o=r.offset,s=i.offset,a=r.getNode(),l=i.getNode(),c=e===QI;if(!sh(n)||!Jf(a)&&!eI(a)||!Jf(l)&&!eI(l))return!1;if(!t.altKey){if(n.isCollapsed()){const e=a.getParentOrThrow();if(c&&0===o&&null===a.getPreviousSibling()){if(null===e.getPreviousSibling())return e.selectPrevious(),t.preventDefault(),!0}else if(!c&&o===a.getTextContentSize()&&null===a.getNextSibling()&&null===e.getNextSibling())return e.selectNext(),t.preventDefault(),!0}return!1}let u,d;if(a.isBefore(l)?(u=Xf(a),d=Qf(l)):(u=Xf(l),d=Qf(a)),null==u||null==d)return!1;const f=u.getNodesBetween(d);for(let e=0;e<f.length;e++){const t=f[e];if(!Jf(t)&&!eI(t)&&!VP(t))return!1}t.preventDefault(),t.stopPropagation();const h=c?u.getPreviousSibling():d.getNextSibling();if(!VP(h))return!0;const p=c?h.getPreviousSibling():h.getNextSibling();if(null==p)return!0;const m=Jf(p)||eI(p)||VP(p)?c?Xf(p):Qf(p):null;let g=null!=m?m:p;return h.remove(),f.forEach((e=>e.remove())),e===QI?(f.forEach((e=>g.insertBefore(e))),g.insertBefore(h)):(g.insertAfter(h),g=h,f.forEach((e=>{g.insertAfter(e),g=e}))),n.setTextNodeRange(a,o,l,s),!0}function uh(e,t){const n=RP();if(!GP(n))return!1;const{anchor:r,focus:i}=n,o=r.getNode(),s=i.getNode(),a=e===a$;if(!sh(n)||!Jf(o)&&!eI(o)||!Jf(s)&&!eI(s))return!1;if(a){const e=Zf(s,i.offset);if(null!==e){const{node:t,offset:r}=e;VP(t)?t.selectNext(0,0):n.setTextNodeRange(t,r,t,r)}else s.getParentOrThrow().selectStart()}else eh(s).select();return t.preventDefault(),
t.stopPropagation(),!0}function dh(e){throw new Error(e)}function fh(e){let t=1,n=e.getParent();for(;null!=n;){if(Mh(n)){const e=n.getParent();if(Ih(e)){t++,n=e.getParent();continue}dh("A ListItemNode must have a ListNode for a parent.")}return t}return t}function hh(e){let t=e.getParent();Ih(t)||dh("A ListItemNode must have a ListNode for a parent.");let n=t;for(;null!==n;)n=n.getParent(),Ih(n)&&(t=n);return t}function ph(e){let t=[];const n=e.getChildren().filter(Mh);for(let e=0;e<n.length;e++){const r=n[e],i=r.getFirstChild();Ih(i)?t=t.concat(ph(i)):t.push(r)}return t}function mh(e){return Mh(e)&&Ih(e.getFirstChild())}function gh(e){return jh().append(e)}function vh(e,t){return Mh(e)&&(0===t.length||1===t.length&&e.is(t[0])&&0===e.getChildrenSize())}function yh(e){const t=RP();if(null!==t){let n=t.getNodes();if(GP(t)){const r=t.getStartEndPoints();null===r&&dh("insertList: anchor should be defined");const[i]=r,o=i.getNode(),s=o.getParent();if(QP(o)){const e=o.getFirstChild();if(e)n=e.selectStart().getNodes();else{const e=pP();o.append(e),n=e.select().getNodes()}}else if(vh(o,n)){const t=Ph(e);if(QP(s)){o.replace(t);const e=jh();HP(o)&&(e.setFormat(o.getFormatType()),e.setIndent(o.getIndent())),t.append(e)}else if(Mh(o)){const e=o.getParentOrThrow();bh(t,e.getChildren()),e.replace(t)}return}}const r=new Set;for(let t=0;t<n.length;t++){const i=n[t];if(HP(i)&&i.isEmpty()&&!Mh(i)&&!r.has(i.getKey())){_h(i,e);continue}let o=qP(i)?i.getParent():Mh(i)&&i.isEmpty()?i:null;for(;null!=o;){const t=o.getKey();if(Ih(o)){if(!r.has(t)){const n=Ph(e);bh(n,o.getChildren()),o.replace(n),r.add(t)}break}{const n=o.getParent();if(QP(n)&&!r.has(t)){r.add(t),_h(o,e);break}o=n}}}}}function bh(e,t){e.splice(e.getChildrenSize(),0,t)}function _h(e,t){if(Ih(e))return e;const n=e.getPreviousSibling(),r=e.getNextSibling(),i=jh();let o;if(bh(i,e.getChildren()),Ih(n)&&t===n.getListType())n.append(i),Ih(r)&&t===r.getListType()&&(bh(n,r.getChildren()),r.remove()),o=n;else if(Ih(r)&&t===r.getListType())r.getFirstChildOrThrow().insertBefore(i),o=r;else{const n=Ph(t);n.append(i),e.replace(n),o=n}return i.setFormat(e.getFormatType()),i.setIndent(e.getIndent()),e.remove(),o}function wh(e,t){const n=e.getLastChild(),r=t.getFirstChild();n&&r&&mh(n)&&mh(r)&&(wh(n.getFirstChild(),r.getFirstChild()),r.remove());const i=t.getChildren();i.length>0&&e.append(...i),t.remove()}function Ch(){const e=RP();if(GP(e)){const t=new Set,n=e.getNodes(),r=e.anchor.getNode();if(vh(r,n))t.add(hh(r));else for(let e=0;e<n.length;e++){const r=n[e];if(qP(r)){const e=nB(r,ZU);null!=e&&t.add(hh(e))}}for(const n of t){let t=n;const r=ph(n);for(const n of r){const r=pP().setTextStyle(e.style).setTextFormat(e.format);bh(r,n.getChildren()),t.insertAfter(r),t=r,n.__key===e.anchor.key&&cI(e.anchor,iI(SP(r,"next"))),n.__key===e.focus.key&&cI(e.focus,iI(SP(r,"next"))),n.remove()}n.remove()}}}function xh(e){const t=new Set;if(mh(e)||t.has(e.getKey()))return;const n=e.getParent(),r=e.getNextSibling(),i=e.getPreviousSibling();if(mh(r)&&mh(i)){const n=i.getFirstChild();if(Ih(n)){n.append(e);const i=r.getFirstChild();Ih(i)&&(bh(n,i.getChildren()),r.remove(),t.add(r.getKey()))}}else if(mh(r)){const t=r.getFirstChild();if(Ih(t)){const n=t.getFirstChild();null!==n&&n.insertBefore(e)}}else if(mh(i)){const t=i.getFirstChild();Ih(t)&&t.append(e)}else if(Ih(n)){const t=jh().setTextFormat(e.getTextFormat()).setTextStyle(e.getTextStyle()),o=Ph(n.getListType()).setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle());t.append(o),o.append(e),i?i.insertAfter(t):r?r.insertBefore(t):n.append(t)}}function Eh(e){if(mh(e))return;const t=e.getParent(),n=t?t.getParent():void 0;if(Ih(n?n.getParent():void 0)&&Mh(n)&&Ih(t)){const r=t?t.getFirstChild():void 0,i=t?t.getLastChild():void 0;if(e.is(r))n.insertBefore(e),t.isEmpty()&&n.remove();else if(e.is(i))n.insertAfter(e),t.isEmpty()&&n.remove();else{const r=t.getListType(),i=jh(),o=Ph(r);i.append(o),e.getPreviousSiblings().forEach((e=>o.append(e)));const s=jh(),a=Ph(r);s.append(a),bh(a,e.getNextSiblings()),n.insertBefore(i),n.insertAfter(s),n.replace(e)}}}function Sh(){const e=RP();if(!GP(e)||!e.isCollapsed())return!1;const t=e.anchor.getNode();if(!Mh(t)||0!==t.getChildrenSize())return!1;const n=hh(t),r=t.getParent();Ih(r)||dh("A ListItemNode must have a ListNode for a parent.");const i=r.getParent();let o;if(QP(i))o=pP(),n.insertAfter(o);else{if(!Mh(i))return!1;o=jh(),i.insertAfter(o)}o.setTextStyle(e.style).setTextFormat(e.format).select();const s=t.getNextSiblings();if(s.length>0){const e=Ph(r.getListType());if(Mh(o)){const t=jh();t.append(e),o.insertAfter(t)}else o.insertAfter(e);e.append(...s)}return function(e){let t=e;for(;null==t.getNextSibling()&&null==t.getPreviousSibling();){const e=t.getParent();if(null==e||!Mh(e)&&!Ih(e))break;t=e}t.remove()}(t),!0}function kh(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const t of n)if(t&&"string"==typeof t)for(const[n]of t.matchAll(/\S+/g))e.push(n);return e}function Dh(e,t,n){const r=tz(t.__textStyle);for(const t in r)e.style.setProperty(`--listitem-marker-${t}`,r[t]);if(n)for(const t in tz(n.__textStyle))t in r||e.style.removeProperty(`--listitem-marker-${t}`)}function Th(e,t,n){const r=[],i=[],o=t.list,s=o?o.listitem:void 0;let a;if(o&&o.nested&&(a=o.nested.listitem),void 0!==s&&r.push(...kh(s)),o){const e=n.getParent(),t=Ih(e)&&"check"===e.getListType(),s=n.getChecked();t&&!s||i.push(o.listitemUnchecked),t&&s||i.push(o.listitemChecked),t&&r.push(s?o.listitemChecked:o.listitemUnchecked)}if(void 0!==a){const e=kh(a);n.getChildren().some((e=>Ih(e)))?r.push(...e):i.push(...e)}i.length>0&&gB(e,...i),r.length>0&&cB(e,...r)}function Ah(e,t,n){Ih(t.getFirstChild())?(e.removeAttribute("role"),e.removeAttribute("tabIndex"),e.removeAttribute("aria-checked")):(e.setAttribute("role","checkbox"),e.setAttribute("tabIndex","-1"),n&&t.__checked===n.__checked||e.setAttribute("aria-checked",t.getChecked()?"true":"false"))}function Nh(e){if(e.classList.contains("task-list-item"))for(const t of e.children)if("INPUT"===t.tagName)return Oh(t);const t=e.getAttribute("aria-checked");return{node:jh("true"===t||"false"!==t&&void 0)}}function Oh(e){return"checkbox"!==e.getAttribute("type")?{node:null}:{node:jh(e.hasAttribute("checked"))}}function jh(e){return lP(new ZU(void 0,e))}function Mh(e){return e instanceof ZU}function Rh(e,t,n){const r=[],i=[],o=t.list;if(void 0!==o){const e=o[`${n.__tag}Depth`]||[],t=fh(n)-1,s=t%e.length,a=e[s],l=o[n.__tag];let c;const u=o.nested,d=o.checklist;if(void 0!==u&&u.list&&(c=u.list),void 0!==l&&r.push(l),void 0!==d&&"check"===n.__listType&&r.push(d),void 0!==a){r.push(...kh(a));for(let t=0;t<e.length;t++)t!==s&&i.push(n.__tag+t)}if(void 0!==c){const e=kh(c);t>1?r.push(...e):i.push(...e)}}i.length>0&&gB(e,...i),r.length>0&&cB(e,...r)}function Fh(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(Mh(r)){t.push(r);const e=r.getChildren();e.length>1&&e.forEach((e=>{Ih(e)&&t.push(gh(e))}))}else t.push(gh(r))}return t}function Lh(e){const t=e.nodeName.toLowerCase();let n=null;return"ol"===t?n=Ph("number",e.start):"ul"===t&&(n=function(e){if("check"===e.getAttribute("__lexicallisttype")||e.classList.contains("contains-task-list"))return!0;for(const t of e.childNodes)if(hB(t)&&t.hasAttribute("aria-checked"))return!0;return!1}(e)?Ph("check"):Ph("bullet")),{after:Fh,node:n}}function Ph(){return lP(new eH(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"number",arguments.length>1&&void 0!==arguments[1]?arguments[1]:1))}function Ih(e){return e instanceof eH}function $h(e,t){const n=e.target;if(!hB(n))return;const r=n.firstChild;if(hB(r)&&("UL"===r.tagName||"OL"===r.tagName))return;const i=n.parentNode;if(!i||"check"!==i.__lexicalListType)return;const o=n.getBoundingClientRect(),s=e.pageX/uB(n);("rtl"===n.dir?s<o.right&&s>o.right-20:s>o.left&&s<o.left+20)&&t()}function zh(e){$h(e,(()=>{if(hB(e.target)){const t=e.target,n=S$(t);null!=n&&n.isEditable()&&n.update((()=>{const e=AP(t);Mh(e)&&(t.focus(),e.toggleChecked())}))}}))}function Bh(e){$h(e,(()=>{e.preventDefault()}))}function Uh(){const e=document.activeElement;return hB(e)&&"LI"===e.tagName&&null!=e.parentNode&&"check"===e.parentNode.__lexicalListType?e:null}function Hh(e,t,n){const r=Uh();return null!=r&&t.update((()=>{const i=AP(r);if(!Mh(i))return;const o=function(e,t){let n=t?e.getPreviousSibling():e.getNextSibling(),r=e;for(;null==n&&Mh(r);)r=r.getParentOrThrow().getParent(),null!=r&&(n=t?r.getPreviousSibling():r.getNextSibling());for(;Mh(n);){const e=t?n.getLastChild():n.getFirstChild();if(!Ih(e))return n;n=t?e.getLastChild():e.getFirstChild()}return null}(i,n);if(null!=o){o.selectStart();const n=t.getElementByKey(o.__key);null!=n&&(e.preventDefault(),setTimeout((()=>{n.focus()}),0))}})),!1}function Wh(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(const e of i)n.append("v",e);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Kh(e){let t=1,n=e.getParent();for(;null!=n;){if(fp(n)){const e=n.getParent();if(vp(e)){t++,n=e.getParent();continue}Wh(40)}return t}return t}function qh(e){let t=e.getParent();vp(t)||Wh(40);let n=t;for(;null!==n;)n=n.getParent(),vp(n)&&(t=n);return t}function Vh(e){let t=[];const n=e.getChildren().filter(fp);for(let e=0;e<n.length;e++){const r=n[e],i=r.getFirstChild();vp(i)?t=t.concat(Vh(i)):t.push(r)}return t}function Yh(e){return fp(e)&&vp(e.getFirstChild())}function Jh(e){return dp().append(e)}function Gh(e,t){return fp(e)&&(0===t.length||1===t.length&&e.is(t[0])&&0===e.getChildrenSize())}function Xh(e){const t=RP();if(null!==t){let n=t.getNodes();if(GP(t)){const r=t.getStartEndPoints();null===r&&Wh(143);const[i]=r,o=i.getNode(),s=o.getParent();if(QP(o)){const e=o.getFirstChild();if(e)n=e.selectStart().getNodes();else{const e=pP();o.append(e),n=e.select().getNodes()}}else if(Gh(o,n)){const t=gp(e);if(QP(s)){o.replace(t);const e=dp();HP(o)&&(e.setFormat(o.getFormatType()),e.setIndent(o.getIndent())),t.append(e)}else if(fp(o)){const e=o.getParentOrThrow();Qh(t,e.getChildren()),e.replace(t)}return}}const r=new Set;for(let t=0;t<n.length;t++){const i=n[t];if(HP(i)&&i.isEmpty()&&!fp(i)&&!r.has(i.getKey())){Zh(i,e);continue}let o=qP(i)?i.getParent():fp(i)&&i.isEmpty()?i:null;for(;null!=o;){const t=o.getKey();if(vp(o)){if(!r.has(t)){const n=gp(e);Qh(n,o.getChildren()),o.replace(n),r.add(t)}break}{const n=o.getParent();if(QP(n)&&!r.has(t)){r.add(t),Zh(o,e);break}o=n}}}}}function Qh(e,t){e.splice(e.getChildrenSize(),0,t)}function Zh(e,t){if(vp(e))return e;const n=e.getPreviousSibling(),r=e.getNextSibling(),i=dp();let o;if(Qh(i,e.getChildren()),vp(n)&&t===n.getListType())n.append(i),vp(r)&&t===r.getListType()&&(Qh(n,r.getChildren()),r.remove()),o=n;else if(vp(r)&&t===r.getListType())r.getFirstChildOrThrow().insertBefore(i),o=r;else{const n=gp(t);n.append(i),e.replace(n),o=n}return i.setFormat(e.getFormatType()),i.setIndent(e.getIndent()),e.remove(),o}function ep(e,t){const n=e.getLastChild(),r=t.getFirstChild();n&&r&&Yh(n)&&Yh(r)&&(ep(n.getFirstChild(),r.getFirstChild()),r.remove());const i=t.getChildren();i.length>0&&e.append(...i),t.remove()}function tp(){const e=RP();if(GP(e)){const t=new Set,n=e.getNodes(),r=e.anchor.getNode();if(Gh(r,n))t.add(qh(r));else for(let e=0;e<n.length;e++){const r=n[e];if(qP(r)){const e=nB(r,sH);null!=e&&t.add(qh(e))}}for(const n of t){let t=n;const r=Vh(n);for(const n of r){const r=pP().setTextStyle(e.style).setTextFormat(e.format);Qh(r,n.getChildren()),t.insertAfter(r),t=r,n.__key===e.anchor.key&&cI(e.anchor,iI(SP(r,"next"))),n.__key===e.focus.key&&cI(e.focus,iI(SP(r,"next"))),n.remove()}n.remove()}}}function np(e){const t=new Set;if(Yh(e)||t.has(e.getKey()))return;const n=e.getParent(),r=e.getNextSibling(),i=e.getPreviousSibling();if(Yh(r)&&Yh(i)){const n=i.getFirstChild();if(vp(n)){n.append(e);const i=r.getFirstChild();vp(i)&&(Qh(n,i.getChildren()),r.remove(),t.add(r.getKey()))}}else if(Yh(r)){const t=r.getFirstChild();if(vp(t)){const n=t.getFirstChild();null!==n&&n.insertBefore(e)}}else if(Yh(i)){const t=i.getFirstChild();vp(t)&&t.append(e)}else if(vp(n)){const t=dp().setTextFormat(e.getTextFormat()).setTextStyle(e.getTextStyle()),o=gp(n.getListType()).setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle());t.append(o),o.append(e),i?i.insertAfter(t):r?r.insertBefore(t):n.append(t)}}function rp(e){if(Yh(e))return;const t=e.getParent(),n=t?t.getParent():void 0;if(vp(n?n.getParent():void 0)&&fp(n)&&vp(t)){const r=t?t.getFirstChild():void 0,i=t?t.getLastChild():void 0;if(e.is(r))n.insertBefore(e),t.isEmpty()&&n.remove();else if(e.is(i))n.insertAfter(e),t.isEmpty()&&n.remove();else{const r=t.getListType(),i=dp(),o=gp(r);i.append(o),e.getPreviousSiblings().forEach((e=>o.append(e)));const s=dp(),a=gp(r);s.append(a),Qh(a,e.getNextSiblings()),n.insertBefore(i),n.insertAfter(s),n.replace(e)}}}function ip(){const e=RP();if(!GP(e)||!e.isCollapsed())return!1;const t=e.anchor.getNode();if(!fp(t)||0!==t.getChildrenSize())return!1;const n=qh(t),r=t.getParent();vp(r)||Wh(40);const i=r.getParent();let o;if(QP(i))o=pP(),n.insertAfter(o);else{if(!fp(i))return!1;o=dp(),i.insertAfter(o)}o.setTextStyle(e.style).setTextFormat(e.format).select();const s=t.getNextSiblings();if(s.length>0){const e=gp(r.getListType());if(fp(o)){const t=dp();t.append(e),o.insertAfter(t)}else o.insertAfter(e);e.append(...s)}return function(e){let t=e;for(;null==t.getNextSibling()&&null==t.getPreviousSibling();){const e=t.getParent();if(null==e||!fp(e)&&!vp(e))break;t=e}t.remove()}(t),!0}function op(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const t of n)if(t&&"string"==typeof t)for(const[n]of t.matchAll(/\S+/g))e.push(n);return e}function sp(e,t,n){const r=tz(t.__textStyle);for(const t in r)e.style.setProperty(`--listitem-marker-${t}`,r[t]);if(n)for(const t in tz(n.__textStyle))t in r||e.style.removeProperty(`--listitem-marker-${t}`)}function ap(e,t,n){const r=[],i=[],o=t.list,s=o?o.listitem:void 0;let a;if(o&&o.nested&&(a=o.nested.listitem),void 0!==s&&r.push(...op(s)),o){const e=n.getParent(),t=vp(e)&&"check"===e.getListType(),s=n.getChecked();t&&!s||i.push(o.listitemUnchecked),t&&s||i.push(o.listitemChecked),t&&r.push(s?o.listitemChecked:o.listitemUnchecked)}if(void 0!==a){const e=op(a);n.getChildren().some((e=>vp(e)))?r.push(...e):i.push(...e)}i.length>0&&gB(e,...i),r.length>0&&cB(e,...r)}function lp(e,t,n){vp(t.getFirstChild())?(e.removeAttribute("role"),e.removeAttribute("tabIndex"),e.removeAttribute("aria-checked")):(e.setAttribute("role","checkbox"),e.setAttribute("tabIndex","-1"),n&&t.__checked===n.__checked||e.setAttribute("aria-checked",t.getChecked()?"true":"false"))}function cp(e){if(e.classList.contains("task-list-item"))for(const t of e.children)if("INPUT"===t.tagName)return up(t);const t=e.getAttribute("aria-checked");return{node:dp("true"===t||"false"!==t&&void 0)}}function up(e){return"checkbox"!==e.getAttribute("type")?{node:null}:{node:dp(e.hasAttribute("checked"))}}function dp(e){return lP(new sH(void 0,e))}function fp(e){return e instanceof sH}function hp(e,t,n){const r=[],i=[],o=t.list;if(void 0!==o){const e=o[`${n.__tag}Depth`]||[],t=Kh(n)-1,s=t%e.length,a=e[s],l=o[n.__tag];let c;const u=o.nested,d=o.checklist;if(void 0!==u&&u.list&&(c=u.list),void 0!==l&&r.push(l),void 0!==d&&"check"===n.__listType&&r.push(d),void 0!==a){r.push(...op(a));for(let t=0;t<e.length;t++)t!==s&&i.push(n.__tag+t)}if(void 0!==c){const e=op(c);t>1?r.push(...e):i.push(...e)}}i.length>0&&gB(e,...i),r.length>0&&cB(e,...r)}function pp(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(fp(r)){t.push(r);const e=r.getChildren();e.length>1&&e.forEach((e=>{vp(e)&&t.push(Jh(e))}))}else t.push(Jh(r))}return t}function mp(e){const t=e.nodeName.toLowerCase();let n=null;return"ol"===t?n=gp("number",e.start):"ul"===t&&(n=function(e){if("check"===e.getAttribute("__lexicallisttype")||e.classList.contains("contains-task-list"))return!0;for(const t of e.childNodes)if(hB(t)&&t.hasAttribute("aria-checked"))return!0;return!1}(e)?gp("check"):gp("bullet")),{after:pp,node:n}}function gp(){return lP(new aH(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"number",arguments.length>1&&void 0!==arguments[1]?arguments[1]:1))}function vp(e){return e instanceof aH}function yp(e,t){const n=e.target;if(!hB(n))return;const r=n.firstChild;if(hB(r)&&("UL"===r.tagName||"OL"===r.tagName))return;const i=n.parentNode;if(!i||"check"!==i.__lexicalListType)return;const o=n.getBoundingClientRect(),s=e.pageX/uB(n);("rtl"===n.dir?s<o.right&&s>o.right-20:s>o.left&&s<o.left+20)&&t()}function bp(e){yp(e,(()=>{if(hB(e.target)){const t=e.target,n=S$(t);null!=n&&n.isEditable()&&n.update((()=>{const e=AP(t);fp(e)&&(t.focus(),e.toggleChecked())}))}}))}function _p(e){yp(e,(()=>{e.preventDefault()}))}function wp(){const e=document.activeElement;return hB(e)&&"LI"===e.tagName&&null!=e.parentNode&&"check"===e.parentNode.__lexicalListType?e:null}function Cp(e,t,n){const r=wp();return null!=r&&t.update((()=>{const i=AP(r);if(!fp(i))return;const o=function(e,t){let n=t?e.getPreviousSibling():e.getNextSibling(),r=e;for(;null==n&&fp(r);)r=r.getParentOrThrow().getParent(),null!=r&&(n=t?r.getPreviousSibling():r.getNextSibling());for(;fp(n);){const e=t?n.getLastChild():n.getFirstChild();if(!vp(e))return n;n=t?e.getLastChild():e.getFirstChild()}return null}(i,n);if(null!=o){o.selectStart();const n=t.getElementByKey(o.__key);null!=n&&(e.preventDefault(),setTimeout((()=>{n.focus()}),0))}})),!1}function xp(e){let t=null;if(fB(e)){const n=e.textContent;(null!==n&&""!==n||e.children.length>0)&&(t=Ep(e.getAttribute("href")||"",{rel:e.getAttribute("rel"),target:e.getAttribute("target"),title:e.getAttribute("title")}))}return{node:t}}function Ep(){return lP(new AH(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1?arguments[1]:void 0))}function Sp(e){return e instanceof AH}function kp(){return lP(new NH(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1?arguments[1]:void 0))}function Dp(e){return e instanceof NH}function Tp(e,t){if("element"===e.type){const n=e.getNode();return HP(n)||function(){throw new Error("$getPointNode: element point is not an ElementNode")}(),n.getChildren()[e.offset+t]||null}return null}function Ap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{target:n,title:r}=t,i=void 0===t.rel?"noreferrer":t.rel,o=RP();if(null===o||!GP(o)&&!YP(o))return;if(YP(o)){const t=o.getNodes();if(0===t.length)return;return void t.forEach((t=>{if(null===e){const e=Zz(t,(e=>!Dp(e)&&Sp(e)));e&&(e.insertBefore(t),0===e.getChildren().length&&e.remove())}else{const r=Zz(t,(e=>!Dp(e)&&Sp(e)));if(r)r.setURL(e),void 0!==n&&r.setTarget(n),void 0!==i&&r.setRel(i);else{const r=Ep(e,{rel:i,target:n});t.insertBefore(r),r.append(t)}}}))}const s=o.extract();if(null===e)return void s.forEach((e=>{const t=Zz(e,(e=>!Dp(e)&&Sp(e)));if(t){const e=t.getChildren();for(let n=0;n<e.length;n++)t.insertBefore(e[n]);t.remove()}}));const a=new Set,l=t=>{a.has(t.getKey())||(a.add(t.getKey()),t.setURL(e),void 0!==n&&t.setTarget(n),void 0!==i&&t.setRel(i),void 0!==r&&t.setTitle(r))};if(1===s.length){const e=Np(s[0],Sp);if(null!==e)return l(e)}!function(e){const t=RP();if(!GP(t))return e();const n=oI(t),r=n.isBackward(),i=Tp(n.anchor,r?-1:0),o=Tp(n.focus,r?0:-1);if(e(),i||o){const e=RP();if(GP(e)){const t=e.clone();if(i){const e=i.getParent();e&&t.anchor.set(e.getKey(),i.getIndexWithinParent()+(r?1:0),"element")}if(o){const e=o.getParent();e&&t.focus.set(e.getKey(),o.getIndexWithinParent()+(r?0:1),"element")}uI(oI(t))}}}((()=>{let t=null;for(const o of s){if(!o.isAttached())continue;const s=Np(o,Sp);if(s){l(s);continue}if(HP(o)){if(!o.isInline())continue;if(Sp(o)){if(!(Dp(o)||null!==t&&t.getParentOrThrow().isParentOf(o))){l(o),t=o;continue}for(const e of o.getChildren())o.insertBefore(e);o.remove();continue}}const a=o.getPreviousSibling();Sp(a)&&a.is(t)?a.append(o):(t=Ep(e,{rel:i,target:n,title:r}),o.insertAfter(t),t.append(o))}}))}function Np(e,t){let n=e;for(;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}function Op(e){let t=null;if(fB(e)){const n=e.textContent;(null!==n&&""!==n||e.children.length>0)&&(t=jp(e.getAttribute("href")||"",{rel:e.getAttribute("rel"),target:e.getAttribute("target"),title:e.getAttribute("title")}))}return{node:t}}function jp(){return lP(new RH(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1?arguments[1]:void 0))}function Mp(e){return e instanceof RH}function Rp(){return lP(new FH(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1?arguments[1]:void 0))}function Fp(e){return e instanceof FH}function Lp(e,t){if("element"===e.type){const n=e.getNode();return HP(n)||function(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(const e of i)n.append("v",e);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(252),n.getChildren()[e.offset+t]||null}return null}function Pp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{target:n,title:r}=t,i=void 0===t.rel?"noreferrer":t.rel,o=RP();if(null===o||!GP(o)&&!YP(o))return;if(YP(o)){const t=o.getNodes();if(0===t.length)return;return void t.forEach((t=>{if(null===e){const e=Zz(t,(e=>!Fp(e)&&Mp(e)));e&&(e.insertBefore(t),0===e.getChildren().length&&e.remove())}else{const r=Zz(t,(e=>!Fp(e)&&Mp(e)));if(r)r.setURL(e),void 0!==n&&r.setTarget(n),void 0!==i&&r.setRel(i);else{const r=jp(e,{rel:i,target:n});t.insertBefore(r),r.append(t)}}}))}const s=o.extract();if(null===e)return void s.forEach((e=>{const t=Zz(e,(e=>!Fp(e)&&Mp(e)));if(t){const e=t.getChildren();for(let n=0;n<e.length;n++)t.insertBefore(e[n]);t.remove()}}));const a=new Set,l=t=>{a.has(t.getKey())||(a.add(t.getKey()),t.setURL(e),void 0!==n&&t.setTarget(n),void 0!==i&&t.setRel(i),void 0!==r&&t.setTitle(r))};if(1===s.length){const e=Ip(s[0],Mp);if(null!==e)return l(e)}!function(e){const t=RP();if(!GP(t))return e();const n=oI(t),r=n.isBackward(),i=Lp(n.anchor,r?-1:0),o=Lp(n.focus,r?0:-1);if(e(),i||o){const e=RP();if(GP(e)){const t=e.clone();if(i){const e=i.getParent();e&&t.anchor.set(e.getKey(),i.getIndexWithinParent()+(r?1:0),"element")}if(o){const e=o.getParent();e&&t.focus.set(e.getKey(),o.getIndexWithinParent()+(r?0:1),"element")}uI(oI(t))}}}((()=>{let t=null;for(const o of s){if(!o.isAttached())continue;const s=Ip(o,Mp);if(s){l(s);continue}if(HP(o)){if(!o.isInline())continue;if(Mp(o)){if(!(Fp(o)||null!==t&&t.getParentOrThrow().isParentOf(o))){l(o),t=o;continue}for(const e of o.getChildren())o.insertBefore(e);o.remove();continue}}const a=o.getPreviousSibling();Mp(a)&&a.is(t)?a.append(o):(t=jp(e,{rel:i,target:n,title:r}),o.insertAfter(t),t.append(o))}}))}function Ip(e,t){let n=e;for(;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}function $p(){return new VH(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}function zp(e){return e instanceof VH}function Bp(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n=>{var r;return{conversion:r=>{var i,o;const s=null===(o=null===(i=e(n))||void 0===i?void 0:i.conversion)||void 0===o?void 0:o.call(i,r);return s&&s.node?(s.node=Up(s.node,r,t),{node:s.node}):{node:null}},priority:(null===(r=e(n))||void 0===r?void 0:r.priority)+1}}}function Up(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return null;const r=t.style.textAlign;if(e.setFormat(r),t.style.textIndent&&n){const n=parseInt(t.style.textIndent);e.setIndent(n/20)}return t.style.display&&zp(e)&&e.setIsInline("inline"===t.style.display),t.style.direction&&HP(e)&&e.setStyle(`direction:${t.style.direction} !important;text-align: initial;`),e}function Hp(e){return"middle"===e||"bottom"===e}function Wp(e){const t=e,n=e.nodeName.toLowerCase();let r;YH.test(t.style.width)&&(r=parseFloat(t.style.width));const i=Kp("th"===n?JH.ROW:JH.NO_STATUS,t.colSpan,r);i.__rowSpan=t.rowSpan;const o=t.style.backgroundColor;""!==o&&(i.__backgroundColor=o);const s=t.style.verticalAlign;Hp(s)&&(i.__verticalAlign=s);const a=t.style,l=(a&&a.textDecoration||"").split(" "),c="700"===a.fontWeight||"bold"===a.fontWeight,u=l.includes("line-through"),d="italic"===a.fontStyle,f=l.includes("underline");return{after:e=>{const t=[];let n=null;const r=()=>{if(n){const e=n.getFirstChild();VP(e)&&1===n.getChildrenSize()&&e.remove()}};for(const i of e)KP(i)||tI(i)||VP(i)?(tI(i)&&(c&&i.toggleFormat("bold"),u&&i.toggleFormat("strikethrough"),d&&i.toggleFormat("italic"),f&&i.toggleFormat("underline")),n?n.append(i):(n=pP().append(i),t.push(n))):(t.push(i),r(),n=null);return r(),0===t.length&&t.push(pP()),t},node:i}}function Kp(){return lP(new GH(arguments.length>0&&void 0!==arguments[0]?arguments[0]:JH.NO_STATUS,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2?arguments[2]:void 0))}function qp(e){return e instanceof GH}function Vp(e){throw new Error(e)}function Yp(e){const t=e;let n;return YH.test(t.style.height)&&(n=parseFloat(t.style.height)),{after:e=>Qz(e,qp),node:Jp(n)}}function Jp(e){return lP(new QH(e))}function Gp(e){return e instanceof QH}function Xp(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=eg();for(let i=0;i<e;i++){const e=Jp();for(let r=0;r<t;r++){let t=JH.NO_STATUS;"object"==typeof n?(0===i&&n.rows&&(t|=JH.ROW),0===r&&n.columns&&(t|=JH.COLUMN)):n&&(0===i&&(t|=JH.ROW),0===r&&(t|=JH.COLUMN));const o=Kp(t),s=pP();s.append(bP()),o.append(s),e.append(o)}r.append(e)}return r}function Qp(e){const t=Zz(e,(e=>Gp(e)));if(Gp(t))return t;throw new Error("Expected table cell to be inside of table row.")}function Zp(e){const t=Zz(e,(e=>tg(e)));if(tg(t))return t;throw new Error("Expected table cell to be inside of table.")}function em(e,t){const n=Zp(e),{x:r,y:i}=n.getCordsFromCellNode(e,t);return{above:n.getCellNodeFromCords(r,i-1,t),below:n.getCellNodeFromCords(r,i+1,t),left:n.getCellNodeFromCords(r-1,i,t),right:n.getCellNodeFromCords(r+1,i,t)}}function tm(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=RP();GP(t)||ym(t)||Vp("Expected a RangeSelection or TableSelection");const n=t.anchor.getNode(),r=t.focus.getNode(),[i]=pm(n),[o,,s]=pm(r),[,a,l]=fm(s,o,i),{startRow:c}=l,{startRow:u}=a;return e?nm(c+i.__rowSpan>u+o.__rowSpan?i:o,!0):nm(u<c?o:i,!1)}function nm(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const[,,n]=pm(e),[r,i]=fm(n,e,e),o=r[0].length,{startRow:s}=i;let a=null;if(t){const t=s+e.__rowSpan-1,i=r[t],l=Jp();for(let e=0;e<o;e++){const{cell:n,startRow:r}=i[e];if(r+n.__rowSpan-1<=t){const t=i[e].cell.__headerState,n=nW(t,JH.COLUMN);l.append(Kp(n).append(pP()))}else n.setRowSpan(n.__rowSpan+1)}const c=n.getChildAtIndex(t);Gp(c)||Vp("insertAfterEndRow is not a TableRowNode"),c.insertAfter(l),a=l}else{const e=s,t=r[e],i=Jp();for(let n=0;n<o;n++){const{cell:r,startRow:o}=t[n];if(o===e){const e=t[n].cell.__headerState,r=nW(e,JH.COLUMN);i.append(Kp(r).append(pP()))}else r.setRowSpan(r.__rowSpan+1)}const l=n.getChildAtIndex(e);Gp(l)||Vp("insertBeforeStartRow is not a TableRowNode"),l.insertBefore(i),a=i}return a}function rm(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=RP();GP(t)||ym(t)||Vp("Expected a RangeSelection or TableSelection");const n=t.anchor.getNode(),r=t.focus.getNode(),[i]=pm(n),[o,,s]=pm(r),[,a,l]=fm(s,o,i),{startColumn:c}=l,{startColumn:u}=a;return e?im(c+i.__colSpan>u+o.__colSpan?i:o,!0):im(u<c?o:i,!1)}function im(e){function t(){const e=Kp(arguments.length>0&&void 0!==arguments[0]?arguments[0]:JH.NO_STATUS).append(pP());return null===d&&(d=e),e}let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[,,i]=pm(e),[o,s]=fm(i,e,e),a=o.length,{startColumn:l}=s,c=n?l+e.__colSpan-1:l-1,u=i.getFirstChild();Gp(u)||Vp("Expected firstTable child to be a row");let d=null,f=u;e:for(let e=0;e<a;e++){if(0!==e){const e=f.getNextSibling();Gp(e)||Vp("Expected row nextSibling to be a row"),f=e}const n=o[e],r=n[c<0?0:c].cell.__headerState,i=nW(r,JH.ROW);if(c<0){lm(f,t(i));continue}const{cell:s,startColumn:a,startRow:l}=n[c];if(a+s.__colSpan-1<=c){let r=s,o=l,a=c;for(;o!==e&&r.__rowSpan>1;){if(a-=s.__colSpan,!(a>=0)){f.append(t(i));continue e}{const{cell:e,startRow:t}=n[a];r=e,o=t}}r.insertAfter(t(i))}else s.setColSpan(s.__colSpan+1)}null!==d&&r&&am(d);const h=i.getColWidths();if(h){const e=[...h],t=c<0?0:c,n=e[t];e.splice(t,0,n),i.setColWidths(e)}return d}function om(){const e=RP();GP(e)||ym(e)||Vp("Expected a RangeSelection or TableSelection");const[t,n]=e.isBackward()?[e.focus.getNode(),e.anchor.getNode()]:[e.anchor.getNode(),e.focus.getNode()],[r,,i]=pm(t),[o]=pm(n),[s,a,l]=fm(i,r,o),{startRow:c}=a,{startRow:u}=l,d=u+o.__rowSpan-1;if(s.length===d-c+1)return void i.remove();const f=s[0].length,h=r.__rowSpan,p=s[d+1],m=i.getChildAtIndex(d+1);for(let e=d;e>=c;e--){for(let t=f-1;t>=0;t--){const{cell:n,startRow:r,startColumn:i}=s[e][t];if(i===t){if(e===c&&r<c){const e=c-r;n.setRowSpan(n.__rowSpan-Math.min(h,n.__rowSpan-e))}if(r>=c&&r+n.__rowSpan-1>d){n.setRowSpan(n.__rowSpan-(d-r+1)),null===m&&Vp("Expected nextRowNode not to be null");let i=null;for(let n=0;n<t;n++){const t=p[n],r=t.cell;t.startRow===e+1&&(i=r),r.__colSpan>1&&(n+=r.__colSpan-1)}null===i?lm(m,n):i.insertAfter(n)}}}const t=i.getChildAtIndex(e);Gp(t)||Vp(`Expected TableNode childAtIndex(${String(e)}) to be RowNode`),t.remove()}if(void 0!==p){const{cell:e}=p[0];am(e)}else{const e=s[c-1],{cell:t}=e[0];am(t)}}function sm(){const e=RP();GP(e)||ym(e)||Vp("Expected a RangeSelection or TableSelection");const t=e.anchor.getNode(),n=e.focus.getNode(),[r,,i]=pm(t),[o]=pm(n),[s,a,l]=fm(i,r,o),{startColumn:c}=a,{startRow:u,startColumn:d}=l,f=Math.min(c,d),h=Math.max(c+r.__colSpan-1,d+o.__colSpan-1),p=h-f+1;if(s[0].length===h-f+1)return i.selectPrevious(),void i.remove();const m=s.length;for(let e=0;e<m;e++)for(let t=f;t<=h;t++){const{cell:n,startColumn:r}=s[e][t];if(r<f){if(t===f){const e=f-r;n.setColSpan(n.__colSpan-Math.min(p,n.__colSpan-e))}}else if(r+n.__colSpan-1>h){if(t===h){const e=h-r+1;n.setColSpan(n.__colSpan-e)}}else n.remove()}const g=s[u],v=c>d?g[c+r.__colSpan]:g[d+o.__colSpan];if(void 0!==v){const{cell:e}=v;am(e)}else{const e=d<c?g[d-1]:g[c-1],{cell:t}=e;am(t)}const y=i.getColWidths();if(y){const e=[...y];e.splice(f,p),i.setColWidths(e)}}function am(e){const t=e.getFirstDescendant();null==t?e.selectStart():t.getParentOrThrow().selectStart()}function lm(e,t){const n=e.getFirstChild();null!==n?n.insertBefore(t):e.append(t)}function cm(e){if(0===e.length)return null;const t=Zp(e[0]),[n]=hm(t,null,null);let r=1/0,i=-1/0,o=1/0,s=-1/0;const a=new Set;for(const t of n)for(const n of t){if(!n||!n.cell)continue;const t=n.cell.getKey();if(!a.has(t)&&e.some((e=>e.is(n.cell)))){a.add(t);const e=n.startRow,l=n.startColumn,c=n.cell.__rowSpan||1,u=n.cell.__colSpan||1;r=Math.min(r,e),i=Math.max(i,e+c-1),o=Math.min(o,l),s=Math.max(s,l+u-1)}}if(r===1/0||o===1/0)return null;const l=i-r+1,c=s-o+1,u=n[r][o];if(!u.cell)return null;const d=u.cell;d.setColSpan(c),d.setRowSpan(l);const f=new Set([d.getKey()]);for(let e=r;e<=i;e++)for(let t=o;t<=s;t++){const r=n[e][t];if(!r.cell)continue;const i=r.cell,o=i.getKey();f.has(o)||(f.add(o),um(i)||d.append(...i.getChildren()),i.remove())}return 0===d.getChildrenSize()&&d.append(pP()),d}function um(e){if(1!==e.getChildrenSize())return!1;const t=e.getFirstChildOrThrow();return!(!JP(t)||!t.isEmpty())}function dm(e){const[t,n,r]=pm(e),i=t.__colSpan,o=t.__rowSpan;if(1===i&&1===o)return;const[s,a]=fm(r,t,t),{startColumn:l,startRow:c}=a,u=t.__headerState&JH.COLUMN,d=Array.from({length:i},((e,t)=>{let n=u;for(let e=0;0!==n&&e<s.length;e++)n&=s[e][t+l].cell.__headerState;return n})),f=t.__headerState&JH.ROW,h=Array.from({length:o},((e,t)=>{let n=f;for(let e=0;0!==n&&e<s[0].length;e++)n&=s[t+c][e].cell.__headerState;return n}));if(i>1){for(let e=1;e<i;e++)t.insertAfter(Kp(d[e]|h[0]).append(pP()));t.setColSpan(1)}if(o>1){let e;for(let t=1;t<o;t++){const r=c+t,o=s[r];e=(e||n).getNextSibling(),Gp(e)||Vp("Expected row next sibling to be a row");let a=null;for(let e=0;e<l;e++){const t=o[e],n=t.cell;t.startRow===r&&(a=n),n.__colSpan>1&&(e+=n.__colSpan-1)}
if(null===a)for(let n=i-1;n>=0;n--)lm(e,Kp(d[n]|h[t]).append(pP()));else for(let e=i-1;e>=0;e--)a.insertAfter(Kp(d[e]|h[t]).append(pP()))}t.setRowSpan(1)}}function fm(e,t,n){const[r,i,o]=hm(e,t,n);return null===i&&Vp("Anchor not found in Table"),null===o&&Vp("Focus not found in Table"),[r,i,o]}function hm(e,t,n){function r(e){let t=i[e];return void 0===t&&(i[e]=t=[]),t}const i=[];let o=null,s=null;const a=e.getChildren();for(let e=0;e<a.length;e++){const i=a[e];Gp(i)||Vp("Expected TableNode children to be TableRowNode");const l=r(e);for(let c=i.getFirstChild(),u=0;null!=c;c=c.getNextSibling()){for(qp(c)||Vp("Expected TableRowNode children to be TableCellNode");void 0!==l[u];)u++;const i={cell:c,startColumn:u,startRow:e},{__rowSpan:d,__colSpan:f}=c;for(let t=0;t<d&&!(e+t>=a.length);t++){const n=r(e+t);for(let e=0;e<f;e++)n[u+e]=i}null!==t&&null===o&&t.is(c)&&(o=i),null!==n&&null===s&&n.is(c)&&(s=i)}}return[i,o,s]}function pm(e){let t;if(e instanceof GH)t=e;else if("__type"in e){const n=Zz(e,qp);qp(n)||Vp("Expected to find a parent TableCellNode"),t=n}else{const n=Zz(e.getNode(),qp);qp(n)||Vp("Expected to find a parent TableCellNode"),t=n}const n=t.getParent();Gp(n)||Vp("Expected TableCellNode to have a parent TableRowNode");const r=n.getParent();return tg(r)||Vp("Expected TableRowNode to have a parent TableNode"),[t,n,r]}function mm(e,t,n){let r,i=Math.min(t.startColumn,n.startColumn),o=Math.min(t.startRow,n.startRow),s=Math.max(t.startColumn+t.cell.__colSpan-1,n.startColumn+n.cell.__colSpan-1),a=Math.max(t.startRow+t.cell.__rowSpan-1,n.startRow+n.cell.__rowSpan-1);do{r=!1;for(let t=0;t<e.length;t++)for(let n=0;n<e[0].length;n++){const l=e[t][n];if(!l)continue;const c=l.startColumn+l.cell.__colSpan-1,u=l.startRow+l.cell.__rowSpan-1,d=l.startColumn<=s&&c>=i,f=l.startRow<=a&&u>=o;if(d&&f){const e=Math.min(i,l.startColumn),t=Math.max(s,c),n=Math.min(o,l.startRow),d=Math.max(a,u);e===i&&t===s&&n===o&&d===a||(i=e,s=t,o=n,a=d,r=!0)}}}while(r);return{maxColumn:s,maxRow:a,minColumn:i,minRow:o}}function gm(e){const[t,,n]=pm(e),r=n.getChildren(),i=r.length,o=r[0].getChildren().length,s=new Array(i);for(let e=0;e<i;e++)s[e]=new Array(o);for(let e=0;e<i;e++){const n=r[e].getChildren();let i=0;for(let r=0;r<n.length;r++){for(;s[e][i];)i++;const o=n[r],a=o.__rowSpan||1,l=o.__colSpan||1;for(let t=0;t<a;t++)for(let n=0;n<l;n++)s[e+t][i+n]=o;if(t===o)return{colSpan:l,columnIndex:i,rowIndex:e,rowSpan:a};i+=l}}return null}function vm(e){const[[t,n,r,i],[o,s,a,l]]=["anchor","focus"].map((t=>{const n=e[t].getNode(),r=Zz(n,qp);qp(r)||Vp(`Expected TableSelection ${t} to be (or a child of) TableCellNode, got key ${n.getKey()} of type ${n.getType()}`);const i=r.getParent();Gp(i)||Vp(`Expected TableSelection ${t} cell parent to be a TableRowNode`);const o=i.getParent();return tg(o)||Vp(`Expected TableSelection ${t} row parent to be a TableNode`),[n,r,i,o]}));return i.is(l)||Vp("Expected TableSelection anchor and focus to be in the same table"),{anchorCell:n,anchorNode:t,anchorRow:r,anchorTable:i,focusCell:s,focusNode:o,focusRow:a,focusTable:l}}function ym(e){return e instanceof aW}function bm(){const e=mP("root",0,"element"),t=mP("root",0,"element");return new aW("root",e,t)}function _m(e,t,n){const r=e.getKey(),i=t.getKey(),o=n.getKey();e.isAttached()||Vp(`$createTableSelectionFrom: tableNode ${r} is not attached`),e.is(Hm(t))||Vp(`$createTableSelectionFrom: anchorCell ${i} is not in table ${r}`),e.is(Hm(n))||Vp(`$createTableSelectionFrom: focusCell ${o} is not in table ${r}`);const s=RP(),a=ym(s)?s.clone():bm();return a.set(e.getKey(),t.getKey(),n.getKey()),a}function wm(e,t){const n=[[e]];for(let e=n.at(-1);void 0!==e&&n.length>0;e=n.at(-1)){const r=e.pop();void 0===r?n.pop():!1!==t(r)&&HP(r)&&n.push(r.getChildren())}}function Cm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TP();const n=NP(e);tg(n)||Vp(`TableObserver: Expected tableNodeKey ${e} to be a TableNode`);const r=Em(n,t.getElementByKey(e));return null===r&&Vp(`TableObserver: Expected to find TableElement in DOM for key ${e}`),{tableElement:r,tableNode:n}}function xm(e){return O$(e)&&"TABLE"===e.nodeName}function Em(e,t){if(!t)return t;const n=xm(t)?t:e.getDOMSlot(t).element;return"TABLE"!==n.nodeName&&Vp(`getTableElement: Expecting table in as DOM node for TableNode, not ${t.nodeName}`),n}function Sm(e){return e._window}function km(e,t){for(let n=t,r=null;null!==n;n=n.getParent()){if(e.is(n))return r;qp(n)&&(r=n)}return null}function Dm(e,t,n,r){const i=n.getRootElement(),o=Sm(n);null!==i&&null!==o||Vp("applyTableHandlers: editor has no root element set");const s=new lW(n,e.getKey()),a=Em(e,t);!function(e,t){null!==Tm(e)&&Vp("tableElement already has an attached TableObserver"),e[cW]=t}(a,s),s.listenersToRemove.add((()=>function(e,t){Tm(e)===t&&delete e[cW]}(a,s)));const l=t=>{if(s.pointerType=t.pointerType,0!==t.button||!T$(t.target)||!o)return;const r=Am(t.target);null!==r&&n.update((()=>{const n=jP();if(tW&&t.shiftKey&&Im(n,e)&&(GP(n)||ym(n))){const i=n.anchor.getNode(),o=km(e,n.anchor.getNode());o?(s.$setAnchorCellForSelection(Ym(s,o)),s.$setFocusCellForSelection(r),Km(t)):(e.isBefore(i)?e.selectStart():e.selectEnd()).anchor.set(n.anchor.key,n.anchor.offset,n.anchor.type)}else s.$setAnchorCellForSelection(r)})),(()=>{if(s.isSelecting)return;const e=()=>{s.isSelecting=!1,o.removeEventListener("pointerup",e),o.removeEventListener("pointermove",t)},t=r=>{if(1&~r.buttons&&s.isSelecting)return s.isSelecting=!1,o.removeEventListener("pointerup",e),void o.removeEventListener("pointermove",t);if(!T$(r.target))return;let i=null;const l=!(tW||a.contains(r.target));if(l)i=Nm(a,r.target);else for(const e of document.elementsFromPoint(r.clientX,r.clientY))if(i=Nm(a,e),i)break;!i||null!==s.focusCell&&i.elem===s.focusCell.elem||(s.setNextFocus({focusCell:i,override:l}),n.dispatchCommand(p$,void 0))};s.isSelecting=!0,o.addEventListener("pointerup",e,s.listenerOptions),o.addEventListener("pointermove",t,s.listenerOptions)})()};a.addEventListener("pointerdown",l,s.listenerOptions),s.listenersToRemove.add((()=>{a.removeEventListener("pointerdown",l)}));const c=e=>{e.detail>=3&&T$(e.target)&&null!==Am(e.target)&&e.preventDefault()};a.addEventListener("mousedown",c,s.listenerOptions),s.listenersToRemove.add((()=>{a.removeEventListener("mousedown",c)}));const u=e=>{const t=e.target;0===e.button&&T$(t)&&n.update((()=>{const e=RP();ym(e)&&e.tableKey===s.tableNodeKey&&i.contains(t)&&s.$clearHighlight()}))};o.addEventListener("pointerdown",u,s.listenerOptions),s.listenersToRemove.add((()=>{o.removeEventListener("pointerdown",u)}));for(const[t,r]of uW)s.listenersToRemove.add(n.registerCommand(t,(t=>Wm(n,t,r,e,s)),SI));s.listenersToRemove.add(n.registerCommand(r$,(t=>{const n=RP();if(ym(n)){const r=km(e,n.focus.getNode());if(null!==r)return Km(t),r.selectEnd(),!0}return!1}),SI));const d=t=>()=>{const n=RP();if(!Im(n,e))return!1;if(ym(n))return s.$clearText(),!0;if(GP(n)){if(!qp(km(e,n.anchor.getNode())))return!1;const r=n.anchor.getNode(),i=n.focus.getNode(),o=e.isParentOf(r),a=e.isParentOf(i);if(o&&!a||a&&!o)return s.$clearText(),!0;const l=Zz(n.anchor.getNode(),(e=>HP(e))),c=l&&Zz(l,(e=>HP(e)&&qp(e.getParent())));if(!HP(c)||!HP(l))return!1;if(t===OI&&null===c.getPreviousSibling())return!0}return!1};for(const e of dW)s.listenersToRemove.add(n.registerCommand(e,d(e),xI));const f=t=>{const n=RP();if(!ym(n)&&!GP(n))return!1;const r=e.isParentOf(n.anchor.getNode());if(r!==e.isParentOf(n.focus.getNode())){const t=r?"anchor":"focus",i=r?"focus":"anchor",{key:o,offset:s,type:a}=n[i];return e[n[t].isBefore(n[i])?"selectPrevious":"selectNext"]()[i].set(o,s,a),!1}return!!Im(n,e)&&!!ym(n)&&(t&&(t.preventDefault(),t.stopPropagation()),s.$clearText(),!0)};for(const e of fW)s.listenersToRemove.add(n.registerCommand(e,f,xI));return s.listenersToRemove.add(n.registerCommand(AI,(e=>{const t=RP();if(t){if(!ym(t)&&!GP(t))return!1;FB(n,mB(e,ClipboardEvent)?e:null,NB(t));const r=f(e);return GP(t)?(t.removeText(),!0):r}return!1}),xI)),s.listenersToRemove.add(n.registerCommand(zI,(t=>{const n=RP();if(!Im(n,e))return!1;if(ym(n))return s.$formatCells(t),!0;if(GP(n)){const e=Zz(n.anchor.getNode(),(e=>qp(e)));if(!qp(e))return!1}return!1}),xI)),s.listenersToRemove.add(n.registerCommand($I,(t=>{const n=RP();if(!ym(n)||!Im(n,e))return!1;const r=n.anchor.getNode(),i=n.focus.getNode();if(!qp(r)||!qp(i))return!1;if(function(e,t){if(ym(e)){const n=e.anchor.getNode(),r=e.focus.getNode();if(t&&n&&r){const[e]=fm(t,n,r);return n.getKey()===e[0][0].cell.getKey()&&r.getKey()===e[e.length-1].at(-1).cell.getKey()}}return!1}(n,e))return e.setFormat(t),!0;const[o,s,a]=fm(e,r,i),l=Math.max(s.startRow+s.cell.__rowSpan-1,a.startRow+a.cell.__rowSpan-1),c=Math.max(s.startColumn+s.cell.__colSpan-1,a.startColumn+a.cell.__colSpan-1),u=Math.min(s.startRow,a.startRow),d=Math.min(s.startColumn,a.startColumn),f=new Set;for(let e=u;e<=l;e++)for(let n=d;n<=c;n++){const r=o[e][n].cell;if(f.has(r))continue;f.add(r),r.setFormat(t);const i=r.getChildren();for(let e=0;e<i.length;e++){const n=i[e];HP(n)&&!n.isInline()&&n.setFormat(t)}}return!0}),xI)),s.listenersToRemove.add(n.registerCommand(DI,(t=>{const r=RP();if(!Im(r,e))return!1;if(ym(r))return s.$clearHighlight(),!1;if(GP(r)){const i=Zz(r.anchor.getNode(),(e=>qp(e)));if(!qp(i))return!1;if("string"==typeof t){const i=Vm(n,r,e);if(i)return qm(i,e,[bP(t)]),!0}}return!1}),xI)),r&&s.listenersToRemove.add(n.registerCommand(o$,(t=>{const n=RP();if(!GP(n)||!n.isCollapsed()||!Im(n,e))return!1;const r=Um(n.anchor.getNode());return!(null===r||!e.is(Hm(r))||(Km(t),function(e,t){const n="next"===t?"getNextSibling":"getPreviousSibling",r="next"===t?"getFirstChild":"getLastChild",i=e[n]();if(HP(i))return i.selectEnd();const o=Zz(e,Gp);null===o&&Vp("selectAdjacentCell: Cell not in table row");for(let e=o[n]();Gp(e);e=e[n]()){const t=e[r]();if(HP(t))return t.selectEnd()}const s=Zz(o,tg);null===s&&Vp("selectAdjacentCell: Row not in table"),"next"===t?s.selectNext():s.selectPrevious()}(r,t.shiftKey?"previous":"next"),0))}),xI)),s.listenersToRemove.add(n.registerCommand(II,(()=>e.isSelected()),SI)),s.listenersToRemove.add(n.registerCommand(m$,(e=>{const{nodes:t,selection:n}=e,r=n.getStartEndPoints(),i=ym(n),o=GP(n)&&null!==Zz(n.anchor.getNode(),(e=>qp(e)))&&null!==Zz(n.focus.getNode(),(e=>qp(e)))||i;if(1!==t.length||!tg(t[0])||!o||null===r)return!1;const[s,a]=r,[l,c,u]=pm(s),d=Zz(a.getNode(),(e=>qp(e)));if(!(qp(l)&&qp(d)&&Gp(c)&&tg(u)))return!1;const f=t[0],[h,p,m]=fm(u,l,d),[g]=hm(f,null,null),v=h.length,y=v>0?h[0].length:0;let b=p.startRow,_=p.startColumn,w=g.length,C=w>0?g[0].length:0;if(i){const e=mm(h,p,m),t=e.maxRow-e.minRow+1,n=e.maxColumn-e.minColumn+1;b=e.minRow,_=e.minColumn,w=Math.min(w,t),C=Math.min(C,n)}let x=!1;const E=Math.min(v,b+w)-1,S=Math.min(y,_+C)-1,k=new Set;for(let e=b;e<=E;e++)for(let t=_;t<=S;t++){const n=h[e][t];k.has(n.cell.getKey())||1===n.cell.__rowSpan&&1===n.cell.__colSpan||(dm(n.cell),k.add(n.cell.getKey()),x=!0)}let[D]=hm(u.getWritable(),null,null);const T=w-v+b;for(let e=0;e<T;e++)nm(D[v-1][0].cell);const A=C-y+_;for(let e=0;e<A;e++)im(D[0][y-1].cell,!0,!1);[D]=hm(u.getWritable(),null,null);for(let e=b;e<b+w;e++)for(let t=_;t<_+C;t++){const n=e-b,r=t-_,i=g[n][r];if(i.startRow!==n||i.startColumn!==r)continue;const o=i.cell;if(1!==o.__rowSpan||1!==o.__colSpan){const n=[],r=Math.min(e+o.__rowSpan,b+w)-1,i=Math.min(t+o.__colSpan,_+C)-1;for(let o=e;o<=r;o++)for(let e=t;e<=i;e++){const t=D[o][e];n.push(t.cell)}cm(n),x=!0}const{cell:s}=D[e][t],a=s.getChildren();o.getChildren().forEach((e=>{tI(e)?(pP().append(e),s.append(e)):s.append(e)})),a.forEach((e=>e.remove()))}if(i&&x){const[e]=hm(u.getWritable(),null,null);e[p.startRow][p.startColumn].cell.selectEnd()}return!0}),xI)),s.listenersToRemove.add(n.registerCommand(p$,(()=>{const t=RP(),r=jP(),i=s.getAndClearNextFocus();if(null!==i){const{focusCell:n}=i;if(ym(t)&&t.tableKey===s.tableNodeKey)return(n.x!==s.focusX||n.y!==s.focusY)&&(s.$setFocusCellForSelection(n),!0);if(n!==s.anchorCell&&Im(t,e))return s.$setFocusCellForSelection(n),!0}if(s.getAndClearShouldCheckSelection()&&GP(r)&&GP(t)&&t.isCollapsed()){const n=t.anchor.getNode(),r=e.getFirstChild(),i=Um(n);if(null!==i&&Gp(r)){const t=r.getFirstChild();if(qp(t)&&e.is(Zz(i,(n=>n.is(e)||n.is(t)))))return t.selectStart(),!0}}if(GP(t)){const{anchor:i,focus:o}=t,a=i.getNode(),l=o.getNode(),c=Um(a),u=Um(l),d=!(!c||!e.is(Hm(c))),f=!(!u||!e.is(Hm(u))),h=d!==f,p=d&&f,m=t.isBackward();if(h){const r=t.clone();if(f){const[t]=fm(e,u,u),n=t[0][0].cell,i=t[t.length-1].at(-1).cell;r.focus.set(m?n.getKey():i.getKey(),m?n.getChildrenSize():i.getChildrenSize(),"element")}else if(d){const[t]=fm(e,c,c),n=t[0][0].cell,i=t[t.length-1].at(-1).cell;r.anchor.set(m?i.getKey():n.getKey(),m?i.getChildrenSize():0,"element")}uI(r),Rm(n,s)}else if(p&&(c.is(u)||(s.$setAnchorCellForSelection(Ym(s,c)),s.$setFocusCellForSelection(Ym(s,u),!0)),"touch"===s.pointerType&&t.isCollapsed()&&GP(r)&&r.isCollapsed())){const e=Um(r.anchor.getNode());e&&!e.is(u)&&(s.$setAnchorCellForSelection(Ym(s,e)),s.$setFocusCellForSelection(Ym(s,u),!0),s.pointerType=null)}}else if(t&&ym(t)&&t.is(r)&&t.tableKey===e.getKey()){const r=x$(o);if(r&&r.anchorNode&&r.focusNode){const i=AP(r.focusNode),o=i&&!e.isParentOf(i),s=AP(r.anchorNode),a=s&&e.isParentOf(s);if(o&&a&&r.rangeCount>0){const i=vP(r,n);i&&(i.anchor.set(e.getKey(),t.isBackward()?e.getChildrenSize():0,"element"),r.removeAllRanges(),uI(i))}}}return t&&!t.is(r)&&(ym(t)||ym(r))&&s.tableSelection&&!s.tableSelection.is(r)?(ym(t)&&t.tableKey===s.tableNodeKey?s.$updateTableTableSelection(t):!ym(t)&&ym(r)&&r.tableKey===s.tableNodeKey&&s.$updateTableTableSelection(null),!1):(s.hasHijackedSelectionStyles&&!e.isSelected()?function(e,t){t.$enableHighlightStyle(),Mm(t.table,(t=>{const n=t.elem;t.highlighted=!1,Bm(e,t),n.getAttribute("style")||n.removeAttribute("style")}))}(n,s):!s.hasHijackedSelectionStyles&&e.isSelected()&&Rm(n,s),!1)}),xI)),s.listenersToRemove.add(n.registerCommand(qI,(()=>{const t=RP();if(!GP(t)||!t.isCollapsed()||!Im(t,e))return!1;const r=Vm(n,t,e);return!!r&&(qm(r,e),!0)}),xI)),s}function Tm(e){return e[cW]||null}function Am(e){let t=e;for(;null!=t;){const e=t.nodeName;if("TD"===e||"TH"===e){const e=t._cell;return void 0===e?null:e}t=t.parentNode}return null}function Nm(e,t){if(!e.contains(t))return null;let n=null;for(let r=t;null!=r;r=r.parentNode){if(r===e)return n;const t=r.nodeName;"TD"!==t&&"TH"!==t||(n=r._cell||null)}return null}function Om(e,t){const n=[],r={columns:0,domRows:n,rows:0};let i=Em(e,t).querySelector("tr"),o=0,s=0;for(n.length=0;null!=i;){const e=i.nodeName;if("TD"===e||"TH"===e){const e={elem:i,hasBackgroundColor:""!==i.style.backgroundColor,highlighted:!1,x:o,y:s};i._cell=e;let t=n[s];void 0===t&&(t=n[s]=[]),t[o]=e}else{const e=i.firstChild;if(null!=e){i=e;continue}}const t=i.nextSibling;if(null!=t){o++,i=t;continue}const r=i.parentNode;if(null!=r){const e=r.nextSibling;if(null==e)break;s++,o=0,i=e}}return r.columns=o+1,r.rows=s+1,r}function jm(e,t,n){const r=new Set(n?n.getNodes():[]);Mm(t,((t,n)=>{const i=t.elem;r.has(n)?(t.highlighted=!0,zm(e,t)):(t.highlighted=!1,Bm(e,t),i.getAttribute("style")||i.removeAttribute("style"))}))}function Mm(e,t){const{domRows:n}=e;for(let e=0;e<n.length;e++){const r=n[e];if(r)for(let n=0;n<r.length;n++){const i=r[n];if(!i)continue;const o=AP(i.elem);null!==o&&t(i,o,{x:n,y:e})}}}function Rm(e,t){t.$disableHighlightStyle(),Mm(t.table,(t=>{t.highlighted=!0,zm(e,t)}))}function Fm(e,t){let n,r;if(t.startColumn===e.minColumn)n="minColumn";else{if(t.startColumn+t.cell.__colSpan-1!==e.maxColumn)return null;n="maxColumn"}if(t.startRow===e.minRow)r="minRow";else{if(t.startRow+t.cell.__rowSpan-1!==e.maxRow)return null;r="maxRow"}return[n,r]}function Lm(e){let[t,n]=e;return["minColumn"===t?"maxColumn":"minColumn","minRow"===n?"maxRow":"minRow"]}function Pm(e,t,n){let[r,i]=n;const o=t[i],s=e[o];void 0===s&&Vp(`cellAtCornerOrThrow: ${i} = ${String(o)} missing in tableMap`);const a=t[r],l=s[a];return void 0===l&&Vp(`cellAtCornerOrThrow: ${r} = ${String(a)} missing in tableMap`),l}function Im(e,t){if(GP(e)||ym(e)){const n=t.isParentOf(e.anchor.getNode()),r=t.isParentOf(e.focus.getNode());return n&&r}return!1}function $m(e,t){t?e.selectStart():e.selectEnd()}function zm(e,t){const n=t.elem,r=e._config.theme;qp(AP(n))||Vp("Expected to find LexicalNode from Table Cell DOMNode"),cB(n,r.tableCellSelected)}function Bm(e,t){const n=t.elem;qp(AP(n))||Vp("Expected to find LexicalNode from Table Cell DOMNode");const r=e._config.theme;gB(n,r.tableCellSelected)}function Um(e){const t=Zz(e,qp);return qp(t)?t:null}function Hm(e){const t=Zz(e,tg);return tg(t)?t:null}function Wm(e,t,n,r,i){if(("up"===n||"down"===n)&&function(e){const t=e.getRootElement();return!!t&&t.hasAttribute("aria-controls")&&"typeahead-menu"===t.getAttribute("aria-controls")}(e))return!1;const o=RP();if(!Im(o,r)){if(GP(o)){if("backward"===n){if(o.focus.offset>0)return!1;const e=function(e){for(let t=e,n=e;null!==n;t=n,n=n.getParent())if(HP(n)){if(n!==t&&n.getFirstChild()!==t)return null;if(!n.isInline())return n}return null}(o.focus.getNode());if(!e)return!1;const n=e.getPreviousSibling();return!!tg(n)&&(Km(t),t.shiftKey?o.focus.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent(),"element"):n.selectEnd(),!0)}if(t.shiftKey&&("up"===n||"down"===n)){const e=o.focus.getNode();if(!o.isCollapsed()&&("up"===n&&!o.isBackward()||"down"===n&&o.isBackward())){let i=Zz(e,(e=>tg(e)));if(qp(i)&&(i=Zz(i,tg)),i!==r)return!1;if(!i)return!1;const s="down"===n?i.getNextSibling():i.getPreviousSibling();if(!s)return!1;let a=0;"up"===n&&HP(s)&&(a=s.getChildrenSize());let l=s;"up"===n&&HP(s)&&(l=s.getLastChild()||s,a=tI(l)?l.getTextContentSize():0);const c=o.clone();return c.focus.set(l.getKey(),a,tI(l)?"text":"element"),uI(c),Km(t),!0}if(QP(e)){const e="up"===n?o.getNodes()[o.getNodes().length-1]:o.getNodes()[0];if(e&&null!==km(r,e)){const e=r.getFirstDescendant(),t=r.getLastDescendant();if(!e||!t)return!1;const[n]=pm(e),[o]=pm(t),s=r.getCordsFromCellNode(n,i.table),a=r.getCordsFromCellNode(o,i.table),l=r.getDOMCellFromCordsOrThrow(s.x,s.y,i.table),c=r.getDOMCellFromCordsOrThrow(a.x,a.y,i.table);return i.$setAnchorCellForSelection(l),i.$setFocusCellForSelection(c,!0),!0}return!1}{let r=Zz(e,(e=>HP(e)&&!e.isInline()));if(qp(r)&&(r=Zz(r,tg)),!r)return!1;const s="down"===n?r.getNextSibling():r.getPreviousSibling();if(tg(s)&&i.tableNodeKey===s.getKey()){const e=s.getFirstDescendant(),r=s.getLastDescendant();if(!e||!r)return!1;const[i]=pm(e),[a]=pm(r),l=o.clone();return l.focus.set(("up"===n?i:a).getKey(),"up"===n?0:a.getChildrenSize(),"element"),Km(t),uI(l),!0}}}}return"down"===n&&Xm(e)&&i.setShouldCheckSelection(),!1}if(GP(o)){if("backward"===n||"forward"===n)return function(e,t,n,r,i,o,s){const a=cP(n.focus,i?"previous":"next");if(WP(a))return!1;let l=a;for(const e of _P(a).iterNodeCarets("shadowRoot")){if(!ZP(e)||!HP(e.origin))return!1;l=e}const c=l.getParentAtCaret();if(!qp(c))return!1;const u=c,d=function(e){for(const t of _P(e).iterNodeCarets("root")){const{origin:n}=t;if(qp(n)){if(BP(t))return SP(n,e.direction)}else if(!Gp(n))break}return null}(FP(u,l.direction)),f=Zz(u,tg);if(!f||!f.is(o))return!1;const h=e.getElementByKey(u.getKey()),p=Am(h);if(!h||!p)return!1;const m=Qm(e,f);if(s.table=m,d)if("extend"===r){const t=Am(e.getElementByKey(d.origin.getKey()));if(!t)return!1;s.$setAnchorCellForSelection(p),s.$setFocusCellForSelection(t,!0)}else{const e=iI(d);cI(n.anchor,e),cI(n.focus,e)}else if("extend"===r)s.$setAnchorCellForSelection(p),s.$setFocusCellForSelection(p,!0);else{const e=function(e){const t=wP(e);return BP(t)?iI(t):e}(FP(f,a.direction));cI(n.anchor,e),cI(n.focus,e)}return Km(t),!0}(e,t,o,t.shiftKey?"extend":"move","backward"===n,r,i);if(o.isCollapsed()){const{anchor:s,focus:a}=o,l=Zz(s.getNode(),qp),c=Zz(a.getNode(),qp);if(!qp(l)||!l.is(c))return!1;const u=Hm(l);if(u!==r&&null!=u){const r=Em(u,e.getElementByKey(u.getKey()));if(null!=r)return i.table=Om(u,r),Wm(e,t,n,u,i)}const d=e.getElementByKey(l.__key),f=e.getElementByKey(s.key);if(null==f||null==d)return!1;let h;if("element"===s.type)h=f.getBoundingClientRect();else{const t=x$(Sm(e));if(null===t||0===t.rangeCount)return!1;h=t.getRangeAt(0).getBoundingClientRect()}const p="up"===n?l.getFirstChild():l.getLastChild();if(null==p)return!1;const m=e.getElementByKey(p.__key);if(null==m)return!1;const g=m.getBoundingClientRect();if("up"===n?g.top>h.top-h.height:h.bottom+h.height>g.bottom){Km(t);const e=r.getCordsFromCellNode(l,i.table);if(!t.shiftKey)return hW(i,r,e.x,e.y,n);{const t=r.getDOMCellFromCordsOrThrow(e.x,e.y,i.table);i.$setAnchorCellForSelection(t),i.$setFocusCellForSelection(t,!0)}return!0}}}else if(ym(o)){const{anchor:s,focus:a}=o,l=Zz(s.getNode(),qp),c=Zz(a.getNode(),qp),[u]=o.getNodes();tg(u)||Vp("$handleArrowKey: TableSelection.getNodes()[0] expected to be TableNode");const d=Em(u,e.getElementByKey(u.getKey()));if(!qp(l)||!qp(c)||!tg(u)||null==d)return!1;i.$updateTableTableSelection(o);const f=Om(u,d),h=r.getCordsFromCellNode(l,f),p=r.getDOMCellFromCordsOrThrow(h.x,h.y,f);if(i.$setAnchorCellForSelection(p),Km(t),t.shiftKey){const[e,t,o]=fm(r,l,c);return function(e,t,n,r,i){const o=mm(t,n,r),s=function(e,t){const{minColumn:n,maxColumn:r,minRow:i,maxRow:o}=t;let s=1,a=1,l=1,c=1;const u=e[i],d=e[o];for(let e=n;e<=r;e++)s=Math.max(s,u[e].cell.__rowSpan),c=Math.max(c,d[e].cell.__rowSpan);for(let t=i;t<=o;t++)a=Math.max(a,e[t][n].cell.__colSpan),l=Math.max(l,e[t][r].cell.__colSpan);return{bottomSpan:c,leftSpan:a,rightSpan:l,topSpan:s}}(t,o),{topSpan:a,leftSpan:l,bottomSpan:c,rightSpan:u}=s,d=function(e,t){const n=Fm(e,t);return null===n&&Vp(`getCornerOrThrow: cell ${t.cell.getKey()} is not at a corner of rect`),n}(o,n),[f,h]=Lm(d);let p=o[f],m=o[h];"forward"===i?p+="maxColumn"===f?1:l:"backward"===i?p-="minColumn"===f?1:u:"down"===i?m+="maxRow"===h?1:a:"up"===i&&(m-="minRow"===h?1:c);const g=t[m];if(void 0===g)return!1;const v=g[p];if(void 0===v)return!1;const[y,b]=function(e,t,n){const r=mm(e,t,n),i=Fm(r,t);if(i)return[Pm(e,r,i),Pm(e,r,Lm(i))];const o=Fm(r,n);if(o)return[Pm(e,r,Lm(o)),Pm(e,r,o)];const s=["minColumn","minRow"];return[Pm(e,r,s),Pm(e,r,Lm(s))]}(t,n,v),_=Ym(e,y.cell),w=Ym(e,b.cell);return e.$setAnchorCellForSelection(_),e.$setFocusCellForSelection(w,!0),!0}(i,e,t,o,n)}return c.selectEnd(),!0}return!1}function Km(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()}function qm(e,t,n){const r=pP();"first"===e?t.insertBefore(r):t.insertAfter(r),r.append(...n||[]),r.selectEnd()}function Vm(e,t,n){const r=n.getParent();if(!r)return;const i=x$(Sm(e));if(!i)return;const o=i.anchorNode,s=e.getElementByKey(r.getKey()),a=Em(n,e.getElementByKey(n.getKey()));if(!o||!s||!a||!s.contains(o)||a.contains(o))return;const l=Zz(t.anchor.getNode(),(e=>qp(e)));if(!l)return;const c=Zz(l,(e=>tg(e)));if(!tg(c)||!c.is(n))return;const[u,d]=fm(n,l,l),f=u[0][0],h=u[u.length-1][u[0].length-1],{startRow:p,startColumn:m}=d,g=p===f.startRow&&m===f.startColumn,v=p===h.startRow&&m===h.startColumn;return g?"first":v?"last":void 0}function Ym(e,t){const{tableNode:n}=e.$lookup(),r=n.getCordsFromCellNode(t,e.table);return n.getDOMCellFromCordsOrThrow(r.x,r.y,e.table)}function Jm(e,t,n){return km(e,AP(t,n))}function Gm(e,t,n){if(!t.theme.tableAlignment)return;const r=[],i=[];for(const e of["center","right"]){const o=t.theme.tableAlignment[e];o&&(e===n?i:r).push(o)}gB(e,...r),cB(e,...i)}function Xm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TP();return pW.has(e)}function Qm(e,t){const n=e.getElementByKey(t.getKey());return null===n&&Vp("$getElementForTableNode: Table Element Not Found"),Om(t,n)}function Zm(e){const t=eg();e.hasAttribute("data-lexical-row-striping")&&t.setRowStriping(!0),e.hasAttribute("data-lexical-frozen-column")&&t.setFrozenColumns(1),e.hasAttribute("data-lexical-frozen-row")&&t.setFrozenRows(1);const n=e.querySelector(":scope > colgroup");if(n){let e=[];for(const t of n.querySelectorAll(":scope > col")){let n=t.style.width||"";if(!YH.test(n)&&(n=t.getAttribute("width")||"",!/^\d+$/.test(n))){e=void 0;break}e.push(parseFloat(n))}e&&t.setColWidths(e)}return{after:e=>Qz(e,Gp),node:t}}function eg(){return lP(new mW)}function tg(e){return e instanceof mW}function ng(e){let{rows:t,columns:n,includeHeaders:r}=e;const i=RP()||jP();if(!i||!GP(i))return!1;if(Hm(i.anchor.getNode()))return!1;const o=Xp(Number(t),Number(n),r);iB(o);const s=o.getFirstDescendant();return tI(s)&&s.select(),!0}function rg(e){Gp(e.getParent())?e.isEmpty()&&e.append(pP()):e.remove()}function ig(e){tg(e.getParent())?oB(e,qp):e.remove()}function og(e){oB(e,Gp);const[t]=hm(e,null,null),n=t.reduce(((e,t)=>Math.max(e,t.length)),0),r=e.getChildren();for(let e=0;e<t.length;++e){const i=r[e];if(!i)continue;Gp(i)||Vp(`TablePlugin: Expecting all children of TableNode to be TableRowNode, found ${i.constructor.name} (type ${i.getType()})`);const o=t[e].reduce(((e,t)=>t?1+e:e),0);if(o!==n)for(let e=o;e<n;++e){const e=Kp();e.append(pP()),i.append(e)}}}function sg(e){if(e.detail<3||!T$(e.target))return!1;const t=AP(e.target);if(null===t)return!1;const n=Zz(t,(e=>HP(e)&&!e.isInline()));return null!==n&&!!qp(n.getParent())&&(n.select(0),!0)}function ag(e){return"middle"===e||"bottom"===e}function lg(e){const t=e,n=e.nodeName.toLowerCase();let r;gW.test(t.style.width)&&(r=parseFloat(t.style.width));const i=cg("th"===n?vW.ROW:vW.NO_STATUS,t.colSpan,r);i.__rowSpan=t.rowSpan;const o=t.style.backgroundColor;""!==o&&(i.__backgroundColor=o);const s=t.style.verticalAlign;ag(s)&&(i.__verticalAlign=s);const a=t.style,l=(a&&a.textDecoration||"").split(" "),c="700"===a.fontWeight||"bold"===a.fontWeight,u=l.includes("line-through"),d="italic"===a.fontStyle,f=l.includes("underline");return{after:e=>{const t=[];let n=null;const r=()=>{if(n){const e=n.getFirstChild();VP(e)&&1===n.getChildrenSize()&&e.remove()}};for(const i of e)KP(i)||tI(i)||VP(i)?(tI(i)&&(c&&i.toggleFormat("bold"),u&&i.toggleFormat("strikethrough"),d&&i.toggleFormat("italic"),f&&i.toggleFormat("underline")),n?n.append(i):(n=pP().append(i),t.push(n))):(t.push(i),r(),n=null);return r(),0===t.length&&t.push(pP()),t},node:i}}function cg(){return lP(new yW(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vW.NO_STATUS,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2?arguments[2]:void 0))}function ug(e){return e instanceof yW}function dg(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(const e of i)n.append("v",e);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function fg(e){const t=e;let n;return gW.test(t.style.height)&&(n=parseFloat(t.style.height)),{after:e=>Qz(e,ug),node:hg(n)}}function hg(e){return lP(new _W(e))}function pg(e){return e instanceof _W}function mg(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=yv();for(let i=0;i<e;i++){const e=hg();for(let r=0;r<t;r++){let t=vW.NO_STATUS;"object"==typeof n?(0===i&&n.rows&&(t|=vW.ROW),0===r&&n.columns&&(t|=vW.COLUMN)):n&&(0===i&&(t|=vW.ROW),0===r&&(t|=vW.COLUMN));const o=cg(t),s=pP();s.append(bP()),o.append(s),e.append(o)}r.append(e)}return r}function gg(e){const t=Zz(e,(e=>pg(e)));if(pg(t))return t;throw new Error("Expected table cell to be inside of table row.")}function vg(e){const t=Zz(e,(e=>bv(e)));if(bv(t))return t;throw new Error("Expected table cell to be inside of table.")}function yg(e,t){const n=vg(e),{x:r,y:i}=n.getCordsFromCellNode(e,t);return{above:n.getCellNodeFromCords(r,i-1,t),below:n.getCellNodeFromCords(r,i+1,t),left:n.getCellNodeFromCords(r-1,i,t),right:n.getCellNodeFromCords(r+1,i,t)}}function bg(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=RP();GP(t)||Lg(t)||dg(188);const n=t.anchor.getNode(),r=t.focus.getNode(),[i]=jg(n),[o,,s]=jg(r),[,a,l]=Ng(s,o,i),{startRow:c}=l,{startRow:u}=a;return e?_g(c+i.__rowSpan>u+o.__rowSpan?i:o,!0):_g(u<c?o:i,!1)}function _g(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const[,,n]=jg(e),[r,i]=Ng(n,e,e),o=r[0].length,{startRow:s}=i;let a=null;if(t){const t=s+e.__rowSpan-1,i=r[t],l=hg();for(let e=0;e<o;e++){const{cell:n,startRow:r}=i[e];if(r+n.__rowSpan-1<=t){const t=i[e].cell.__headerState,n=EW(t,vW.COLUMN);l.append(cg(n).append(pP()))}else n.setRowSpan(n.__rowSpan+1)}const c=n.getChildAtIndex(t);pg(c)||dg(256),c.insertAfter(l),a=l}else{const e=s,t=r[e],i=hg();for(let n=0;n<o;n++){const{cell:r,startRow:o}=t[n];if(o===e){const e=t[n].cell.__headerState,r=EW(e,vW.COLUMN);i.append(cg(r).append(pP()))}else r.setRowSpan(r.__rowSpan+1)}const l=n.getChildAtIndex(e);pg(l)||dg(257),l.insertBefore(i),a=i}return a}function wg(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=RP();GP(t)||Lg(t)||dg(188);const n=t.anchor.getNode(),r=t.focus.getNode(),[i]=jg(n),[o,,s]=jg(r),[,a,l]=Ng(s,o,i),{startColumn:c}=l,{startColumn:u}=a;return e?Cg(c+i.__colSpan>u+o.__colSpan?i:o,!0):Cg(u<c?o:i,!1)}function Cg(e){function t(){const e=cg(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vW.NO_STATUS).append(pP());return null===d&&(d=e),e}let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[,,i]=jg(e),[o,s]=Ng(i,e,e),a=o.length,{startColumn:l}=s,c=n?l+e.__colSpan-1:l-1,u=i.getFirstChild();pg(u)||dg(120);let d=null,f=u;e:for(let e=0;e<a;e++){if(0!==e){const e=f.getNextSibling();pg(e)||dg(121),f=e}const n=o[e],r=n[c<0?0:c].cell.__headerState,i=EW(r,vW.ROW);if(c<0){kg(f,t(i));continue}const{cell:s,startColumn:a,startRow:l}=n[c];if(a+s.__colSpan-1<=c){let r=s,o=l,a=c;for(;o!==e&&r.__rowSpan>1;){if(a-=s.__colSpan,!(a>=0)){f.append(t(i));continue e}{const{cell:e,startRow:t}=n[a];r=e,o=t}}r.insertAfter(t(i))}else s.setColSpan(s.__colSpan+1)}null!==d&&r&&Sg(d);const h=i.getColWidths();if(h){const e=[...h],t=c<0?0:c,n=e[t];e.splice(t,0,n),i.setColWidths(e)}return d}function xg(){const e=RP();GP(e)||Lg(e)||dg(188);const[t,n]=e.isBackward()?[e.focus.getNode(),e.anchor.getNode()]:[e.anchor.getNode(),e.focus.getNode()],[r,,i]=jg(t),[o]=jg(n),[s,a,l]=Ng(i,r,o),{startRow:c}=a,{startRow:u}=l,d=u+o.__rowSpan-1;if(s.length===d-c+1)return void i.remove();const f=s[0].length,h=r.__rowSpan,p=s[d+1],m=i.getChildAtIndex(d+1);for(let e=d;e>=c;e--){for(let t=f-1;t>=0;t--){const{cell:n,startRow:r,startColumn:i}=s[e][t];if(i===t){if(e===c&&r<c){const e=c-r;n.setRowSpan(n.__rowSpan-Math.min(h,n.__rowSpan-e))}if(r>=c&&r+n.__rowSpan-1>d){n.setRowSpan(n.__rowSpan-(d-r+1)),null===m&&dg(122);let i=null;for(let n=0;n<t;n++){const t=p[n],r=t.cell;t.startRow===e+1&&(i=r),r.__colSpan>1&&(n+=r.__colSpan-1)}null===i?kg(m,n):i.insertAfter(n)}}}const t=i.getChildAtIndex(e);pg(t)||dg(206,String(e)),t.remove()}if(void 0!==p){const{cell:e}=p[0];Sg(e)}else{const e=s[c-1],{cell:t}=e[0];Sg(t)}}function Eg(){const e=RP();GP(e)||Lg(e)||dg(188);const t=e.anchor.getNode(),n=e.focus.getNode(),[r,,i]=jg(t),[o]=jg(n),[s,a,l]=Ng(i,r,o),{startColumn:c}=a,{startRow:u,startColumn:d}=l,f=Math.min(c,d),h=Math.max(c+r.__colSpan-1,d+o.__colSpan-1),p=h-f+1;if(s[0].length===h-f+1)return i.selectPrevious(),void i.remove();const m=s.length;for(let e=0;e<m;e++)for(let t=f;t<=h;t++){const{cell:n,startColumn:r}=s[e][t];if(r<f){if(t===f){const e=f-r;n.setColSpan(n.__colSpan-Math.min(p,n.__colSpan-e))}}else if(r+n.__colSpan-1>h){if(t===h){const e=h-r+1;n.setColSpan(n.__colSpan-e)}}else n.remove()}const g=s[u],v=c>d?g[c+r.__colSpan]:g[d+o.__colSpan];if(void 0!==v){const{cell:e}=v;Sg(e)}else{const e=d<c?g[d-1]:g[c-1],{cell:t}=e;Sg(t)}const y=i.getColWidths();if(y){const e=[...y];e.splice(f,p),i.setColWidths(e)}}function Sg(e){const t=e.getFirstDescendant();null==t?e.selectStart():t.getParentOrThrow().selectStart()}function kg(e,t){const n=e.getFirstChild();null!==n?n.insertBefore(t):e.append(t)}function Dg(e){if(0===e.length)return null;const t=vg(e[0]),[n]=Og(t,null,null);let r=1/0,i=-1/0,o=1/0,s=-1/0;const a=new Set;for(const t of n)for(const n of t){if(!n||!n.cell)continue;const t=n.cell.getKey();if(!a.has(t)&&e.some((e=>e.is(n.cell)))){a.add(t);const e=n.startRow,l=n.startColumn,c=n.cell.__rowSpan||1,u=n.cell.__colSpan||1;r=Math.min(r,e),i=Math.max(i,e+c-1),o=Math.min(o,l),s=Math.max(s,l+u-1)}}if(r===1/0||o===1/0)return null;const l=i-r+1,c=s-o+1,u=n[r][o];if(!u.cell)return null;const d=u.cell;d.setColSpan(c),d.setRowSpan(l);const f=new Set([d.getKey()]);for(let e=r;e<=i;e++)for(let t=o;t<=s;t++){const r=n[e][t];if(!r.cell)continue;const i=r.cell,o=i.getKey();f.has(o)||(f.add(o),
Tg(i)||d.append(...i.getChildren()),i.remove())}return 0===d.getChildrenSize()&&d.append(pP()),d}function Tg(e){if(1!==e.getChildrenSize())return!1;const t=e.getFirstChildOrThrow();return!(!JP(t)||!t.isEmpty())}function Ag(e){const[t,n,r]=jg(e),i=t.__colSpan,o=t.__rowSpan;if(1===i&&1===o)return;const[s,a]=Ng(r,t,t),{startColumn:l,startRow:c}=a,u=t.__headerState&vW.COLUMN,d=Array.from({length:i},((e,t)=>{let n=u;for(let e=0;0!==n&&e<s.length;e++)n&=s[e][t+l].cell.__headerState;return n})),f=t.__headerState&vW.ROW,h=Array.from({length:o},((e,t)=>{let n=f;for(let e=0;0!==n&&e<s[0].length;e++)n&=s[t+c][e].cell.__headerState;return n}));if(i>1){for(let e=1;e<i;e++)t.insertAfter(cg(d[e]|h[0]).append(pP()));t.setColSpan(1)}if(o>1){let e;for(let t=1;t<o;t++){const r=c+t,o=s[r];e=(e||n).getNextSibling(),pg(e)||dg(125);let a=null;for(let e=0;e<l;e++){const t=o[e],n=t.cell;t.startRow===r&&(a=n),n.__colSpan>1&&(e+=n.__colSpan-1)}if(null===a)for(let n=i-1;n>=0;n--)kg(e,cg(d[n]|h[t]).append(pP()));else for(let e=i-1;e>=0;e--)a.insertAfter(cg(d[e]|h[t]).append(pP()))}t.setRowSpan(1)}}function Ng(e,t,n){const[r,i,o]=Og(e,t,n);return null===i&&dg(207),null===o&&dg(208),[r,i,o]}function Og(e,t,n){function r(e){let t=i[e];return void 0===t&&(i[e]=t=[]),t}const i=[];let o=null,s=null;const a=e.getChildren();for(let e=0;e<a.length;e++){const i=a[e];pg(i)||dg(209);const l=r(e);for(let c=i.getFirstChild(),u=0;null!=c;c=c.getNextSibling()){for(ug(c)||dg(147);void 0!==l[u];)u++;const i={cell:c,startColumn:u,startRow:e},{__rowSpan:d,__colSpan:f}=c;for(let t=0;t<d&&!(e+t>=a.length);t++){const n=r(e+t);for(let e=0;e<f;e++)n[u+e]=i}null!==t&&null===o&&t.is(c)&&(o=i),null!==n&&null===s&&n.is(c)&&(s=i)}}return[i,o,s]}function jg(e){let t;if(e instanceof yW)t=e;else if("__type"in e){const n=Zz(e,ug);ug(n)||dg(148),t=n}else{const n=Zz(e.getNode(),ug);ug(n)||dg(148),t=n}const n=t.getParent();pg(n)||dg(149);const r=n.getParent();return bv(r)||dg(210),[t,n,r]}function Mg(e,t,n){let r,i=Math.min(t.startColumn,n.startColumn),o=Math.min(t.startRow,n.startRow),s=Math.max(t.startColumn+t.cell.__colSpan-1,n.startColumn+n.cell.__colSpan-1),a=Math.max(t.startRow+t.cell.__rowSpan-1,n.startRow+n.cell.__rowSpan-1);do{r=!1;for(let t=0;t<e.length;t++)for(let n=0;n<e[0].length;n++){const l=e[t][n];if(!l)continue;const c=l.startColumn+l.cell.__colSpan-1,u=l.startRow+l.cell.__rowSpan-1,d=l.startColumn<=s&&c>=i,f=l.startRow<=a&&u>=o;if(d&&f){const e=Math.min(i,l.startColumn),t=Math.max(s,c),n=Math.min(o,l.startRow),d=Math.max(a,u);e===i&&t===s&&n===o&&d===a||(i=e,s=t,o=n,a=d,r=!0)}}}while(r);return{maxColumn:s,maxRow:a,minColumn:i,minRow:o}}function Rg(e){const[t,,n]=jg(e),r=n.getChildren(),i=r.length,o=r[0].getChildren().length,s=new Array(i);for(let e=0;e<i;e++)s[e]=new Array(o);for(let e=0;e<i;e++){const n=r[e].getChildren();let i=0;for(let r=0;r<n.length;r++){for(;s[e][i];)i++;const o=n[r],a=o.__rowSpan||1,l=o.__colSpan||1;for(let t=0;t<a;t++)for(let n=0;n<l;n++)s[e+t][i+n]=o;if(t===o)return{colSpan:l,columnIndex:i,rowIndex:e,rowSpan:a};i+=l}}return null}function Fg(e){const[[t,n,r,i],[o,s,a,l]]=["anchor","focus"].map((t=>{const n=e[t].getNode(),r=Zz(n,ug);ug(r)||dg(238,t,n.getKey(),n.getType());const i=r.getParent();pg(i)||dg(239,t);const o=i.getParent();return bv(o)||dg(240,t),[n,r,i,o]}));return i.is(l)||dg(241),{anchorCell:n,anchorNode:t,anchorRow:r,anchorTable:i,focusCell:s,focusNode:o,focusRow:a,focusTable:l}}function Lg(e){return e instanceof AW}function Pg(){const e=mP("root",0,"element"),t=mP("root",0,"element");return new AW("root",e,t)}function Ig(e,t,n){e.getKey(),t.getKey(),n.getKey();const r=RP(),i=Lg(r)?r.clone():Pg();return i.set(e.getKey(),t.getKey(),n.getKey()),i}function $g(e,t){const n=[[e]];for(let e=n.at(-1);void 0!==e&&n.length>0;e=n.at(-1)){const r=e.pop();void 0===r?n.pop():!1!==t(r)&&HP(r)&&n.push(r.getChildren())}}function zg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TP();const n=NP(e);bv(n)||dg(231,e);const r=Ug(n,t.getElementByKey(e));return null===r&&dg(232,e),{tableElement:r,tableNode:n}}function Bg(e){return O$(e)&&"TABLE"===e.nodeName}function Ug(e,t){if(!t)return t;const n=Bg(t)?t:e.getDOMSlot(t).element;return"TABLE"!==n.nodeName&&dg(245,t.nodeName),n}function Hg(e){return e._window}function Wg(e,t){for(let n=t,r=null;null!==n;n=n.getParent()){if(e.is(n))return r;ug(n)&&(r=n)}return null}function Kg(e,t,n,r){const i=n.getRootElement(),o=Hg(n);null!==i&&null!==o||dg(246);const s=new NW(n,e.getKey()),a=Ug(e,t);!function(e,t){null!==qg(e)&&dg(205),e[OW]=t}(a,s),s.listenersToRemove.add((()=>function(e,t){qg(e)===t&&delete e[OW]}(a,s)));const l=t=>{if(s.pointerType=t.pointerType,0!==t.button||!T$(t.target)||!o)return;const r=Vg(t.target);null!==r&&n.update((()=>{const n=jP();if(xW&&t.shiftKey&&nv(n,e)&&(GP(n)||Lg(n))){const i=n.anchor.getNode(),o=Wg(e,n.anchor.getNode());o?(s.$setAnchorCellForSelection(fv(s,o)),s.$setFocusCellForSelection(r),cv(t)):(e.isBefore(i)?e.selectStart():e.selectEnd()).anchor.set(n.anchor.key,n.anchor.offset,n.anchor.type)}else s.$setAnchorCellForSelection(r)})),(()=>{if(s.isSelecting)return;const e=()=>{s.isSelecting=!1,o.removeEventListener("pointerup",e),o.removeEventListener("pointermove",t)},t=r=>{if(!(e=>!(1&~e.buttons))(r)&&s.isSelecting)return s.isSelecting=!1,o.removeEventListener("pointerup",e),void o.removeEventListener("pointermove",t);if(!T$(r.target))return;let i=null;const l=!(xW||a.contains(r.target));if(l)i=Yg(a,r.target);else for(const e of document.elementsFromPoint(r.clientX,r.clientY))if(i=Yg(a,e),i)break;!i||null!==s.focusCell&&i.elem===s.focusCell.elem||(s.setNextFocus({focusCell:i,override:l}),n.dispatchCommand(p$,void 0))};s.isSelecting=!0,o.addEventListener("pointerup",e,s.listenerOptions),o.addEventListener("pointermove",t,s.listenerOptions)})()};a.addEventListener("pointerdown",l,s.listenerOptions),s.listenersToRemove.add((()=>{a.removeEventListener("pointerdown",l)}));const c=e=>{e.detail>=3&&T$(e.target)&&null!==Vg(e.target)&&e.preventDefault()};a.addEventListener("mousedown",c,s.listenerOptions),s.listenersToRemove.add((()=>{a.removeEventListener("mousedown",c)}));const u=e=>{const t=e.target;0===e.button&&T$(t)&&n.update((()=>{const e=RP();Lg(e)&&e.tableKey===s.tableNodeKey&&i.contains(t)&&s.$clearHighlight()}))};o.addEventListener("pointerdown",u,s.listenerOptions),s.listenersToRemove.add((()=>{o.removeEventListener("pointerdown",u)}));for(const[t,r]of jW)s.listenersToRemove.add(n.registerCommand(t,(t=>lv(n,t,r,e,s)),SI));s.listenersToRemove.add(n.registerCommand(r$,(t=>{const n=RP();if(Lg(n)){const r=Wg(e,n.focus.getNode());if(null!==r)return cv(t),r.selectEnd(),!0}return!1}),SI));const d=t=>()=>{const n=RP();if(!nv(n,e))return!1;if(Lg(n))return s.$clearText(),!0;if(GP(n)){if(!ug(Wg(e,n.anchor.getNode())))return!1;const r=n.anchor.getNode(),i=n.focus.getNode(),o=e.isParentOf(r),a=e.isParentOf(i);if(o&&!a||a&&!o)return s.$clearText(),!0;const l=Zz(n.anchor.getNode(),(e=>HP(e))),c=l&&Zz(l,(e=>HP(e)&&ug(e.getParent())));if(!HP(c)||!HP(l))return!1;if(t===OI&&null===c.getPreviousSibling())return!0}return!1};for(const e of MW)s.listenersToRemove.add(n.registerCommand(e,d(e),xI));const f=t=>{const n=RP();if(!Lg(n)&&!GP(n))return!1;const r=e.isParentOf(n.anchor.getNode());if(r!==e.isParentOf(n.focus.getNode())){const t=r?"anchor":"focus",i=r?"focus":"anchor",{key:o,offset:s,type:a}=n[i];return e[n[t].isBefore(n[i])?"selectPrevious":"selectNext"]()[i].set(o,s,a),!1}return!!nv(n,e)&&!!Lg(n)&&(t&&(t.preventDefault(),t.stopPropagation()),s.$clearText(),!0)};for(const e of RW)s.listenersToRemove.add(n.registerCommand(e,f,xI));return s.listenersToRemove.add(n.registerCommand(AI,(e=>{const t=RP();if(t){if(!Lg(t)&&!GP(t))return!1;FB(n,mB(e,ClipboardEvent)?e:null,NB(t));const r=f(e);return GP(t)?(t.removeText(),!0):r}return!1}),xI)),s.listenersToRemove.add(n.registerCommand(zI,(t=>{const n=RP();if(!nv(n,e))return!1;if(Lg(n))return s.$formatCells(t),!0;if(GP(n)){const e=Zz(n.anchor.getNode(),(e=>ug(e)));if(!ug(e))return!1}return!1}),xI)),s.listenersToRemove.add(n.registerCommand($I,(t=>{const n=RP();if(!Lg(n)||!nv(n,e))return!1;const r=n.anchor.getNode(),i=n.focus.getNode();if(!ug(r)||!ug(i))return!1;if(function(e,t){if(Lg(e)){const n=e.anchor.getNode(),r=e.focus.getNode();if(t&&n&&r){const[e]=Ng(t,n,r);return n.getKey()===e[0][0].cell.getKey()&&r.getKey()===e[e.length-1].at(-1).cell.getKey()}}return!1}(n,e))return e.setFormat(t),!0;const[o,s,a]=Ng(e,r,i),l=Math.max(s.startRow+s.cell.__rowSpan-1,a.startRow+a.cell.__rowSpan-1),c=Math.max(s.startColumn+s.cell.__colSpan-1,a.startColumn+a.cell.__colSpan-1),u=Math.min(s.startRow,a.startRow),d=Math.min(s.startColumn,a.startColumn),f=new Set;for(let e=u;e<=l;e++)for(let n=d;n<=c;n++){const r=o[e][n].cell;if(f.has(r))continue;f.add(r),r.setFormat(t);const i=r.getChildren();for(let e=0;e<i.length;e++){const n=i[e];HP(n)&&!n.isInline()&&n.setFormat(t)}}return!0}),xI)),s.listenersToRemove.add(n.registerCommand(DI,(t=>{const r=RP();if(!nv(r,e))return!1;if(Lg(r))return s.$clearHighlight(),!1;if(GP(r)){const i=Zz(r.anchor.getNode(),(e=>ug(e)));if(!ug(i))return!1;if("string"==typeof t){const i=dv(n,r,e);if(i)return uv(i,e,[bP(t)]),!0}}return!1}),xI)),r&&s.listenersToRemove.add(n.registerCommand(o$,(t=>{const n=RP();if(!GP(n)||!n.isCollapsed()||!nv(n,e))return!1;const r=sv(n.anchor.getNode());return!(null===r||!e.is(av(r))||(cv(t),function(e,t){const n="next"===t?"getNextSibling":"getPreviousSibling",r="next"===t?"getFirstChild":"getLastChild",i=e[n]();if(HP(i))return i.selectEnd();const o=Zz(e,pg);null===o&&dg(247);for(let e=o[n]();pg(e);e=e[n]()){const t=e[r]();if(HP(t))return t.selectEnd()}const s=Zz(o,bv);null===s&&dg(248),"next"===t?s.selectNext():s.selectPrevious()}(r,t.shiftKey?"previous":"next"),0))}),xI)),s.listenersToRemove.add(n.registerCommand(II,(()=>e.isSelected()),SI)),s.listenersToRemove.add(n.registerCommand(m$,(e=>{const{nodes:t,selection:n}=e,r=n.getStartEndPoints(),i=Lg(n),o=GP(n)&&null!==Zz(n.anchor.getNode(),(e=>ug(e)))&&null!==Zz(n.focus.getNode(),(e=>ug(e)))||i;if(1!==t.length||!bv(t[0])||!o||null===r)return!1;const[s,a]=r,[l,c,u]=jg(s),d=Zz(a.getNode(),(e=>ug(e)));if(!(ug(l)&&ug(d)&&pg(c)&&bv(u)))return!1;const f=t[0],[h,p,m]=Ng(u,l,d),[g]=Og(f,null,null),v=h.length,y=v>0?h[0].length:0;let b=p.startRow,_=p.startColumn,w=g.length,C=w>0?g[0].length:0;if(i){const e=Mg(h,p,m),t=e.maxRow-e.minRow+1,n=e.maxColumn-e.minColumn+1;b=e.minRow,_=e.minColumn,w=Math.min(w,t),C=Math.min(C,n)}let x=!1;const E=Math.min(v,b+w)-1,S=Math.min(y,_+C)-1,k=new Set;for(let e=b;e<=E;e++)for(let t=_;t<=S;t++){const n=h[e][t];k.has(n.cell.getKey())||1===n.cell.__rowSpan&&1===n.cell.__colSpan||(Ag(n.cell),k.add(n.cell.getKey()),x=!0)}let[D]=Og(u.getWritable(),null,null);const T=w-v+b;for(let e=0;e<T;e++)_g(D[v-1][0].cell);const A=C-y+_;for(let e=0;e<A;e++)Cg(D[0][y-1].cell,!0,!1);[D]=Og(u.getWritable(),null,null);for(let e=b;e<b+w;e++)for(let t=_;t<_+C;t++){const n=e-b,r=t-_,i=g[n][r];if(i.startRow!==n||i.startColumn!==r)continue;const o=i.cell;if(1!==o.__rowSpan||1!==o.__colSpan){const n=[],r=Math.min(e+o.__rowSpan,b+w)-1,i=Math.min(t+o.__colSpan,_+C)-1;for(let o=e;o<=r;o++)for(let e=t;e<=i;e++){const t=D[o][e];n.push(t.cell)}Dg(n),x=!0}const{cell:s}=D[e][t],a=s.getChildren();o.getChildren().forEach((e=>{tI(e)?(pP().append(e),s.append(e)):s.append(e)})),a.forEach((e=>e.remove()))}if(i&&x){const[e]=Og(u.getWritable(),null,null);e[p.startRow][p.startColumn].cell.selectEnd()}return!0}),xI)),s.listenersToRemove.add(n.registerCommand(p$,(()=>{const t=RP(),r=jP(),i=s.getAndClearNextFocus();if(null!==i){const{focusCell:n}=i;if(Lg(t)&&t.tableKey===s.tableNodeKey)return(n.x!==s.focusX||n.y!==s.focusY)&&(s.$setFocusCellForSelection(n),!0);if(n!==s.anchorCell&&nv(t,e))return s.$setFocusCellForSelection(n),!0}if(s.getAndClearShouldCheckSelection()&&GP(r)&&GP(t)&&t.isCollapsed()){const n=t.anchor.getNode(),r=e.getFirstChild(),i=sv(n);if(null!==i&&pg(r)){const t=r.getFirstChild();if(ug(t)&&e.is(Zz(i,(n=>n.is(e)||n.is(t)))))return t.selectStart(),!0}}if(GP(t)){const{anchor:i,focus:o}=t,a=i.getNode(),l=o.getNode(),c=sv(a),u=sv(l),d=!(!c||!e.is(av(c))),f=!(!u||!e.is(av(u))),h=d!==f,p=d&&f,m=t.isBackward();if(h){const r=t.clone();if(f){const[t]=Ng(e,u,u),n=t[0][0].cell,i=t[t.length-1].at(-1).cell;r.focus.set(m?n.getKey():i.getKey(),m?n.getChildrenSize():i.getChildrenSize(),"element")}else if(d){const[t]=Ng(e,c,c),n=t[0][0].cell,i=t[t.length-1].at(-1).cell;r.anchor.set(m?i.getKey():n.getKey(),m?i.getChildrenSize():0,"element")}uI(r),Qg(n,s)}else if(p&&(c.is(u)||(s.$setAnchorCellForSelection(fv(s,c)),s.$setFocusCellForSelection(fv(s,u),!0)),"touch"===s.pointerType&&t.isCollapsed()&&GP(r)&&r.isCollapsed())){const e=sv(r.anchor.getNode());e&&!e.is(u)&&(s.$setAnchorCellForSelection(fv(s,e)),s.$setFocusCellForSelection(fv(s,u),!0),s.pointerType=null)}}else if(t&&Lg(t)&&t.is(r)&&t.tableKey===e.getKey()){const r=x$(o);if(r&&r.anchorNode&&r.focusNode){const i=AP(r.focusNode),o=i&&!e.isParentOf(i),s=AP(r.anchorNode),a=s&&e.isParentOf(s);if(o&&a&&r.rangeCount>0){const i=vP(r,n);i&&(i.anchor.set(e.getKey(),t.isBackward()?e.getChildrenSize():0,"element"),r.removeAllRanges(),uI(i))}}}return t&&!t.is(r)&&(Lg(t)||Lg(r))&&s.tableSelection&&!s.tableSelection.is(r)?(Lg(t)&&t.tableKey===s.tableNodeKey?s.$updateTableTableSelection(t):!Lg(t)&&Lg(r)&&r.tableKey===s.tableNodeKey&&s.$updateTableTableSelection(null),!1):(s.hasHijackedSelectionStyles&&!e.isSelected()?function(e,t){t.$enableHighlightStyle(),Xg(t.table,(t=>{const n=t.elem;t.highlighted=!1,ov(e,t),n.getAttribute("style")||n.removeAttribute("style")}))}(n,s):!s.hasHijackedSelectionStyles&&e.isSelected()&&Qg(n,s),!1)}),xI)),s.listenersToRemove.add(n.registerCommand(qI,(()=>{const t=RP();if(!GP(t)||!t.isCollapsed()||!nv(t,e))return!1;const r=dv(n,t,e);return!!r&&(uv(r,e),!0)}),xI)),s}function qg(e){return e[OW]||null}function Vg(e){let t=e;for(;null!=t;){const e=t.nodeName;if("TD"===e||"TH"===e){const e=t._cell;return void 0===e?null:e}t=t.parentNode}return null}function Yg(e,t){if(!e.contains(t))return null;let n=null;for(let r=t;null!=r;r=r.parentNode){if(r===e)return n;const t=r.nodeName;"TD"!==t&&"TH"!==t||(n=r._cell||null)}return null}function Jg(e,t){const n=[],r={columns:0,domRows:n,rows:0};let i=Ug(e,t).querySelector("tr"),o=0,s=0;for(n.length=0;null!=i;){const e=i.nodeName;if("TD"===e||"TH"===e){const e={elem:i,hasBackgroundColor:""!==i.style.backgroundColor,highlighted:!1,x:o,y:s};i._cell=e;let t=n[s];void 0===t&&(t=n[s]=[]),t[o]=e}else{const e=i.firstChild;if(null!=e){i=e;continue}}const t=i.nextSibling;if(null!=t){o++,i=t;continue}const r=i.parentNode;if(null!=r){const e=r.nextSibling;if(null==e)break;s++,o=0,i=e}}return r.columns=o+1,r.rows=s+1,r}function Gg(e,t,n){const r=new Set(n?n.getNodes():[]);Xg(t,((t,n)=>{const i=t.elem;r.has(n)?(t.highlighted=!0,iv(e,t)):(t.highlighted=!1,ov(e,t),i.getAttribute("style")||i.removeAttribute("style"))}))}function Xg(e,t){const{domRows:n}=e;for(let e=0;e<n.length;e++){const r=n[e];if(r)for(let n=0;n<r.length;n++){const i=r[n];if(!i)continue;const o=AP(i.elem);null!==o&&t(i,o,{x:n,y:e})}}}function Qg(e,t){t.$disableHighlightStyle(),Xg(t.table,(t=>{t.highlighted=!0,iv(e,t)}))}function Zg(e,t){let n,r;if(t.startColumn===e.minColumn)n="minColumn";else{if(t.startColumn+t.cell.__colSpan-1!==e.maxColumn)return null;n="maxColumn"}if(t.startRow===e.minRow)r="minRow";else{if(t.startRow+t.cell.__rowSpan-1!==e.maxRow)return null;r="maxRow"}return[n,r]}function ev(e){let[t,n]=e;return["minColumn"===t?"maxColumn":"minColumn","minRow"===n?"maxRow":"minRow"]}function tv(e,t,n){let[r,i]=n;const o=t[i],s=e[o];void 0===s&&dg(250,i,String(o));const a=t[r],l=s[a];return void 0===l&&dg(250,r,String(a)),l}function nv(e,t){if(GP(e)||Lg(e)){const n=t.isParentOf(e.anchor.getNode()),r=t.isParentOf(e.focus.getNode());return n&&r}return!1}function rv(e,t){t?e.selectStart():e.selectEnd()}function iv(e,t){const n=t.elem,r=e._config.theme;ug(AP(n))||dg(131),cB(n,r.tableCellSelected)}function ov(e,t){const n=t.elem;ug(AP(n))||dg(131);const r=e._config.theme;gB(n,r.tableCellSelected)}function sv(e){const t=Zz(e,ug);return ug(t)?t:null}function av(e){const t=Zz(e,bv);return bv(t)?t:null}function lv(e,t,n,r,i){if(("up"===n||"down"===n)&&function(e){const t=e.getRootElement();return!!t&&t.hasAttribute("aria-controls")&&"typeahead-menu"===t.getAttribute("aria-controls")}(e))return!1;const o=RP();if(!nv(o,r)){if(GP(o)){if("backward"===n){if(o.focus.offset>0)return!1;const e=function(e){for(let t=e,n=e;null!==n;t=n,n=n.getParent())if(HP(n)){if(n!==t&&n.getFirstChild()!==t)return null;if(!n.isInline())return n}return null}(o.focus.getNode());if(!e)return!1;const n=e.getPreviousSibling();return!!bv(n)&&(cv(t),t.shiftKey?o.focus.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent(),"element"):n.selectEnd(),!0)}if(t.shiftKey&&("up"===n||"down"===n)){const e=o.focus.getNode();if(!o.isCollapsed()&&("up"===n&&!o.isBackward()||"down"===n&&o.isBackward())){let i=Zz(e,(e=>bv(e)));if(ug(i)&&(i=Zz(i,bv)),i!==r)return!1;if(!i)return!1;const s="down"===n?i.getNextSibling():i.getPreviousSibling();if(!s)return!1;let a=0;"up"===n&&HP(s)&&(a=s.getChildrenSize());let l=s;"up"===n&&HP(s)&&(l=s.getLastChild()||s,a=tI(l)?l.getTextContentSize():0);const c=o.clone();return c.focus.set(l.getKey(),a,tI(l)?"text":"element"),uI(c),cv(t),!0}if(QP(e)){const e="up"===n?o.getNodes()[o.getNodes().length-1]:o.getNodes()[0];if(e&&null!==Wg(r,e)){const e=r.getFirstDescendant(),t=r.getLastDescendant();if(!e||!t)return!1;const[n]=jg(e),[o]=jg(t),s=r.getCordsFromCellNode(n,i.table),a=r.getCordsFromCellNode(o,i.table),l=r.getDOMCellFromCordsOrThrow(s.x,s.y,i.table),c=r.getDOMCellFromCordsOrThrow(a.x,a.y,i.table);return i.$setAnchorCellForSelection(l),i.$setFocusCellForSelection(c,!0),!0}return!1}{let r=Zz(e,(e=>HP(e)&&!e.isInline()));if(ug(r)&&(r=Zz(r,bv)),!r)return!1;const s="down"===n?r.getNextSibling():r.getPreviousSibling();if(bv(s)&&i.tableNodeKey===s.getKey()){const e=s.getFirstDescendant(),r=s.getLastDescendant();if(!e||!r)return!1;const[i]=jg(e),[a]=jg(r),l=o.clone();return l.focus.set(("up"===n?i:a).getKey(),"up"===n?0:a.getChildrenSize(),"element"),cv(t),uI(l),!0}}}}return"down"===n&&mv(e)&&i.setShouldCheckSelection(),!1}if(GP(o)){if("backward"===n||"forward"===n)return function(e,t,n,r,i,o,s){const a=cP(n.focus,i?"previous":"next");if(WP(a))return!1;let l=a;for(const e of _P(a).iterNodeCarets("shadowRoot")){if(!ZP(e)||!HP(e.origin))return!1;l=e}const c=l.getParentAtCaret();if(!ug(c))return!1;const u=c,d=function(e){for(const t of _P(e).iterNodeCarets("root")){const{origin:n}=t;if(ug(n)){if(BP(t))return SP(n,e.direction)}else if(!pg(n))break}return null}(FP(u,l.direction)),f=Zz(u,bv);if(!f||!f.is(o))return!1;const h=e.getElementByKey(u.getKey()),p=Vg(h);if(!h||!p)return!1;const m=gv(e,f);if(s.table=m,d)if("extend"===r){const t=Vg(e.getElementByKey(d.origin.getKey()));if(!t)return!1;s.$setAnchorCellForSelection(p),s.$setFocusCellForSelection(t,!0)}else{const e=iI(d);cI(n.anchor,e),cI(n.focus,e)}else if("extend"===r)s.$setAnchorCellForSelection(p),s.$setFocusCellForSelection(p,!0);else{const e=function(e){const t=wP(e);return BP(t)?iI(t):e}(FP(f,a.direction));cI(n.anchor,e),cI(n.focus,e)}return cv(t),!0}(e,t,o,t.shiftKey?"extend":"move","backward"===n,r,i);if(o.isCollapsed()){const{anchor:s,focus:a}=o,l=Zz(s.getNode(),ug),c=Zz(a.getNode(),ug);if(!ug(l)||!l.is(c))return!1;const u=av(l);if(u!==r&&null!=u){const r=Ug(u,e.getElementByKey(u.getKey()));if(null!=r)return i.table=Jg(u,r),lv(e,t,n,u,i)}const d=e.getElementByKey(l.__key),f=e.getElementByKey(s.key);if(null==f||null==d)return!1;let h;if("element"===s.type)h=f.getBoundingClientRect();else{const t=x$(Hg(e));if(null===t||0===t.rangeCount)return!1;h=t.getRangeAt(0).getBoundingClientRect()}const p="up"===n?l.getFirstChild():l.getLastChild();if(null==p)return!1;const m=e.getElementByKey(p.__key);if(null==m)return!1;const g=m.getBoundingClientRect();if("up"===n?g.top>h.top-h.height:h.bottom+h.height>g.bottom){cv(t);const e=r.getCordsFromCellNode(l,i.table);if(!t.shiftKey)return FW(i,r,e.x,e.y,n);{const t=r.getDOMCellFromCordsOrThrow(e.x,e.y,i.table);i.$setAnchorCellForSelection(t),i.$setFocusCellForSelection(t,!0)}return!0}}}else if(Lg(o)){const{anchor:s,focus:a}=o,l=Zz(s.getNode(),ug),c=Zz(a.getNode(),ug),[u]=o.getNodes();bv(u)||dg(251);const d=Ug(u,e.getElementByKey(u.getKey()));if(!ug(l)||!ug(c)||!bv(u)||null==d)return!1;i.$updateTableTableSelection(o);const f=Jg(u,d),h=r.getCordsFromCellNode(l,f),p=r.getDOMCellFromCordsOrThrow(h.x,h.y,f);if(i.$setAnchorCellForSelection(p),cv(t),t.shiftKey){const[e,t,o]=Ng(r,l,c);return function(e,t,n,r,i){const o=Mg(t,n,r),s=function(e,t){const{minColumn:n,maxColumn:r,minRow:i,maxRow:o}=t;let s=1,a=1,l=1,c=1;const u=e[i],d=e[o];for(let e=n;e<=r;e++)s=Math.max(s,u[e].cell.__rowSpan),c=Math.max(c,d[e].cell.__rowSpan);for(let t=i;t<=o;t++)a=Math.max(a,e[t][n].cell.__colSpan),l=Math.max(l,e[t][r].cell.__colSpan);return{bottomSpan:c,leftSpan:a,rightSpan:l,topSpan:s}}(t,o),{topSpan:a,leftSpan:l,bottomSpan:c,rightSpan:u}=s,d=function(e,t){const n=Zg(e,t);return null===n&&dg(249,t.cell.getKey()),n}(o,n),[f,h]=ev(d);let p=o[f],m=o[h];"forward"===i?p+="maxColumn"===f?1:l:"backward"===i?p-="minColumn"===f?1:u:"down"===i?m+="maxRow"===h?1:a:"up"===i&&(m-="minRow"===h?1:c);const g=t[m];if(void 0===g)return!1;const v=g[p];if(void 0===v)return!1;const[y,b]=function(e,t,n){const r=Mg(e,t,n),i=Zg(r,t);if(i)return[tv(e,r,i),tv(e,r,ev(i))];const o=Zg(r,n);if(o)return[tv(e,r,ev(o)),tv(e,r,o)];const s=["minColumn","minRow"];return[tv(e,r,s),tv(e,r,ev(s))]}(t,n,v),_=fv(e,y.cell),w=fv(e,b.cell);return e.$setAnchorCellForSelection(_),e.$setFocusCellForSelection(w,!0),!0}(i,e,t,o,n)}return c.selectEnd(),!0}return!1}function cv(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()}function uv(e,t,n){const r=pP();"first"===e?t.insertBefore(r):t.insertAfter(r),r.append(...n||[]),r.selectEnd()}function dv(e,t,n){const r=n.getParent();if(!r)return;const i=x$(Hg(e));if(!i)return;const o=i.anchorNode,s=e.getElementByKey(r.getKey()),a=Ug(n,e.getElementByKey(n.getKey()));if(!o||!s||!a||!s.contains(o)||a.contains(o))return;const l=Zz(t.anchor.getNode(),(e=>ug(e)));if(!l)return;const c=Zz(l,(e=>bv(e)));if(!bv(c)||!c.is(n))return;const[u,d]=Ng(n,l,l),f=u[0][0],h=u[u.length-1][u[0].length-1],{startRow:p,startColumn:m}=d,g=p===f.startRow&&m===f.startColumn,v=p===h.startRow&&m===h.startColumn;return g?"first":v?"last":void 0}function fv(e,t){const{tableNode:n}=e.$lookup(),r=n.getCordsFromCellNode(t,e.table);return n.getDOMCellFromCordsOrThrow(r.x,r.y,e.table)}function hv(e,t,n){return Wg(e,AP(t,n))}function pv(e,t,n){if(!t.theme.tableAlignment)return;const r=[],i=[];for(const e of["center","right"]){const o=t.theme.tableAlignment[e];o&&(e===n?i:r).push(o)}gB(e,...r),cB(e,...i)}function mv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TP();return LW.has(e)}function gv(e,t){const n=e.getElementByKey(t.getKey());return null===n&&dg(230),Jg(t,n)}function vv(e){const t=yv();e.hasAttribute("data-lexical-row-striping")&&t.setRowStriping(!0),e.hasAttribute("data-lexical-frozen-column")&&t.setFrozenColumns(1),e.hasAttribute("data-lexical-frozen-row")&&t.setFrozenRows(1);const n=e.querySelector(":scope > colgroup");if(n){let e=[];for(const t of n.querySelectorAll(":scope > col")){let n=t.style.width||"";if(!gW.test(n)&&(n=t.getAttribute("width")||"",!/^\d+$/.test(n))){e=void 0;break}e.push(parseFloat(n))}e&&t.setColWidths(e)}return{after:e=>Qz(e,pg),node:t}}function yv(){return lP(new PW)}function bv(e){return e instanceof PW}function _v(e){let{rows:t,columns:n,includeHeaders:r}=e;const i=RP()||jP();if(!i||!GP(i))return!1;if(av(i.anchor.getNode()))return!1;const o=mg(Number(t),Number(n),r);iB(o);const s=o.getFirstDescendant();return tI(s)&&s.select(),!0}function wv(e){pg(e.getParent())?e.isEmpty()&&e.append(pP()):e.remove()}function Cv(e){bv(e.getParent())?oB(e,ug):e.remove()}function xv(e){oB(e,pg);const[t]=Og(e,null,null),n=t.reduce(((e,t)=>Math.max(e,t.length)),0),r=e.getChildren();for(let e=0;e<t.length;++e){const i=r[e];if(!i)continue;pg(i)||dg(254,i.constructor.name,i.getType());const o=t[e].reduce(((e,t)=>t?1+e:e),0);if(o!==n)for(let e=o;e<n;++e){const e=cg();e.append(pP()),i.append(e)}}}function Ev(e){if(e.detail<3||!T$(e.target))return!1;const t=AP(e.target);if(null===t)return!1;const n=Zz(t,(e=>HP(e)&&!e.isInline()));return null!==n&&!!ug(n.getParent())&&(n.select(0),!0)}function Sv(e,t){var n;if(e[yK])return;e[yK]=!0;const r={importDOM:null===(n=e.importDOM)||void 0===n?void 0:n.call(e),exportDOM:e.prototype.exportDOM,createDOM:e.prototype.createDOM,updateDOM:e.prototype.updateDOM,importJSON:e.importJSON,exportJSON:e.prototype.exportJSON,clone:e.clone};e[bK]=r,e.clone=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e[bK].clone.call(this,t,...r);return t.__attributes&&(o.__attributes=Object.assign({},t.__attributes)),o},e.importDOM=function(){var n;const r=null!==(n=e[bK].importDOM)&&void 0!==n?n:{},i={};for(const[e,n]of Object.entries(r))i[e]=e=>{var r;const i=n(e);return i?{conversion:e=>{const n=i.conversion(e);if(!n)return n;const r=n.node;r.__attributes={};for(const n of t){const t=e.getAttribute(n);null!=t&&(r.__attributes[n]=t)}return n},priority:null!==(r=i.priority)&&void 0!==r?r:0}:null};return i},e.prototype.setAttributes=function(e){this.getWritable().__attributes=Object.assign(Object.assign({},this.getLatest().__attributes),e)},e.prototype.getAttributes=function(){return this.getLatest().__attributes},e.prototype.exportDOM=function(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];const s=e[bK].exportDOM.apply(this,i),a=null==s?void 0:s.element;if(a){const e=null!==(n=this.__attributes)&&void 0!==n?n:{};for(const n of t){const t=e[n];null!=t&&a.setAttribute(n,t)}}return s},e.prototype.createDOM=function(n){var r;const i=e[bK].createDOM.apply(this,[n]),o=null!==(r=this.__attributes)&&void 0!==r?r:{};for(const e of t){const t=o[e];null!=t&&i.setAttribute(e,t)}return i},e.prototype.updateDOM=function(n,r,i){for(var o,s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];const c=e[bK].updateDOM.apply(this,[n,r,i,...a]),u=null!==(o=this.__attributes)&&void 0!==o?o:{};for(const e of t){const t=u[e];null!=t&&r.setAttribute(e,t)}return c},e.prototype.exportJSON=function(){var t;const n=e[bK].exportJSON.apply(this),r=null!==(t=this.__attributes)&&void 0!==t?t:{};return Object.assign(Object.assign({},n),{attributes:r})},e.importJSON=function(t){var n;const r=e[bK].importJSON?e[bK].importJSON(t):new e;return r.__attributes=null!==(n=t.attributes)&&void 0!==n?n:{},r}}function kv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Dv(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function Tv(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Av(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Av(Object(n),!0).forEach((function(t){Tv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Av(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ov(e){return new Proxy(e,{get:(e,t)=>t in e?e[t]:e[GK]})}function jv(){let e=12,t="";for(;e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function Mv(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Rv(e){return e.classList?Mv(e.classList):(e.getAttribute("class")||"").split(" ").filter((e=>e))}function Fv(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Lv(e){return Object.keys(e||{}).reduce(((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";")),"")}function Pv(e){return e.size!==zq.size||e.x!==zq.x||e.y!==zq.y||e.rotate!==zq.rotate||e.flipX||e.flipY}function Iv(){const e="fa",t=dq,n=Pq.cssPrefix,r=Pq.replacementClass
;let i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}';if(n!==e||r!==t){const o=new RegExp("\\.".concat(e,"\\-"),"g"),s=new RegExp("\\--".concat(e,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");i=i.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(a,".".concat(r))}return i}function $v(){Pq.autoAddCss&&!Bq&&(function(e){if(!e||!qK)return;const t=HK.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=HK.head.childNodes;let r=null;for(let e=n.length-1;e>-1;e--){const t=n[e],i=(t.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(i)>-1&&(r=t)}HK.head.insertBefore(t,r)}(Iv()),Bq=!0)}function zv(e){const{tag:t,attributes:n={},children:r=[]}=e;return"string"==typeof e?Fv(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce(((t,n)=>t+"".concat(n,'="').concat(Fv(e[n]),'" ')),"").trim()}(n),">").concat(r.map(zv).join(""),"</").concat(t,">")}function Bv(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function Uv(e){const t=function(e){const t=[];let n=0;const r=e.length;for(;n<r;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function Hv(e){return Object.keys(e).reduce(((t,n)=>{const r=e[n];return r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function Wv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:r=!1}=n,i=Hv(t);"function"!=typeof Wq.hooks.addPack||r?Wq.styles[e]=Nv(Nv({},Wq.styles[e]||{}),i):Wq.hooks.addPack(e,Hv(t)),"fas"===e&&Wv("fa",t)}function Kv(e,t){return(eV[e]||{})[t]}function qv(e,t){return(iV[e]||{})[t]}function Vv(e){return nV[e]||{prefix:null,iconName:null}}function Yv(){return Zq}function Jv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:n=GK}=t,r=_q[n][e];if(n===XK&&!e)return"fad";const i=Cq[n][e]||Cq[n][r],o=e in Wq.styles?e:null;return i||o||null}function Gv(e){return e.sort().filter(((e,t,n)=>n.indexOf(e)===t))}function Xv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const i=oq.concat(rq),o=Gv(e.filter((e=>i.includes(e)))),s=Gv(e.filter((e=>!oq.includes(e)))),a=o.filter((e=>(r=e,!JK.includes(e)))),[l=null]=a,c=function(e){let t=GK;const n=Xq.reduce(((e,t)=>(e[t]="".concat(Pq.cssPrefix,"-").concat(t),e)),{});return QK.forEach((r=>{(e.includes(n[r])||e.some((e=>Qq[r].includes(e))))&&(t=r)})),t}(o),u=Nv(Nv({},function(e){let t=[],n=null;return e.forEach((e=>{const r=function(e,t){const n=t.split("-"),r=n[0],i=n.slice(1).join("-");return r!==e||""===i||(o=i,~Mq.indexOf(o))?null:i;var o}(Pq.cssPrefix,e);r?n=r:e&&t.push(e)})),{iconName:n,rest:t}}(s)),{},{prefix:Jv(l,{family:c})});return Nv(Nv(Nv({},u),function(e){const{values:t,family:n,canonical:r,givenPrefix:i="",styles:o={},config:s={}}=e,a=n===XK,l=t.includes("fa-duotone")||t.includes("fad"),c="duotone"===s.familyDefault,u="fad"===r.prefix||"fa-duotone"===r.prefix;if(!a&&(l||c||u)&&(r.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab"),!r.prefix&&aV.includes(n)&&(Object.keys(o).find((e=>lV.includes(e)))||s.autoFetchSvg)){const e=ZK.get(n).defaultShortPrefixId;r.prefix=e,r.iconName=qv(r.prefix,r.iconName)||r.iconName}return"fa"!==r.prefix&&"fa"!==i||(r.prefix=Yv()||"fas"),r}({values:e,family:c,styles:Jq,config:Pq,canonical:u,givenPrefix:r})),function(e,t,n){let{prefix:r,iconName:i}=n;if(e||!r||!i)return{prefix:r,iconName:i};const o="fa"===t?Vv(i):{},s=qv(r,i);return i=o.iconName||s||i,r=o.prefix||r,"far"!==r||Jq.far||!Jq.fas||Pq.autoFetchSvg||(r="fas"),{prefix:r,iconName:i}}(n,r,u))}function Qv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(uV[e]||[]).forEach((e=>{t=e.apply(null,[t,...r])})),t}function Zv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(uV[e]||[]).forEach((e=>{e.apply(null,n)}))}function ey(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return dV[e]?dV[e].apply(null,t):void 0}function ty(e){"fa"===e.prefix&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||Yv();if(t)return t=qv(n,t)||t,Bv(hV.definitions,n,t)||Bv(Wq.styles,n,t)}function ny(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((e=>zv(e)))}}),Object.defineProperty(e,"node",{get:function(){if(!qK)return;const t=HK.createElement("div");return t.innerHTML=e.html,t.children}}),e}function ry(e){const{icons:{main:t,mask:n},prefix:r,iconName:i,transform:o,symbol:s,title:a,maskId:l,titleId:c,extra:u,watchable:d=!1}=e,{width:f,height:h}=n.found?n:t,p=tq.includes(r),m=[Pq.replacementClass,i?"".concat(Pq.cssPrefix,"-").concat(i):""].filter((e=>-1===u.classes.indexOf(e))).filter((e=>""!==e||!!e)).concat(u.classes).join(" ");let g={children:[],attributes:Nv(Nv({},u.attributes),{},{"data-prefix":r,"data-icon":i,class:m,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(h)})};const v=p&&!~u.classes.indexOf("fa-fw")?{width:"".concat(f/h*16*.0625,"em")}:{};d&&(g.attributes[fq]=""),a&&(g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(c||jv())},children:[a]}),delete g.attributes.title);const y=Nv(Nv({},g),{},{prefix:r,iconName:i,main:t,mask:n,maskId:l,transform:o,symbol:s,styles:Nv(Nv({},v),u.styles)}),{children:b,attributes:_}=n.found&&t.found?ey("generateAbstractMask",y)||{children:[],attributes:{}}:ey("generateAbstractIcon",y)||{children:[],attributes:{}};return y.children=b,y.attributes=_,s?function(e){let{prefix:t,iconName:n,children:r,attributes:i,symbol:o}=e;const s=!0===o?"".concat(t,"-").concat(Pq.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Nv(Nv({},i),{},{id:s}),children:r}]}]}(y):function(e){let{children:t,main:n,mask:r,attributes:i,styles:o,transform:s}=e;if(Pv(s)&&n.found&&!r.found){const{width:e,height:t}=n,r={x:e/t/2,y:.5};i.style=Lv(Nv(Nv({},o),{},{"transform-origin":"".concat(r.x+s.x/16,"em ").concat(r.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(y)}function iy(e){const{content:t,width:n,height:r,transform:i,title:o,extra:s,watchable:a=!1}=e,l=Nv(Nv(Nv({},s.attributes),o?{title:o}:{}),{},{class:s.classes.join(" ")});a&&(l[fq]="");const c=Nv({},s.styles);Pv(i)&&(c.transform=function(e){let{transform:t,width:n=uq,height:r=uq,startCentered:i=!1}=e,o="";return o+=i&&VK?"translate(".concat(t.x/$q-n/2,"em, ").concat(t.y/$q-r/2,"em) "):i?"translate(calc(-50% + ".concat(t.x/$q,"em), calc(-50% + ").concat(t.y/$q,"em)) "):"translate(".concat(t.x/$q,"em, ").concat(t.y/$q,"em) "),o+="scale(".concat(t.size/$q*(t.flipX?-1:1),", ").concat(t.size/$q*(t.flipY?-1:1),") "),o+="rotate(".concat(t.rotate,"deg) "),o}({transform:i,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);const u=Lv(c);u.length>0&&(l.style=u);const d=[];return d.push({tag:"span",attributes:l,children:[t]}),o&&d.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),d}function oy(e){const t=e[0],n=e[1],[r]=e.slice(4);let i=null;return i=Array.isArray(r)?{tag:"g",attributes:{class:"".concat(Pq.cssPrefix,"-").concat(Nq)},children:[{tag:"path",attributes:{class:"".concat(Pq.cssPrefix,"-").concat(jq),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Pq.cssPrefix,"-").concat(Oq),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:i}}function sy(e,t){let n=t;return"fa"===t&&null!==Pq.styleDefault&&(t=Yv()),new Promise((r=>{if("fa"===n){const n=Vv(e)||{};e=n.iconName||e,t=n.prefix||t}if(e&&t&&yV[t]&&yV[t][e])return r(oy(yV[t][e]));!function(e,t){yq||Pq.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(Nv(Nv({},bV),{},{icon:Pq.showMissingIcons&&e&&ey("missingIconAbstract")||{}}))}))}function ay(e){return"string"==typeof(e.getAttribute?e.getAttribute(fq):null)}function ly(e){return HK.createElementNS("http://www.w3.org/2000/svg",e)}function cy(e){return HK.createElement(e)}function uy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:n=("svg"===e.tag?ly:cy)}=t;if("string"==typeof e)return HK.createTextNode(e);const r=n(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){r.appendChild(uy(e,{ceFn:n}))})),r}function dy(e){e()}function fy(e,t){const n="function"==typeof t?t:EV;if(0===e.length)n();else{let t=dy;"async"===Pq.mutateApproach&&(t=UK.requestAnimationFrame||dy),t((()=>{const t=!0===Pq.autoReplaceSvg?SV.replace:SV[Pq.autoReplaceSvg]||SV.replace,r=xV("mutate");e.map(t),r(),n()}))}}function hy(){kV=!0}function py(){kV=!1}function my(e){if(!WK)return;if(!Pq.observeMutations)return;const{treeCallback:t=EV,nodeCallback:n=EV,pseudoElementsCallback:r=EV,observeMutationsRoot:i=HK}=e;DV=new WK((e=>{if(kV)return;const i=Yv();Mv(e).forEach((e=>{if("childList"===e.type&&e.addedNodes.length>0&&!ay(e.addedNodes[0])&&(Pq.searchPseudoElements&&r(e.target),t(e.target)),"attributes"===e.type&&e.target.parentNode&&Pq.searchPseudoElements&&r(e.target.parentNode),"attributes"===e.type&&ay(e.target)&&~Aq.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){const t=e.getAttribute?e.getAttribute(pq):null,n=e.getAttribute?e.getAttribute(mq):null;return t&&n}(e.target)){const{prefix:t,iconName:n}=Xv(Rv(e.target));e.target.setAttribute(pq,t||i),n&&e.target.setAttribute(mq,n)}else(o=e.target)&&o.classList&&o.classList.contains&&o.classList.contains(Pq.replacementClass)&&n(e.target);var o}))})),qK&&DV.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function gy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=function(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"";let i=Xv(Rv(e));return i.prefix||(i.prefix=Yv()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=(o=i.prefix,s=e.innerText,(tV[o]||{})[s]||Kv(i.prefix,Uv(e.innerText)))),!i.iconName&&Pq.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i;var o,s}(e),o=function(e){const t=Mv(e.attributes).reduce(((e,t)=>("class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e)),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return Pq.autoA11y&&(n?t["aria-labelledby"]="".concat(Pq.replacementClass,"-title-").concat(r||jv()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),s=Qv("parseNodeAttributes",{},e);let a=t.styleParser?function(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce(((e,t)=>{const n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}(e):[];return Nv({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:zq,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:a,attributes:o}},s)}function vy(e){const t="nest"===Pq.autoReplaceSvg?gy(e,{styleParser:!1}):gy(e);return~t.extra.classes.indexOf(Dq)?ey("generateLayersText",e,t):ey("generateSvgReplacementMutation",e,t)}function yy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!qK)return Promise.resolve();const n=HK.documentElement.classList,r=e=>n.add("".concat(gq,"-").concat(e)),i=e=>n.remove("".concat(gq,"-").concat(e)),o=Pq.autoFetchSvg?[...eq,...oq]:JK.concat(Object.keys(TV));o.includes("fa")||o.push("fa");const s=[".".concat(Dq,":not([").concat(fq,"])")].concat(o.map((e=>".".concat(e,":not([").concat(fq,"])")))).join(", ");if(0===s.length)return Promise.resolve();let a=[];try{a=Mv(e.querySelectorAll(s))}catch(e){}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");const l=xV("onTree"),c=a.reduce(((e,t)=>{try{const n=vy(t);n&&e.push(n)}catch(e){yq||"MissingIcon"===e.name&&console.error(e)}return e}),[]);return new Promise(((e,n)=>{Promise.all(c).then((n=>{fy(n,(()=>{r("active"),r("complete"),i("pending"),"function"==typeof t&&t(),l(),e()}))})).catch((e=>{l(),n(e)}))}))}function by(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;vy(e).then((e=>{e&&fy([e],t)}))}function _y(e,t){const n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(((r,i)=>{if(null!==e.getAttribute(n))return r();const o=Mv(e.children).filter((e=>e.getAttribute(hq)===t))[0],s=UK.getComputedStyle(e,t),a=s.getPropertyValue("font-family"),l=a.match(Tq),c=s.getPropertyValue("font-weight"),u=s.getPropertyValue("content");if(o&&!l)return e.removeChild(o),r();if(l&&"none"!==u&&""!==u){const u=s.getPropertyValue("content");let d=function(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),i=isNaN(r)?"normal":r;return(PV[n]||{})[i]||IV[n]}(a,c);const{value:f,isSecondary:h}=function(e){const t=e.replace(RV,""),n=function(e){const t=e.length;let n,r=e.charCodeAt(0);return r>=55296&&r<=56319&&t>1&&(n=e.charCodeAt(1),n>=56320&&n<=57343)?1024*(r-55296)+n-56320+65536:r}(t),r=n>=FV[0]&&n<=FV[1],i=2===t.length&&t[0]===t[1];return{value:Uv(i?t[0]:t),isSecondary:r||i}}(u),p=l[0].startsWith("FontAwesome");let m=Kv(d,f),g=m;if(p){const e=function(e){const t=rV[e],n=Kv("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(f);e.iconName&&e.prefix&&(m=e.iconName,d=e.prefix)}if(!m||h||o&&o.getAttribute(pq)===d&&o.getAttribute(mq)===g)r();else{e.setAttribute(n,g),o&&e.removeChild(o);const s={iconName:null,title:null,titleId:null,prefix:null,transform:zq,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},{extra:a}=s;a.attributes[hq]=t,sy(m,d).then((i=>{const o=ry(Nv(Nv({},s),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:d,iconName:g,extra:a,watchable:!0})),l=HK.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(l,e.firstChild):e.appendChild(l),l.outerHTML=o.map((e=>zv(e))).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function wy(e){return Promise.all([_y(e,"::before"),_y(e,"::after")])}function Cy(e){return!(e.parentNode===document.head||~vq.indexOf(e.tagName.toUpperCase())||e.getAttribute(hq)||e.parentNode&&"svg"===e.parentNode.tagName)}function xy(e){if(qK)return new Promise(((t,n)=>{const r=Mv(e.querySelectorAll("*")).filter(Cy).map(wy),i=xV("searchPseudoElements");hy(),Promise.all(r).then((()=>{i(),py(),t()})).catch((()=>{i(),py(),n()}))}))}function Ey(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function Sy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ky(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sy(Object(n),!0).forEach((function(t){Ty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dy(e){return Dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(e)}function Ty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ay(e){return function(e){if(Array.isArray(e))return Ny(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ny(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ny(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ny(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oy(e){return t=e,(t-=0)==t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}function jy(e){return e&&"object"===Dy(e)&&e.prefix&&e.iconName&&e.icon?e:VV.icon?VV.icon(e):null===e?null:e&&"object"===Dy(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:"fas",iconName:e}:void 0}function My(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Ty({},e,t):{}}function Ry(e){return e.split(".").reduce(((e,t,n,r)=>{const i=n>0&&r[n-1];if(i&&/(?:^|[^\\])\\$/.test(i)){const n=e.pop();e.push(n.slice(0,-1)+"."+t)}else e.push(t);return e}),[])}function Fy(e,t,n){const r="number"==typeof t?Ry(t.toString()):"string"==typeof t?Ry(t):t;for(let t=0;t<r.length;t++){if(null===e||"object"!=typeof e)return n;let i=r[t];Array.isArray(e)&&"$end"===i&&(i=e.length-1),e=e[i]}return void 0===e?n:e}function Ly(e){return e&&"object"==typeof e&&!Array.isArray(e)}function Py(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;const i=n.shift();if(i&&Ly(e)&&Ly(i))for(const t in i)Ly(i[t])?(e[t]||Object.assign(e,{[t]:{}}),Py(e[t],i[t])):Object.assign(e,{[t]:i[t]});return Py(e,...n)}function Iy(e,t,n){var r,i,o,s;const a=e.getRangeAt(0),l={};let c;if(e.anchorNode===t){let e=t;for(;null!=e.firstElementChild;)e=e.firstElementChild;c=eJ(e,n)}else{const t=a.startOffset+a.endOffset===0&&a.collapsed?(null===(i=null===(r=a.startContainer)||void 0===r?void 0:r.getBoundingClientRect)||void 0===i?void 0:i.call(r))||(null===(o=null==a?void 0:a.getBoundingClientRect)||void 0===o?void 0:o.call(a)):null===(s=null==a?void 0:a.getBoundingClientRect)||void 0===s?void 0:s.call(a),u={left:(l.left||0)+t.left,bottom:(l.bottom||0)+t.bottom,right:(l.right||0)+t.right,top:(l.top||0)+t.top,x:(l.x||0)+t.x,y:(l.y||0)+t.y,height:t.height,width:t.width};c=l?Object.assign(Object.assign({},u),{toJSON:()=>{JSON.stringify(u)}}):t,c.left+c.top+c.bottom+c.right===0&&(c=e.anchorNode&&"#text"!==e.anchorNode.nodeName?eJ(e.anchorNode,n):{})}return c}function $y(){return new Promise((e=>{setTimeout(e,0)}))}function zy(){return"undefined"!=typeof window}function By(e){return Wy(e)?(e.nodeName||"").toLowerCase():"#document"}function Uy(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Hy(e){var t;return null==(t=(Wy(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Wy(e){return!!zy()&&(e instanceof Node||e instanceof Uy(e).Node)}function Ky(e){return!!zy()&&(e instanceof Element||e instanceof Uy(e).Element)}function qy(e){return!!zy()&&(e instanceof HTMLElement||e instanceof Uy(e).HTMLElement)}function Vy(e){return!(!zy()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Uy(e).ShadowRoot)}function Yy(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=eb(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!HJ.has(i)}function Jy(e){return WJ.has(By(e))}function Gy(e){return KJ.some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function Xy(e){const t=Qy(),n=Ky(e)?eb(e):e
;return qJ.some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||VJ.some((e=>(n.willChange||"").includes(e)))||YJ.some((e=>(n.contain||"").includes(e)))}function Qy(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Zy(e){return JJ.has(By(e))}function eb(e){return Uy(e).getComputedStyle(e)}function tb(e){return Ky(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function nb(e){if("html"===By(e))return e;const t=e.assignedSlot||e.parentNode||Vy(e)&&e.host||Hy(e);return Vy(t)?t.host:t}function rb(e){const t=nb(e);return Zy(t)?e.ownerDocument?e.ownerDocument.body:e.body:qy(t)&&Yy(t)?t:rb(t)}function ib(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=rb(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),s=Uy(i);if(o){const e=ob(s);return t.concat(s,s.visualViewport||[],Yy(i)?i:[],e&&n?ib(e):[])}return t.concat(i,ib(i,[],n))}function ob(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function sb(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function ab(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Vy(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function lb(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function cb(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}function ub(){return/apple/i.test(navigator.vendor)}function db(){const e=/android/i;return e.test(lb())||e.test(cb())}function fb(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function hb(e){return(null==e?void 0:e.ownerDocument)||document}function pb(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function mb(e){return"composedPath"in e?e.composedPath()[0]:e.target}function gb(e){return qy(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}function vb(e,t,n){return QJ(e,XJ(t,n))}function yb(e,t){return"function"==typeof e?e(t):e}function bb(e){return e.split("-")[0]}function _b(e){return e.split("-")[1]}function wb(e){return"x"===e?"y":"x"}function Cb(e){return"y"===e?"height":"width"}function xb(e){return iG.has(bb(e))?"y":"x"}function Eb(e){return wb(xb(e))}function Sb(e){return e.replace(/start|end/g,(e=>rG[e]))}function kb(e){return e.replace(/left|right|bottom|top/g,(e=>nG[e]))}function Db(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Tb(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Ab(e,t,n){let{reference:r,floating:i}=e;const o=xb(t),s=Eb(t),a=Cb(s),l=bb(t),c="y"===o,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(_b(t)){case"start":h[s]-=f*(n&&c?-1:1);break;case"end":h[s]+=f*(n&&c?-1:1)}return h}async function Nb(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=yb(t,e),p=Db(h),m=a[f?"floating"===d?"reference":"floating":d],g=Tb(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),b=await(null==o.isElement?void 0:o.isElement(y))&&await(null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},_=Tb(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-_.top+p.top)/b.y,bottom:(_.bottom-g.bottom+p.bottom)/b.y,left:(g.left-_.left+p.left)/b.x,right:(_.right-g.right+p.right)/b.x}}function Ob(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function jb(e){return GJ.some((t=>e[t]>=0))}function Mb(e){const t=eb(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=qy(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=ZJ(n)!==o||ZJ(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function Rb(e){return Ky(e)?e:e.contextElement}function Fb(e){const t=Rb(e);if(!qy(t))return tG(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=Mb(t);let s=(o?ZJ(n.width):n.width)/r,a=(o?ZJ(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}function Lb(e){const t=Uy(e);return Qy()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:kG}function Pb(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=Rb(e);let s=tG(1);t&&(r?Ky(r)&&(s=Fb(r)):s=Fb(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Uy(e))&&t}(o,n,r)?Lb(o):tG(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const e=Uy(o),t=r&&Ky(r)?Uy(r):r;let n=e,i=ob(n);for(;i&&r&&t!==n;){const e=Fb(i),t=i.getBoundingClientRect(),r=eb(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=o,c+=s,n=Uy(i),i=ob(n)}}return Tb({width:u,height:d,x:l,y:c})}function Ib(e,t){const n=tb(e).scrollLeft;return t?t.left+n:Pb(Hy(e)).left+n}function $b(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-Ib(e,n),y:n.top+t.scrollTop}}function zb(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Uy(e),r=Hy(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const e=Qy();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}const c=Ib(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,s=Math.abs(r.clientWidth-t.clientWidth-i);s<=25&&(o-=s)}else c<=25&&(o+=c);return{width:o,height:s,x:a,y:l}}(e,n);else if("document"===t)r=function(e){const t=Hy(e),n=tb(e),r=e.ownerDocument.body,i=QJ(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=QJ(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Ib(e);const a=-n.scrollTop;return"rtl"===eb(r).direction&&(s+=QJ(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}(Hy(e));else if(Ky(t))r=function(e,t){const n=Pb(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=qy(e)?Fb(e):tG(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{const n=Lb(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Tb(r)}function Bb(e,t){const n=nb(e);return!(n===t||!Ky(n)||Zy(n))&&("fixed"===eb(n).position||Bb(n,t))}function Ub(e,t,n){function r(){c.x=Ib(o)}const i=qy(t),o=Hy(t),s="fixed"===n,a=Pb(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=tG(0);if(i||!i&&!s)if(("body"!==By(t)||Yy(o))&&(l=tb(t)),i){const e=Pb(t,!0,s,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else o&&r();s&&!i&&o&&r();const u=!o||i||s?tG(0):$b(o,l);return{x:a.left+l.scrollLeft-c.x-u.x,y:a.top+l.scrollTop-c.y-u.y,width:a.width,height:a.height}}function Hb(e){return"static"===eb(e).position}function Wb(e,t){if(!qy(e)||"fixed"===eb(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Hy(e)===n&&(n=n.ownerDocument.body),n}function Kb(e,t){const n=Uy(e);if(Gy(e))return n;if(!qy(e)){let t=nb(e);for(;t&&!Zy(t);){if(Ky(t)&&!Hb(t))return t;t=nb(t)}return n}let r=Wb(e,t);for(;r&&Jy(r)&&Hb(r);)r=Wb(r,t);return r&&Zy(r)&&Hb(r)&&!Xy(r)?n:r||function(e){let t=nb(e);for(;qy(t)&&!Zy(t);){if(Xy(t))return t;if(Gy(t))return null;t=nb(t)}return null}(e)||n}function qb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Vb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!=r--;)if(!Vb(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!=r--;){const n=i[r];if(!("_owner"===n&&e.$$typeof||Vb(e[n],t[n])))return!1}return!0}return e!=e&&t!=t}function Yb(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Jb(e,t){const n=Yb(e);return Math.round(t*n)/n}function Gb(e){const t=MS.useRef(e);return LG((()=>{t.current=e})),t}function Xb(e){const t=MS.useRef((()=>{}));return KG((()=>{t.current=e})),MS.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qb.apply(this,arguments)}function Zb(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}function e_(){const e=GG(),t=eX(),n=ZG();return qG((()=>{const r={id:e,parentId:n};return null==t||t.addNode(r),()=>{null==t||t.removeNode(r)}}),[t,e,n]),e}function t_(e){const{children:t,id:n}=e,r=ZG();return MS.createElement(XG.Provider,{value:MS.useMemo((()=>({id:n,parentId:r})),[n,r])},t)}function n_(e){const{children:t}=e,n=MS.useRef([]),r=MS.useCallback((e=>{n.current=[...n.current,e]}),[]),i=MS.useCallback((e=>{n.current=n.current.filter((t=>t!==e))}),[]),o=MS.useState((()=>Zb()))[0];return MS.createElement(QG.Provider,{value:MS.useMemo((()=>({nodesRef:n,addNode:r,removeNode:i,events:o})),[r,i,o])},t)}function r_(e){return"data-floating-ui-"+e}function i_(e){const t=(0,MS.useRef)(e);return qG((()=>{t.current=e})),t}function o_(e,t,n){return n&&!fb(n)?0:"number"==typeof e?e:null==e?void 0:e[t]}function s_(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:o,elements:s}=e,{enabled:a=!0,delay:l=0,handleClose:c=null,mouseOnly:u=!1,restMs:d=0,move:f=!0}=t,h=eX(),p=ZG(),m=i_(c),g=i_(l),v=i_(n),y=MS.useRef(),b=MS.useRef(-1),_=MS.useRef(),w=MS.useRef(-1),C=MS.useRef(!0),x=MS.useRef(!1),E=MS.useRef((()=>{})),S=MS.useRef(!1),k=MS.useCallback((()=>{var e;const t=null==(e=i.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t}),[i]);MS.useEffect((()=>{function e(e){let{open:t}=e;t||(clearTimeout(b.current),clearTimeout(w.current),C.current=!0,S.current=!1)}if(a)return o.on("openchange",e),()=>{o.off("openchange",e)}}),[a,o]),MS.useEffect((()=>{function e(e){k()&&r(!1,e,"hover")}if(!a)return;if(!m.current)return;if(!n)return;const t=hb(s.floating).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}}),[s.floating,n,r,a,m,k]);const D=MS.useCallback((function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="hover");const i=o_(g.current,"close",y.current);i&&!_.current?(clearTimeout(b.current),b.current=window.setTimeout((()=>r(!1,e,n)),i)):t&&(clearTimeout(b.current),r(!1,e,n))}),[g,r]),T=Xb((()=>{E.current(),_.current=void 0})),A=Xb((()=>{if(x.current){const e=hb(s.floating).body;e.style.pointerEvents="",e.removeAttribute(tX),x.current=!1}})),N=Xb((()=>!!i.current.openEvent&&["click","mousedown"].includes(i.current.openEvent.type)));MS.useEffect((()=>{function e(e){if(clearTimeout(b.current),C.current=!1,u&&!fb(y.current)||d>0&&!o_(g.current,"open"))return;const t=o_(g.current,"open",y.current);t?b.current=window.setTimeout((()=>{v.current||r(!0,e,"hover")}),t):n||r(!0,e,"hover")}function t(e){if(N())return;E.current();const t=hb(s.floating);if(clearTimeout(w.current),S.current=!1,m.current&&i.current.floatingContext){n||clearTimeout(b.current),_.current=m.current({...i.current.floatingContext,tree:h,x:e.clientX,y:e.clientY,onClose(){A(),T(),N()||D(e,!0,"safe-polygon")}});const r=_.current;return t.addEventListener("mousemove",r),void(E.current=()=>{t.removeEventListener("mousemove",r)})}("touch"!==y.current||!ab(s.floating,e.relatedTarget))&&D(e)}function o(e){N()||i.current.floatingContext&&(null==m.current||m.current({...i.current.floatingContext,tree:h,x:e.clientX,y:e.clientY,onClose(){A(),T(),N()||D(e)}})(e))}if(a&&Ky(s.domReference)){var l;const r=s.domReference;return n&&r.addEventListener("mouseleave",o),null==(l=s.floating)||l.addEventListener("mouseleave",o),f&&r.addEventListener("mousemove",e,{once:!0}),r.addEventListener("mouseenter",e),r.addEventListener("mouseleave",t),()=>{var i;n&&r.removeEventListener("mouseleave",o),null==(i=s.floating)||i.removeEventListener("mouseleave",o),f&&r.removeEventListener("mousemove",e),r.removeEventListener("mouseenter",e),r.removeEventListener("mouseleave",t)}}}),[s,a,e,u,d,f,D,T,A,r,n,v,h,g,m,i,N]),qG((()=>{var e;if(a&&n&&null!=(e=m.current)&&e.__options.blockPointerEvents&&k()){x.current=!0;const e=s.floating;if(Ky(s.domReference)&&e){var t;const n=hb(s.floating).body;n.setAttribute(tX,"");const r=s.domReference,i=null==h||null==(t=h.nodesRef.current.find((e=>e.id===p)))||null==(t=t.context)?void 0:t.elements.floating;return i&&(i.style.pointerEvents=""),n.style.pointerEvents="none",r.style.pointerEvents="auto",e.style.pointerEvents="auto",()=>{n.style.pointerEvents="",r.style.pointerEvents="",e.style.pointerEvents=""}}}}),[a,n,p,s,h,m,k]),qG((()=>{n||(y.current=void 0,S.current=!1,T(),A())}),[n,T,A]),MS.useEffect((()=>()=>{T(),clearTimeout(b.current),clearTimeout(w.current),A()}),[a,s.domReference,T,A]);const O=MS.useMemo((()=>{function e(e){y.current=e.pointerType}return{onPointerDown:e,onPointerEnter:e,onMouseMove(e){function t(){C.current||v.current||r(!0,i,"hover")}const{nativeEvent:i}=e;u&&!fb(y.current)||n||0===d||S.current&&e.movementX**2+e.movementY**2<2||(clearTimeout(w.current),"touch"===y.current?t():(S.current=!0,w.current=window.setTimeout(t,d)))}}}),[u,r,n,v,d]),j=MS.useMemo((()=>({onMouseEnter(){clearTimeout(b.current)},onMouseLeave(e){N()||D(e.nativeEvent,!1)}})),[D,N]);return MS.useMemo((()=>a?{reference:O,floating:j}:{}),[a,O,j])}function a_(e,t){let n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})),r=n;for(;r.length;)r=e.filter((e=>{var t;return null==(t=r)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})),n=n.concat(r);return n}function l_(e,t){const n=EG(e,nX());"prev"===t&&n.reverse();const r=n.indexOf(sb(hb(e)));return n.slice(r+1)[0]}function c_(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!ab(n,r)}function u_(e){EG(e,nX()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function d_(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}function f_(e){"Tab"===e.key&&(e.target,clearTimeout(void 0))}function h_(e){const{children:t,id:n,root:r,preserveTabOrder:i=!0}=e,o=function(e){void 0===e&&(e={});const{id:t,root:n}=e,r=GG(),i=aX(),[o,s]=MS.useState(null),a=MS.useRef(null);return qG((()=>()=>{null==o||o.remove(),queueMicrotask((()=>{a.current=null}))}),[o]),qG((()=>{if(!r)return;if(a.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement("div");n.id=r,n.setAttribute(sX,""),e.appendChild(n),a.current=n,s(n)}),[t,r]),qG((()=>{if(null===n)return;if(!r)return;if(a.current)return;let e=n||(null==i?void 0:i.portalNode);e&&!Ky(e)&&(e=e.current),e=e||document.body;let o=null;t&&(o=document.createElement("div"),o.id=t,e.appendChild(o));const l=document.createElement("div");l.id=r,l.setAttribute(sX,""),e=o||e,e.appendChild(l),a.current=l,s(l)}),[t,n,r,i]),o}({id:n,root:r}),[s,a]=MS.useState(null),l=MS.useRef(null),c=MS.useRef(null),u=MS.useRef(null),d=MS.useRef(null),f=null==s?void 0:s.modal,h=null==s?void 0:s.open,p=!!s&&!s.modal&&s.open&&i&&!(!r&&!o);return MS.useEffect((()=>{function e(e){o&&c_(e)&&("focusin"===e.type?d_:u_)(o)}if(o&&i&&!f)return o.addEventListener("focusin",e,!0),o.addEventListener("focusout",e,!0),()=>{o.removeEventListener("focusin",e,!0),o.removeEventListener("focusout",e,!0)}}),[o,i,f]),MS.useEffect((()=>{o&&(h||d_(o))}),[h,o]),MS.createElement(oX.Provider,{value:MS.useMemo((()=>({preserveTabOrder:i,beforeOutsideRef:l,afterOutsideRef:c,beforeInsideRef:u,afterInsideRef:d,portalNode:o,setFocusManagerState:a})),[i,o])},p&&o&&MS.createElement(iX,{"data-type":"outside",ref:l,onFocus:e=>{if(c_(e,o)){var t;null==(t=u.current)||t.focus()}else{const e=l_(document.body,"prev")||(null==s?void 0:s.refs.domReference.current);null==e||e.focus()}}}),p&&o&&MS.createElement("span",{"aria-owns":o.id,style:rX}),o&&FS.createPortal(t,o),p&&o&&MS.createElement(iX,{"data-type":"outside",ref:c,onFocus:e=>{if(c_(e,o)){var t;null==(t=d.current)||t.focus()}else{const t=l_(document.body,"next")||(null==s?void 0:s.refs.domReference.current);null==t||t.focus(),(null==s?void 0:s.closeOnFocusOut)&&(null==s||s.onOpenChange(!1,e.nativeEvent,"focus-out"))}}}))}function p_(e){return qy(e.target)&&"BUTTON"===e.target.tagName}function m_(e){return gb(e)}function g_(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:o}}=e,{enabled:s=!0,event:a="click",toggle:l=!0,ignoreMouse:c=!1,keyboardHandlers:u=!0,stickIfOpen:d=!0}=t,f=MS.useRef(),h=MS.useRef(!1),p=MS.useMemo((()=>({onPointerDown(e){f.current=e.pointerType},onMouseDown(e){const t=f.current;0===e.button&&"click"!==a&&(fb(t,!0)&&c||(!n||!l||i.current.openEvent&&d&&"mousedown"!==i.current.openEvent.type?(e.preventDefault(),r(!0,e.nativeEvent,"click")):r(!1,e.nativeEvent,"click")))},onClick(e){const t=f.current;"mousedown"===a&&f.current?f.current=void 0:fb(t,!0)&&c||(!n||!l||i.current.openEvent&&d&&"click"!==i.current.openEvent.type?r(!0,e.nativeEvent,"click"):r(!1,e.nativeEvent,"click"))},onKeyDown(e){f.current=void 0,e.defaultPrevented||!u||p_(e)||(" "!==e.key||m_(o)||(e.preventDefault(),h.current=!0),"Enter"===e.key&&r(!n||!l,e.nativeEvent,"click"))},onKeyUp(e){e.defaultPrevented||!u||p_(e)||m_(o)||" "===e.key&&h.current&&(h.current=!1,r(!n||!l,e.nativeEvent,"click"))}})),[i,o,a,c,u,r,n,d,l]);return MS.useMemo((()=>s?{reference:p}:{}),[s,p])}function v_(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:o}=e,{enabled:s=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:u=!1,referencePressEvent:d="pointerdown",ancestorScroll:f=!1,bubbles:h,capture:p}=t,m=eX(),g=Xb("function"==typeof l?l:()=>!1),v="function"==typeof l?g:l,y=MS.useRef(!1),b=MS.useRef(!1),{escapeKey:_,outsidePress:w}=dX(h),{escapeKey:C,outsidePress:x}=dX(p),E=MS.useRef(!1),S=Xb((e=>{var t;if(!n||!s||!a||"Escape"!==e.key)return;if(E.current)return;const i=null==(t=o.current.floatingContext)?void 0:t.nodeId,l=m?a_(m.nodesRef.current,i):[];if(!_&&(e.stopPropagation(),l.length>0)){let e=!0;if(l.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)})),!e)return}r(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,"escape-key")})),k=Xb((e=>{var t;const n=()=>{var t;S(e),null==(t=mb(e))||t.removeEventListener("keydown",n)};null==(t=mb(e))||t.addEventListener("keydown",n)})),D=Xb((e=>{var t;const n=y.current;y.current=!1;const s=b.current;if(b.current=!1,"click"===c&&s)return;if(n)return;if("function"==typeof v&&!v(e))return;const a=mb(e),l="["+r_("inert")+"]",u=hb(i.floating).querySelectorAll(l);let d=Ky(a)?a:null;for(;d&&!Zy(d);){const e=nb(d);if(Zy(e)||!Ky(e))break;d=e}if(u.length&&Ky(a)&&!a.matches("html,body")&&!ab(a,i.floating)&&Array.from(u).every((e=>!ab(d,e))))return;if(qy(a)&&N){const t=a.clientWidth>0&&a.scrollWidth>a.clientWidth,n=a.clientHeight>0&&a.scrollHeight>a.clientHeight;let r=n&&e.offsetX>a.clientWidth;if(n&&"rtl"===eb(a).direction&&(r=e.offsetX<=a.offsetWidth-a.clientWidth),r||t&&e.offsetY>a.clientHeight)return}const f=null==(t=o.current.floatingContext)?void 0:t.nodeId,h=m&&a_(m.nodesRef.current,f).some((t=>{var n;return pb(e,null==(n=t.context)?void 0:n.elements.floating)}));if(pb(e,i.floating)||pb(e,i.domReference)||h)return;const p=m?a_(m.nodesRef.current,f):[];if(p.length>0){let e=!0;if(p.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}r(!1,e,"outside-press")})),T=Xb((e=>{var t;const n=()=>{var t;D(e),null==(t=mb(e))||t.removeEventListener(c,n)};null==(t=mb(e))||t.addEventListener(c,n)}));MS.useEffect((()=>{function e(e){r(!1,e,"ancestor-scroll")}function t(){window.clearTimeout(u),E.current=!0}function l(){u=window.setTimeout((()=>{E.current=!1}),Qy()?5:0)}if(!n||!s)return;o.current.__escapeKeyBubbles=_,o.current.__outsidePressBubbles=w;let u=-1;const d=hb(i.floating);a&&(d.addEventListener("keydown",C?k:S,C),d.addEventListener("compositionstart",t),d.addEventListener("compositionend",l)),v&&d.addEventListener(c,x?T:D,x);let h=[];return f&&(Ky(i.domReference)&&(h=ib(i.domReference)),Ky(i.floating)&&(h=h.concat(ib(i.floating))),!Ky(i.reference)&&i.reference&&i.reference.contextElement&&(h=h.concat(ib(i.reference.contextElement)))),h=h.filter((e=>{var t;return e!==(null==(t=d.defaultView)?void 0:t.visualViewport)})),h.forEach((t=>{t.addEventListener("scroll",e,{passive:!0})})),()=>{a&&(d.removeEventListener("keydown",C?k:S,C),d.removeEventListener("compositionstart",t),d.removeEventListener("compositionend",l)),v&&d.removeEventListener(c,x?T:D,x),h.forEach((t=>{t.removeEventListener("scroll",e)})),window.clearTimeout(u)}}),[o,i,a,v,c,n,r,f,s,_,w,S,C,k,D,x,T]),MS.useEffect((()=>{y.current=!1}),[v,c]);const A=MS.useMemo((()=>({onKeyDown:S,[cX[d]]:e=>{u&&r(!1,e.nativeEvent,"reference-press")}})),[S,r,u,d]),N=MS.useMemo((()=>({onKeyDown:S,onMouseDown(){b.current=!0},onMouseUp(){b.current=!0},[uX[c]]:()=>{y.current=!0}})),[S,c]);return MS.useMemo((()=>s?{reference:A,floating:N}:{}),[s,A,N])}function y_(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=GG(),o=MS.useRef({}),[s]=MS.useState((()=>Zb())),a=null!=ZG(),[l,c]=MS.useState(r.reference),u=Xb(((e,t,r)=>{o.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:r,nested:a}),null==n||n(e,t,r)})),d=MS.useMemo((()=>({setPositionReference:c})),[]),f=MS.useMemo((()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference})),[l,r.reference,r.floating]);return MS.useMemo((()=>({dataRef:o,open:t,onOpenChange:u,elements:f,events:s,floatingId:i,refs:d})),[t,u,f,s,i,d])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,s]=MS.useState(null),[a,l]=MS.useState(null),c=(null==i?void 0:i.domReference)||o,u=MS.useRef(null),d=eX();qG((()=>{c&&(u.current=c)}),[c]);const f=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,d]=MS.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=MS.useState(r);Vb(f,r)||h(r);const[p,m]=MS.useState(null),[g,v]=MS.useState(null),y=MS.useCallback((e=>{e!==C.current&&(C.current=e,m(e))}),[]),b=MS.useCallback((e=>{e!==x.current&&(x.current=e,v(e))}),[]),_=o||p,w=s||g,C=MS.useRef(null),x=MS.useRef(null),E=MS.useRef(u),S=null!=l,k=Gb(l),D=Gb(i),T=Gb(c),A=MS.useCallback((()=>{if(!C.current||!x.current)return;const e={placement:t,strategy:n,middleware:f};D.current&&(e.platform=D.current),((e,t,n)=>{const r=new Map,i={platform:TG,...n},o={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=Ab(c,r,l),f=r,h={},p=0;for(let n=0;n<a.length;n++){const{name:o,fn:m}=a[n],{x:g,y:v,data:y,reset:b}=await m({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:c,platform:s,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=v?v:d,h={...h,[o]:{...h[o],...y}},b&&p<=50&&(p++,"object"==typeof b&&(b.placement&&(f=b.placement),b.rects&&(c=!0===b.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:u,y:d}=Ab(c,f,l))),n=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}})(e,t,{...i,platform:o})})(C.current,x.current,e).then((e=>{const t={...e,isPositioned:!1!==T.current};N.current&&!Vb(E.current,t)&&(E.current=t,FS.flushSync((()=>{d(t)})))}))}),[f,t,n,D,T]);LG((()=>{!1===c&&E.current.isPositioned&&(E.current.isPositioned=!1,d((e=>({...e,isPositioned:!1}))))}),[c]);const N=MS.useRef(!1);LG((()=>(N.current=!0,()=>{N.current=!1})),[]),LG((()=>{if(_&&(C.current=_),w&&(x.current=w),_&&w){if(k.current)return k.current(_,w,A);A()}}),[_,w,A,k,S]);const O=MS.useMemo((()=>({reference:C,floating:x,setReference:y,setFloating:b})),[y,b]),j=MS.useMemo((()=>({reference:_,floating:w})),[_,w]),M=MS.useMemo((()=>{const e={position:n,left:0,top:0};if(!j.floating)return e;const t=Jb(j.floating,u.x),r=Jb(j.floating,u.y);return a?{...e,transform:"translate("+t+"px, "+r+"px)",...Yb(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,a,j.floating,u.x,u.y]);return MS.useMemo((()=>({...u,update:A,refs:O,elements:j,floatingStyles:M})),[u,A,O,j,M])}({...e,elements:{...i,...a&&{reference:a}}}),h=MS.useCallback((e=>{const t=Ky(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;l(t),f.refs.setReference(t)}),[f.refs]),p=MS.useCallback((e=>{(Ky(e)||null===e)&&(u.current=e,s(e)),(Ky(f.refs.reference.current)||null===f.refs.reference.current||null!==e&&!Ky(e))&&f.refs.setReference(e)}),[f.refs]),m=MS.useMemo((()=>({...f.refs,setReference:p,setPositionReference:h,domReference:u})),[f.refs,p,h]),g=MS.useMemo((()=>({...f.elements,domReference:c})),[f.elements,c]),v=MS.useMemo((()=>({...f,...r,refs:m,elements:g,nodeId:t})),[f,m,g,t,r]);return qG((()=>{r.dataRef.current.floatingContext=v;const e=null==d?void 0:d.nodesRef.current.find((e=>e.id===t));e&&(e.context=v)})),MS.useMemo((()=>({...f,context:v,refs:m,elements:g})),[f,m,g,v])}function b_(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:o,elements:s}=e,{enabled:a=!0,visibleOnly:l=!0}=t,c=MS.useRef(!1),u=MS.useRef(),d=MS.useRef(!0);MS.useEffect((()=>{function e(){!n&&qy(s.domReference)&&s.domReference===sb(hb(s.domReference))&&(c.current=!0)}function t(){d.current=!0}if(!a)return;const r=Uy(s.domReference);return r.addEventListener("blur",e),r.addEventListener("keydown",t,!0),()=>{r.removeEventListener("blur",e),r.removeEventListener("keydown",t,!0)}}),[s.domReference,n,a]),MS.useEffect((()=>{function e(e){let{reason:t}=e;"reference-press"!==t&&"escape-key"!==t||(c.current=!0)}if(a)return i.on("openchange",e),()=>{i.off("openchange",e)}}),[i,a]),MS.useEffect((()=>()=>{clearTimeout(u.current)}),[]);const f=MS.useMemo((()=>({onPointerDown(e){(function(e){return!cb().includes("jsdom/")&&(!db()&&0===e.width&&0===e.height||db()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)})(e.nativeEvent)||(d.current=!1)},onMouseLeave(){c.current=!1},onFocus(e){if(c.current)return;const t=mb(e.nativeEvent);if(l&&Ky(t))try{if(ub()&&lb().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints)throw Error();if(!t.matches(":focus-visible"))return}catch(e){if(!d.current&&!gb(t))return}r(!0,e.nativeEvent,"focus")},onBlur(e){c.current=!1;const t=e.relatedTarget,n=e.nativeEvent,i=Ky(t)&&t.hasAttribute(r_("focus-guard"))&&"outside"===t.getAttribute("data-type");u.current=window.setTimeout((()=>{var e;const a=sb(s.domReference?s.domReference.ownerDocument:document);(t||a!==s.domReference)&&(ab(null==(e=o.current.floatingContext)?void 0:e.refs.floating.current,a)||ab(s.domReference,a)||i||r(!1,n,"focus"))}))}})),[o,s.domReference,r,l]);return MS.useMemo((()=>a?{reference:f}:{}),[a,f])}function __(e,t,n){const r=new Map,i="item"===n;let o=e;if(i&&e){const{[fX]:t,[hX]:n,...r}=e;o=r}return{..."floating"===n&&{tabIndex:-1,[lX]:""},...o,...t.map((t=>{const r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r})).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,o]=t;var s;i&&[fX,hX].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof o&&(null==(s=r.get(n))||s.push(o),e[n]=function(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return null==(e=r.get(n))?void 0:e.map((e=>e(...i))).find((e=>void 0!==e))})):e[n]=o)})),e):e),{})}}function w_(e,t){return"function"==typeof e?e(t):e}function C_(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}function x_(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}function E_(){return MP().getTextContent()}function S_(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e)return!1;let n=E_();return t&&(n=n.trim()),""===n}function k_(e){if(!S_(e,!1))return!1;const t=MP().getChildren(),n=t.length;if(n>1)return!1;for(let e=0;e<n;e++){const n=t[e];if(UP(n))return!1;if(HP(n)){if(!JP(n))return!1;if(0!==n.__indent)return!1;const t=n.getChildren(),r=t.length;for(let n=0;n<r;n++){const n=t[e];if(!tI(n))return!1}}}return!0}function D_(e){throw new Error(e)}function T_(){return MP().getTextContent()}function A_(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e)return!1;let n=T_();return t&&(n=n.trim()),""===n}function N_(e){if(!A_(e,!1))return!1;const t=MP().getChildren(),n=t.length;if(n>1)return!1;for(let e=0;e<n;e++){const n=t[e];if(UP(n))return!1;if(HP(n)){if(!JP(n))return!1;if(0!==n.__indent)return!1;const t=n.getChildren(),r=t.length;for(let n=0;n<r;n++){const n=t[e];if(!tI(n))return!1}}}return!0}function O_(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(const e of i)n.append("v",e);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function j_(e){return e.getEditorState().read(xX(e.isComposing()))}function M_(e){let{content:t}=e;const[n]=kK(),r=function(e){const[t,n]=(0,MS.useState)((()=>j_(e)));return DX((()=>{function t(){const t=j_(e);n(t)}return t(),pB(e.registerUpdateListener((()=>{t()})),e.registerEditableListener((()=>{t()})))}),[e]),t}(n),i=bX();return r?"function"==typeof t?t(i):t:null}function R_(e){return e.getEditorState().read(xX(e.isComposing()))}function F_(e){let{content:t}=e;const[n]=kK(),r=function(e){const[t,n]=(0,MS.useState)((()=>R_(e)));return TX((()=>{function t(){const t=R_(e);n(t)}return t(),pB(e.registerUpdateListener((()=>{t()})),e.registerEditableListener((()=>{t()})))}),[e]),t}(n),i=bX();return r?"function"==typeof t?t(i):t:null}function L_(e){return e.getEditorState().read(xX(e.isComposing()))}function P_(e){let{content:t,editor:n}=e;const r=function(e){const[t,n]=(0,MS.useState)((()=>L_(e)));return OX((()=>{function t(){const t=L_(e);n(t)}return t(),pB(e.registerUpdateListener((()=>{t()})),e.registerEditableListener((()=>{t()})))}),[e]),t}(n),[i,o]=(0,MS.useState)(n.isEditable());if((0,MS.useLayoutEffect)((()=>(o(n.isEditable()),n.registerEditableListener((e=>{o(e)})))),[n]),!r)return null;let s=null;return"function"==typeof t?s=t(i):null!==t&&(s=t),null===s?null:(0,ND.jsx)("div",{"aria-hidden":!0,children:s})}function I_(e){return e.getEditorState().read(xX(e.isComposing()))}function $_(e){let{content:t,editor:n}=e;const r=function(e){const[t,n]=(0,MS.useState)((()=>I_(e)));return RX((()=>{function t(){const t=I_(e);n(t)}return t(),pB(e.registerUpdateListener((()=>{t()})),e.registerEditableListener((()=>{
t()})))}),[e]),t}(n),[i,o]=(0,MS.useState)(n.isEditable());if((0,MS.useLayoutEffect)((()=>(o(n.isEditable()),n.registerEditableListener((e=>{o(e)})))),[n]),!r)return null;let s=null;return"function"==typeof t?s=t(i):null!==t&&(s=t),null===s?null:(0,ND.jsx)("div",{"aria-hidden":!0,children:s})}function z_(e,t){let n=Date.now(),r=0;return(i,o,s,a,l,c)=>{const u=Date.now();if(c.has(BI))return r=0,n=u,2;const d=function(e,t,n,r,i){if(null===e||0===n.size&&0===r.size&&!i)return 0;const o=t._selection,s=e._selection;if(i)return 1;if(!(GP(o)&&GP(s)&&s.isCollapsed()&&o.isCollapsed()))return 0;const a=function(e,t,n){const r=e._nodeMap,i=[];for(const e of t){const t=r.get(e);void 0!==t&&i.push(t)}for(const[e,t]of n){if(!t)continue;const n=r.get(e);void 0===n||XP(n)||i.push(n)}return i}(t,n,r);if(0===a.length)return 0;if(a.length>1){const n=t._nodeMap,r=n.get(o.anchor.key),i=n.get(s.anchor.key);return r&&i&&!e._nodeMap.has(r.__key)&&tI(r)&&1===r.__text.length&&1===o.anchor.offset?2:0}const l=a[0],c=e._nodeMap.get(l.__key);if(!tI(c)||!tI(l)||c.__mode!==l.__mode)return 0;const u=c.__text,d=l.__text;if(u===d)return 0;const f=o.anchor,h=s.anchor;if(f.key!==h.key||"text"!==f.type)return 0;const p=f.offset,m=h.offset,g=d.length-u.length;return 1===g&&m===p-1?2:-1===g&&m===p+1?3:-1===g&&m===p?4:0}(i,o,a,l,e.isComposing()),f=(()=>{const f=null===s||s.editor===e,h=c.has(HI);if(!h&&f&&c.has(UI))return 0;if(null===i)return 1;const p=o._selection;return a.size>0||l.size>0?!1===h&&0!==d&&d===r&&u<n+t&&f||1===a.size&&function(e,t,n){const r=t._nodeMap.get(e),i=n._nodeMap.get(e),o=t._selection,s=n._selection;return!(GP(o)&&GP(s)&&"element"===o.anchor.type&&"element"===o.focus.type&&"text"===s.anchor.type&&"text"===s.focus.type||!tI(r)||!tI(i)||r.__parent!==i.__parent)&&JSON.stringify(t.read((()=>r.exportJSON())))===JSON.stringify(n.read((()=>i.exportJSON())))}(Array.from(a)[0],i,o)?0:1:null!==p?0:2})();return n=u,r=d,f}}function B_(e){e.undoStack=[],e.redoStack=[],e.current=null}function U_(e){e.undoStack=[],e.redoStack=[],e.current=null}function H_(e,t){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H_(e,t)}function W_(e,t){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W_(e,t)}function K_(e,t){t.update((()=>{if(null!==e){const n=mB(e,KeyboardEvent)?null:e.clipboardData,r=RP();if(null!==r&&null!=n){e.preventDefault();const i=OB(t);null!==i&&n.setData("text/html",i),n.setData("text/plain",r.getTextContent())}}}))}function q_(e,t){t.update((()=>{if(null!==e){const n=mB(e,KeyboardEvent)?null:e.clipboardData,r=RP();if(null!==r&&null!=n){e.preventDefault();const i=OB(t);null!==i&&n.setData("text/html",i),n.setData("text/plain",r.getTextContent())}}}))}function V_(e){return e.getEditorState().read(xX(e.isComposing()))}function Y_(e){let{content:t}=e;const[n]=kK(),r=function(e){const[t,n]=(0,MS.useState)((()=>V_(e)));return yQ((()=>{function t(){const t=V_(e);n(t)}return t(),pB(e.registerUpdateListener((()=>{t()})),e.registerEditableListener((()=>{t()})))}),[e]),t}(n),i=bX();return r?"function"==typeof t?t(i):t:null}function J_(e){return e.getEditorState().read(xX(e.isComposing()))}function G_(e){let{content:t}=e;const[n]=kK(),r=function(e){const[t,n]=(0,MS.useState)((()=>J_(e)));return bQ((()=>{function t(){const t=J_(e);n(t)}return t(),pB(e.registerUpdateListener((()=>{t()})),e.registerEditableListener((()=>{t()})))}),[e]),t}(n),i=bX();return r?"function"==typeof t?t(i):t:null}function X_(e,t){const n={};for(const r of e){const e=t(r);e&&(n[e]?n[e].push(r):n[e]=[r])}return n}function Q_(e){const t=X_(e,(e=>e.type));return{element:t.element||[],multilineElement:t["multiline-element"]||[],textFormat:t["text-format"]||[],textMatch:t["text-match"]||[]}}function Z_(e){if(!JP(e))return!1;const t=e.getFirstChild();return null==t||1===e.getChildrenSize()&&tI(t)&&xQ.test(t.getTextContent())}function ew(e,t,n,r){for(const i of t){if(!i.export)continue;const t=i.export(e,(e=>tw(e,n,r)));if(null!=t)return t}return HP(e)?tw(e,n,r):UP(e)?e.getTextContent():null}function tw(e,t,n,r,i){const o=[],s=e.getChildren();r||(r=[]),i||(i=[]);e:for(const e of s){for(const s of n){if(!s.export)continue;const a=s.export(e,(e=>tw(e,t,n,r,[...i,...r])),((e,n)=>nw(e,n,t,r,i)));if(null!=a){o.push(a);continue e}}VP(e)?o.push("\n"):tI(e)?o.push(nw(e,e.getTextContent(),t,r,i)):HP(e)?o.push(tw(e,t,n,r,i)):UP(e)&&o.push(e.getTextContent())}return o.join("")}function nw(e,t,n,r,i){let o=0===e.getFormat()?t:function(e){return e.replace(/^\s+|\s+$/g,(e=>[...e].map((e=>"&#"+e.codePointAt(0)+";")).join("")))}(t);e.hasFormat("code")||(o=o.replace(/([*_`~\\])/g,"\\$1"));let s="",a="",l="";const c=rw(e,!0),u=rw(e,!1),d=new Set;for(const t of n){const n=t.format[0],i=t.tag;iw(e,n)&&!d.has(n)&&(d.add(n),iw(c,n)&&r.find((e=>e.tag===i))||(r.push({format:n,tag:i}),s+=i))}for(let t=0;t<r.length;t++){const n=iw(e,r[t].format),o=iw(u,r[t].format);if(n&&o)continue;const s=[...r];for(;s.length>t;){const e=s.pop();i&&e&&i.find((t=>t.tag===e.tag))||(e&&"string"==typeof e.tag&&(n?o||(l+=e.tag):a+=e.tag),r.pop())}break}return o=s+o+l,a+o}function rw(e,t){let n=t?e.getPreviousSibling():e.getNextSibling();if(!n){const r=e.getParentOrThrow();r.isInline()&&(n=t?r.getPreviousSibling():r.getNextSibling())}for(;n;){if(HP(n)){if(!n.isInline())break;const e=t?n.getLastDescendant():n.getFirstDescendant();if(tI(e))return e;n=t?n.getPreviousSibling():n.getNextSibling()}if(tI(n))return n;if(!HP(n))return null}return null}function iw(e,t){return tI(e)&&e.hasFormat(t)}function ow(e){return tI(e)&&!e.hasFormat("code")}function sw(e,t,n){let r=function(e,t){const n=function(e,t){const n=e.match(t.openTagsRegExp);if(null==n)return null;for(const r of n){const n=r.replace(/^\s/,""),i=t.fullMatchRegExpByTag[n];if(null==i)continue;const o=e.match(i),s=t.transformersByTag[n];if(null!=o&&null!=s){if(!1!==s.intraword)return o;const{index:t=0}=o,n=e[t-1],r=e[t+o[0].length];if((!n||CQ.test(n))&&(!r||CQ.test(r)))return o}}return null}(e.getTextContent(),t);if(!n)return null;const r=n.index||0;return{endIndex:r+n[0].length,match:n,startIndex:r,transformer:t.transformersByTag[n[1]]}}(e,t),i=function(e,t){const n=e;let r,i,o,s;for(const e of t){if(!e.replace||!e.importRegExp)continue;const t=n.getTextContent().match(e.importRegExp);if(!t)continue;const a=t.index||0,l=e.getEndIndex?e.getEndIndex(n,t):a+t[0].length;!1!==l&&(void 0===r||void 0===i||a<r&&l>i)&&(r=a,i=l,o=e,s=t)}return void 0===r||void 0===i||void 0===o||void 0===s?null:{endIndex:i,match:s,startIndex:r,transformer:o}}(e,n);if(r&&i&&(r.startIndex<=i.startIndex&&r.endIndex>=i.endIndex?i=null:r=null),r){const i=function(e,t,n,r,i){const o=e.getTextContent();let s,a,l;if(i[0]===o?s=e:0===t?[s,a]=e.splitText(n):[l,s,a]=e.splitText(t,n),s.setTextContent(i[2]),r)for(const e of r.format)s.hasFormat(e)||s.toggleFormat(e);return{nodeAfter:a,nodeBefore:l,transformedNode:s}}(e,r.startIndex,r.endIndex,r.transformer,r.match);ow(i.nodeAfter)&&sw(i.nodeAfter,t,n),ow(i.nodeBefore)&&sw(i.nodeBefore,t,n),ow(i.transformedNode)&&sw(i.transformedNode,t,n)}else if(i){const r=function(e,t,n,r,i){let o,s,a;return 0===t?[o,s]=e.splitText(n):[a,o,s]=e.splitText(t,n),r.replace?{nodeAfter:s,nodeBefore:a,transformedNode:r.replace(o,i)||void 0}:null}(e,i.startIndex,i.endIndex,i.transformer,i.match);if(!r)return;ow(r.nodeAfter)&&sw(r.nodeAfter,t,n),ow(r.nodeBefore)&&sw(r.nodeBefore,t,n),ow(r.transformedNode)&&sw(r.transformedNode,t,n)}const o=e.getTextContent().replace(/\\([*_`~\\])/g,"$1").replace(/&#(\d+);/g,((e,t)=>String.fromCodePoint(t)));e.setTextContent(o)}function aw(e,t,n,r){for(const i of n){const{handleImportAfterStartMatch:n,regExpEnd:o,regExpStart:s,replace:a}=i,l=e[t].match(s);if(!l)continue;if(n){const o=n({lines:e,rootNode:r,startLineIndex:t,startMatch:l,transformer:i});if(null===o)continue;if(o)return o}const c="object"==typeof o&&"regExp"in o?o.regExp:o,u=o&&"object"==typeof o&&"optional"in o?o.optional:!o;let d=t;const f=e.length;for(;d<f;){const n=c?e[d].match(c):null;if(!n&&(!u||u&&d<f-1)){d++;continue}if(n&&t===d&&n.index===l.index){d++;continue}const i=[];if(n&&t===d)i.push(e[t].slice(l[0].length,-n[0].length));else for(let r=t;r<=d;r++)if(r===t){const t=e[r].slice(l[0].length);i.push(t)}else if(r===d&&n){const t=e[r].slice(0,-n[0].length);i.push(t)}else i.push(e[r]);if(!1!==a(r,null,l,n,i,!0))return[!0,d];break}}return[!1,t]}function lw(e,t,n,r,i,o){const s=bP(e),a=pP();a.append(s),t.append(a);for(const{regExp:t,replace:r}of n){const n=e.match(t);if(n&&(s.setTextContent(e.slice(n[0].length)),!1!==r(a,[s],n,!0)))break}if(sw(s,r,i),a.isAttached()&&e.length>0){const e=a.getPreviousSibling();if(!o&&(JP(e)||aU(e)||yH(e))){let t=e;if(yH(e)){const n=e.getLastDescendant();t=null==n?null:Zz(n,vH)}null!=t&&t.getTextContentSize()>0&&(t.splice(t.getChildrenSize(),0,[fP(),...a.getChildren()]),a.remove())}}}function cw(e){throw new Error(e)}function uw(e,t,n){const r=n.length;for(let i=t;i>=r;i--){const t=i-r;if(dw(e,t,n,0,r)&&" "!==e[t+r])return t}return-1}function dw(e,t,n,r,i){for(let o=0;o<i;o++)if(e[t+o]!==n[r+o])return!1;return!0}function fw(e,t){const n={};for(const r of e){const e=t(r);e&&(n[e]?n[e].push(r):n[e]=[r])}return n}function hw(e){const t=fw(e,(e=>e.type));return{element:t.element||[],multilineElement:t["multiline-element"]||[],textFormat:t["text-format"]||[],textMatch:t["text-match"]||[]}}function pw(e){if(!JP(e))return!1;const t=e.getFirstChild();return null==t||1===e.getChildrenSize()&&tI(t)&&sZ.test(t.getTextContent())}function mw(e,t,n,r){for(const i of t){if(!i.export)continue;const t=i.export(e,(e=>gw(e,n,r)));if(null!=t)return t}return HP(e)?gw(e,n,r):UP(e)?e.getTextContent():null}function gw(e,t,n,r,i){const o=[],s=e.getChildren();r||(r=[]),i||(i=[]);e:for(const e of s){for(const s of n){if(!s.export)continue;const a=s.export(e,(e=>gw(e,t,n,r,[...i,...r])),((e,n)=>vw(e,n,t,r,i)));if(null!=a){o.push(a);continue e}}VP(e)?o.push("\n"):tI(e)?o.push(vw(e,e.getTextContent(),t,r,i)):HP(e)?o.push(gw(e,t,n,r,i)):UP(e)&&o.push(e.getTextContent())}return o.join("")}function vw(e,t,n,r,i){let o=0===e.getFormat()?t:function(e){return e.replace(/^\s+|\s+$/g,(e=>[...e].map((e=>"&#"+e.codePointAt(0)+";")).join("")))}(t);e.hasFormat("code")||(o=o.replace(/([*_`~\\])/g,"\\$1"));let s="",a="",l="";const c=yw(e,!0),u=yw(e,!1),d=new Set;for(const t of n){const n=t.format[0],i=t.tag;bw(e,n)&&!d.has(n)&&(d.add(n),bw(c,n)&&r.find((e=>e.tag===i))||(r.push({format:n,tag:i}),s+=i))}for(let t=0;t<r.length;t++){const n=bw(e,r[t].format),o=bw(u,r[t].format);if(n&&o)continue;const s=[...r];for(;s.length>t;){const e=s.pop();i&&e&&i.find((t=>t.tag===e.tag))||(e&&"string"==typeof e.tag&&(n?o||(l+=e.tag):a+=e.tag),r.pop())}break}return o=s+o+l,a+o}function yw(e,t){let n=t?e.getPreviousSibling():e.getNextSibling();if(!n){const r=e.getParentOrThrow();r.isInline()&&(n=t?r.getPreviousSibling():r.getNextSibling())}for(;n;){if(HP(n)){if(!n.isInline())break;const e=t?n.getLastDescendant():n.getFirstDescendant();if(tI(e))return e;n=t?n.getPreviousSibling():n.getNextSibling()}if(tI(n))return n;if(!HP(n))return null}return null}function bw(e,t){return tI(e)&&e.hasFormat(t)}function _w(e){return tI(e)&&!e.hasFormat("code")}function ww(e,t,n){let r=function(e,t){const n=function(e,t){const n=e.match(t.openTagsRegExp);if(null==n)return null;for(const r of n){const n=r.replace(/^\s/,""),i=t.fullMatchRegExpByTag[n];if(null==i)continue;const o=e.match(i),s=t.transformersByTag[n];if(null!=o&&null!=s){if(!1!==s.intraword)return o;const{index:t=0}=o,n=e[t-1],r=e[t+o[0].length];if((!n||oZ.test(n))&&(!r||oZ.test(r)))return o}}return null}(e.getTextContent(),t);if(!n)return null;const r=n.index||0;return{endIndex:r+n[0].length,match:n,startIndex:r,transformer:t.transformersByTag[n[1]]}}(e,t),i=function(e,t){const n=e;let r,i,o,s;for(const e of t){if(!e.replace||!e.importRegExp)continue;const t=n.getTextContent().match(e.importRegExp);if(!t)continue;const a=t.index||0,l=e.getEndIndex?e.getEndIndex(n,t):a+t[0].length;!1!==l&&(void 0===r||void 0===i||a<r&&l>i)&&(r=a,i=l,o=e,s=t)}return void 0===r||void 0===i||void 0===o||void 0===s?null:{endIndex:i,match:s,startIndex:r,transformer:o}}(e,n);if(r&&i&&(r.startIndex<=i.startIndex&&r.endIndex>=i.endIndex?i=null:r=null),r){const i=function(e,t,n,r,i){const o=e.getTextContent();let s,a,l;if(i[0]===o?s=e:0===t?[s,a]=e.splitText(n):[l,s,a]=e.splitText(t,n),s.setTextContent(i[2]),r)for(const e of r.format)s.hasFormat(e)||s.toggleFormat(e);return{nodeAfter:a,nodeBefore:l,transformedNode:s}}(e,r.startIndex,r.endIndex,r.transformer,r.match);_w(i.nodeAfter)&&ww(i.nodeAfter,t,n),_w(i.nodeBefore)&&ww(i.nodeBefore,t,n),_w(i.transformedNode)&&ww(i.transformedNode,t,n)}else if(i){const r=function(e,t,n,r,i){let o,s,a;return 0===t?[o,s]=e.splitText(n):[a,o,s]=e.splitText(t,n),r.replace?{nodeAfter:s,nodeBefore:a,transformedNode:r.replace(o,i)||void 0}:null}(e,i.startIndex,i.endIndex,i.transformer,i.match);if(!r)return;_w(r.nodeAfter)&&ww(r.nodeAfter,t,n),_w(r.nodeBefore)&&ww(r.nodeBefore,t,n),_w(r.transformedNode)&&ww(r.transformedNode,t,n)}const o=e.getTextContent().replace(/\\([*_`~\\])/g,"$1").replace(/&#(\d+);/g,((e,t)=>String.fromCodePoint(t)));e.setTextContent(o)}function Cw(e,t,n,r){for(const i of n){const{handleImportAfterStartMatch:n,regExpEnd:o,regExpStart:s,replace:a}=i,l=e[t].match(s);if(!l)continue;if(n){const o=n({lines:e,rootNode:r,startLineIndex:t,startMatch:l,transformer:i});if(null===o)continue;if(o)return o}const c="object"==typeof o&&"regExp"in o?o.regExp:o,u=o&&"object"==typeof o&&"optional"in o?o.optional:!o;let d=t;const f=e.length;for(;d<f;){const n=c?e[d].match(c):null;if(!n&&(!u||u&&d<f-1)){d++;continue}if(n&&t===d&&n.index===l.index){d++;continue}const i=[];if(n&&t===d)i.push(e[t].slice(l[0].length,-n[0].length));else for(let r=t;r<=d;r++)if(r===t){const t=e[r].slice(l[0].length);i.push(t)}else if(r===d&&n){const t=e[r].slice(0,-n[0].length);i.push(t)}else i.push(e[r]);if(!1!==a(r,null,l,n,i,!0))return[!0,d];break}}return[!1,t]}function xw(e,t,n,r,i,o){const s=bP(e),a=pP();a.append(s),t.append(a);for(const{regExp:t,replace:r}of n){const n=e.match(t);if(n&&(s.setTextContent(e.slice(n[0].length)),!1!==r(a,[s],n,!0)))break}if(ww(s,r,i),a.isAttached()&&e.length>0){const e=a.getPreviousSibling();if(!o&&(JP(e)||aU(e)||yH(e))){let t=e;if(yH(e)){const n=e.getLastDescendant();t=null==n?null:Zz(n,vH)}null!=t&&t.getTextContentSize()>0&&(t.splice(t.getChildrenSize(),0,[fP(),...a.getChildren()]),a.remove())}}}function Ew(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(const e of i)n.append("v",e);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Sw(e,t,n){const r=n.length;for(let i=t;i>=r;i--){const t=i-r;if(kw(e,t,n,0,r)&&" "!==e[t+r])return t}return-1}function kw(e,t,n,r,i){for(let o=0;o<i;o++)if(e[t+o]!==n[r+o])return!1;return!0}function Dw(e,t){return e.getEditorState().read((()=>{const e=NP(t);return null!==e&&e.isSelected()}))}function Tw(e,t){return e.getEditorState().read((()=>{const e=NP(t);return null!==e&&e.isSelected()}))}function Aw(e){let{nodeKey:t}=e;const[n]=kK(),[r,i,o]=VZ(t);return(0,MS.useEffect)((()=>pB(n.registerCommand(wI,(e=>{const s=n.getElementByKey(t);return e.target===s&&(e.shiftKey||o(),i(!r),!0)}),kI))),[o,n,r,t,i]),(0,MS.useEffect)((()=>{const e=n.getElementByKey(t),i=n._config.theme.hrSelected??"selected";null!==e&&(r?cB(e,i):gB(e,i))}),[n,r,t]),null}function Nw(){return{node:Ow()}}function Ow(){return lP(new JZ)}function jw(e){let{nodeKey:t}=e;const[n]=kK(),[r,i,o]=VZ(t);return(0,MS.useEffect)((()=>pB(n.registerCommand(wI,(e=>{const s=n.getElementByKey(t);return e.target===s&&(e.shiftKey||o(),i(!r),!0)}),kI))),[o,n,r,t,i]),(0,MS.useEffect)((()=>{const e=n.getElementByKey(t),i=n._config.theme.hrSelected??"selected";null!==e&&(r?cB(e,i):gB(e,i))}),[n,r,t]),null}function Mw(){return{node:Rw()}}function Rw(){return lP(new XZ)}function Fw(e,t){for(let n=0;n<t.length;n++){const r=t[n](e);if(r)return r}return null}function Lw(e){return l0.test(e)}function Pw(e){return Lw(e[e.length-1])}function Iw(e){return Lw(e[0])}function $w(e){let t=e.getPreviousSibling();return HP(t)&&(t=t.getLastDescendant()),null===t||VP(t)||tI(t)&&Pw(t.getTextContent())}function zw(e){let t=e.getNextSibling();return HP(t)&&(t=t.getFirstDescendant()),null===t||VP(t)||tI(t)&&Iw(t.getTextContent())}function Bw(e,t,n,r){return!!(e>0?Lw(n[e-1]):$w(r[0]))&&(t<n.length?Lw(n[t]):zw(r[r.length-1]))}function Uw(e,t,n){const r=[],i=[],o=[];let s=0,a=0;const l=[...e];for(;l.length>0;){const e=l[0],c=e.getTextContent().length,u=a;a+c<=t?(r.push(e),s+=c):u>=n?o.push(e):i.push(e),a+=c,l.shift()}return[s,r,i,o]}function Hw(e,t,n,r){const i=$H(r.url,r.attributes);if(1===e.length){let o,s=e[0];0===t?[o,s]=s.splitText(n):[,o,s]=s.splitText(t,n);const a=bP(r.text);return a.setFormat(o.getFormat()),a.setDetail(o.getDetail()),a.setStyle(o.getStyle()),i.append(a),o.replace(i),s}if(e.length>1){const r=e[0];let o,s=r.getTextContent().length;0===t?o=r:[,o]=r.splitText(t);const a=[];let l;for(let t=1;t<e.length;t++){const r=e[t],i=r.getTextContent().length,o=s;if(o<n)if(s+i<=n)a.push(r);else{const[e,t]=r.splitText(n-o);a.push(e),l=t}s+=i}const c=RP(),u=c?c.getNodes().find(tI):void 0,d=bP(o.getTextContent());return d.setFormat(o.getFormat()),d.setDetail(o.getDetail()),d.setStyle(o.getStyle()),i.append(d,...a),u&&u===o&&(GP(c)?d.select(c.anchor.offset,c.focus.offset):YP(c)&&d.select(0,d.getTextContent().length)),o.replace(i),l}}function Ww(e,t,n){const r=e.getChildren(),i=r.length;for(let t=0;t<i;t++){const i=r[t];if(!tI(i)||!i.isSimpleText())return Kw(e),void n(null,e.getURL())}const o=e.getTextContent(),s=Fw(o,t);if(null===s||s.text!==o)return Kw(e),void n(null,e.getURL());if(!$w(e)||!zw(e))return Kw(e),void n(null,e.getURL());const a=e.getURL();if(a!==s.url&&(e.setURL(s.url),n(s.url,a)),s.attributes){const t=e.getRel();t!==s.attributes.rel&&(e.setRel(s.attributes.rel||null),n(s.attributes.rel||null,t));const r=e.getTarget();r!==s.attributes.target&&(e.setTarget(s.attributes.target||null),n(s.attributes.target||null,r))}}function Kw(e){const t=e.getChildren();for(let n=t.length-1;n>=0;n--)e.insertAfter(t[n]);return e.remove(),t.map((e=>e.getLatest()))}function qw(e,t){for(let n=0;n<t.length;n++){const r=t[n](e);if(r)return r}return null}function Vw(e){return c0.test(e)}function Yw(e){return Vw(e[e.length-1])}function Jw(e){return Vw(e[0])}function Gw(e){let t=e.getPreviousSibling();return HP(t)&&(t=t.getLastDescendant()),null===t||VP(t)||tI(t)&&Yw(t.getTextContent())}function Xw(e){let t=e.getNextSibling();return HP(t)&&(t=t.getFirstDescendant()),null===t||VP(t)||tI(t)&&Jw(t.getTextContent())}function Qw(e,t,n,r){return!!(e>0?Vw(n[e-1]):Gw(r[0]))&&(t<n.length?Vw(n[t]):Xw(r[r.length-1]))}function Zw(e,t,n){const r=[],i=[],o=[];let s=0,a=0;const l=[...e];for(;l.length>0;){const e=l[0],c=e.getTextContent().length,u=a;a+c<=t?(r.push(e),s+=c):u>=n?o.push(e):i.push(e),a+=c,l.shift()}return[s,r,i,o]}function eC(e,t,n,r){const i=$H(r.url,r.attributes);if(1===e.length){let o,s=e[0];0===t?[o,s]=s.splitText(n):[,o,s]=s.splitText(t,n);const a=bP(r.text);return a.setFormat(o.getFormat()),a.setDetail(o.getDetail()),a.setStyle(o.getStyle()),i.append(a),o.replace(i),s}if(e.length>1){const r=e[0];let o,s=r.getTextContent().length;0===t?o=r:[,o]=r.splitText(t);const a=[];let l;for(let t=1;t<e.length;t++){const r=e[t],i=r.getTextContent().length,o=s;if(o<n)if(s+i<=n)a.push(r);else{const[e,t]=r.splitText(n-o);a.push(e),l=t}s+=i}const c=RP(),u=c?c.getNodes().find(tI):void 0,d=bP(o.getTextContent());return d.setFormat(o.getFormat()),d.setDetail(o.getDetail()),d.setStyle(o.getStyle()),i.append(d,...a),u&&u===o&&(GP(c)?d.select(c.anchor.offset,c.focus.offset):YP(c)&&d.select(0,d.getTextContent().length)),o.replace(i),l}}function tC(e,t,n){const r=e.getChildren(),i=r.length;for(let t=0;t<i;t++){const i=r[t];if(!tI(i)||!i.isSimpleText())return nC(e),void n(null,e.getURL())}const o=e.getTextContent(),s=qw(o,t);if(null===s||s.text!==o)return nC(e),void n(null,e.getURL());if(!Gw(e)||!Xw(e))return nC(e),void n(null,e.getURL());const a=e.getURL();if(a!==s.url&&(e.setURL(s.url),n(s.url,a)),s.attributes){const t=e.getRel();t!==s.attributes.rel&&(e.setRel(s.attributes.rel||null),n(s.attributes.rel||null,t));const r=e.getTarget();r!==s.attributes.target&&(e.setTarget(s.attributes.target||null),n(s.attributes.target||null,r))}}function nC(e){const t=e.getChildren();for(let n=t.length-1;n>=0;n--)e.insertAfter(t[n]);return e.remove(),t.map((e=>e.getLatest()))}function rC(){return MS.createElement(f0,{matchers:g0})}function iC(e){if(e instanceof HTMLImageElement){const{alt:t,src:n,style:r}=e;return{node:oC({altText:t,src:n,oldSrc:n,width:r.width})}}return null}function oC(e){let{altText:t,maxWidth:n="100%",src:r,oldSrc:i,width:o,loading:s,key:a}=e;return new L0(r,i,t,n,"",s,o,a)}function sC(e){return e instanceof L0}function aC(e,t){return Dv(this,void 0,void 0,(function*(){if(null==t?void 0:t.json){const n=e.parseEditorState(JSON.stringify(null==t?void 0:t.json));e.setEditorState(n,{tag:"history-merge"})}else{let n=null==t?void 0:t.html;n||(n="<p></p>");const r=(new DOMParser).parseFromString(G0(n)||"","text/html"),i=CB(e,r),o=MP();o.clear(),i.forEach((e=>{HP(e)||UP(e)?o.append(e):o.append(pP().append(e))})),e._updateTags.add("history-merge"),uI(null)}}))}function lC(e){const t=e.anchor,n=e.focus,r=e.anchor.getNode(),i=e.focus.getNode();return r===i?r:e.isBackward()?q$(n)?r:i:q$(t)?i:r}function cC(e){if(e instanceof HTMLIFrameElement){const{src:t,width:n,height:r,style:i}=e,o=z0(t);if(!o)return null;const{videoID:s,videoType:a}=o;return s&&a?{node:uC({videoID:s,videoType:a,width:n||parseFloat(i.width),height:r||parseFloat(i.height)})}:null}return null}function uC(e){let{height:t,autoplay:n=!1,videoID:r,videoType:i,width:o,key:s}=e;return new Q0(r,i,n,o,t,s)}function dC(e){const t=x0(),{color:n="#00000",colors:r=t.defaultColors,onChange:i=(()=>{}),onDelete:o=(()=>{})}=e,s=kv(e,["color","colors","onChange","onDelete"]),[a,l]=(0,MS.useState)(n1(n));return MS.createElement("div",Object.assign({className:"editor__color-picker"},s),MS.createElement("div",{style:{background:n},className:"editor__color-picker-preview"},MS.createElement("span",null,a)),MS.createElement("div",{className:"editor__color-picker-body"},MS.createElement("div",{className:"editor__color-picker-list"},r&&r.map(((e,t)=>MS.createElement("div",{key:e+t,onClick:t=>{const n=getComputedStyle(t.target).backgroundColor;i(e,n),l(n1(n))},style:{background:e},className:"editor__color-picker-item"}))),MS.createElement("div",{onClick:o,className:"editor__color-picker-item editor__color-picker-item--noshadow"},MS.createElement(SJ,null))),MS.createElement("input",{dir:"ltr",value:a,className:"editor__color-picker-input",onChange:e=>{const t=e.target.value;l(t),(e=>{const t=(new Option).style;return t.color=e,""!==t.color})(t)&&i(t,t)}})))}function fC(e,t,n,r){return lP(new c1(e,t,n,r))}function hC(e){return e instanceof c1}function pC(e){return e.replace(/-/,"").toUpperCase()}function mC(){var e,t,n,r,i,o,s;const{toolbar:a,hsoubEditorProps:l,dispatch:c}=v0(),u=(0,MS.useRef)(a);u.current=a;const[d]=kK(),f=x0(),h=b0({placement:"bottom-start",middlewares:e=>[...e.filter((e=>{var t;return!(null===(t=f.link)||void 0===t?void 0:t.disableHiding)||"hide"!==e.name}))],onOpenChange:e=>{var t,n,r,i,o,s,c;(null===(t=a.link)||void 0===t?void 0:t.isLink)&&(e?null===(i=null===(r=null===(n=l.events)||void 0===n?void 0:n.linkActions)||void 0===r?void 0:r.show)||void 0===i||i.call(r):null===(c=null===(s=null===(o=l.events)||void 0===o?void 0:o.linkActions)||void 0===s?void 0:s.hide)||void 0===c||c.call(s))},interactionHooks:e=>[v_(e,{referencePress:!1,capture:{escapeKey:!0,outsidePress:!1}})]}),p=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];setTimeout((()=>{e&&setTimeout((()=>{d.dispatchCommand(R0,{open:!1})}),10),h.setOpen(!0),d.dispatchCommand(A0,Object.assign(Object.assign({},c2.payload),{isNewLink:e,onDone:e=>tJ((()=>{var t,n;return null===(n=null===(t=null==d2?void 0:c2)||void 0===t?void 0:t.payload)||void 0===n?void 0:n.onDone(Object.assign(Object.assign({},e),{toolbar:u.current}))}),(t=>{var n,r;null===(n=l.onCatchError)||void 0===n||n.call(l,t,{place:"onUpdate link at first",info:{html:null===(r=l.state)||void 0===r?void 0:r.html,toolbar:a,URL:e.href,text:e.text}})}))(),getDefaultLinkParams(e){var t,n;return(null===(n=null===(t=null==d2?void 0:c2)||void 0===t?void 0:t.payload)||void 0===n?void 0:n.getDefaultLinkParams(Object.assign(Object.assign({},e),{toolbar:u.current})))||{href:"",text:""}},anchor:u.current.selection.element}))}),10)};return(0,MS.useEffect)((()=>{var e,t,n,r,i,o,s,l;const c=()=>{h.setOpen(!h.open)};return!(null===(e=a.selection)||void 0===e?void 0:e.rangeRect)&&(null===(t=null==a?void 0:a.link)||void 0===t?void 0:t.isLink)&&(null===(n=null==a?void 0:a.selection)||void 0===n?void 0:n.pointRect)||h.setOpen(!1),(null===(r=a.link)||void 0===r?void 0:r.isLink)&&!(null===(i=a.selection)||void 0===i?void 0:i.rangeRect)&&(null===(o=a.selection)||void 0===o?void 0:o.element)&&(h.refs.setReference(null===(s=a.selection)||void 0===s?void 0:s.element),null===(l=a.selection)||void 0===l||l.element.addEventListener("click",c)),()=>{var e,t,n,r,i;(null===(e=a.link)||void 0===e?void 0:e.isLink)&&!(null===(t=a.selection)||void 0===t?void 0:t.rangeRect)&&(null===(n=a.selection)||void 0===n?void 0:n.element)&&(null===(i=null===(r=a.selection)||void 0===r?void 0:r.element)||void 0===i||i.removeEventListener("click",c))}}),[null===(e=a.link)||void 0===e?void 0:e.isLink,null===(t=a.selection)||void 0===t?void 0:t.rangeRect,null===(n=a.selection)||void 0===n?void 0:n.pointRect,null===(r=a.link)||void 0===r?void 0:r.isNew,null===(i=a.selection)||void 0===i?void 0:i.element,h.open]),f2(O0,(e=>{let{name:t,subAction:n}=e;switch(t){case"removeLink":return d.update((()=>{var e,t;if(d.dispatchCommand(qH,null),(null===(e=null==a?void 0:a.link)||void 0===e?void 0:e.isAutoLink)&&(null===(t=null==a?void 0:a.selection)||void 0===t?void 0:t.node)){const e=a.selection.node,t=e.getTextContent(),n=new b$(t.replace(/https?:\/\//g,""));e.replace(n)}h.setOpen(!1)})),!0;case"openEditor":return p("hideText"===n),!0}return!0}),EI,[d,c,p,a]),MS.createElement(MS.Fragment,null,MS.createElement(C0,{state:h,style:Object.assign({},null==h?void 0:h.transition.styles),className:"editor__toolbar editor__toolbar--floating editor__toolbar-link"},MS.createElement("div",{className:"editor__toolbar-group"},null===(s=null===(o=f.link)||void 0===o?void 0:o.buttons)||void 0===s?void 0:s.map((e=>{const t=d2[e];return t?MS.createElement(i2,{key:e,action:t}):null})))))}function gC(){var e;const[t]=kK(),[n,r]=(0,MS.useState)(!1),{toolbar:i,hsoubEditorProps:o}=v0(),s=x0();return(0,MS.useEffect)((()=>{tJ((()=>{t.getEditorState().read((()=>{var e,t,n,o,s,a,l,c,u;const d=null===(n=null===(t=null===(e=i.selection)||void 0===e?void 0:e.node)||void 0===t?void 0:t.getType)||void 0===n?void 0:n.call(t),f=RP();if(!f||!GP(f))return;const h=lC(f);let p;tI(h)||(p=null===(s=null===(o=null==h?void 0:h.getChildren)||void 0===o?void 0:o.call(h))||void 0===s?void 0:s[0]),!h||"paragraph"!==d&&"heading"!==d&&"hsoub-paragraph"!==d&&"hsoub-heading"!==d||(null===(l=null===(a=null==i?void 0:i.table)||void 0===a?void 0:a.selection)||void 0===l?void 0:l.rect)||!(null===(c=i.selection)||void 0===c?void 0:c.pointRect)||(null===(u=null==i?void 0:i.image)||void 0===u?void 0:u.show)||UP(p)?r(!1):r(!0)}))}),(e=>{var t,n;null===(t=o.onCatchError)||void 0===t||t.call(o,e,{place:"on open quick insert",info:{html:null===(n=o.state)||void 0===n?void 0:n.html,toolbar:i}})}))()}),[t,i]),n&&(null===(e=s.quickInsert)||void 0===e?void 0:e.enable)?MS.createElement(m2,null):null}function vC(e){var t,n;const r=e,i=r.nodeName.toLowerCase(),o=r.getAttribute("colspan"),s=r.getAttribute("style")||"",a=yC("th"===i?rK.ROW:rK.NO_STATUS,o?Number(o):void 0,s);a.__rowSpan=r.rowSpan,r.querySelectorAll("table").forEach((e=>{var t;let n=e.nextElementSibling;for(;n&&"TABLE"===n.tagName&&!n.querySelector("tr");)n.remove(),n=e.nextElementSibling;if(n&&"TABLE"===n.tagName&&!n.querySelector("tr")){let r=document.createElement("br");null===(t=null==e?void 0:e.parentNode)||void 0===t||t.replaceChild(r,n)}})),r.querySelectorAll("table").forEach((e=>{e.querySelector("tr")||(e.outerHTML="<br>")}));let l=r.querySelectorAll("br");l.forEach((function(e){null===e.nextElementSibling&&e.previousElementSibling&&"BR"===e.previousElementSibling.nodeName&&e.remove()})),l=r.querySelectorAll("br");for(var c=0;c<l.length;c++){const e=l[c];if(e.nextSibling instanceof Element&&"BR"==(null===(t=e.nextSibling)||void 0===t?void 0:t.tagName)){const t=null==e?void 0:e.nextSibling;null!==t&&(null===(n=null==e?void 0:e.parentNode)||void 0===n||n.removeChild(t))}}return""===r.innerHTML&&(r.innerHTML="<p></p>"),Array.from(r.querySelectorAll("span, br")).filter((e=>e.parentElement===r)).map((e=>{var t;let n=document.createElement("p");"BR"===e.tagName&&(n.style.display="inline"),n.innerHTML=e.outerHTML,null===(t=e.parentElement)||void 0===t||t.replaceChild(n,e)})),{forChild:(e,t)=>{if(zp(t)&&VP(e))return null;if(t&&bC(t)&&!HP(e)){const t=$p(!0);return VP(e)&&"\n"===e.getTextContent()?e:(t.append(e),t)}return e},after:e=>(VP(e[e.length-1])&&e.pop(),e),node:a}}function yC(e){return new v2(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2?arguments[2]:void 0)}function bC(e){return e instanceof v2}function _C(e){const t=e.getShape();return{columns:t.toX-t.fromX+1,rows:t.toY-t.fromY+1}}function wC(e){if(1!==e.getChildrenSize())return!1;const t=e.getFirstChildOrThrow();return!(!JP(t)||!t.isEmpty())}function CC(e,t){const n=e.getFirstChild();null!==n?n.insertBefore(t):e.append(t)}function xC(e,t,n,r){var i=this,o=(0,MS.useRef)(null),s=(0,MS.useRef)(0),a=(0,MS.useRef)(0),l=(0,MS.useRef)(null),c=(0,MS.useRef)([]),u=(0,MS.useRef)(),d=(0,MS.useRef)(),f=(0,MS.useRef)(e),h=(0,MS.useRef)(!0);f.current=e;var p="undefined"!=typeof window,m=!t&&0!==t&&p;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;var g=!!(n=n||{}).leading,v=!("trailing"in n)||!!n.trailing,y="maxWait"in n,b="debounceOnServer"in n&&!!n.debounceOnServer,_=y?Math.max(+n.maxWait||0,t):null;(0,MS.useEffect)((function(){return h.current=!0,function(){h.current=!1}}),[]);var w=(0,MS.useMemo)((function(){var e=function(e){var t=c.current,n=u.current;return c.current=u.current=null,s.current=e,a.current=a.current||e,d.current=f.current.apply(n,t)},n=function(e,t){m&&cancelAnimationFrame(l.current),l.current=m?requestAnimationFrame(e):setTimeout(e,t)},r=function(e){if(!h.current)return!1;var n=e-o.current;return!o.current||n>=t||n<0||y&&e-s.current>=_},w=function(t){return l.current=null,v&&c.current?e(t):(c.current=u.current=null,d.current)},C=function e(){var i=Date.now();if(g&&a.current===s.current&&x(),r(i))return w(i);if(h.current){var l=t-(i-o.current),c=y?Math.min(l,_-(i-s.current)):l;n(e,c)}},x=function(){},E=function(){if(p||b){var a=Date.now(),f=r(a);if(c.current=[].slice.call(arguments),u.current=i,o.current=a,f){if(!l.current&&h.current)return s.current=o.current,n(C,t),g?e(o.current):d.current;if(y)return n(C,t),e(o.current)}return l.current||n(C,t),d.current}};return E.cancel=function(){l.current&&(m?cancelAnimationFrame(l.current):clearTimeout(l.current)),s.current=0,c.current=o.current=u.current=l.current=null},E.isPending=function(){return!!l.current},E.flush=function(){return l.current?w(Date.now()):d.current},E}),[g,y,t,_,v,m,p,b,r]);return w}function EC(){var e;const[t,n]=(0,MS.useState)(!1),{toolbar:r}=v0();return(0,MS.useEffect)((()=>{var e,t,i,o,s,a;!(null===(t=null===(e=r.table)||void 0===e?void 0:e.selection)||void 0===t?void 0:t.element)&&!(null===(o=null===(i=r.table)||void 0===i?void 0:i.selection)||void 0===o?void 0:o.rect)||(null===(s=r.selection)||void 0===s?void 0:s.rangeRect)||(null===(a=r.link)||void 0===a?void 0:a.isLink)?n(!1):n(!0)}),[null===(e=r.table)||void 0===e?void 0:e.selection]),t?MS.createElement(M2,null):null}function SC(){var e;const[t,n]=(0,MS.useState)(!1),r=x0(),{toolbar:i,dispatch:o}=v0();return(0,MS.useEffect)((()=>{var e;n(Boolean(null===(e=i.image)||void 0===e?void 0:e.show))}),[null===(e=i.image)||void 0===e?void 0:e.show]),t&&r.image.enable?MS.createElement(Y2,{onClose:()=>{o({type:"TOOLBAR",toolbar:Object.assign(Object.assign({},i),{image:{show:!1}})})}}):null}function kC(){var e,t,n,r
;const{toolbar:i,hsoubEditorProps:o}=v0();(0,MS.useRef)(i).current=i;const s=x0(),a=b0({placement:"top-end",middlewares:[IG({crossAxis:-5,mainAxis:-5}),BG({apply(e){let{elements:t,y:n,rects:r}=e;Object.assign(t.floating.style,{top:n+r.floating.height+"px"})}}),!(null===(e=s.code)||void 0===e?void 0:e.disableHiding)&&UG()],interactionHooks:e=>[v_(e,{referencePress:!1})]});return(0,MS.useEffect)((()=>{var e,t;return(null===(e=i.code)||void 0===e?void 0:e.element)&&i.focused&&(a.refs.setReference(null===(t=i.code)||void 0===t?void 0:t.element),a.setOpen(!0)),()=>{}}),[null===(t=i.code)||void 0===t?void 0:t.element,i.focused,o.direction,o.lang]),MS.createElement(MS.Fragment,null,MS.createElement(C0,{state:a,dir:"ltr",style:Object.assign({},null==a?void 0:a.transition.styles),className:"editor__toolbar editor__toolbar--floating editor__toolbar-code"},MS.createElement("div",{className:"editor__toolbar-group"},null===(r=null===(n=s.code)||void 0===n?void 0:n.buttons)||void 0===r?void 0:r.map((e=>{const t=Q2[e];return t?MS.createElement(i2,{key:e,action:t}):null})))))}function DC(){var e,t,n,r,i,o,s,a;const{toolbar:l,hsoubEditorProps:c,dispatch:u}=v0(),[d]=kK(),f=x0(),h=b0({placement:"top-start",interactionHooks:e=>[v_(e,{referencePress:!1,capture:{escapeKey:!0,outsidePress:!1}})]}),{translate:p}=Z1();MS.useEffect((()=>{var e,t,n,r;(null===(t=null===(e=l.video)||void 0===e?void 0:e.selection)||void 0===t?void 0:t.element)&&h.refs.setReference(null===(r=null===(n=l.video)||void 0===n?void 0:n.selection)||void 0===r?void 0:r.element)}),[null===(t=null===(e=l.video)||void 0===e?void 0:e.selection)||void 0===t?void 0:t.element]);const m=null===(r=null===(n=l.video)||void 0===n?void 0:n.selection)||void 0===r?void 0:r.node;return(0,MS.useEffect)((()=>{var e;h.setOpen(Boolean(null===(e=l.video)||void 0===e?void 0:e.show))}),[null===(i=l.video)||void 0===i?void 0:i.show]),f2(j0,(e=>{let{name:t}=e;switch(t){case"removeVideo":return(()=>{var e;(null===(e=c.onConfirm)||void 0===e?void 0:e.call(c,p("helpers.confirm")))&&(null==m||m.remove(),u({type:"TOOLBAR",toolbar:Object.assign(Object.assign({},l),{video:{show:!1}})}))})(),!0;case"autoplay":return d.update((()=>{null==m||m.setAutoplay(!m.getAutoplay())})),!0}return!0}),EI,[d,l.video]),(null===(o=f.video)||void 0===o?void 0:o.enable)?MS.createElement(C0,{state:h,style:Object.assign({},h.transition.styles),className:"editor__toolbar editor__toolbar--floating editor__toolbar-link"},MS.createElement("div",{className:"editor__toolbar-group"},null===(a=null===(s=f.video)||void 0===s?void 0:s.buttons)||void 0===a?void 0:a.map((e=>{const t=n3[e];return t?MS.createElement(i2,{key:e,action:t}):null})))):null}function TC(){const[e]=kK(),[t,n]=(0,MS.useState)(new Set);(0,MS.useEffect)((()=>{const t=s3.map((t=>e.registerMutationListener(t,(e=>Dv(this,void 0,void 0,(function*(){for(const[t,r]of e){switch(r){case"created":n((e=>{const n=new Set(e);return n.add(t),n}));break;case"updated":n((e=>{const n=new Set(e);return n.add(t),n}));break;case"destroyed":n((e=>{const n=new Set(e);return n.delete(t),n}))}yield $y()}}))))));return()=>{t.map((e=>{e()}))}}),[e]);const r=(0,MS.useMemo)((()=>Array.from(t)),[t]);return MS.createElement(MS.Fragment,null,r.length?r.map((e=>MS.createElement(i3,{key:e,nodeKey:e},MS.createElement(l3,{nodeKey:e})))):null)}function AC(){var e;const[t]=kK(),{toolbar:n}=v0();return(0,MS.useEffect)((()=>{var e,r,i;const o=null===(i=null===(r=null===(e=n.table)||void 0===e?void 0:e.selection)||void 0===r?void 0:r.parent)||void 0===i?void 0:i.node;if(o)return t.registerCommand(o$,(e=>{var t,r,i;const s=RP();if(!GP(s)||!s.isCollapsed()||!function(e,t){if(GP(e)||tK(e)){const n=t.isParentOf(e.anchor.getNode()),r=t.isParentOf(e.focus.getNode());return n&&r}return!1}(s,o))return!1;const a=function(e){const t=Zz(e,bC);return bC(t)?t:null}(s.anchor.getNode());if(null===a||!o.is(HW(a)))return!1;e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();const l=null===(i=null===(r=null===(t=n.table)||void 0===t?void 0:t.selection)||void 0===r?void 0:r.parent)||void 0===i?void 0:i.element,c=l&&cK(l);if(!c)return!1;const{x:u,y:d}=o.getCordsFromCellNode(a,c.table),f=!e.shiftKey;return u===(f?c.table.columns-1:0)&&d===(f?c.table.rows-1:0)&&f?(GW(!0),!0):(function(e,t){const n="next"===t?"getNextSibling":"getPreviousSibling",r="next"===t?"getFirstChild":"getLastChild",i=e[n]();if(HP(i))return i.selectEnd();const o=Zz(e,eK);if(!o)return;for(let e=o[n]();eK(e);e=e[n]()){const t=e[r]();if(HP(t))return t.selectEnd()}const s=Zz(o,ZW);s&&("next"===t?s.selectNext():s.selectPrevious())}(a,e.shiftKey?"previous":"next"),!0)}),xI)}),[t,null===(e=n.table)||void 0===e?void 0:e.selection]),(0,MS.useEffect)((()=>{function e(e){i||(i=!0,t.update((()=>{const n=RP();tK(n)&&(e.preventDefault(),t.dispatchCommand("cut"===e.type?AI:TI,null))})),setTimeout((()=>{i=!1}),0))}function n(){t.read((()=>{const t=RP();if(tK(t)){const t=document.createElement("div");t.textContent="Fake selection text",t.contentEditable="true",Object.assign(t.style,{position:"fixed",left:"-999999px",top:"0",opacity:"0",pointerEvents:"none",userSelect:"text"}),document.body.appendChild(t),t.focus();const n=document.createRange();n.selectNodeContents(t);const r=window.getSelection();r&&(r.removeAllRanges(),r.addRange(n)),document.addEventListener("copy",e,{once:!0}),document.addEventListener("cut",e,{once:!0}),setTimeout((()=>{r&&r.removeAllRanges(),t.remove()}),1e3)}}))}const r=t.getRootElement();let i=!1;if(r)return r.addEventListener("contextmenu",n),()=>{r.removeEventListener("contextmenu",n)}}),[t]),MS.createElement(u3,{hasHorizontalScroll:!0,hasTabHandler:!1})}function NC(){const[e]=kK(),[t,n]=(0,MS.useState)([]),[r,i]=(0,MS.useState)(!1),o=(0,MS.useRef)(null);return(0,MS.useEffect)((()=>{var t;const i=t=>{const i=t.target;if(!r&&"resizer"!==(null==i?void 0:i.dataset.id)&&i!==o.current){o.current=i;const t=aK(i);t?e.update((()=>Dv(this,void 0,void 0,(function*(){const e=AP(t.elem),r=[e,null==e?void 0:e.getNextSibling(),null==e?void 0:e.getPreviousSibling()];yield $y(),n(r.filter((e=>e)).map((e=>null==e?void 0:e.getKey())).filter((e=>e))),o.current=i})))):(n([]),o.current=null)}},s=null===(t=e.getRootElement())||void 0===t?void 0:t.closest('[id="editor"]');return null==s||s.addEventListener("mousemove",i),()=>{null==s||s.removeEventListener("mousemove",i)}}),[e,r]),MS.createElement(MS.Fragment,null,t.map((e=>MS.createElement(f3,{key:e,onDragStart:()=>{i(!0)},onDragEnd:()=>{i(!1)},nodeKey:e}))))}function OC(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return n.top>r.top&&n.top<r.bottom}function jC(e,t,n,r){const[i]=kK();(0,MS.useEffect)((()=>{if(null!=t&&null!=e){const e=i.getRootElement(),o=null!=e?function(e){let t=getComputedStyle(e);const n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.body;for(let i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.body}(e):document.body;let s=!1,a=OC(t,o);const l=function(){s||(window.requestAnimationFrame((function(){n(),s=!1})),s=!0);const e=OC(t,o);e!==a&&(a=e,null!=r&&r(e))},c=new ResizeObserver(n);return window.addEventListener("resize",n),document.addEventListener("scroll",l,{capture:!0,passive:!0}),c.observe(t),()=>{c.unobserve(t),window.removeEventListener("resize",n),document.removeEventListener("scroll",l,!0)}}}),[t,i,r,n,e])}function MC(e){let{close:t,editor:n,anchorElementRef:r,resolution:i,options:o,menuRenderFn:s,onSelectOption:a,shouldSplitNodeWithQuery:l=!1,commandPriority:c=kI,preselectFirstItem:u=!0}=e;const[d,f]=(0,MS.useState)(null),h=i.match&&i.match.matchingString;(0,MS.useEffect)((()=>{u&&f(0)}),[h,u]);const p=(0,MS.useCallback)((e=>{n.update((()=>{const n=null!=i.match&&l?function(e){const t=RP();if(!GP(t)||!t.isCollapsed())return null;const n=t.anchor;if("text"!==n.type)return null;const r=n.getNode();if(!r.isSimpleText())return null;const i=n.offset,o=r.getTextContent().slice(0,i),s=e.replaceableString.length,a=function(e,t,n){let r=n;for(let n=r;n<=t.length;n++)e.slice(-n)===t.substring(0,n)&&(r=n);return r}(o,e.matchingString,s),l=i-a;if(l<0)return null;let c;return 0===l?[c]=r.splitText(i):[,c]=r.splitText(l,i),c}(i.match):null;a(e,n,t,i.match?i.match.matchingString:"")}))}),[n,l,i.match,a,t]),m=(0,MS.useCallback)((e=>{const t=n.getRootElement();null!==t&&(t.setAttribute("aria-activedescendant","typeahead-item-"+e),f(e))}),[n]);return(0,MS.useEffect)((()=>()=>{const e=n.getRootElement();null!==e&&e.removeAttribute("aria-activedescendant")}),[n]),g3((()=>{null===o?f(null):null===d&&u&&m(0)}),[o,d,m,u]),(0,MS.useEffect)((()=>pB(n.registerCommand(y3,(e=>{let{option:t}=e;return!(!t.ref||null==t.ref.current||(v3(t.ref.current),0))}),c))),[n,m,c]),(0,MS.useEffect)((()=>pB(n.registerCommand(JI,(e=>{const t=e;if(null!==o&&o.length){const e=null===d?0:d!==o.length-1?d+1:0;m(e);const r=o[e];null!=r.ref&&r.ref.current&&n.dispatchCommand(y3,{index:e,option:r}),t.preventDefault(),t.stopImmediatePropagation()}return!0}),c),n.registerCommand(QI,(e=>{const t=e;if(null!==o&&o.length){const e=null===d?o.length-1:0!==d?d-1:o.length-1;m(e);const n=o[e];null!=n.ref&&n.ref.current&&v3(n.ref.current),t.preventDefault(),t.stopImmediatePropagation()}return!0}),c),n.registerCommand(r$,(e=>{const n=e;return n.preventDefault(),n.stopImmediatePropagation(),t(),!0}),c),n.registerCommand(o$,(e=>{const t=e;return null!==o&&null!==d&&null!=o[d]&&(t.preventDefault(),t.stopImmediatePropagation(),p(o[d]),!0)}),c),n.registerCommand(n$,(e=>null!==o&&null!==d&&null!=o[d]&&(null!==e&&(e.preventDefault(),e.stopImmediatePropagation()),p(o[d]),!0)),c))),[p,t,n,o,d,m,c]),s(r,(0,MS.useMemo)((()=>({options:o,selectOptionAndCleanUp:p,selectedIndex:d,setHighlightedIndex:f})),[p,d,o]),i.match?i.match.matchingString:"")}function RC(e,t){null!=t&&(e.className=t),e.setAttribute("aria-label","Typeahead menu"),e.setAttribute("role","listbox"),e.style.display="block",e.style.position="absolute"}function FC(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return n.top>r.top&&n.top<r.bottom}function LC(e,t,n,r){const[i]=kK();(0,MS.useEffect)((()=>{if(null!=t&&null!=e){const e=i.getRootElement(),o=null!=e?function(e){let t=getComputedStyle(e);const n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.body;for(let i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.body}(e):document.body;let s=!1,a=FC(t,o);const l=function(){s||(window.requestAnimationFrame((function(){n(),s=!1})),s=!0);const e=FC(t,o);e!==a&&(a=e,null!=r&&r(e))},c=new ResizeObserver(n);return window.addEventListener("resize",n),document.addEventListener("scroll",l,{capture:!0,passive:!0}),c.observe(t),()=>{c.unobserve(t),window.removeEventListener("resize",n),document.removeEventListener("scroll",l,!0)}}}),[t,i,r,n,e])}function PC(e){let{close:t,editor:n,anchorElementRef:r,resolution:i,options:o,menuRenderFn:s,onSelectOption:a,shouldSplitNodeWithQuery:l=!1,commandPriority:c=kI,preselectFirstItem:u=!0}=e;const[d,f]=(0,MS.useState)(null),h=i.match&&i.match.matchingString;(0,MS.useEffect)((()=>{u&&f(0)}),[h,u]);const p=(0,MS.useCallback)((e=>{n.update((()=>{const n=null!=i.match&&l?function(e){const t=RP();if(!GP(t)||!t.isCollapsed())return null;const n=t.anchor;if("text"!==n.type)return null;const r=n.getNode();if(!r.isSimpleText())return null;const i=n.offset,o=r.getTextContent().slice(0,i),s=e.replaceableString.length,a=i-function(e,t,n){let r=n;for(let n=r;n<=t.length;n++)e.slice(-n)===t.substring(0,n)&&(r=n);return r}(o,e.matchingString,s);if(a<0)return null;let l;return 0===a?[l]=r.splitText(i):[,l]=r.splitText(a,i),l}(i.match):null;a(e,n,t,i.match?i.match.matchingString:"")}))}),[n,l,i.match,a,t]),m=(0,MS.useCallback)((e=>{const t=n.getRootElement();null!==t&&(t.setAttribute("aria-activedescendant","typeahead-item-"+e),f(e))}),[n]);return(0,MS.useEffect)((()=>()=>{const e=n.getRootElement();null!==e&&e.removeAttribute("aria-activedescendant")}),[n]),x3((()=>{null===o?f(null):null===d&&u&&m(0)}),[o,d,m,u]),(0,MS.useEffect)((()=>pB(n.registerCommand(S3,(e=>{let{option:t}=e;return!(!t.ref||null==t.ref.current||(E3(t.ref.current),0))}),c))),[n,m,c]),(0,MS.useEffect)((()=>pB(n.registerCommand(JI,(e=>{const t=e;if(null!==o&&o.length){const e=null===d?0:d!==o.length-1?d+1:0;m(e);const r=o[e];null!=r.ref&&r.ref.current&&n.dispatchCommand(S3,{index:e,option:r}),t.preventDefault(),t.stopImmediatePropagation()}return!0}),c),n.registerCommand(QI,(e=>{const t=e;if(null!==o&&o.length){const e=null===d?o.length-1:0!==d?d-1:o.length-1;m(e);const n=o[e];null!=n.ref&&n.ref.current&&E3(n.ref.current),t.preventDefault(),t.stopImmediatePropagation()}return!0}),c),n.registerCommand(r$,(e=>{const n=e;return n.preventDefault(),n.stopImmediatePropagation(),t(),!0}),c),n.registerCommand(o$,(e=>{const t=e;return null!==o&&null!==d&&null!=o[d]&&(t.preventDefault(),t.stopImmediatePropagation(),p(o[d]),!0)}),c),n.registerCommand(n$,(e=>null!==o&&null!==d&&null!=o[d]&&(null!==e&&(e.preventDefault(),e.stopImmediatePropagation()),p(o[d]),!0)),c))),[p,t,n,o,d,m,c]),s(r,(0,MS.useMemo)((()=>({options:o,selectOptionAndCleanUp:p,selectedIndex:d,setHighlightedIndex:f})),[p,d,o]),i.match?i.match.matchingString:"")}function IC(e,t){null!=t&&(e.className=t),e.setAttribute("aria-label","Typeahead menu"),e.setAttribute("role","listbox"),e.style.display="block",e.style.position="absolute"}function $C(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i of n){if(!r.includes(i))return!1;if(!$C(e[i],t[i]))return!1}return!0}function zC(e){let{index:t,isSelected:n,option:r,onMouseDown:i,onMouseEnter:o,onMouseLeave:s}=e;const a=(0,MS.useRef)(null),l=n?"item selected":"item";return(0,MS.useEffect)((()=>{n&&a.current&&a.current.scrollIntoView({block:"nearest",behavior:"auto"})}),[n]),MS.createElement("li",{key:r.key,role:"option",id:"mentions-menu-item-"+t,className:l,tabIndex:-1,"aria-selected":n,ref:e=>{var t;a.current=e,null===(t=r.setRefElement)||void 0===t||t.call(r,e)},onMouseDown:i,onMouseEnter:o,onMouseLeave:s},MS.createElement("img",{src:r.avatar,alt:r.name}),MS.createElement("span",{className:"text"},r.name))}function BC(){const[e]=kK();return(0,MS.useEffect)((()=>{if(!e)return;const t=t=>{e.update((()=>{const e=t.getTarget(),n=t.getRel();"_blank"!==e&&t.setTarget("_blank"),"noopener noreferrer nofollow"!==n&&t.setRel("noopener noreferrer nofollow")}))},n=e.registerNodeTransform(KH,t),r=e.registerNodeTransform(WH,t);return()=>{n(),r()}}),[e]),null}function UC(e){throw new Error(e)}function HC(e,t,n,r,i){const o=n._offsetMap,s=r._offsetMap,a=new Set;let l=e,c=t;for(;null!==c;){const e=c.key,t=o.get(e),n=c.end-c.start;if(a.add(e),void 0===t)l+=n;else{const e=t.end-t.start;e!==n&&(l+=n-e)}const r=c.prev;if(null!==r){c=r;continue}let i=c.parent;for(;null!==i;){let e=i.prev;if(null!==e){const t=e.key,n=o.get(t),r=e.end-e.start;if(a.add(t),void 0===n)l+=r;else{const e=n.end-n.start;e!==r&&(l+=r-e)}e=e.prev}i=i.parent}break}const u=n._firstNode;if(null!==u){c=WC(u,e,i);let t=!1;for(;null!==c;){if(!a.has(c.key)){t=!0;break}c=c.parent}if(!t)for(;null!==c;){const e=c.key;if(!a.has(e)){const t=s.get(e),n=c.end-c.start;if(void 0===t)l-=n;else{const e=t.end-t.start;n!==e&&(l+=e-n)}}c=c.prev}}return l}function WC(e,t,n){let r=e;for(;null!==r;){if(t<r.end+("element"!==r.type||0===n?1:0)){const e=r.child;if(null!==e){r=e;continue}return r}const e=r.next;if(null===e)break;r=e}return null}function KC(e,t,n,r,i,o){return{child:e,end:r,key:i,next:null,parent:o,prev:null,start:n,type:t}}function qC(e,t,n,r,i,o){const s=r.get(t);void 0===s&&UC("createOffsetModel: could not find node by key");const a=e.offset;if(HP(s)){const l=YC(s,r),c=0===l.length,u=c?null:VC(e,l,null,r,i,o);e.prevIsBlock&&!c||(e.prevIsBlock=!0,e.offset+=o);const d=KC(u,"element",a,a,t,n);null!==u&&(u.parent=d);const f=e.offset;return d.end=f,i.set(t,d),d}e.prevIsBlock=!1;const l=tI(s),c=l?s.__text.length:1,u=KC(null,l?"text":"inline",a,e.offset+=c,t,n);return i.set(t,u),u}function VC(e,t,n,r,i,o){let s=null,a=null;const l=t.length;for(let c=0;c<l;c++){const l=qC(e,t[c],n,r,i,o);null===a?s=l:(l.prev=a,a.next=l),a=l}return s}function YC(e,t){const n=[];let r=e.__first;for(;null!==r;){const e=null===t?NP(r):t.get(r);null==e&&UC("$createChildrenArray: node does not exist in nodeMap"),n.push(r),r=e.__next}return n}function JC(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(const e of i)n.append("v",e);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function GC(e,t,n,r,i){const o=n._offsetMap,s=r._offsetMap,a=new Set;let l=e,c=t;for(;null!==c;){const e=c.key,t=o.get(e),n=c.end-c.start;if(a.add(e),void 0===t)l+=n;else{const e=t.end-t.start;e!==n&&(l+=n-e)}const r=c.prev;if(null!==r){c=r;continue}let i=c.parent;for(;null!==i;){let e=i.prev;if(null!==e){const t=e.key,n=o.get(t),r=e.end-e.start;if(a.add(t),void 0===n)l+=r;else{const e=n.end-n.start;e!==r&&(l+=r-e)}e=e.prev}i=i.parent}break}const u=n._firstNode;if(null!==u){c=XC(u,e,i);let t=!1;for(;null!==c;){if(!a.has(c.key)){t=!0;break}c=c.parent}if(!t)for(;null!==c;){const e=c.key;if(!a.has(e)){const t=s.get(e),n=c.end-c.start;if(void 0===t)l-=n;else{const e=t.end-t.start;n!==e&&(l+=e-n)}}c=c.prev}}return l}function XC(e,t,n){let r=e;for(;null!==r;){if(t<r.end+("element"!==r.type||0===n?1:0)){const e=r.child;if(null!==e){r=e;continue}return r}const e=r.next;if(null===e)break;r=e}return null}function QC(e,t,n,r,i,o){return{child:e,end:r,key:i,next:null,parent:o,prev:null,start:n,type:t}}function ZC(e,t,n,r,i,o){const s=r.get(t);void 0===s&&JC(3);const a=e.offset;if(HP(s)){const l=tx(s,r),c=0===l.length,u=c?null:ex(e,l,null,r,i,o);e.prevIsBlock&&!c||(e.prevIsBlock=!0,e.offset+=o);const d=QC(u,"element",a,a,t,n);null!==u&&(u.parent=d);const f=e.offset;return d.end=f,i.set(t,d),d}e.prevIsBlock=!1;const l=tI(s),c=l?s.__text.length:1,u=QC(null,l?"text":"inline",a,e.offset+=c,t,n);return i.set(t,u),u}function ex(e,t,n,r,i,o){let s=null,a=null;const l=t.length;for(let c=0;c<l;c++){const l=ZC(e,t[c],n,r,i,o);null===a?s=l:(l.prev=a,a.next=l),a=l}return s}function tx(e,t){const n=[];let r=e.__first;for(;null!==r;){const e=null===t?NP(r):t.get(r);null==e&&JC(174),n.push(r),r=e.__next}return n}function nx(e){throw new Error(e)}function rx(e,t){const n=new Y3(e,t);return e._collabNode=n,n}function ix(e,t,n,r){const i=new J3(e,t,n,r);return e._collabNode=i,i}function ox(e,t,n){if(G3.has(e)||"function"==typeof t[e])return!0;if(tI(t)){if(Z3.has(e))return!0}else if(HP(t)&&(X3.has(e)||XP(t)&&Q3.has(e)))return!0;const r=t.constructor,i=n.excludedProperties.get(r);return null!=i&&i.has(e)}function sx(e,t,n){const r=t.__type;let i;if(HP(t))i=_x(new tO.XmlText,n,r),i.syncPropertiesFromLexical(e,t,null),i.syncChildrenFromLexical(e,t,null,null,null);else if(tI(t))i=ix(new tO.Map,t.__text,n,r),i.syncPropertiesAndTextFromLexical(e,t,null);else if(VP(t)){const e=new tO.Map;e.set("__type","linebreak"),i=rx(e,n)}else UP(t)?(i=bx(new tO.XmlElement,n,r),i.syncPropertiesFromLexical(e,t,null)):nx("Expected text, element, decorator, or linebreak node");return i._key=t.__key,i}function ax(e){const t=dx(e,"__type");return"string"!=typeof t&&void 0!==t&&nx("Expected shared type to include type attribute"),t}function lx(e,t,n){const r=t._collabNode;if(void 0===r){const r=e.editor._nodes,i=ax(t);"string"!=typeof i&&nx("Expected shared type to include type attribute"),void 0===r.get(i)&&nx(`Node ${i} is not registered`);const o=t.parent,s=void 0===n&&null!==o?lx(e,o):n||null;if(s instanceof t4||nx("Expected parent to be a collab element node"),t instanceof tO.XmlText)return _x(t,s,i);if(t instanceof tO.Map)return"linebreak"===i?rx(t,s):ix(t,"",s,i);if(t instanceof tO.XmlElement)return bx(t,s,i)}return r}function cx(e,t,n){const r=t.getType(),i=e.editor._nodes.get(r);void 0===i&&nx(`Node ${r} is not registered`);const o=new i.klass;if(o.__parent=n,t._key=o.__key,t instanceof t4){const n=t._xmlText;t.syncPropertiesFromYjs(e,null),t.applyChildrenYjsDelta(e,n.toDelta()),t.syncChildrenFromYjs(e)}else t instanceof J3?t.syncPropertiesAndTextFromYjs(e,null):t instanceof e4&&t.syncPropertiesFromYjs(e,null);return e.collabNodeMap.set(o.__key,t),o}function ux(e,t,n,r){const i=null===r?t instanceof tO.Map?Array.from(t.keys()):Object.keys(t.getAttributes()):Array.from(r);let o;for(let r=0;r<i.length;r++){const s=i[r];if(ox(s,n,e)){"__state"===s&&(o||(o=n.getWritable()),hx(e,t,o));continue}const a=n[s];let l=dx(t,s);if(a!==l){if(l instanceof tO.Doc){const t=e.docMap;a instanceof tO.Doc&&t.delete(a.guid);const n=C$(),r=l.guid;n._key=r,t.set(r,l),l=n}void 0===o&&(o=n.getWritable()),o[s]=l}}}function dx(e,t){return e instanceof tO.Map?e.get(t):e.getAttribute(t)}function fx(e,t,n){e instanceof tO.Map?e.set(t,n):e.setAttribute(t,n)}function hx(e,t,n){const r=dx(t,"__state");r instanceof tO.Map&&PP(n).updateFromJSON(r.toJSON())}function px(e,t,n,r){const i=r.__type,o=e.nodeProperties;let s=o.get(i);void 0===s&&(s=Object.keys(r).filter((t=>!ox(t,r,e))),o.set(i,s));const a=e.editor.constructor;!function(e,t,n,r){const i=r.__state,o=dx(t,"__state");if(!i)return;const[s,a]=i.getInternalState(),l=n&&n.__state,c=o instanceof tO.Map?o:new tO.Map;if(l===i)return;const[u,d]=l&&c.doc?l.getInternalState():[void 0,new Map];if(s)for(const[e,t]of Object.entries(s))u&&t!==u[e]&&c.set(e,t);for(const[e,t]of a)d.get(e)!==t&&c.set(e.key,e.unparse(t));o||fx(t,"__state",c)}(0,t,n,r);for(let i=0;i<s.length;i++){const o=s[i],l=null===n?void 0:n[o];let c=r[o];if(l!==c){if(c instanceof a){const t=e.docMap;let n;if(l instanceof a){const e=l._key;n=t.get(e),t.delete(e)}const i=n||new tO.Doc,o=i.guid;c._key=o,t.set(o,i),c=i,e.editor.update((()=>{r.markDirty()}))}fx(t,o,c)}}}function mx(e,t,n,r){return e.slice(0,t)+r+e.slice(t+n)}function gx(e,t,n){let r=0,i=0;const o=e._children,s=o.length;for(;i<s;i++){const e=o[i],a=r;if(r+=e.getSize(),(n?r>=t:r>t)&&e instanceof J3){let n=t-a-1;return n<0&&(n=0),{length:r-t,node:e,nodeIndex:i,offset:n}}if(r>t)return{length:0,node:e,nodeIndex:i,offset:a};if(i===s-1)return{length:0,node:null,nodeIndex:i+1,offset:a+1}}return{length:0,node:null,nodeIndex:0,offset:0}}function vx(e){const t=e.anchor,n=e.focus;let r=!1;try{const e=t.getNode(),i=n.getNode();(!e.isAttached()||!i.isAttached()||tI(e)&&t.offset>e.getTextContentSize()||tI(i)&&n.offset>i.getTextContentSize())&&(r=!0)}catch(e){r=!0}return r}function yx(e,t){const n=t._nodeMap.get(e);if(!n)return void MP().selectStart();const r=n.__prev;let i=null;r&&(i=NP(r)),null===i&&null!==n.__parent&&(i=NP(n.__parent)),null!==i?null!==i&&i.isAttached()?i.selectEnd():yx(i.__key,t):MP().selectStart()}function bx(e,t,n){const r=new e4(e,t,n);return e._collabNode=r,r}function _x(e,t,n){const r=new t4(e,t,n);return e._collabNode=r,r}function wx(e,t){const n=t.collabNodeMap.get(e.key);if(void 0===n)return null;let r=e.offset,i=n.getSharedType();if(n instanceof J3){i=n._parent._xmlText;const e=n.getOffset();if(-1===e)return null;r=e+1+r}else if(n instanceof t4&&"element"===e.type){const t=e.getNode();HP(t)||nx("Element point must be an element node");let n=0,i=0,o=t.getFirstChild();for(;null!==o&&i++<r;)tI(o)?n+=o.getTextContentSize()+1:n++,o=o.getNextSibling();r=n}return(0,tO.createRelativePositionFromTypeIndex)(i,r)}function Cx(e,t){return(0,tO.createAbsolutePositionFromRelativePosition)(e,t.doc)}function xx(e,t){if(null==e){if(null!=t)return!0}else if(null==t||!(0,tO.compareRelativePositions)(e,t))return!0;return!1}function Ex(e,t){return{color:t,name:e,selection:null}}function Sx(e,t){const n=e.cursorsContainer;if(null!==n){const e=t.selections,r=e.length;for(let t=0;t<r;t++)n.removeChild(e[t])}}function kx(e,t){const n=t.selection;null!==n&&Sx(e,n)}function Dx(e,t,n,r,i){const o=e.color,s=document.createElement("span");s.style.cssText=`position:absolute;top:0;bottom:0;right:-1px;width:1px;background-color:${o};z-index:10;`;const a=document.createElement("span");return a.textContent=e.name,a.style.cssText=`position:absolute;left:-2px;top:-16px;background-color:${o};color:#fff;line-height:12px;font-size:12px;padding:2px;font-family:Arial;font-weight:bold;white-space:nowrap;`,s.appendChild(a),{anchor:{key:t,offset:n},caret:s,color:o,focus:{key:r,offset:i},name:a,selections:[]}}function Tx(e,t,n,r){const i=e.editor,o=i.getRootElement(),s=e.cursorsContainer;if(null===s||null===o)return;const a=s.offsetParent;if(null===a)return;const l=a.getBoundingClientRect(),c=t.selection;if(null===n)return null===c?void 0:(t.selection=null,void Sx(e,c));t.selection=n;const u=n.caret,d=n.color,f=n.selections,h=n.anchor,p=n.focus,m=h.key,g=p.key,v=r.get(m),y=r.get(g);if(null==v||null==y)return;let b;if(v===y&&VP(v))b=[i.getElementByKey(m).getBoundingClientRect()];else{const e=Z$(i,v,h.offset,y,p.offset);if(null===e)return;b=ez(i,e)}const _=f.length,w=b.length;for(let e=0;e<w;e++){const t=b[e];let n=f[e];if(void 0===n){n=document.createElement("span"),f[e]=n;const t=document.createElement("span");n.appendChild(t),s.appendChild(n)}const r=`position:absolute;top:${t.top-l.top}px;left:${t.left-l.left}px;height:${t.height}px;width:${t.width}px;pointer-events:none;z-index:5;`;n.style.cssText=r,n.firstChild.style.cssText=`${r}left:0;top:0;background-color:${d};opacity:0.3;`,e===w-1&&u.parentNode!==n&&n.appendChild(u)}for(let e=_-1;e>=w;e--){const t=f[e];s.removeChild(t),f.pop()}}function Ax(e,t){const{anchorPos:n,focusPos:r}=t;let i=null,o=0,s=null,a=0;if(null!==n&&null!==r){const t=Cx(n,e),l=Cx(r,e);null!==t&&null!==l&&([i,o]=jx(t.type,t.index),[s,a]=jx(l.type,l.index))}return{anchorCollabNode:i,anchorOffset:o,focusCollabNode:s,focusOffset:a}}function Nx(e,t){const n=t.awareness.getLocalState();if(null===n)return;const{anchorCollabNode:r,anchorOffset:i,focusCollabNode:o,focusOffset:s}=Ax(e,n);if(null!==r&&null!==o){const e=r.getKey(),t=o.getKey(),n=RP();if(!GP(n))return;Ox(n.anchor,e,i),Ox(n.focus,t,s)}}function Ox(e,t,n){if(e.key!==t||e.offset!==n){let r=NP(t);if(null!==r&&!HP(r)&&!tI(r)){const e=r.getParentOrThrow();t=e.getKey(),n=r.getIndexWithinParent(),r=e}e.set(t,n,HP(r)?"element":"text")}}function jx(e,t){const n=e._collabNode;if(void 0===n)return[null,0];if(n instanceof t4){const{node:e,offset:r}=gx(n,t,!0);return null===e?[n,0]:[e,r]}return[null,0]}function Mx(e,t){return t.awareness.getStates()}function Rx(e,t,n){const{getAwarenessStates:r=Mx}=n??{},i=Array.from(r(e,t)),o=e.clientID,s=e.cursors,a=e.editor._editorState._nodeMap,l=new Set;for(let t=0;t<i.length;t++){const n=i[t],[r,c]=n;if(r!==o){l.add(r);const{name:t,color:n,focusing:i}=c;let o=null,u=s.get(r);if(void 0===u&&(u=Ex(t,n),s.set(r,u)),i){const{anchorCollabNode:t,anchorOffset:n,focusCollabNode:r,focusOffset:i}=Ax(e,c);if(null!==t&&null!==r){const e=t.getKey(),s=r.getKey();if(o=u.selection,null===o)o=Dx(u,e,n,s,i);else{const t=o.anchor,r=o.focus;t.key=e,t.offset=n,r.key=s,r.offset=i}}}Tx(e,u,o,a)}}const c=Array.from(s.keys());for(let t=0;t<c.length;t++){const n=c[t];if(!l.has(n)){const t=s.get(n);void 0!==t&&(kx(e,t),s.delete(n))}}}function Fx(e,t,n,r){const i=t.awareness,o=i.getLocalState();if(null===o)return;const{anchorPos:s,focusPos:a,name:l,color:c,focusing:u,awarenessData:d}=o;let f=null,h=null;(null!==r&&(null===s||r.is(n))||null!==n)&&(GP(r)&&(f=wx(r.anchor,e),h=wx(r.focus,e)),(xx(s,f)||xx(a,h))&&i.setLocalState({...o,anchorPos:f,awarenessData:d,color:c,focusPos:h,focusing:u,name:l}))}function Lx(e,t){if(t instanceof tO.YMapEvent&&function(e,t){const{target:n}=t;if(!n._item||"__state"!==n._item.parentSub||void 0!==ax(n)||!(n.parent instanceof tO.XmlText||n.parent instanceof tO.XmlElement||n.parent instanceof tO.Map))return!1;const r=lx(e,n.parent).getNode();if(r){const e=PP(r.getWritable());for(const r of t.keysChanged)e.updateFromUnknown(r,n.get(r))}return!0}(e,t))return;const{target:n}=t,r=lx(e,n);if(r instanceof t4&&t instanceof tO.YTextEvent){const{keysChanged:n,childListChanged:i,delta:o}=t;n.size>0&&r.syncPropertiesFromYjs(e,n),i&&(r.applyChildrenYjsDelta(e,o),r.syncChildrenFromYjs(e))}else if(r instanceof J3&&t instanceof tO.YMapEvent){const{keysChanged:n}=t;n.size>0&&r.syncPropertiesAndTextFromYjs(e,n)}else if(r instanceof e4&&t instanceof tO.YXmlEvent){const{attributesChanged:n}=t;n.size>0&&r.syncPropertiesFromYjs(e,n)}else nx("Expected text, element, or decorator event")}function Px(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(const e of i)n.append("v",e);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Ix(e,t){const n=new i4(e,t);return e._collabNode=n,n}function $x(e,t,n,r){const i=new o4(e,t,n,r);return e._collabNode=i,i}function zx(e,t,n){if(s4.has(e)||"function"==typeof t[e])return!0;if(tI(t)){if(c4.has(e))return!0}else if(HP(t)&&(a4.has(e)||XP(t)&&l4.has(e)))return!0;const r=t.constructor,i=n.excludedProperties.get(r);return null!=i&&i.has(e)}function Bx(e,t,n){const r=t.__type;let i;if(HP(t))i=tE(new tO.XmlText,n,r),i.syncPropertiesFromLexical(e,t,null),i.syncChildrenFromLexical(e,t,null,null,null);else if(tI(t))i=$x(new tO.Map,t.__text,n,r),i.syncPropertiesAndTextFromLexical(e,t,null);else if(VP(t)){const e=new tO.Map;e.set("__type","linebreak"),i=Ix(e,n)}else UP(t)?(i=eE(new tO.XmlElement,n,r),i.syncPropertiesFromLexical(e,t,null)):Px(86);return i._key=t.__key,i}function Ux(e){const t=qx(e,"__type");return"string"!=typeof t&&void 0!==t&&Px(87),t}function Hx(e,t,n){const r=t._collabNode;if(void 0===r){const r=e.editor._nodes,i=Ux(t);"string"!=typeof i&&Px(87),void 0===r.get(i)&&Px(88,i);const o=t.parent,s=void 0===n&&null!==o?Hx(e,o):n||null;if(s instanceof d4||Px(89),t instanceof tO.XmlText)return tE(t,s,i);if(t instanceof tO.Map)return"linebreak"===i?Ix(t,s):$x(t,"",s,i);if(t instanceof tO.XmlElement)return eE(t,s,i)}return r}function Wx(e,t,n){const r=t.getType(),i=e.editor._nodes.get(r);void 0===i&&Px(88,r);const o=new i.klass;if(o.__parent=n,t._key=o.__key,t instanceof d4){const n=t._xmlText;t.syncPropertiesFromYjs(e,null),t.applyChildrenYjsDelta(e,n.toDelta()),t.syncChildrenFromYjs(e)}else t instanceof o4?t.syncPropertiesAndTextFromYjs(e,null):t instanceof u4&&t.syncPropertiesFromYjs(e,null);return e.collabNodeMap.set(o.__key,t),o}function Kx(e,t,n,r){const i=null===r?t instanceof tO.Map?Array.from(t.keys()):Object.keys(t.getAttributes()):Array.from(r);let o;for(let r=0;r<i.length;r++){const s=i[r];if(zx(s,n,e)){"__state"===s&&(o||(o=n.getWritable()),Yx(e,t,o));continue}const a=n[s];let l=qx(t,s);if(a!==l){if(l instanceof tO.Doc){const t=e.docMap;a instanceof tO.Doc&&t.delete(a.guid);const n=C$(),r=l.guid;n._key=r,t.set(r,l),l=n}void 0===o&&(o=n.getWritable()),o[s]=l}}}function qx(e,t){return e instanceof tO.Map?e.get(t):e.getAttribute(t)}function Vx(e,t,n){e instanceof tO.Map?e.set(t,n):e.setAttribute(t,n)}function Yx(e,t,n){const r=qx(t,"__state");r instanceof tO.Map&&PP(n).updateFromJSON(r.toJSON())}function Jx(e,t,n,r){const i=r.__type,o=e.nodeProperties;let s=o.get(i);void 0===s&&(s=Object.keys(r).filter((t=>!zx(t,r,e))),o.set(i,s));const a=e.editor.constructor;!function(e,t,n,r){const i=r.__state,o=qx(t,"__state");if(!i)return;const[s,a]=i.getInternalState(),l=n&&n.__state,c=o instanceof tO.Map?o:new tO.Map;if(l===i)return;const[u,d]=l&&c.doc?l.getInternalState():[void 0,new Map];if(s)for(const[e,t]of Object.entries(s))u&&t!==u[e]&&c.set(e,t);for(const[e,t]of a)d.get(e)!==t&&c.set(e.key,e.unparse(t));o||Vx(t,"__state",c)}(0,t,n,r);for(let i=0;i<s.length;i++){const o=s[i],l=null===n?void 0:n[o];let c=r[o];if(l!==c){if(c instanceof a){const t=e.docMap;let n;if(l instanceof a){const e=l._key;n=t.get(e),t.delete(e)}const i=n||new tO.Doc,o=i.guid;c._key=o,t.set(o,i),c=i,e.editor.update((()=>{r.markDirty()}))}Vx(t,o,c)}}}function Gx(e,t,n,r){return e.slice(0,t)+r+e.slice(t+n)}function Xx(e,t,n){let r=0,i=0;const o=e._children,s=o.length;for(;i<s;i++){const e=o[i],a=r;if(r+=e.getSize(),(n?r>=t:r>t)&&e instanceof o4){let n=t-a-1;return n<0&&(n=0),{length:r-t,node:e,nodeIndex:i,offset:n}}if(r>t)return{length:0,node:e,nodeIndex:i,offset:a};if(i===s-1)return{length:0,node:null,
nodeIndex:i+1,offset:a+1}}return{length:0,node:null,nodeIndex:0,offset:0}}function Qx(e){const t=e.anchor,n=e.focus;let r=!1;try{const e=t.getNode(),i=n.getNode();(!e.isAttached()||!i.isAttached()||tI(e)&&t.offset>e.getTextContentSize()||tI(i)&&n.offset>i.getTextContentSize())&&(r=!0)}catch(e){r=!0}return r}function Zx(e,t){const n=t._nodeMap.get(e);if(!n)return void MP().selectStart();const r=n.__prev;let i=null;r&&(i=NP(r)),null===i&&null!==n.__parent&&(i=NP(n.__parent)),null!==i?null!==i&&i.isAttached()?i.selectEnd():Zx(i.__key,t):MP().selectStart()}function eE(e,t,n){const r=new u4(e,t,n);return e._collabNode=r,r}function tE(e,t,n){const r=new d4(e,t,n);return e._collabNode=r,r}function nE(e,t){const n=t.collabNodeMap.get(e.key);if(void 0===n)return null;let r=e.offset,i=n.getSharedType();if(n instanceof o4){i=n._parent._xmlText;const e=n.getOffset();if(-1===e)return null;r=e+1+r}else if(n instanceof d4&&"element"===e.type){const t=e.getNode();HP(t)||Px(184);let n=0,i=0,o=t.getFirstChild();for(;null!==o&&i++<r;)tI(o)?n+=o.getTextContentSize()+1:n++,o=o.getNextSibling();r=n}return(0,tO.createRelativePositionFromTypeIndex)(i,r)}function rE(e,t){return(0,tO.createAbsolutePositionFromRelativePosition)(e,t.doc)}function iE(e,t){if(null==e){if(null!=t)return!0}else if(null==t||!(0,tO.compareRelativePositions)(e,t))return!0;return!1}function oE(e,t){return{color:t,name:e,selection:null}}function sE(e,t){const n=e.cursorsContainer;if(null!==n){const e=t.selections,r=e.length;for(let t=0;t<r;t++)n.removeChild(e[t])}}function aE(e,t){const n=t.selection;null!==n&&sE(e,n)}function lE(e,t,n,r,i){const o=e.color,s=document.createElement("span");s.style.cssText=`position:absolute;top:0;bottom:0;right:-1px;width:1px;background-color:${o};z-index:10;`;const a=document.createElement("span");return a.textContent=e.name,a.style.cssText=`position:absolute;left:-2px;top:-16px;background-color:${o};color:#fff;line-height:12px;font-size:12px;padding:2px;font-family:Arial;font-weight:bold;white-space:nowrap;`,s.appendChild(a),{anchor:{key:t,offset:n},caret:s,color:o,focus:{key:r,offset:i},name:a,selections:[]}}function cE(e,t,n,r){const i=e.editor,o=i.getRootElement(),s=e.cursorsContainer;if(null===s||null===o)return;const a=s.offsetParent;if(null===a)return;const l=a.getBoundingClientRect(),c=t.selection;if(null===n)return null===c?void 0:(t.selection=null,void sE(e,c));t.selection=n;const u=n.caret,d=n.color,f=n.selections,h=n.anchor,p=n.focus,m=h.key,g=p.key,v=r.get(m),y=r.get(g);if(null==v||null==y)return;let b;if(v===y&&VP(v))b=[i.getElementByKey(m).getBoundingClientRect()];else{const e=Z$(i,v,h.offset,y,p.offset);if(null===e)return;b=ez(i,e)}const _=f.length,w=b.length;for(let e=0;e<w;e++){const t=b[e];let n=f[e];if(void 0===n){n=document.createElement("span"),f[e]=n;const t=document.createElement("span");n.appendChild(t),s.appendChild(n)}const r=`position:absolute;top:${t.top-l.top}px;left:${t.left-l.left}px;height:${t.height}px;width:${t.width}px;pointer-events:none;z-index:5;`;n.style.cssText=r,n.firstChild.style.cssText=`${r}left:0;top:0;background-color:${d};opacity:0.3;`,e===w-1&&u.parentNode!==n&&n.appendChild(u)}for(let e=_-1;e>=w;e--){const t=f[e];s.removeChild(t),f.pop()}}function uE(e,t){const{anchorPos:n,focusPos:r}=t;let i=null,o=0,s=null,a=0;if(null!==n&&null!==r){const t=rE(n,e),l=rE(r,e);null!==t&&null!==l&&([i,o]=hE(t.type,t.index),[s,a]=hE(l.type,l.index))}return{anchorCollabNode:i,anchorOffset:o,focusCollabNode:s,focusOffset:a}}function dE(e,t){const n=t.awareness.getLocalState();if(null===n)return;const{anchorCollabNode:r,anchorOffset:i,focusCollabNode:o,focusOffset:s}=uE(e,n);if(null!==r&&null!==o){const e=r.getKey(),t=o.getKey(),n=RP();if(!GP(n))return;fE(n.anchor,e,i),fE(n.focus,t,s)}}function fE(e,t,n){if(e.key!==t||e.offset!==n){let r=NP(t);if(null!==r&&!HP(r)&&!tI(r)){const e=r.getParentOrThrow();t=e.getKey(),n=r.getIndexWithinParent(),r=e}e.set(t,n,HP(r)?"element":"text")}}function hE(e,t){const n=e._collabNode;if(void 0===n)return[null,0];if(n instanceof d4){const{node:e,offset:r}=Xx(n,t,!0);return null===e?[n,0]:[e,r]}return[null,0]}function pE(e,t){return t.awareness.getStates()}function mE(e,t,n){const{getAwarenessStates:r=pE}=n??{},i=Array.from(r(e,t)),o=e.clientID,s=e.cursors,a=e.editor._editorState._nodeMap,l=new Set;for(let t=0;t<i.length;t++){const n=i[t],[r,c]=n;if(r!==o){l.add(r);const{name:t,color:n,focusing:i}=c;let o=null,u=s.get(r);if(void 0===u&&(u=oE(t,n),s.set(r,u)),i){const{anchorCollabNode:t,anchorOffset:n,focusCollabNode:r,focusOffset:i}=uE(e,c);if(null!==t&&null!==r){const e=t.getKey(),s=r.getKey();if(o=u.selection,null===o)o=lE(u,e,n,s,i);else{const t=o.anchor,r=o.focus;t.key=e,t.offset=n,r.key=s,r.offset=i}}}cE(e,u,o,a)}}const c=Array.from(s.keys());for(let t=0;t<c.length;t++){const n=c[t];if(!l.has(n)){const t=s.get(n);void 0!==t&&(aE(e,t),s.delete(n))}}}function gE(e,t,n,r){const i=t.awareness,o=i.getLocalState();if(null===o)return;const{anchorPos:s,focusPos:a,name:l,color:c,focusing:u,awarenessData:d}=o;let f=null,h=null;(null!==r&&(null===s||r.is(n))||null!==n)&&(GP(r)&&(f=nE(r.anchor,e),h=nE(r.focus,e)),(iE(s,f)||iE(a,h))&&i.setLocalState({...o,anchorPos:f,awarenessData:d,color:c,focusPos:h,focusing:u,name:l}))}function vE(e,t){if(t instanceof tO.YMapEvent&&function(e,t){const{target:n}=t;if(!n._item||"__state"!==n._item.parentSub||void 0!==Ux(n)||!(n.parent instanceof tO.XmlText||n.parent instanceof tO.XmlElement||n.parent instanceof tO.Map))return!1;const r=Hx(e,n.parent).getNode();if(r){const e=PP(r.getWritable());for(const r of t.keysChanged)e.updateFromUnknown(r,n.get(r))}return!0}(e,t))return;const{target:n}=t,r=Hx(e,n);if(r instanceof d4&&t instanceof tO.YTextEvent){const{keysChanged:n,childListChanged:i,delta:o}=t;n.size>0&&r.syncPropertiesFromYjs(e,n),i&&(r.applyChildrenYjsDelta(e,o),r.syncChildrenFromYjs(e))}else if(r instanceof o4&&t instanceof tO.YMapEvent){const{keysChanged:n}=t;n.size>0&&r.syncPropertiesAndTextFromYjs(e,n)}else if(r instanceof u4&&t instanceof tO.YXmlEvent){const{attributesChanged:n}=t;n.size>0&&r.syncPropertiesFromYjs(e,n)}else Px(82)}function yE(){const[t,n]=MS.useState(null);return(0,MS.useEffect)((()=>{(function(){return Dv(this,void 0,void 0,(function*(){try{const[t,n,r]=yield Promise.all([Promise.resolve().then(e.bind(e,1505)),Promise.resolve().then((function(){var e=new Error("Cannot find module '@hsoub/ana-yjs/provider'");throw e.code="MODULE_NOT_FOUND",e})),e.e(35).then(e.bind(e,6035))]);return{Y:t,AnaYjsProvider:n.AnaYjsProvider,useCollaborationContext:r.useCollaborationContext}}catch(e){throw Error("Optional collaboration dependencies not available:",e)}}))})().then(n)}),[]),t&&t.Y&&t.AnaYjsProvider&&t.useCollaborationContext?MS.createElement(bE,{deps:t}):null}function bE(e){let{deps:t}=e;var n;const{AnaYjsProvider:r,Y:i,useCollaborationContext:o}=t,[s]=kK(),a=(0,MS.useRef)(null),{hsoubEditorProps:{state:l,collaboration:c,editable:u}}=v0(),d=o(null==c?void 0:c.user),{yjsDocMap:f,name:h,color:p}=d,m=(null==c?void 0:c.id)||"editor-yjs",g=(0,MS.useCallback)((e=>{aC(e,l)}),[l]),v=(0,MS.useCallback)(((e,t)=>{const n=new i.Doc;return t.set(e,n),new r(Object.assign({url:null==c?void 0:c.webSocketEndPoint,name:null==c?void 0:c.room,document:n,connect:!1,broadcast:!1},null==c?void 0:c.options))}),[c]),y=(0,MS.useMemo)((()=>v(m,f)),[m,v,f]),b=function(e){const{editor:t,id:n,provider:r,docMap:i,name:o,color:s,shouldBootstrap:a=!0,shouldSyncToYjs:l=!0,initialEditorState:c,excludedProperties:u,awarenessData:d}=e,f=(0,MS.useRef)(!1),[h,p]=(0,MS.useState)(i.get(n)),m=(0,MS.useMemo)((()=>y4(t,r,n,h,i,u)),[t,r,n,i,h,u]),g=(0,MS.useCallback)((()=>{r.connect()}),[r]),v=(0,MS.useCallback)((()=>{try{r.disconnect()}catch(e){}}),[r]);return(0,MS.useEffect)((()=>{var e;const{root:u}=m,h=e=>{let{status:n}=e;t.dispatchCommand(g4,"connected"===n)},y=e=>{let{state:n}=e;a&&n&&u.isEmpty()&&0===u._xmlText._length&&!1===f.current&&function(e,t){e.update((()=>{const n=MP();if(n.isEmpty())if(t)switch(typeof t){case"string":{const n=e.parseEditorState(t);e.setEditorState(n,{tag:"history-merge"});break}case"object":e.setEditorState(t,{tag:"history-merge"});break;case"function":e.update((()=>{MP().isEmpty()&&t(e)}),{tag:"history-merge"})}else{const t=pP();n.append(t);const{activeElement:r}=document;(null!==RP()||null!==r&&r===e.getRootElement())&&t.select()}}),{tag:"history-merge"})}(t,c),f.current=!1},b=(e,t)=>{const n=t.origin;n!==m&&E4(m,r,e,n instanceof tO.UndoManager)};_4(r,o,s,document.activeElement===t.getRootElement(),d||{});const _=e=>{!function(e){e.update((()=>{const e=MP();e.clear(),e.select()}),{tag:"skip-collab"})}(t),p(e),i.set(n,e),f.current=!0},w=()=>Dv(this,void 0,void 0,(function*(){yield $y(),C4(m,r)}));r.on("reload",_),r.on("status",h),r.on("sync",y),null===(e=r.awareness)||void 0===e||e.on("update",w),u.getSharedType().observeDeep(b);const C=t.registerUpdateListener((e=>{let{prevEditorState:t,editorState:n,dirtyLeaves:i,dirtyElements:o,normalizedNodes:s,tags:a}=e;!1===a.has("skip-collab")&&l&&x4(m,r,t,n,o,i,s,a)})),x=g();return()=>{var e;Promise.resolve(x).then((()=>{v()})),r.off("sync",y),r.off("status",h),r.off("reload",_),null===(e=r.awareness)||void 0===e||e.off("update",w),u.getSharedType().unobserveDeep(b),i.delete(n),C()}}),[m,r,s,g,v,i,t,n,c,a,l,o,d]),(0,MS.useEffect)((()=>t.registerCommand(v4,(e=>(void 0!==g&&void 0!==v&&(e?g():v()),!0)),EI)),[g,v,t]),m}({editor:s,id:m,provider:y,docMap:f,name:h,color:p,shouldBootstrap:null===(n=null==c?void 0:c.shouldBootstrap)||void 0===n||n,initialEditorState:g,shouldSyncToYjs:u,awarenessData:null==c?void 0:c.awarenessData});(0,MS.useEffect)((()=>{b.cursorsContainer=a.current}),[b]),d.clientID=b.clientID,function(e,t){const n=(0,MS.useMemo)((()=>b4(t,t.root.getSharedType())),[t]);(0,MS.useEffect)((()=>pB(e.registerCommand(_$,(()=>(n.undo(),!0)),EI),e.registerCommand(f$,(()=>(n.redo(),!0)),EI))),[n,e]);(0,MS.useCallback)((()=>{n.clear()}),[n]);MS.useEffect((()=>{const t=()=>{e.dispatchCommand(yI,n.undoStack.length>0),e.dispatchCommand(vI,n.redoStack.length>0)};return n.on("stack-item-added",t),n.on("stack-item-popped",t),n.on("stack-cleared",t),()=>{n.off("stack-item-added",t),n.off("stack-item-popped",t),n.off("stack-cleared",t)}}),[e,n])}(s,b),function(e,t,n,r,i){(0,MS.useEffect)((()=>pB(e.registerCommand(II,(()=>(w4(t,n,r,!0,i||{}),!1)),EI),e.registerCommand(gI,(()=>(w4(t,n,r,!1,i||{}),!1)),EI))),[r,e,n,t,i])}(s,y,h,p,null==c?void 0:c.awarenessData),((e,t)=>{f2(t$,(()=>Dv(void 0,void 0,void 0,(function*(){var t,n;if(yield $y(),!e)return!1;let r=null===(t=e.awareness)||void 0===t?void 0:t.getLocalState();return!!r&&(r.awarenessData.typing_timestamp=Date.now(),null===(n=e.awareness)||void 0===n||n.setLocalState(r),!1)}))),xI);const n=()=>Dv(void 0,void 0,void 0,(function*(){var n,r,i;const o=Array.from((null===(n=null==e?void 0:e.awareness)||void 0===n?void 0:n.getStates())||[]).map((e=>{let[t,n]=e;return{clientID:t,awareness:n}})),s=null==o?void 0:o.filter((e=>{var t,n;return null===(n=null===(t=e.awareness)||void 0===t?void 0:t.awarenessData)||void 0===n?void 0:n.typing_timestamp})).reduce(((e,t)=>{var n,r,i,o;return e&&((null===(r=null===(n=null==e?void 0:e.awareness)||void 0===n?void 0:n.awarenessData)||void 0===r?void 0:r.typing_timestamp)||0)>((null===(o=null===(i=t.awareness)||void 0===i?void 0:i.awarenessData)||void 0===o?void 0:o.typing_timestamp)||0)?e:t}),null),a=o.find((e=>{var t;return null===(t=e.awareness)||void 0===t?void 0:t.focusing})),l=null===(r=null==o?void 0:o.sort(((e,t)=>e.clientID-t.clientID)))||void 0===r?void 0:r[0],c=s||a||l,u=null===(i=null==e?void 0:e.awareness)||void 0===i?void 0:i.clientID;null==t||t({clientID:u,handlerClient:c,isCurrentClientTheHandler:(null==c?void 0:c.clientID)===u,provider:e})}));(0,MS.useEffect)((()=>{var t;return null===(t=null==e?void 0:e.awareness)||void 0===t||t.on("update",n),()=>{var t;null===(t=null==e?void 0:e.awareness)||void 0===t||t.off("update",n)}}),[e])})(y,null==c?void 0:c.onAwarnessChange);const _=((e,t)=>{const n=t.clientID,[r]=kK(),[i,o]=(0,MS.useState)([]),{toolbar:s}=v0(),a=xC((()=>{C4(t,e)}),100);(0,MS.useEffect)((()=>{a()}),[r,s]);const l=()=>Dv(void 0,void 0,void 0,(function*(){yield $y();const e=Array.from(t.cursors||[]).map((e=>{let[t,n]=e;return Object.assign(Object.assign({},n),{clientID:t})})).map((e=>{var t,n;const i=e.selection,o=r._editorState._nodeMap,s=null==i?void 0:i.anchor,a=null==i?void 0:i.focus;if(!a||!s)return;const l=o.get(s.key),c=o.get(a.key);if(!c||!l)return;const u=Z$(r,l,s.offset,c,null==a?void 0:a.offset);if(!u)return;const d=function(e,t){var n,r,i;const o=e.getRootElement();if(null===o)return[];const s=o.getBoundingClientRect(),a=getComputedStyle(o),l=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight);let c=t.getClientRects();if(0===c.length){const t=null===(r=null===(n=e._window)||void 0===n?void 0:n.document)||void 0===r?void 0:r.createRange(),o=null===(i=e._window)||void 0===i?void 0:i.getSelection();if(!(null==o?void 0:o.anchorNode)||!o.focusNode||!t)return[];t.setStart(o.anchorNode,o.anchorOffset),t.setEnd(o.focusNode,o.focusOffset),t.startContainer&&t.collapsed&&(t.selectNodeContents(t.startContainer),c=t.getClientRects())}const u=Array.from(c);let d,f=u.length;u.sort(((e,t)=>{const n=e.top-t.top;return Math.abs(n)<=3?e.width-t.width:n}));for(let e=0;e<f;e++){const t=u[e],n=d&&Math.abs(d.top-t.top)<=3&&Math.abs(d.left-t.left)<=3,r=t.width+l===s.width;n||r?(u.splice(e--,1),f--):d=t}return u}(r,u),f=null===(n=null===(t=null==r?void 0:r.getRootElement())||void 0===t?void 0:t.closest("#editor"))||void 0===n?void 0:n.getBoundingClientRect();if(!f)return;let h=d.map((e=>{const t=Math.abs(e.left-e.right)<1&&e.width<1;return Object.assign(Object.assign({},e.toJSON()),{isCollapsed:t,original_top:e.top,original_left:e.left,top:e.top-f.top,left:e.left-f.left})}));return Object.assign(Object.assign({},e),{selectionRects:h})})).filter((e=>e));o(e)}));return(0,MS.useEffect)((()=>{var t;const n=r.registerUpdateListener((()=>Dv(void 0,void 0,void 0,(function*(){requestAnimationFrame((()=>{l()}))}))));return null===(t=null==e?void 0:e.awareness)||void 0===t||t.on("update",l),()=>{var t;n(),null===(t=null==e?void 0:e.awareness)||void 0===t||t.off("update",l)}}),[]),MS.createElement("div",{className:"selection-rects__editor"},i.map((e=>{let{selectionRects:t,clientID:r,color:i,name:o}=e;const s=(null==t?void 0:t.find((e=>e.isCollapsed)))||(null==t?void 0:t[(null==t?void 0:t.length)-1]);return null==t?void 0:t.map(((e,a)=>{const l=a===t.length-1;return r!==n&&MS.createElement(S4,{selectionRect:e,color:i,name:o,cursor:s,isLast:l,key:r+a})}))})))})(y,b);return MS.createElement("div",{className:"selection-rects"},MS.createElement("div",{className:"selection-rects__lexical",ref:a}),_)}function _E(){const[e]=kK();return(0,MS.useEffect)((()=>pB(e.registerCommand(wI,(t=>{if(3!==t.detail)return!1;const n=t.target;if(!n)return!1;let r=!1;return e.update((()=>{const e=AP(n);if(e){const t=e.getKey(),n=e.getTextContentSize(),i=gP();i.anchor.set(t,0,"text"),i.focus.set(t,n,"text"),uI(i),r=!0}})),r}),kI))),[e]),null}function wE(){const{translate:e}=Z1();return MS.createElement("div",{className:"editor__placeholder"},e("helpers.editorPlaceholder"))}function CE(e){const{state:t,namespace:n="editor",theme:r,containerProp:i,nodes:o=[]}=e,s=(0,MS.useMemo)(iJ,[]),a=(0,MS.useMemo)((()=>Py(j4,r||{})),[r]),l=(0,MS.useRef)(null);return MS.createElement(MS.Fragment,null,MS.createElement(mX,Object.assign({},e,{containerRef:l,id:s}),MS.createElement(RK,{initialConfig:{editorState:e.collaboration?null:e=>{aC(e,t)},theme:a,onError(t,n){var r,i,o;null===(r=null==e?void 0:e.onCatchError)||void 0===r||r.call(e,t,{place:"onError passed to LexicalComposer",info:{html:null===(i=e.state)||void 0===i?void 0:i.html,json:null===(o=e.state)||void 0===o?void 0:o.json,editor:n}})},namespace:n,nodes:[...O4(e.config),...o]}},MS.createElement("div",Object.assign({},i||{},{className:"editor__container",id:"editor",ref:l}),MS.createElement(D4,null),e.children))))}function xE(e){let{onResizeStart:t,onResizeEnd:n,imageRef:r,editor:i}=e;var o,s,a;const l=x0(),[c]=kK(),u=null===(o=c._window)||void 0===o?void 0:o.document,d=(0,MS.useRef)(null),f=(0,MS.useRef)({priority:"",value:"default"}),h=(0,MS.useRef)({currentWidth:0,direction:0,isResizing:!1,ratio:0,startWidth:0,startX:0,startY:0}),p=i.getRootElement(),m=l.image.enable&&null!==(a=null===(s=l.image)||void 0===s?void 0:s.minWidth)&&void 0!==a?a:50,g=null!==p?p.getBoundingClientRect().width-20:100,v=(e,n)=>{const i=r.current,o=d.current;if(null!==i&&null!==o){const{width:r,height:s}=i.getBoundingClientRect(),a=h.current;a.startWidth=r,a.ratio=r/s,a.currentWidth=r,a.startX=e.clientX,a.startY=e.clientY,a.isResizing=!0,a.direction=n,(e=>{const t=1===e||4===e?"ew":8===e||2===e?"ns":8&e&&4&e||2&e&&1&e?"nwse":"nesw";null!==p&&p.style.setProperty("cursor",`${t}-resize`,"important"),null!==(null==u?void 0:u.body)&&(null==u||u.body.style.setProperty("cursor",`${t}-resize`,"important"),u&&(f.current.value=null==u?void 0:u.body.style.getPropertyValue("-webkit-user-select"),f.current.priority=null==u?void 0:u.body.style.getPropertyPriority("-webkit-user-select")),null==u||u.body.style.setProperty("-webkit-user-select","none","important"))})(n),t(),o.classList.add("image-control-wrapper--resizing"),i.style.width=`${r}px`,null==u||u.addEventListener("pointermove",y),null==u||u.addEventListener("pointerup",b)}},y=e=>{const t=r.current,n=h.current,i=5&n.direction,o=10&n.direction;if(null!==t&&n.isResizing)if(i&&o){let r=Math.floor(n.startX-e.clientX);r=1&n.direction?-r:r;const i=ZY(n.startWidth+r,m,g);t.style.width=`${i}px`,t&&t.parentElement&&(t.parentElement.style.width=`${i}px`),n.currentWidth=i}else if(o){let t=Math.floor(n.startY-e.clientY);t=2&n.direction?-t:t}else{let r=Math.floor(n.startX-e.clientX);r=1&n.direction?-r:r;const i=ZY(n.startWidth+r,m,g);t.style.width=`${i}px`,n.currentWidth=i}},b=()=>{const e=r.current,t=h.current,i=d.current;if(null!==e&&null!==i&&t.isResizing){const e=t.currentWidth;t.startWidth=0,t.ratio=0,t.startX=0,t.startY=0,t.currentWidth=0,t.isResizing=!1,i.classList.remove("image-control-wrapper--resizing"),null!==p&&p.style.setProperty("cursor","default"),null!==(null==u?void 0:u.body)&&(null==u||u.body.style.setProperty("cursor","default"),null==u||u.body.style.setProperty("-webkit-user-select",f.current.value,f.current.priority)),n(e),null==u||u.removeEventListener("pointermove",y),null==u||u.removeEventListener("pointerup",b)}};return MS.createElement("div",{ref:d},MS.createElement("div",{className:"dimension-resizer dimension-resizer-ne",onPointerDown:e=>{v(e,9)}}),MS.createElement("div",{className:"dimension-resizer dimension-resizer-se",onPointerDown:e=>{v(e,3)}}),MS.createElement("div",{className:"dimension-resizer dimension-resizer-sw",onPointerDown:e=>{v(e,6)}}),MS.createElement("div",{className:"dimension-resizer dimension-resizer-nw",onPointerDown:e=>{v(e,12)}}))}function EE(e){let{altText:t,className:n,imageRef:r,src:i,width:o,pending:s,onImageLoaded:a,maxWidth:l}=e;return(0,MS.useEffect)((()=>()=>{URL.revokeObjectURL(i)}),[i]),MS.createElement("img",{className:n||void 0,src:i,alt:t,ref:r,onLoad:()=>{null==a||a()},style:{height:"auto",objectFit:"contain",maxWidth:l,width:o,opacity:s?.4:""},draggable:"false"})}function SE(e,t){return e.find((e=>e.id===t))}function kE(e,t){return!!e.find((e=>e.id===t.id))}function DE(e,t){return e.map((e=>e.id!==t.id?e:{...t}))}function TE(e,t){return e.filter((e=>e.id!==t))}function AE(e,t,n){if(t<1)return!0;const r=e[t-1],i=e[t];return!n(r.created_at).isSame(i.created_at,"day")}function NE(e,t){if(t<1)return!0;const n=e[t-1],r=e[t];return n.user?.id!==r.user?.id}function OE(e,t){if(!t)return 0;const n=e.findIndex((e=>e.id===t.id));return-1===n?0:e.length-(n+1)}function jE(e){return!["text","json","emoji"].includes(e.type)}function ME(e){return!e||!e.replace(eO()(),"").replace(/[\s\n]/gm,"")}function RE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const i=e.replace("|","");return r?[i,t,n,r].join("|"):[i,t,n].join("|")}function FE(e,t,n){return{id:QN(),type:"file",user:t,body:RE(e.name,e.size),file:{name:e.name,size:e.size,url:"#",mime_type:e.type,accessibility:"any",category:n,encodings:[]}}}function LE(e){let{message:t,messageToReply:n,currentUser:r}=e;return{id:QN(),body:t.replace(/^\s+|\s+$/g,""),reply_to_message_id:n&&n.id||null,reply_to_message_data:n?{...n,date:n.updated_at}:null,user:r,type:"text"}}function PE(e){let{message:t,messageToReply:n,currentUser:r}=e;const i=Array.from(new Map(u1(t).map((e=>[`${e.mentioner_user_id}-${e.mentioned_user_id}`,{...e,action:"add"}]))).values());return{id:QN(),body:$E(t),reply_to_message_id:n&&n.id||null,reply_to_message_data:n?{...n,date:n.updated_at}:null,user:r,type:"json",mentions:i}}function IE(e){const t=t=>e?.file?.mime_type?.match(t)?.[0];return"text"===e.type?ME(e.body)?"emoji":"text":"json"===e.type?"rich_text":"emoji"===e.type?"emoji":"custom"===e.type?"custom":"voice"===e?.file?.category?"audio":"video"===e?.file?.category||"screen"===e?.file?.category?"video":t("image")?"image":t("audio")?"audio":t("video")?"video":"document"}function $E(e){if(!e?.root||!Array.isArray(e.root.children))return e;const t={...e.root};return t.children=t.children.map((e=>{if(!Array.isArray(e.children))return e;const t=[...e.children];for(;t.length>0&&"linebreak"===t[0]?.type;)t.shift();for(;t.length>0&&"linebreak"===t[t.length-1]?.type;)t.pop();return{...e,children:t}})),{...e,root:t}}function zE(e){let t="";for(const n of e.childNodes)if(n.nodeType===Node.TEXT_NODE)t+=n.textContent;else if(n.nodeType===Node.ELEMENT_NODE){const e=n;"BR"===e.tagName?t+="\n":(t+=zE(e),["P","DIV"].includes(e.tagName)&&(t+="\n"))}return t}function BE(e,t){const n=e=>`${e.mentioner_user_id}-${e.mentioned_user_id}`,r="string"==typeof e.body&&"string"!=typeof t,i="string"!=typeof e.body&&"string"==typeof t,o="string"!=typeof e.body&&"string"!=typeof t;let s=[];if(r)s=Array.from(new Map(u1(t).map((e=>[n(e),{...e,action:"add"}]))).values());else if(i)s=Array.from(new Map(u1(e.body).map((e=>[n(e),{...e,action:"remove"}]))).values());else if(o){const r=new Map(u1(e.body).map((e=>[n(e),e]))),i=new Map(u1(t).map((e=>[n(e),e])));s=[...Array.from(i.entries()).filter((e=>{let[t]=e;return!r.has(t)})).map((e=>{let[,t]=e;return{...t,action:"add"}})),...Array.from(r.entries()).filter((e=>{let[t]=e;return!i.has(t)})).map((e=>{let[,t]=e;return{...t,action:"remove"}}))]}return s}function UE(e){return{root:{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:(arguments.length>2?arguments[2]:void 0)(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"deletedFileBy":"deletedMessageBy"),type:"text",version:1},{type:"mention",version:1,mentionerId:e.id,mentionedId:e.id,mention:`${e.first_name} ${e.last_name}`},{detail:0,format:0,mode:"normal",style:"",text:" ",type:"text",version:1}],direction:"",format:"",indent:0,type:"hsoub-paragraph",version:1,textFormat:0,textStyle:"",isAnInline:!1}],direction:"",format:"",indent:0,type:"root",version:1}}}function HE(){return HE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HE.apply(null,arguments)}function WE(e){const t=function(e){const t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),r=[n,Math.floor(e-3600*t-60*n)];return t>0&&r.unshift(t),r.map((e=>("0"+e).slice(-2))).join(":")}(e);return t}function KE(){return KE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KE.apply(null,arguments)}function qE(){return qE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qE.apply(null,arguments)}function VE(){return VE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VE.apply(null,arguments)}function YE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[n,r]=MS.useState(!1);return MS.useEffect((()=>{if(!e.current)return;const n=new IntersectionObserver((e=>{let[t]=e;r(t.isIntersecting)}),t);return n.observe(e.current),()=>{n.disconnect()}}),[e,t.rootMargin,t.threshold,t.root]),n}function JE(){return JE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JE.apply(null,arguments)}function GE(){return GE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GE.apply(null,arguments)}function XE(){return XE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XE.apply(null,arguments)}function QE(){return QE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QE.apply(null,arguments)}function ZE(e){if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024)),n=["B","KB","MB","GB","TB"][t],r=parseFloat(""+e/Math.pow(1024,t));return["B","KB"].includes(n)?`${Math.round(r)} ${n}`:`${r.toFixed(2)} ${n}`}function eS(e){let t="noopener noreferrer";return function(e){try{const t=new URL(e).hostname;for(const e of z6)if(t.endsWith(e))return!0}catch(e){return!1}return!1}(e)||(t+=" nofollow"),t}function tS(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Z6(e,t,r)}}function nS(e,t){K6&&K6(e,null);for(var n=t.length;n--;){var r=t[n];if("string"==typeof r){var i=i8(r);i!==r&&(q6(t)||(t[n]=i),r=i)}e[r]=!0}return e}function rS(e){var t=X6(null),n=void 0;for(n in e)Z6(W6,e,[n])&&(t[n]=e[n]);return t}function iS(e,t){for(;null!==e;){var n=Y6(e,t);if(n){if(n.get)return tS(n.get);if("function"==typeof n.value)return tS(n.value)}e=V6(e)}return function(e){return console.warn("fallback value for",e),null}}function oS(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function sS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function aS(e,t,n){function r(){h.current=[],p.current=!1,m.current=!1,d((e=>({...e,state:null,url:null,blob:null,stream:null,activeTarget:null}))),i()}function i(){x.current&&x.current.getTracks().forEach((e=>{e.stop()})),E.current&&E.current.getTracks().forEach((e=>{e.stop()}))}function o(){f.current.stopRecording((e=>{d((t=>({...t,state:f.current.state,blob:f.current.getBlob(),url:e})))})),i()}function s(r){if(f.current.pauseRecording(),null!==u.stream&&u.stream.getAudioTracks().forEach((e=>{e.enabled=!1})),d((e=>{const t=a();return{...e,state:f.current.state,blob:t,url:URL.createObjectURL(t)}})),r)n({type:r,message:c(`errors.${r}`),data:"maxRecordingSize"===r?(i=e/1024,Number(Number.isInteger(i)?i:i.toFixed(2))):t});else var i}function a(){if(!h.current.length)return null;const e=h.current[0].type;return new Blob(h.current,{type:e})}function l(e,t){let r;switch(e.name){case"TypeError":r="recorderNotSupport";break;case"NotFoundError":case"NotReadableError":r="video"===t?"cameraNotFound":"micNotFound";break;case"NotAllowedError":r="video"===t?"cameraNotAllowed":"screen"===t?"screenNotAllowed":"micNotAllowed";break;default:r="recordError"}n({type:r,message:c(`errors.${r}`)})}const{_e:c}=r6(),[u,d]=MS.useState(G8),f=MS.useRef(null),h=MS.useRef([]),p=MS.useRef(!1),m=MS.useRef(!1),g=-1!==navigator.userAgent.indexOf("Edge"),v=-1!==navigator.userAgent.indexOf("Firefox"),y=-1!==navigator.userAgent.indexOf("Chrome"),b=MS.useRef(null),_={audio:!0,video:!1},w={audio:!0,video:{mediaSource:"screen"}},C={audio:!0,video:!0},x=MS.useRef(null),E=MS.useRef(null),S={recorderType:Y8.MediaStreamRecorder,numberOfAudioChannels:g?1:2,disableLogs:!0,timeSlice:10,ondataavailable:function(n){!function(n){const r=(new Date).getTime(),o=(r-b.current)/1e3;A+=o,A-(v?0:1)>=60*t?(m.current=!0,i(),s("maxRecordingTime")):(h.current?h.current.reduce(((e,t)=>e+t.size),0):0)+n.size>1024*e?(p.current=!0,i(),s("maxRecordingSize")):(h.current.push(n),b.current=r)}(n)}},k={type:"video",...y?{mimeType:"video/webm;codecs=VP8"}:{},...S},D={type:"audio",echoCancellation:!0,...S},T={screen:{type:"video",...y&&{mimeType:"video/webm;codecs=VP8"},...S},voice:D,video:k};let A=0;return{recorder:u,start:async function(e){let t;h.current=[];const n="voice"===e||"screen"===e?_:C;if("voice"===e||"video"===e)try{E.current=await navigator.mediaDevices.getUserMedia(n)}catch(t){return void l(t,e)}if("screen"===e)try{x.current=await navigator.mediaDevices.getDisplayMedia(w);const e=await async function(){try{E.current=await navigator.mediaDevices.getUserMedia({audio:!0})}catch(e){return!1}return!0}();x.current.getVideoTracks()[0].onended=()=>{o()};const n=e?[...x.current.getTracks(),...E.current.getTracks()]:[...x.current.getTracks()];t=new MediaStream(n)}catch(t){return void l(t,e)}else"video"===e?(t=E.current,d((e=>({...e,stream:E.current})))):t=E.current;f.current=J8(t,T[e]),f.current.startRecording(),b.current=new Date,d((t=>({...t,state:f.current.state,activeTarget:e})))},remove:r,pause:s,resume:function(){"screen"===u.activeTarget&&"stopped"===u.state||(p.current?n({type:"maxRecordingSize",message:c("errors.maxRecordingSize"),data:e}):m.current?n({type:"maxRecordingTime",message:c("errors.maxRecordingTime"),data:t}):(b.current=(new Date).getTime(),f.current.resumeRecording(),null!==u.stream&&u.stream.getAudioTracks().forEach((e=>{e.enabled=!0})),d((e=>({...e,state:f.current.state})))))},stop:o,getRealTimeBlob:function(){if(!f.current)return null;f.current.pauseRecording();const e=a();return r(),{blob:e}}}}function lS(){return lS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lS.apply(null,arguments)}function cS(){return cS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cS.apply(null,arguments)}function uS(){return uS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uS.apply(null,arguments)}function dS(){return dS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dS.apply(null,arguments)}function fS(){return fS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fS.apply(null,arguments)}function hS(){return hS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hS.apply(null,arguments)}function pS(){return pS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pS.apply(null,arguments)}function mS(e){let{url:t,onClose:n}=e;const r=MS.useRef(null);return X8(r,n),MS.createElement("div",{className:"ana-chat-recorder__video-player",ref:r},MS.createElement("video",{controls:!0},MS.createElement("source",{src:t})))}function gS(e){let{currentTime:t,duration:n}=e;const r=0===t?Math.floor(n/60):Math.floor(t/60),i=0===t?Math.floor(n%60):Math.floor(t%60);return MS.createElement("div",{className:"ana-chat-player-timer"},`${String(r).padStart(2,"0")}:${String(i).padStart(2,"0")}`)}function vS(e){let{progress:t,min:n,max:r,onChange:i}=e;return MS.createElement("div",{className:"ana-chat-player-progress"},MS.createElement("input",{min:n,max:r,step:.01,type:"range",value:t,onChange:e=>i(e)}),MS.createElement("progress",{max:r,value:t,className:"ana-chat-progress-buffer"}))}function yS(e){const[t,n]=MS.useState(0);return MS.useEffect((()=>{let t=!0;return async function(){try{const r=await async function(e){const t=document.createElement("audio");return t.src="string"==typeof e?e:window.URL.createObjectURL(e),new Promise(((e,n)=>{t.addEventListener("loadedmetadata",(()=>{
t.duration===1/0?(t.currentTime=Number.MAX_SAFE_INTEGER,t.ontimeupdate=()=>{t.ontimeupdate=null,e(t.duration),t.currentTime=0}):e(t.duration)})),t.onerror=e=>n(e.target.error)}))}(e);t&&n(r)}catch(e){console.log("Can't resolve the blob duration.")}}(),()=>{t=!1}}),[e]),t}function bS(e){let{src:t,controls:n=!1}=e;const r=MS.useRef(null),i=yS(t),[o,s]=MS.useState({progress:0,volume:1,currentTime:0,duration:i});MS.useEffect((()=>{s((e=>({...e,duration:i})))}),[i]),MS.useEffect((()=>{function e(e){const{currentTime:t}=e.target;isNaN(t)||0===t||s((e=>({...e,progress:W4*t/e.duration,currentTime:t})))}const t=r.current;return t&&t.addEventListener("timeupdate",e),()=>{t&&t.removeEventListener("timeupdate",e)}}),[]);const a=!1!=!r.current?.paused;return MS.createElement("div",{className:"ana-chat-player"},MS.createElement("audio",{src:t,ref:r}),MS.createElement("button",{onClick:a?function(){r.current&&r.current.pause()}:function(){r.current&&r.current.play()},type:"button"},a?MS.createElement("label",{className:"ana-chat-player__pause"},MS.createElement(d6,{width:22,height:22})):MS.createElement("label",null,MS.createElement(c6,{width:20,height:22,className:"ana-chat-player__play"}))),MS.createElement(vS,{progress:o.progress,onChange:function(e){const{value:t}=e.target;s((e=>({...e,progress:t}))),function(e){const t=r.current,n=parseFloat(e)*o.duration/W4;t.currentTime=n}(t)},min:0,max:W4}),MS.createElement(gS,{currentTime:o.currentTime,duration:o.duration}),n&&MS.createElement("div",{className:"player-volume"},MS.createElement(vS,{progress:o.volume,onChange:function(e){const{value:t}=e.target;s((e=>({...e,volume:t}))),r.current.volume=t},min:0,max:1})))}function _S(e){let{recorder:t,isActive:n}=e;const r=MS.useRef(null),i=F4()({"ana-chat-recorder__video-camera-player":!0,"ana-chat-recorder__active-camera":n});return MS.useEffect((()=>{r.current.srcObject=t.stream,"recording"===t.state&&(r.current.muted=!0,r.current.volume=0)}),[t]),MS.createElement("div",{className:i},MS.createElement("video",{autoPlay:!0,ref:r}))}function wS(){return wS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wS.apply(null,arguments)}function CS(){return CS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CS.apply(null,arguments)}function xS(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e?.length)return!1;const r=[t,`${t}_others`];n&&r.push(`${t}_own`);for(const t of r)if(e.includes(t))return!0;return!1}function ES(){return ES=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ES.apply(null,arguments)}function SS(){return SS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SS.apply(null,arguments)}function kS(){return kS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kS.apply(null,arguments)}function DS(){return DS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DS.apply(null,arguments)}function TS(){return TS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TS.apply(null,arguments)}function AS(){return AS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AS.apply(null,arguments)}function NS(){return NS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NS.apply(null,arguments)}function OS(){return OS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OS.apply(null,arguments)}function jS(){return jS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jS.apply(null,arguments)}var MS=e(9643),RS=e.t(MS,2),FS=e(3766);const LS="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,PS=LS?MS.useLayoutEffect:MS.useEffect;let IS={};const $S=f(1),zS=f(-1),BS=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[BS.Translate.toString(e),BS.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),US={display:"none"},HS={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},WS={onDragStart:e=>`Picked up draggable item ${e}.`,onDragOver:(e,t)=>t?`Draggable item ${e} was moved over droppable area ${t}.`:`Draggable item ${e} is no longer over a droppable area.`,onDragEnd:(e,t)=>t?`Draggable item ${e} was dropped over droppable area ${t}`:`Draggable item ${e} was dropped.`,onDragCancel:e=>`Dragging was cancelled. Draggable item ${e} was dropped.`};var KS;!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(KS||(KS={}));class qS extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const VS={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:{},droppableRects:new Map,droppableContainers:new qS,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:v},scrollableAncestors:[],scrollableAncestorRects:[],measureDroppableContainers:v,windowRect:null,measuringScheduled:!1},YS={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:v,draggableNodes:{},over:null,measureDroppableContainers:v},JS=(0,MS.createContext)(YS),GS=(0,MS.createContext)(VS),XS=(0,MS.createContext)({type:null,event:null}),QS=Object.freeze({x:0,y:0}),ZS=e=>{let{collisionRect:t,droppableContainers:n}=e;const r=[];for(const e of n){const{id:n,rect:{current:i}}=e;if(i){const o=C(i,t);o>0&&r.push({id:n,data:{droppableContainer:e,value:o}})}}return r.sort(w)},ek=x(1),tk={ignoreTransform:!1};var nk;!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(nk||(nk={}));const rk={x:.2,y:.2},ik=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+T(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+A(t)),0)}]];class ok{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=k(t),r=R(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,i]of ik)for(const o of t)Object.defineProperty(this,o,{get:()=>{const t=i(n),s=r[e]-t;return this.rect[o]+s},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}var sk,ak,lk,ck;!function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(sk||(sk={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(ak||(ak={})),function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(lk||(lk={})),function(e){e.Optimized="optimized"}(ck||(ck={}));const uk=new Map,dk={measure:S,strategy:lk.WhileDragging,frequency:ck.Optimized},fk=[],hk=I(S),pk=z(S);class mk{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}var gk,vk;!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(gk||(gk={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}(vk||(vk={}));const yk={start:[vk.Space,vk.Enter],cancel:[vk.Esc],end:[vk.Space,vk.Enter]},bk=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case vk.Right:return{...n,x:n.x+25};case vk.Left:return{...n,x:n.x-25};case vk.Down:return{...n,y:n.y+25};case vk.Up:return{...n,y:n.y-25}}};class _k{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.coordinates=QS,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new mk(a(t)),this.windowListeners=new mk(r(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(gk.Resize,this.handleCancel),this.windowListeners.add(gk.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(gk.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props;if(!e.node.current)throw new Error("Active draggable node is undefined");const n=S(e.node.current),r={x:n.left,y:n.top};this.coordinates=r,t(r)}handleKeyDown(e){if(h(e)){const{coordinates:t}=this,{active:n,context:r,options:i}=this.props,{keyboardCodes:o=yk,coordinateGetter:s=bk,scrollBehavior:a="smooth"}=i,{code:l}=e;if(o.end.includes(l))return void this.handleEnd(e);if(o.cancel.includes(l))return void this.handleCancel(e);const c=s(e,{active:n,context:r.current,currentCoordinates:t});if(c){const n={x:0,y:0},{scrollableAncestors:i}=r.current;for(const r of i){const i=e.code,o=zS(c,t),{isTop:s,isRight:l,isLeft:u,isBottom:d,maxScroll:f,minScroll:h}=O(r),p=M(r),m={x:Math.min(i===vk.Right?p.right-p.width/2:p.right,Math.max(i===vk.Right?p.left:p.left+p.width/2,c.x)),y:Math.min(i===vk.Down?p.bottom-p.height/2:p.bottom,Math.max(i===vk.Down?p.top:p.top+p.height/2,c.y))},g=i===vk.Right&&!l||i===vk.Left&&!u,v=i===vk.Down&&!d||i===vk.Up&&!s;if(g&&m.x!==c.x){if(i===vk.Right&&r.scrollLeft+o.x<=f.x||i===vk.Left&&r.scrollLeft+o.x>=h.x)return void r.scrollBy({left:o.x,behavior:a});n.x=i===vk.Right?r.scrollLeft-f.x:r.scrollLeft-h.x,r.scrollBy({left:-n.x,behavior:a});break}if(v&&m.y!==c.y){if(i===vk.Down&&r.scrollTop+o.y<=f.y||i===vk.Up&&r.scrollTop+o.y>=h.y)return void r.scrollBy({top:o.y,behavior:a});n.y=i===vk.Down?r.scrollTop-f.y:r.scrollTop-h.y,r.scrollBy({top:-n.y,behavior:a});break}}this.handleMove(e,$S(c,n))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t),this.coordinates=t}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}_k.activators=[{eventName:"onKeyDown",handler:(e,t)=>{let{keyboardCodes:n=yk,onActivation:r}=t;const{code:i}=e.nativeEvent;return!!n.start.includes(i)&&(e.preventDefault(),null==r||r({event:e.nativeEvent}),!0)}}];class wk{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){const{EventTarget:t}=r(e);return e instanceof t?e:a(e)}(e.event.target);var i;this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:s}=o;this.props=e,this.events=t,this.document=a(s),this.documentListeners=new mk(this.document),this.listeners=new mk(n),this.windowListeners=new mk(r(s)),this.initialCoordinates=null!=(i=p(o))?i:QS,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(gk.Resize,this.handleCancel),this.windowListeners.add(gk.DragStart,W),this.windowListeners.add(gk.VisibilityChange,this.handleCancel),this.windowListeners.add(gk.ContextMenu,W),this.documentListeners.add(gk.Keydown,this.handleKeydown),t){if(q(t))return;if(V(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay))}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(gk.Click,K,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(gk.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:i}=this,{onMove:o,options:{activationConstraint:s}}=i;if(!r)return;const a=null!=(t=p(e))?t:QS,l=zS(r,a);if(!n&&s){if(V(s))return H(l,s.tolerance)?this.handleCancel():void 0;if(q(s))return null!=s.tolerance&&H(l,s.tolerance)?this.handleCancel():H(l,s.distance)?this.handleStart():void 0}e.cancelable&&e.preventDefault(),o(a)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===vk.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Ck={move:{name:"pointermove"},end:{name:"pointerup"}};class xk extends wk{constructor(e){const{event:t}=e,n=a(t.target);super(e,Ck,n)}}xk.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button||(null==r||r({event:n}),0))}}];const Ek={move:{name:"mousemove"},end:{name:"mouseup"}};var Sk;!function(e){e[e.RightClick=2]="RightClick"}(Sk||(Sk={}));class kk extends wk{constructor(e){super(e,Ek,a(e.event.target))}}kk.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==Sk.RightClick&&(null==r||r({event:n}),!0)}}];const Dk={move:{name:"touchmove"},end:{name:"touchend"}};class Tk extends wk{constructor(e){super(e,Dk)}static setup(){function e(){}return window.addEventListener(Dk.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Dk.move.name,e)}}}Tk.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return!(i.length>1||(null==r||r({event:n}),0))}}];const Ak=[{sensor:xk,options:{}},{sensor:_k,options:{}}],Nk={current:{}},Ok=(0,MS.createContext)({...QS,scaleX:1,scaleY:1}),jk=(0,MS.memo)((function(e){let{id:t,autoScroll:n=!0,announcements:r,children:i,sensors:s=Ak,collisionDetection:a=ZS,measuring:f,modifiers:h,screenReaderInstructions:m=HS,...g}=e;var v,w,C,x,T,A,O;const j=(0,MS.useReducer)(b,void 0,y),[M,I]=j,[$,z]=(0,MS.useState)((()=>({type:null,event:null}))),[U,H]=(0,MS.useState)(!1),{draggable:{active:W,nodes:K,translate:q},droppable:{containers:V}}=M,J=W?K[W]:null,G=(0,MS.useRef)({initial:null,translated:null}),X=(0,MS.useMemo)((()=>{var e;return null!=W?{id:W,data:null!=(e=null==J?void 0:J.data)?e:Nk,rect:G}:null}),[W,J]),Q=(0,MS.useRef)(null),[Z,ee]=(0,MS.useState)(null),[te,ne]=(0,MS.useState)(null),re=l(g,Object.values(g)),ie=d("DndDescribedBy",t),oe=(0,MS.useMemo)((()=>V.getEnabled()),[V]),{droppableRects:se,measureDroppableContainers:ae,measuringScheduled:le}=function(e,t){let{dragging:n,dependencies:r,config:i}=t;const[o,s]=(0,MS.useState)(null),a=null!=o,{frequency:l,measure:u,strategy:d}={...dk,...i},f=(0,MS.useRef)(e),h=(0,MS.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s((t=>t?t.concat(e):e))}),[]),p=(0,MS.useRef)(null),m=function(){switch(d){case lk.Always:return!1;case lk.BeforeDragging:return n;default:return!n}}(),g=c((t=>{if(m&&!n)return uk;const r=o;if(!t||t===uk||f.current!==e||null!=r){const t=new Map;for(let n of e){if(!n)continue;if(r&&r.length>0&&!r.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,i=e?new ok(u(e),e):null;n.rect.current=i,i&&t.set(n.id,i)}return t}return t}),[e,o,n,m,u]);return(0,MS.useEffect)((()=>{f.current=e}),[e]),(0,MS.useEffect)((()=>{m||requestAnimationFrame((()=>h()))}),[n,m]),(0,MS.useEffect)((()=>{a&&s(null)}),[a]),(0,MS.useEffect)((()=>{m||"number"!=typeof l||null!==p.current||(p.current=setTimeout((()=>{h(),p.current=null}),l))}),[l,m,h,...r]),{droppableRects:g,measureDroppableContainers:h,measuringScheduled:a}}(oe,{dragging:U,dependencies:[q.x,q.y],config:null==f?void 0:f.droppable}),ce=function(e,t){const n=null!==t?e[t]:void 0,r=n?n.node.current:null;return c((e=>{var n;return null===t?null:null!=(n=null!=r?r:e)?n:null}),[r,t])}(K,W),ue=te?p(te):null,de=P(ce,null!=(v=null==f||null==(w=f.draggable)?void 0:w.measure)?v:S),fe=hk(ce?ce.parentElement:null),he=(0,MS.useRef)({active:null,activeNode:ce,collisionRect:null,collisions:null,droppableRects:se,draggableNodes:K,draggingNode:null,draggingNodeRect:null,droppableContainers:V,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),pe=V.getNodeFor(null==(C=he.current.over)?void 0:C.id),me=function(e){let{measure:t=E}=e;const[n,r]=(0,MS.useState)(null),i=L({onResize:(0,MS.useCallback)((e=>{for(const{target:n}of e)if(o(n)){r((e=>{const r=t(n);return e?{...e,width:r.width,height:r.height}:r}));break}}),[t])}),s=(0,MS.useCallback)((e=>{const n=B(e);null==i||i.disconnect(),n&&(null==i||i.observe(n)),r(n?t(n):null)}),[t,i]),[a,l]=u(s);return(0,MS.useMemo)((()=>({nodeRef:a,rect:n,setRef:l})),[n,a,l])}({measure:null==f||null==(x=f.dragOverlay)?void 0:x.measure}),ge=null!=(T=me.nodeRef.current)?T:ce,ve=null!=(A=me.rect)?A:de,ye=(0,MS.useRef)(null),be=ye.current,_e=ve===de?(Ce=be,(we=de)&&Ce?{x:we.left-Ce.left,y:we.top-Ce.top}:QS):QS;var we,Ce;const xe=(Ee=ge?ge.ownerDocument.defaultView:null,(0,MS.useMemo)((()=>Ee?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(Ee):null),[Ee]));var Ee;const Se=function(e){const t=(0,MS.useRef)(e),n=c((n=>e?n&&e&&t.current&&e.parentNode===t.current.parentNode?n:k(e):fk),[e]);return(0,MS.useEffect)((()=>{t.current=e}),[e]),n}(W?null!=pe?pe:ge:null),ke=pk(Se),De=Y(h,{transform:{x:q.x-_e.x,y:q.y-_e.y,scaleX:1,scaleY:1},activatorEvent:te,active:X,activeNodeRect:de,containerNodeRect:fe,draggingNodeRect:ve,over:he.current.over,overlayNodeRect:me.rect,scrollableAncestors:Se,scrollableAncestorRects:ke,windowRect:xe}),Te=ue?$S(ue,q):null,Ae=function(e){const[t,n]=(0,MS.useState)(null),r=(0,MS.useRef)(e),i=(0,MS.useCallback)((e=>{const t=D(e.target);t&&n((e=>e?(e.set(t,N(t)),new Map(e)):null))}),[]);return(0,MS.useEffect)((()=>{function t(e){e.forEach((e=>{const t=D(e);null==t||t.removeEventListener("scroll",i)}))}const o=r.current;if(e!==o){t(o);const s=e.map((e=>{const t=D(e);return t?(t.addEventListener("scroll",i,{passive:!0}),[t,N(t)]):null})).filter((e=>null!=e));n(s.length?new Map(s):null),r.current=e}return()=>{t(e),t(o)}}),[i,e]),(0,MS.useMemo)((()=>e.length?t?Array.from(t.values()).reduce(((e,t)=>$S(e,t)),QS):R(e):QS),[e,t])}(Se),Ne=$S(De,Ae),Oe=ve?ek(ve,De):null,je=X&&Oe?a({active:X,collisionRect:Oe,droppableContainers:oe,pointerCoordinates:Te}):null,Me=function(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}(je,"id"),[Re,Fe]=(0,MS.useState)(null),Le=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(De,null!=(O=null==Re?void 0:Re.rect)?O:null,de),Pe=(0,MS.useCallback)(((e,t)=>{function n(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:i}=he.current;let o=null;if(t&&i){const{cancelDrop:s}=re.current;o={active:t,collisions:n,delta:i,over:r},e===KS.DragEnd&&"function"==typeof s&&await Promise.resolve(s(o))&&(e=KS.DragCancel)}Q.current=null,(0,FS.unstable_batchedUpdates)((()=>{if(I({type:e}),Fe(null),H(!1),ee(null),ne(null),o&&z({type:e,event:o}),o){const{onDragCancel:t,onDragEnd:n}=re.current,r=e===KS.DragEnd?n:t;null==r||r(o)}}))}}let{sensor:r,options:i}=t;if(!Q.current)return;const o=K[Q.current];if(!o)return;const s=new r({active:Q.current,activeNode:o,event:e.nativeEvent,options:i,context:he,onStart(e){const t=Q.current;if(!t)return;const n=K[t];if(!n)return;const{onDragStart:r}=re.current,i={active:{id:t,data:n.data,rect:G}};(0,FS.unstable_batchedUpdates)((()=>{I({type:KS.DragStart,initialCoordinates:e,active:t}),z({type:KS.DragStart,event:i})})),null==r||r(i)},onMove(e){I({type:KS.DragMove,coordinates:e})},onEnd:n(KS.DragEnd),onCancel:n(KS.DragCancel)});(0,FS.unstable_batchedUpdates)((()=>{ee(s),ne(e.nativeEvent)}))}),[K]),Ie=(0,MS.useCallback)(((e,t)=>(n,r)=>{const i=n.nativeEvent;null!==Q.current||i.dndKit||i.defaultPrevented||!0===e(n,t.options)&&(i.dndKit={capturedBy:t.sensor},Q.current=r,Pe(n,t))}),[Pe]),$e=function(e,t){return(0,MS.useMemo)((()=>e.reduce(((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:t(e.handler,n)})))]}),[])),[e,t])}(s,Ie);!function(e){(0,MS.useEffect)((()=>{if(!LS)return;const t=e.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const e of t)null==e||e()}}),e.map((e=>{let{sensor:t}=e;return t})))}(s),(0,MS.useEffect)((()=>{null!=W&&H(!0)}),[W]),(0,MS.useEffect)((()=>{X||(ye.current=null),X&&de&&!ye.current&&(ye.current=de)}),[de,X]),(0,MS.useEffect)((()=>{const{onDragMove:e}=re.current,{active:t,collisions:n,over:r}=he.current;if(!t)return;const i={active:t,collisions:n,delta:{x:Ne.x,y:Ne.y},over:r};z({type:KS.DragMove,event:i}),null==e||e(i)}),[Ne.x,Ne.y]),(0,MS.useEffect)((()=>{const{active:e,collisions:t,droppableContainers:n,scrollAdjustedTranslate:r}=he.current;if(!e||!Q.current||!r)return;const{onDragOver:i}=re.current,o=n.get(Me),s=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,a={active:e,collisions:t,delta:{x:r.x,y:r.y},over:s};(0,FS.unstable_batchedUpdates)((()=>{Fe(s),z({type:KS.DragOver,event:a}),null==i||i(a)}))}),[Me]),PS((()=>{he.current={active:X,activeNode:ce,collisionRect:Oe,collisions:je,droppableRects:se,draggableNodes:K,draggingNode:ge,draggingNodeRect:ve,droppableContainers:V,over:Re,scrollableAncestors:Se,scrollAdjustedTranslate:Ne},G.current={initial:ve,translated:Oe}}),[X,ce,je,Oe,K,ge,ve,se,V,Re,Se,Ne]),F({...function(){const e=!1===(null==Z?void 0:Z.autoScrollEnabled),t="object"==typeof n?!1===n.enabled:!1===n,r=!e&&!t;return"object"==typeof n?{...n,enabled:r}:{enabled:r}}(),draggingRect:Oe,pointerCoordinates:Te,scrollableAncestors:Se,scrollableAncestorRects:ke});const ze=(0,MS.useMemo)((()=>({active:X,activeNode:ce,activeNodeRect:de,activatorEvent:te,collisions:je,containerNodeRect:fe,dragOverlay:me,draggableNodes:K,droppableContainers:V,droppableRects:se,over:Re,measureDroppableContainers:ae,scrollableAncestors:Se,scrollableAncestorRects:ke,measuringScheduled:le,windowRect:xe})),[X,ce,de,te,je,fe,me,K,V,se,Re,ae,Se,ke,le,xe]),Be=(0,MS.useMemo)((()=>({activatorEvent:te,activators:$e,active:X,activeNodeRect:de,ariaDescribedById:{draggable:ie},dispatch:I,draggableNodes:K,over:Re,measureDroppableContainers:ae})),[te,$e,X,de,I,ie,K,Re,ae]);return MS.createElement(XS.Provider,{value:$},MS.createElement(JS.Provider,{value:Be},MS.createElement(GS.Provider,{value:ze},MS.createElement(Ok.Provider,{value:Le},i))),MS.createElement(_,{announcements:r,hiddenTextDescribedById:ie,screenReaderInstructions:m}))})),Mk=(0,MS.createContext)(null),Rk="button",Fk={timeout:25},Lk=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const o=X(t,r,n),s=t[i],a=o[i];return a&&s?{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}:null},Pk="Sortable",Ik=MS.createContext({activeIndex:-1,containerId:Pk,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Lk}),$k=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return X(n,r,i).indexOf(t)},zk=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:o,newIndex:s,previousItems:a,previousContainerId:l,transition:c}=e;return!(!c||!r||a!==o&&i===s||!n&&(s===i||t!==l))},Bk={duration:200,easing:"ease"},Uk="transform",Hk=BS.Transition.toString({property:Uk,duration:0,easing:"linear"}),Wk={roleDescription:"sortable"};vk.Down,vk.Right,vk.Up,vk.Left;const Kk=e=>{let{transform:t}=e;return{...t,x:0}};"function"==typeof SuppressedError&&SuppressedError;const qk=e=>((e=null==e?void 0:e.toLowerCase().replace(/^http:\/\//g,"https://")).includes("http")&&e.includes("https")||(e="https://"+e),new RegExp("^(?:(?:http(?:s)?|ftp)://)(?:\\S+(?::(?:\\S)*)?@)?(?:(?:[a-z0-9\xa1-\uffff](?:-)*)*(?:[a-z0-9\xa1-\uffff])+)(?:\\.(?:[a-z0-9\xa1-\uffff](?:-)*)*(?:[a-z0-9\xa1-\uffff])+)*(?:\\.(?:[a-z0-9\xa1-\uffff]){2,})(?::(?:\\d){2,5})?(?:/(?:\\S)*)?$").test(e)),Vk=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(null==e)return null;for(var n in e)n in e&&("object"==typeof e[n]?Vk(e[n],t):t.includes(n)&&delete e[n]);return e},Yk=(e,t)=>"object"==typeof e&&"object"==typeof t&&e&&t?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every((n=>Yk(e[n],t[n]))):JSON.stringify(e)===JSON.stringify(t),Jk=e=>JSON.parse(JSON.stringify(e)),Gk=()=>{var e,t;return"_"+(null===(e=Math.random().toString(36))||void 0===e?void 0:e.substr(2))+"-"+(null===(t=Math.random().toString(36))||void 0===t?void 0:t.substr(2))},Xk=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).sort(((e,t)=>e.sort-t.sort)).map(((e,t)=>e.sort!==t?Object.assign(Object.assign({},e),{sort:t}):e))},Qk=MS.createContext({updateBlockSort:()=>{},UpdateBlockData:()=>{},removeBlock:()=>{},addBlock:()=>{}}),Zk=e=>{const{children:t,onSaveComplete:n,onUploadNewImages:r,batchUploadNewImages:i,enabledBlocks:o,onDeleteImage:s=(()=>{}),profile:a,appData:l}=e,[c,u]=(0,MS.useState)(Object.assign({},l)),[d,f]=(0,MS.useState)([]),h=e=>{const t=e?((e,t)=>e.filter((e=>null==t?void 0:t.includes(e.type))))(e,o||[]):[];return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>Object.assign(Object.assign({},(e=>{switch(e.type){case"url":return Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{items:e.data.items.map((e=>{var t,n;return Object.assign(Object.assign({},e),{visible:e.title&&e.url&&(null===(t=e.title)||void 0===t?void 0:t.trim().length)>1&&(null===(n=e.url)||void 0===n?void 0:n.trim().length)>1})}))})});case"list":return Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{items:e.data.items.map((e=>{var t;return Object.assign(Object.assign({},e),{visible:null===(t=e.title)||void 0===t?void 0:t.trim().length})}))})});default:return e}})(e)),{visible:ie(e)})))}(Xk(t.map((e=>{var t,n,r;if((null==e?void 0:e.data)&&(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.items)&&(null===(r=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.items)||void 0===r?void 0:r.length)){const t=Xk(e.data.items);return Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{items:t})})}return e}))))};return MS.useEffect((()=>{const e=Jk(a);f(h(null==e?void 0:e.blocks))}),[null==a?void 0:a.blocks]),MS.useEffect((()=>{if(null==c?void 0:c.saveMode){const e=localStorage.getItem("cachedBlocks"),t=!Yk(Vk(JSON.parse(e),["visible","new","tempID"]),Vk(Jk(d),["visible","new","tempID"]));null==n||n({blocks:d.map((e=>(delete e.tempID,e))),changed:t}),localStorage.setItem("cachedBlocks",JSON.stringify(d))}}),[null==c?void 0:c.saveMode]),MS.useEffect((()=>{u(l),l&&(l.locale=l.locale?l.locale:"ar")}),[l]),MS.useEffect((()=>{var e;return localStorage.setItem("cachedBlocks",JSON.stringify(null!==(e=h(null==a?void 0:a.blocks))&&void 0!==e?e:[])),()=>{localStorage.removeItem("cachedBlocks")}}),[]),MS.createElement(Qk.Provider,{value:{data:c,blocks:d,updateBlockSort:(e,t)=>{let n=[...d];if("up"===e&&t>0){const e=n.find((e=>e.sort===t));let r=n.find((e=>e.sort===t-1));if(!e||!r)return;e.sort--,r.sort++,f([...n])}else if("down"===e&&t<n.length-1){const e=n.find((e=>e.sort===t));let r=n.find((e=>e.sort===t+1));if(!e||!r)return;r.sort--,e.sort++,f([...n])}},UpdateBlockData:(e,t,n,r)=>{let i=[...d],o=i.find((t=>t.sort===e));if(o){if("title"===n&&"string"==typeof r)o.title=r;else if("data"===n)switch(t){case"text":o.data.text=r;break;case"list":case"url":case"image":case"video":o.data.items=r}o.visible=ie(o),f(i)}},uploadNewImages:r,batchUploadNewImages:i,deleteImage:s,removeBlock:e=>{let t=d.filter((t=>t.sort!==e));t.map(((e,t)=>e.sort=t)),f(t)},addBlock:e=>{e.visible=!1,e.tempID=Gk(),f(d.length?[...d,e]:[e])}}},t)},eD={ar:{titleBlock:{title:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0641\u0642\u0631\u0629 "},textBlock:{title:"\u0627\u0643\u062a\u0628 \u0645\u062d\u062a\u0648\u064a \u0627\u0644\u0641\u0642\u0631\u0629 \u0627\u0644\u0630\u064a \u062a\u0631\u064a\u062f\u0647"},videoBlock:{title:"https://www.youtube.com/watch?v=xxxxxxxxx"},urlsBlock:{title:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0631\u0627\u0628\u0637",link:"https://example.com",addNew:"\u0623\u0636\u0641 \u0631\u0627\u0628\u0637 \u062c\u062f\u064a\u062f"},listBlock:{title:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0639\u0646\u0635\u0631",text:"\u0627\u0643\u062a\u0628 \u0648\u0635\u0641 \u0644\u0647\u0630\u0627 \u0627\u0644\u0639\u0646\u0635\u0631",addNew:"\u0623\u0636\u0641 \u0639\u0646\u0635\u0631 \u0642\u0627\u0626\u0645\u0629"},emptyBlocks:{title:"\u0645\u0644\u0641\u0643 \u0627\u0644\u0634\u062e\u0635\u064a \u0641\u0627\u0631\u063a",text:"\u0627\u0628\u062f\u0623 \u0628\u0625\u0636\u0627\u0641\u0629 \u0645\u062d\u062a\u0648\u0649 \u0628\u0627\u0644\u0636\u063a\u0637 \u0639\u0644\u0649 \u0627\u0644\u0623\u0632\u0631\u0627\u0631 \u0627\u0644\u062a\u0627\u0644\u064a\u0629",textPreview:"\u0627\u0628\u062f\u0623 \u0628\u0625\u0636\u0627\u0641\u0629 \u0645\u062d\u062a\u0648\u0649 \u0628\u0627\u0644\u0636\u063a\u0637 \u0639\u0644\u0649 \u0632\u0631 \u0627\u0644\u062a\u0639\u062f\u064a\u0644"},global:{delete:"\u062d\u0630\u0641",noTitle:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0639\u0646\u0648\u0627\u0646",confirm:{block:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0631\u063a\u0628\u062a\u0643 \u0628\u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0641\u0642\u0631\u0629\u061f",url:"\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0627\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0631\u0627\u0628\u0637\u061f",image:"\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0627\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0635\u0648\u0631\u0629\u061f",list:"\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0627\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0639\u0646\u0635\u0631\u061f"}},blockList:{text:"\u0646\u0635",list:"\u0642\u0627\u0626\u0645\u0629",url:"\u0631\u0648\u0627\u0628\u0637",image:"\u0635\u0648\u0631",video:"\u0641\u064a\u062f\u064a\u0648"},errors:{url:"\u0631\u0627\u0628\u0637 \u063a\u064a\u0631 \u0635\u0627\u0644\u062d"}},en:{titleBlock:{title:"Section title"},textBlock:{title:"Write paragraph content"},videoBlock:{title:"https://www.youtube.com/watch?v=xxxxxxxx"},urlsBlock:{title:"Link title",link:"https://example.com",addNew:"add a link"},listBlock:{title:"list title",text:"list item description",addNew:"add a list item "},emptyBlocks:{title:"Your profile is empty",text:"Start adding the content from the following buttons",
textPreview:"Start adding content by clicking edit button"},global:{delete:"delete",noTitle:"No title",confirm:{block:"Are you sure you want to remove this section?",url:"Are you sure you want to remove this link?",image:"Are you sure you want to remove this image?"}},blockList:{text:"Text",list:"List",url:"Links",image:"Gallery",video:"Video"},errors:{url:"Invalid url"}}},tD=()=>{var e,t;const n=(0,MS.useContext)(Qk);return{translate:(0,MS.useCallback)(((e,t,r)=>{try{return n.data.locales[t][r]}catch(n){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ar",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e&&t&&n||!e||!t||!n?eD[e][t][n]:"missed translate"}(e,t,r)}}),[null===(e=n.data)||void 0===e?void 0:e.locales,null===(t=n.data)||void 0===t?void 0:t.locale])}},nD=e=>{const{title:t,block:n,onChange:r,editMode:i,locale:o,classNames:s,blockType:a="titleBlock",children:l}=e,c=(0,MS.useRef)(null),u=(0,MS.useRef)(null),[d,f]=(0,MS.useState)(!1),{translate:h}=tD();(0,MS.useEffect)((()=>{var e;i&&n.tempID&&!n.visible&&!t&&(null===(e=null==u?void 0:u.current)||void 0===e||e.focus())}),[]);const p=()=>{f(!0),setTimeout((()=>{var e;null===(e=null==c?void 0:c.current)||void 0===e||e.focus()}),0)};return MS.createElement(MS.Fragment,null,MS.createElement("div",{className:"block-title "+(i?"profile-builder-show":"profile-builder-hide")},l,MS.createElement("h2",{ref:u,tabIndex:0,style:{color:t?"":"rgb(117, 117, 117)",display:d?"none":"block",cursor:"pointer"},className:`block-title-text ${s}`,onClick:()=>{setTimeout((()=>{p()}),10)},onFocus:()=>{p()}},t||h(o,a,"title")),MS.createElement("input",{ref:c,onBlur:()=>{f(!1)},style:{display:d?"block":"none"},tabIndex:0,type:"text",className:`block-title-input ${s} ${i?"profile-builder-show":"profile-builder-hide"}`,placeholder:h(o,a,"title"),value:null!=t?t:"",onChange:r})),!!t&&MS.createElement("div",{className:"block-title "+(i?"profile-builder-hide":"profile-builder-show")},MS.createElement("h2",{className:`block-title-text ${s} ${i?"profile-builder-hide":"profile-builder-show"}`},t)))},rD=e=>{var t,n,r,i;const o=MS.useContext(Qk),{seperator:s,block:a,changePosition:l,onChangeData:c,removeBlock:u,blockTitle:d,classNames:f,children:h,editMode:p,locale:m}=e;return MS.useEffect((()=>{var e;(null===(e=o.data)||void 0===e?void 0:e.saveMode)&&c("title",null==d?void 0:d.replace(/\s\s+/g," "))}),[null===(t=o.data)||void 0===t?void 0:t.saveMode,d,c]),MS.createElement("div",{className:"profile-block "+(p||a.visible?"":"profile-builder-hide")},s&&MS.createElement("hr",{className:"profile-block-separator"}),MS.createElement("div",{className:"block-wrapper"},MS.createElement("div",{className:`icons-container ${null==f?void 0:f.iconsContainer}  ${p?"":"profile-builder-hide"}`},MS.createElement("div",{className:"sort-block click-behavior"},MS.createElement("i",{className:"sort-block-icon-top "+(null===(n=null==f?void 0:f.icons)||void 0===n?void 0:n.up),onClick:()=>l("up")}),MS.createElement("i",{className:"sort-block-icon-down "+(null===(r=null==f?void 0:f.icons)||void 0===r?void 0:r.down),onClick:()=>l("down")}),MS.createElement("div",{className:"remove-block click-behavior",onClick:u},MS.createElement("i",{className:null===(i=null==f?void 0:f.icons)||void 0===i?void 0:i.remove})))),MS.createElement("div",{className:"profile-block-content"},MS.createElement(nD,{classNames:(null==f?void 0:f.inputTitle)||"",editMode:p,title:d,locale:m,onChange:e=>{const{target:{value:t}}=e;c("title",null==t?void 0:t.substring(0,110))},block:a}),h)))};var iD=MS.memo((e=>{var t;const{data:n,editMode:r,onChangeData:i,locale:o,classNames:s,block:a="textBlock",blockItem:l="title",rows:c=1,textareaProps:u}=e,d=MS.useContext(Qk),[f,h]=MS.useState(!1),{translate:p}=tD(),m=(0,MS.useRef)(null);var g=(0,MS.useRef)(null);!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const r=r=>{e&&e.current&&r.target&&e.current.contains(r.target)?n(r):t(r)};(0,MS.useEffect)((()=>(document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)})),[])}(m,(()=>{b()}));const v=Gk(),y=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;const n=document.getElementById(v);let r=null===(t=null==g?void 0:g.current)||void 0===t?void 0:t.getBoundingClientRect(),i=window.scrollY||(document.documentElement||document.body.parentNode||document.body).scrollTop,o=Number(null==n?void 0:n.style.height.slice(0,-2));if(n){n.style.height="auto";const t=n.scrollHeight;let s=(null==r?void 0:r.height)?r.height-t:0,a=t+s;n.style.height=a+"px",n.parentElement&&(n.parentElement.style.height=a+"px");let l=Math.abs(Math.round(i+(t+s-o)));e&&l&&!isNaN(l)&&n.value&&window.scrollTo({top:l})}},b=()=>{h(!1);const e=document.getElementById(v);e&&e.parentElement&&(e.parentElement.style.height="")};MS.useEffect((()=>{const e=()=>{f&&y()};return window.addEventListener("resize",e),i("data",n),()=>{window.removeEventListener("resize",e)}}),[]),MS.useEffect((()=>{var e;(null===(e=d.data)||void 0===e?void 0:e.saveMode)&&i("data",(e=>null==e?void 0:e.replace(/ +(?= )/g,"").replace(/\n\n\n+/g,"\n\n").replace(/^\s+/g,"").replace(/\n /g,"\n").replace(/\n+$/g,""))(n))}),[null===(t=d.data)||void 0===t?void 0:t.saveMode]);const _=e=>{const t=document.getElementById(v);e.preventDefault(),y(!1),h(!0),requestAnimationFrame((()=>{null==t||t.focus(),null==t||t.setSelectionRange(null==t?void 0:t.value.length,null==t?void 0:t.value.length)}))};return MS.createElement("div",{className:"react-profile-builder__block-container "+(null==s?void 0:s.container)},MS.createElement("div",{className:"block-text "+(r?"block-textarea":"")},MS.createElement("div",{className:r?"profile-builder-show":"profile-builder-hide"},MS.createElement("div",{ref:g,className:`block-text-render ${null==s?void 0:s.textareaBlock} ${r?"clickable":""}`,style:{color:n?"":"rgb(117, 117, 117)",display:f?"none":"block",outline:"none",marginBottom:0,whiteSpace:"pre-wrap"},tabIndex:0,onFocus:_,onClick:_},n?null==n?void 0:n.split("\n").map(((e,t)=>e?MS.createElement("p",{key:t,className:"block-text-render-text "},e):MS.createElement("p",{key:t,className:"block-text-render-text "},"\xa0"))):MS.createElement("p",{className:"block-text-render-text "},p(o,a,l))),MS.createElement("textarea",Object.assign({id:v,ref:m,tabIndex:0,onChange:e=>{(e=>{const{target:{value:t}}=e;i("data",t),y()})(e)},style:{display:f?"block":"none",zIndex:99,width:"100%"},onBlur:()=>{b()},rows:c,className:`block-text-textarea ${null==s?void 0:s.textareaBlock}`,value:n||"",placeholder:p(o,a,l)},u))),MS.createElement("div",{className:"block-text-render "+(r?"profile-builder-hide":"profile-builder-show")},null==n?void 0:n.replace(/\n+$/,"").split("\n").map(((e,t)=>e?MS.createElement("p",{key:t,className:`block-text-render-text ${null==s?void 0:s.textareaBlock}`},e):MS.createElement("p",{key:t,className:`block-text-render-text ${null==s?void 0:s.textareaBlock}`},"\xa0"))))))})),oD=MS.memo((e=>{var t,n;const{classNames:r,link:i,changeValue:o,locale:s,elmId:a,removeUrlItem:l,editMode:c,onFocus:u=(()=>{})}=e,d=MS.useContext(Qk),f=MS.useRef(null),h=MS.useRef(null),p=MS.useRef(null),[m,g]=MS.useState(!!i.new),[v,y]=MS.useState(null!==(t=null==i?void 0:i.url)&&void 0!==t?t:""),[b,_]=MS.useState(!1),w=((()=>{const[e,t]=(0,MS.useState)({width:void 0,height:void 0});return(0,MS.useEffect)((()=>{const e=()=>{t({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),e})().width||577)<576,{translate:C}=tD(),x=(null===(n=null==d?void 0:d.data)||void 0===n?void 0:n.isRTL)?{left:w?"0.1rem":8}:{right:w?"0.1rem":8};return MS.useEffect((()=>{i.url&&y(i.url)}),[i.url]),MS.useEffect((()=>{qk(v)&&null!=i.sort&&o("url",i.sort,{target:{value:v}})}),[v]),MS.createElement("div",{className:"block-urls-link-render",id:"block-urls"},MS.createElement("h3",{className:"block-urls-render-title "+(b?"text-error":"")+` ${null==r?void 0:r.urlText}`,id:a,onClick:function(){g(!0)},onFocus:()=>{u(!0),window.addEventListener("keyup",(function e(t){"Tab"==t.key&&g(!0),window.removeEventListener("keyup",e)}))},style:{marginBottom:m&&w?45:"",transition:"margin-bottom 0.1s ease"},tabIndex:0},i.title?i.title:C(s,"urlsBlock","title")),m&&MS.createElement("div",{className:"block-urls-unit",id:`${a}-edit`,onBlur:e=>{var t,n;(null===(t=f.current)||void 0===t?void 0:t.contains(e.relatedTarget))||(null===(n=p.current)||void 0===n?void 0:n.contains(e.relatedTarget))||(!qk(v)&&v?(_(!0),g(!0)):null!=i.sort&&(o("url",i.sort,{target:{value:v}}),setTimeout((()=>{g(!1)}),100),u(!1)))}},MS.createElement("input",{ref:h,tabIndex:0,autoFocus:c,className:`block-urls-unit-title ${null==r?void 0:r.inputUrl}`,type:"text",placeholder:C(s,"urlsBlock","title"),defaultValue:i.title,onChange:e=>{var t;const{target:{value:n}}=e,r=e.target.selectionStart;new RegExp(/\s\s+|^ /g).test(n)&&r&&(e.persist(),requestAnimationFrame((()=>{e.target.setSelectionRange(r-1,r-1)}))),null!=i.sort&&o("title",i.sort,{target:{value:null===(t=null==n?void 0:n.substring(0,110))||void 0===t?void 0:t.replace(/\s\s+/g," ").replace(/^ /g,"")}})}}),MS.createElement("div",{ref:p,tabIndex:1,className:"block-urls-remove-url-item click-behavior",style:x,onClick:()=>{null!=i.sort&&l(i.sort)}},MS.createElement("i",{className:"remove-url-icon "+(null==r?void 0:r.remove)})),MS.createElement("input",{ref:f,tabIndex:0,className:`block-urls-unit-link ${b?"input-error":""} ${null==r?void 0:r.inputUrl}`,type:"text",placeholder:C(s,"urlsBlock","link"),defaultValue:v,onChange:e=>{let{target:{value:t}}=e;_(!1),y(t)}})))}));const sD=e=>{const{removeUrlItem:t,link:n,classNames:r,elmId:i,editMode:o,changeValue:s,locale:a,onFocus:l=(()=>{})}=e;return MS.createElement("div",{className:`block-urls-unit-content ${null==r?void 0:r.urlItem} ${o?"profile-builder-show":"profile-builder-hide"}`},MS.createElement(oD,{removeUrlItem:t,elmId:i,classNames:r,link:n,changeValue:s,locale:a,editMode:o,onFocus:l}))},aD=e=>{const{title:t,link:n,locale:r}=e,{translate:i}=tD();return MS.createElement("h3",{className:"block-urls-render-title"},MS.createElement("a",{href:n,className:"block-urls-render-link",rel:"noopener noreferrer",target:"_blank"},t||i(r,"urlsBlock","title")))};class lD extends kk{}lD.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(2===n.button||n.target&&oe(n.target)||(null==r||r({event:n}),0))}}];class cD extends Tk{}cD.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return!(i.length>1||n.target&&oe(n.target)||(null==r||r({event:n}),0))}}];const uD=e=>{const{items:t,className:n="sortable__list",onDragEnd:r=(()=>{}),onDragStart:i=(()=>{}),dndContextProps:o}=e,s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,MS.useMemo)((()=>[...t].filter((e=>null!=e))),[...t])}(U(cD,{activationConstraint:{delay:250,tolerance:5}}),U(lD,{activationConstraint:{distance:10}}));return MS.createElement(jk,Object.assign({sensors:s,onDragStart:i,onDragEnd:r},o),MS.createElement(ee,{items:t},MS.createElement("div",{className:n},e.children)))},dD=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[dD.Translate.toString(e),dD.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),fD=e=>{const{className:t="sortable__item"}=e,{attributes:n,isDragging:r,listeners:i,setNodeRef:o,transform:s,transition:a}=te({id:e.id}),l={position:"relative",transform:dD.Translate.toString(s),transition:a,zIndex:r?1:void 0};return MS.createElement("div",Object.assign({ref:o},n,i,{style:l,role:"",className:t}),e.children)},hD=e=>{const{data:t,onChangeData:n,editMode:r,classNames:i,locale:o}=e,s=ne(e,["data","onChangeData","editMode","classNames","locale"]),{translate:a}=tD();return MS.createElement(uD,Object.assign({items:t.map((e=>{var t;return Object.assign(Object.assign({},e),{id:null!==(t=e.id)&&void 0!==t?t:e.tempID})}))},s,{className:"block-urls edit-mode rpb-row "+(r?"profile-builder-flex":"profile-builder-hide")}),t.map(((t,n)=>{var r,i,o,s,a,l;return MS.createElement(fD,{className:"block-url-unit-container rpb-col-lg-4 rpb-col-md-3 ",id:null!==(o=null!==(i=null!==(r=t.id)&&void 0!==r?r:null==t?void 0:t.tempID)&&void 0!==i?i:String(null==t?void 0:t.sort))&&void 0!==o?o:String(n),key:null!==(l=null!==(a=null!==(s=t.id)&&void 0!==s?s:null==t?void 0:t.tempID)&&void 0!==a?a:String(null==t?void 0:t.sort))&&void 0!==l?l:String(n)},MS.createElement(pD,Object.assign({link:t},e)))})),MS.createElement("div",{className:"block-url-button-container rpb-col-lg-4 rpb-col-md-3 rpb-col-sm-6 rpb-col-12"},MS.createElement("button",{tabIndex:0,className:`block-urls-button btn-sm ${null==i?void 0:i.urlButton} `,onClick:()=>{let e={sort:t.length?(t[t.length-1].sort||0)+1:0,title:"",url:"",visible:!1,new:!0,tempID:Gk()};n("data",[...t,e])}},MS.createElement("i",{className:"block-urls-button-icon "+(null==i?void 0:i.add)}),a(o,"urlsBlock","addNew"))))},pD=e=>{const{link:t,data:n,sort:r,classNames:i,editMode:o,locale:s,onChangeData:a}=e,{translate:l}=tD();return MS.createElement(sD,{elmId:`block-${r}-${t.sort}`,classNames:i,editMode:o,changeValue:(e,t,r)=>{let i,{target:{value:o=""}}=r;"url"!==e||o.includes("http://")||o.includes("https://")||!o||(i="https://"+o);const s=n.map((n=>{var r;return n.sort===t?Object.assign(Object.assign({},n),{[e]:"url"!==e||o.includes("http://")||o.includes("https://")?o:i,new:!1,visible:n.title&&(null===(r=n.title)||void 0===r?void 0:r.trim().length)>1&&(null==o?void 0:o.trim().length)>1}):n}));a("data",s)},link:t,locale:s,removeUrlItem:e=>{if(window.confirm(l(s,"global","confirm").url)){let t=Jk(n).filter((t=>t.sort!==e));t.map(((e,t)=>e.sort=t)),a("data",t)}}})},mD=e=>{const{translate:t}=tD(),{data:n,editMode:r,onChangeData:i,locale:o}=e;return MS.createElement("div",{className:"react-profile-builder__block-container "+(r?"editMode":"")},MS.createElement(hD,Object.assign({onDragEnd:e=>{(e=>{let{active:t,over:r}=e;if(t.id!==(null==r?void 0:r.id)&&r){const e=null==n?void 0:n.findIndex((e=>(e.id||e.tempID)===t.id)),o=null==n?void 0:n.findIndex((e=>(e.id||e.tempID)===r.id));let s=X([...n],e,o);s.map(((e,t)=>e.sort=t)),i("data",s)}})(e)},dndContextProps:{modifiers:[]}},Object.assign({},e))),MS.createElement("div",{className:"block-urls rpb-row "+(r?"profile-builder-hide":"profile-builder-flex")},n.length>0&&n.filter((e=>e.visible)).map(((e,n)=>{var r;return MS.createElement("div",{className:"block-urls-render block-urls-render-b rpb-col-lg-4 rpb-col-md-3",key:n},MS.createElement(aD,{locale:o,title:null!==(r=e.title)&&void 0!==r?r:t(o,"global","noTitle"),link:e.url||""}))}))))},gD=e=>{var t;const{data:n,editMode:r,onChangeData:i,locale:o,classNames:s}=e,a=MS.useRef(null),{translate:l}=tD(),[c,u]=MS.useState(""),[d,f]=MS.useState(null),h=e=>re(void 0,void 0,void 0,(function*(){if(e.includes("vimeo")||e.includes("youtu")){let t=yield function(e){return re(this,void 0,void 0,(function*(){let t={type:void 0,videoId:void 0,url:void 0,thumbinal:void 0};if(e.includes("youtu")){const n=(e=>{let t;const n=e.match(/^(https?:\/\/)?((www\.)?(youtube(-nocookie)?|youtube.googleapis)\.com.*(v\/|v=|vi=|vi\/|e\/|embed\/|user\/.*\/u\/\d+\/)|youtu\.be\/)([_0-9a-z-]+)/i);return n&&n[7]&&(t=n[7]),t})(e);t.type="youtube",t.videoId=n,t.url=e,t.iframeUrl=`https://www.youtube.com/embed/${n}?controls=0&modestbranding=1&rel=0&showinfo=0&theme=light&hd=1`,t.thumbinal=`https://img.youtube.com/vi/${n}/0.jpg`}if(e.includes("vimeo")){const n=(e=>{let t=e.match(/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?/i);if(t)return t[1]})(e);t.type="vimeo",t.videoId=n,t.url=e,t.iframeUrl=`https://player.vimeo.com/video/${n}`,t.thumbinal=n&&(yield function(e){return re(this,void 0,void 0,(function*(){let t;return yield fetch(`https://vimeo.com/api/oembed.json?url=https://vimeo.com/${e}`).then((e=>e.json())).then((e=>{t=e.thumbnail_url})),t}))}(n))}return t}))}(e);f(t),i("data",[Object.assign(Object.assign({},null==n?void 0:n.items[0]),{url:t.url,type:t.type,visible:!0})])}else f(null)}));return MS.useEffect((()=>{c&&h(c)}),[c]),MS.useEffect((()=>{var e;const t=null===(e=n.items[0])||void 0===e?void 0:e.url;t&&(h(t),u(t))}),[null===(t=n.items[0])||void 0===t?void 0:t.url]),MS.useEffect((()=>{r&&a&&a.current&&d&&(a.current.src=d.iframeUrl||"")}),[r]),MS.createElement("div",{className:"react-profile-builder__block-container"},MS.createElement("div",{className:`video-block ${null==s?void 0:s.videoBlock}`},MS.createElement("div",{className:r?"profile-builder-show":"profile-builder-hide"},MS.createElement("div",{className:"video-input-container"},MS.createElement("input",{tabIndex:0,className:"video-block-input form-control",type:"text",value:c,placeholder:l(o,"videoBlock","title"),onChange:e=>{u(e.target.value)}})),MS.createElement("div",{className:"video-block-thumbinal",style:{backgroundImage:`url(${d&&d.thumbinal?d.thumbinal:""})`}})),MS.createElement("div",{className:"video-block-iframe-container "+(!r&&(null==d?void 0:d.iframeUrl)?"profile-builder-show":"profile-builder-hide")},MS.createElement("iframe",{ref:a,title:"promo",src:null==d?void 0:d.iframeUrl,width:"1280",height:"720",className:"video-block-iframe",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}))))},vD=e=>{const{emptyImage:t,emptyTitle:n,emptyText:r,emptyTextOnPreview:i,preview:o=!1,locale:s}=e,{translate:a}=tD();return MS.createElement("div",{className:"empty-blocks"},t&&MS.createElement("img",{alt:"",className:"empty-block-image",src:t}),MS.createElement("h2",{className:"empty-blocks-text"},n||a(s,"emptyBlocks","title")),MS.createElement("p",{className:"empty-blocks-text"},o?i||a(s,"emptyBlocks","textPreview"):r||a(s,"emptyBlocks","text")))},yD=e=>{var t,n;const r=MS.useContext(Qk),{translate:i}=tD(),{listItem:o,editMode:s,data:a,onChangeData:l,locale:c,classNames:u}=e,[d,f]=(0,MS.useState)(!1),h=(0,MS.useRef)(null),p=(0,MS.useRef)(null),m=e=>{const{target:{value:t}}=e,n=a.findIndex((e=>e.sort==o.sort)),r=[...a];r[n].title=null==t?void 0:t.substring(0,110),r[n].visible=!!t,l("data",r)},g=()=>{f(!1)};(0,MS.useEffect)((()=>m({target:{value:o.title}})),[]),MS.useEffect((()=>{var e,t;(null===(e=r.data)||void 0===e?void 0:e.saveMode)&&m({target:{value:null===(t=null==o?void 0:o.title)||void 0===t?void 0:t.replace(/\s\s+/g," ")}})}),[null===(t=r.data)||void 0===t?void 0:t.saveMode,o]),(0,MS.useEffect)((()=>{var e,t;!s||o.visible||!o.tempID||o.title||(null===(e=r.data)||void 0===e?void 0:e.saveMode)||null===(t=null==p?void 0:p.current)||void 0===t||t.focus()}),[]);const v=()=>{f(!0),setTimeout((()=>{var e;null===(e=null==h?void 0:h.current)||void 0===e||e.focus()}),0)};return MS.createElement(MS.Fragment,null,MS.createElement("h3",{ref:p,tabIndex:0,style:{color:o.title?"":"rgb(117, 117, 117)",display:d?"none":"block"},className:(null==u?void 0:u.listTitle)+" block-list-title "+(s?"clickable":""),onClick:()=>{v()},onFocus:()=>{v()}},o.title?o.title:i(c,"listBlock","title")),MS.createElement("input",{ref:h,onBlur:()=>{g()},onDrag:()=>{g()},tabIndex:0,style:{display:d?"block":"none",width:"100%"},type:"text",className:`block-list-input ${null==u?void 0:u.listTitle} ${s?"profile-builder-show":"profile-builder-hide"}`,placeholder:i(c,"listBlock","title"),value:null!==(n=o.title)&&void 0!==n?n:"",onChange:m}),MS.createElement("div",{className:"block-list-action "},MS.createElement("div",{className:"block-list-remove-list-item click-behavior",onClick:()=>{null!=o.sort&&(e=>{if(window.confirm(i(c,"global","confirm").list)){let t=[...a].filter((t=>t.sort!==e));t.map(((e,t)=>e.sort=t)),l("data",t)}})(o.sort)}},MS.createElement("i",{className:"remove-url-icon "+(null==u?void 0:u.remove)}))),MS.createElement(iD,Object.assign({},Object.assign(Object.assign({},e),{onChangeData:(e,t)=>{const n=a.findIndex((e=>e.sort==o.sort)),r=[...a];r[n].text=t,l("data",r)},classNames:{container:"block-list-description",textareaBlock:null==u?void 0:u.listDescription}}),{rows:1,data:o.text||"",editMode:s,block:"listBlock",blockItem:"text"})))},bD=e=>{const{data:t,onChangeData:n,editMode:r,classNames:i,locale:o}=e,s=ne(e,["data","onChangeData","editMode","classNames","locale"]),{translate:a}=tD();return MS.createElement(uD,Object.assign({className:"block-list edit-mode "+(r?"profile-builder-flex":"profile-builder-hide"),items:t.map((e=>{var t;return Object.assign(Object.assign({},e),{id:null!==(t=e.id)&&void 0!==t?t:e.tempID})}))},s),t.map(((t,n)=>{var r,i,o,s,a,l;return MS.createElement(fD,{className:"block-list-unit-container",key:null!==(o=null!==(i=null!==(r=null==t?void 0:t.id)&&void 0!==r?r:null==t?void 0:t.tempID)&&void 0!==i?i:String(null==t?void 0:t.sort))&&void 0!==o?o:String(n),id:null!==(l=null!==(a=null!==(s=null==t?void 0:t.id)&&void 0!==s?s:null==t?void 0:t.tempID)&&void 0!==a?a:String(null==t?void 0:t.sort))&&void 0!==l?l:String(n)},MS.createElement(yD,Object.assign({listItem:t},e)))})),MS.createElement("div",{className:"block-list-button-container"},MS.createElement("button",{tabIndex:0,className:`block-list-button btn-sm  ${null==i?void 0:i.listButton} `,onClick:()=>{let e={sort:t.length?(t[t.length-1].sort||0)+1:0,title:"",visible:!1,tempID:Gk()};n("data",[...t,e])}},MS.createElement("i",{className:"block-list-button-icon "+(null==i?void 0:i.add)}),a(o,"listBlock","addNew"))))},_D=e=>{const{data:t,editMode:n,classNames:r,onChangeData:i}=e;return MS.createElement("div",{className:"react-profile-builder__block-container"},MS.createElement(bD,Object.assign({onDragEnd:e=>{(e=>{let{active:n,over:r}=e;if(n.id!==(null==r?void 0:r.id)&&r){const e=null==t?void 0:t.findIndex((e=>(e.id||e.tempID)===n.id)),o=null==t?void 0:t.findIndex((e=>(e.id||e.tempID)===r.id));let s=X([...t],e,o);s.map(((e,t)=>e.sort=t)),i("data",s)}})(e)},dndContextProps:{modifiers:[Kk]}},Object.assign({},e))),MS.createElement("div",{className:"block-list "+(n?"profile-builder-hide":"profile-builder-flex")},t.length>0&&t.filter((e=>e.visible)).map(((e,t,n)=>{var i;return MS.createElement("div",{className:"block-list-unit-container",key:t},MS.createElement("h3",{className:(null==r?void 0:r.listTitle)+" block-list-title"},e.title),!!e.text&&MS.createElement("div",{className:"block-list-description "+(null==r?void 0:r.listDescription),style:{marginBottom:n.length-1===t?"0px":void 0}},null===(i=e.text)||void 0===i?void 0:i.split("\n").map(((e,t)=>e?MS.createElement("p",{key:t,className:"block-text-render-text"},e):MS.createElement("p",{key:t,className:"block-text-render-text "},"\xa0")))))}))))},wD=e=>{const t=MS.useContext(Qk),{translate:n}=tD(),{img:r,classNames:i,data:o,onChangeData:s,locale:a}=e;return MS.createElement("div",{className:"block-images-unit-background",style:{backgroundImage:`url(${r.url})`,transform:"translate3d(0px, 0px, 0px)"}},MS.createElement("div",{className:"remove-image click-behavior",onClick:()=>null!=r.sort&&(e=>{var r;if(window.confirm(n(a,"global","confirm").image)){let n=o.filter((t=>t.sort!==e));n.map(((e,t)=>e.sort=t));const i=o.find((t=>t.sort===e));if(!i)return;null===(r=t.deleteImage)||void 0===r||r.call(t,i),s("data",n)}})(r.sort)},MS.createElement("i",{className:"remove-image-icon "+(null==i?void 0:i.remove)})))},CD=e=>{var t;const{classNames:n,data:r,onChangeData:i}=e,o=MS.useContext(Qk),s=MS.useRef(null),[a,l]=MS.useState(!1),c=null===(t=null==o?void 0:o.data)||void 0===t?void 0:t.imageTypes;let u="image/*";return Array.isArray(c)&&c.length&&(u=c.reduce(((e,t)=>t?`${e?e+", ":""}.${t}`:e),"")),MS.createElement(MS.Fragment,null,MS.createElement("input",{tabIndex:0,ref:s,type:"file",accept:u,multiple:!0,hidden:!0,onChange:e=>(e=>{var t,n;if(!e.target.files)return;l(!0);let s=[...r];if(o.batchUploadNewImages)null===(t=o.batchUploadNewImages)||void 0===t||t.call(o,e.target.files).then((e=>{e.map((e=>{let{file_name:t,url:n}=e,r={sort:s&&s.length?(s[s.length-1].sort||0)+1:0,file_name:t,url:n,visible:!0,tempID:Gk()};s.push(r)})),i("data",s)})).catch((e=>{console.error(e),l(!1)})).finally((()=>{e.target.value="",l(!1)}));else for(let t=0;t<e.target.files.length;t++)null===(n=o.uploadNewImages)||void 0===n||n.call(o,e.target.files[t]).then((e=>{let t={sort:s&&s.length?(s[s.length-1].sort||0)+1:0,file_name:e.file_name,url:e.url,visible:!0,tempID:Gk()};s.push(t),i("data",s),l(!1)})).catch((e=>{console.error(e),l(!1)})).finally((()=>{e.target.files&&t===e.target.files.length-1&&(e.target.value="")}))})(e)}),MS.createElement("div",{className:" block-images-unit rpb-col-lg-4 rpb-col-md-3 rpb-col-sm-6"},MS.createElement("button",{className:`block-images-upload-container click-behavior  ${null==n?void 0:n.gallaryUpload}`,onClick:()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.click()}},a&&MS.createElement("small",{className:"loading"}),!a&&MS.createElement("i",{className:"block-images-upload-icon "+(null==n?void 0:n.fileInput)}))))},xD=e=>{const{editMode:t,data:n,classNames:r}=e,i=ne(e,["editMode","data","classNames"]);return MS.createElement(uD,Object.assign({items:n.map((e=>{var t;return Object.assign(Object.assign({},e),{id:null!==(t=e.id)&&void 0!==t?t:e.tempID})}))},i,{className:"block-images rpb-row edit-mode "+(t?"profile-builder-flex":"profile-builder-hide")}),n.map(((t,n)=>{var i,o,s,a,l,c;return MS.createElement(fD,{className:`block-images-unit rpb-col-lg-4 rpb-col-md-3 rpb-col-sm-6 ${null==r?void 0:r.gallaryItem}`,id:null!==(s=null!==(o=null!==(i=t.id)&&void 0!==i?i:null==t?void 0:t.tempID)&&void 0!==o?o:String(null==t?void 0:t.sort))&&void 0!==s?s:String(n),key:null!==(c=null!==(l=null!==(a=t.id)&&void 0!==a?a:null==t?void 0:t.tempID)&&void 0!==l?l:String(null==t?void 0:t.sort))&&void 0!==c?c:String(n)},MS.createElement(wD,Object.assign({img:t},e)))})),MS.createElement(CD,Object.assign({},Object.assign({},e))))},ED=e=>{const{data:t,editMode:n,onChangeData:r}=e;return(0,MS.useEffect)((()=>{r("data",t)}),[]),MS.createElement("div",{className:"react-profile-builder__block-container "+(n?"editMode":"")},MS.createElement(xD,Object.assign({onDragEnd:e=>{(e=>{let{active:n,over:i}=e;if(n.id!==(null==i?void 0:i.id)&&i){const e=null==t?void 0:t.findIndex((e=>(e.id||e.tempID)===n.id)),o=null==t?void 0:t.findIndex((e=>(e.id||e.tempID)===i.id));let s=X([...t],e,o);s.map(((e,t)=>e.sort=t)),r("data",s)}})(e)},dndContextProps:{modifiers:[]}},Object.assign({},e))),MS.createElement("div",{className:"block-images rpb-row "+(n?"profile-builder-hide":"profile-builder-flex")},t.map(((e,t)=>MS.createElement("div",{className:"block-images-unit rpb-col-lg-4 rpb-col-md-3 rpb-col-sm-6",key:t},MS.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},MS.createElement("div",{className:"block-images-unit-background",style:{backgroundImage:`url(${e.url})`}})))))))},SD=e=>{const{classNames:t,emptyImage:n,emptyTitle:r,emptyText:i,emptyTextOnPreview:o,editMode:s,blocks:a,locale:l}=e,c=MS.useContext(Qk),{translate:u}=tD(),d=null==a?void 0:a.filter((e=>null==e?void 0:e.visible));return MS.createElement("div",{className:"profile-blocks-container"},a&&a.length>0&&a.sort(((e,t)=>e.sort-t.sort)).map(((e,n)=>{var r,i;let o;return o=s?0!==n:a.findIndex((e=>e.visible))!==n,MS.createElement(rD,{key:null!==(i=null!==(r=e.id)&&void 0!==r?r:e.tempID)&&void 0!==i?i:n,block:e,seperator:o,classNames:t,blockTitle:e.title,locale:l,editMode:s,removeBlock:()=>{return t=e.sort,void(window.confirm(u(l,"global","confirm").block)&&c.removeBlock(t));var t},changePosition:t=>c.updateBlockSort(t,e.sort),onChangeData:(t,n)=>c.UpdateBlockData(e.sort,e.type,t,n)},(e=>{switch(e.type){case"text":return MS.createElement(iD,{classNames:t,editMode:s,locale:l,data:e.data.text,onChangeData:(t,n)=>c.UpdateBlockData(e.sort,e.type,t,n)});case"list":return MS.createElement(_D,{classNames:Object.assign(Object.assign({},null==t?void 0:t.icons),null==t?void 0:t.listBlock),editMode:s,locale:l,blockTitle:e.title,sort:e.sort,data:e.data.items.map((e=>Object.assign(Object.assign({},e),{id:null!=e.id?String(e.id):void 0}))),onChangeData:(t,n)=>c.UpdateBlockData(e.sort,e.type,t,n)});case"url":return MS.createElement(mD,{classNames:Object.assign(Object.assign({},null==t?void 0:t.icons),null==t?void 0:t.urlBlock),sort:e.sort,editMode:s,blockTitle:e.title,data:e.data.items.map((e=>Object.assign(Object.assign({},e),{id:null!=e.id?String(e.id):e.id}))),locale:l,onChangeData:(t,n)=>c.UpdateBlockData(e.sort,e.type,t,n)});case"image":return MS.createElement(ED,{classNames:Object.assign(Object.assign({},null==t?void 0:t.icons),null==t?void 0:t.gallaryBlock),editMode:s,blockTitle:e.title,sort:e.sort,locale:l,data:e.data.items.map((e=>Object.assign(Object.assign({},e),{id:null!=e.id?String(e.id):void 0}))),onChangeData:(t,n)=>c.UpdateBlockData(e.sort,e.type,t,n)});case"video":return MS.createElement(gD,{classNames:Object.assign(Object.assign({},null==t?void 0:t.icons),t),editMode:s,blockTitle:e.title,data:e.data,locale:l,onChangeData:(t,n)=>c.UpdateBlockData(e.sort,e.type,t,n)});default:return null}})(e))})),!(null==a?void 0:a.length)&&s&&MS.createElement(vD,{locale:l,emptyImage:n,emptyTitle:r,emptyText:i}),!(null==d?void 0:d.length)&&!s&&MS.createElement(vD,{locale:l,emptyImage:n,emptyTitle:r,emptyTextOnPreview:o,preview:!0}))},kD=[{id:1,type:"text"},{id:2,type:"list"},{id:3,type:"url"},{id:4,type:"image"},{id:5,type:"video"}],DD=e=>{let{locale:t,classNames:n,enabledBlocks:r}=e;const i=(0,MS.useContext)(Qk),{translate:o}=tD();return MS.createElement("div",{className:`profile-builder-selector ${null==n?void 0:n.selectorContainer}`},kD.filter((e=>null==r?void 0:r.includes(e.type))).map((e=>{var r;return MS.createElement("button",{tabIndex:0,key:e.id,className:"profile-builder-selector-button btn btn-light",onClick:()=>(e=>{var t;let n={title:"",type:e.type,sort:(null===(t=i.blocks)||void 0===t?void 0:t.length)?i.blocks[i.blocks.length-1].sort+1:0,data:{items:[]}};i.addBlock(n)})(e)},MS.createElement("i",{className:`profile-builder-selector-button-icon fa fa-fw ${null===(r=null==n?void 0:n.icons)||void 0===r?void 0:r[e.type]}`}),o(t,"blockList",e.type))})))},TD=e=>{let{classNames:t,enabledBlocks:n}=e;var r,i,o,s,a,l,c,u;const d=MS.useContext(Qk),f=(null===(r=d.data)||void 0===r?void 0:r.locale)?d.data.locale:"ar";return MS.createElement("div",{id:"profile-builder__render-html",dir:(null===(i=d.data)||void 0===i?void 0:i.isRTL)?"rtl":"ltr"},MS.createElement("div",{className:"profile-builder "},MS.createElement(SD,{classNames:t,editMode:null===(o=d.data)||void 0===o?void 0:o.editMode,blocks:d.blocks,emptyImage:null===(s=d.data)||void 0===s?void 0:s.emptyImage,emptyTitle:null===(a=d.data)||void 0===a?void 0:a.emptyTitle,emptyText:null===(l=d.data)||void 0===l?void 0:l.emptyText,emptyTextOnPreview:null===(c=d.data)||void 0===c?void 0:c.emptyTextOnPreview,locale:f}),(null===(u=d.data)||void 0===u?void 0:u.editMode)&&MS.createElement(DD,{classNames:t,locale:f,enabledBlocks:n})))},AD=e=>{const{enabledBlocks:t,classNames:n}=e,r=ne(e,["enabledBlocks","classNames"]),i=(0,MS.useMemo)((()=>t&&Array.isArray(t)&&t.length?t:kD.map((e=>e.type))),[]);return MS.createElement(Zk,Object.assign({},r,{classNames:n,enabledBlocks:i}),MS.createElement(TD,{classNames:n||{},enabledBlocks:i}))};var ND=e(6507);const OD=e=>(0,ND.jsxs)(ND.Fragment,{children:[(0,ND.jsxs)("a",{href:"#",class:"c-button c-button--primary dropdown-button","data-jq-dropdown":"#jq-filter-sort",children:[" ",(0,ND.jsx)("i",{class:"fa fa-caret-down"})]}),(0,ND.jsx)("div",{id:"jq-filter-sort",class:"jq-dropdown jq-dropdown-tip",children:(0,ND.jsxs)("ul",{class:"jq-dropdown-menu",children:[(0,ND.jsx)("li",{children:(0,ND.jsxs)("a",{href:`${window.location.origin}/service/${e.container.dataset.id}`,children:["\u0645\u0639\u0627\u064a\u0646\u0629 \u0627\u0644\u062e\u062f\u0645\u0629 ",(0,ND.jsx)("i",{class:"fa fa-eye fa-fw"})]})}),e.running&&(0,ND.jsx)("li",{children:(0,ND.jsxs)("a",{id:"trigger-service-running",href:"#",children:["\u0625\u064a\u0642\u0627\u0641 \u0627\u0644\u062e\u062f\u0645\u0629 \u0645\u0624\u0642\u062a\u064b\u0627 ",(0,ND.jsx)("i",{class:"fa fa-lock fa-fw"})]})}),!e.running&&(0,ND.jsx)("li",{children:(0,ND.jsxs)("a",{id:"trigger-service-running",href:"#",children:["\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u062e\u062f\u0645\u0629 ",(0,ND.jsx)("i",{
class:"fa fa-unlock fa-fw"})]})})]})})]}),jD=e=>(0,ND.jsxs)(MS.Fragment,{children:[!e.editMode&&(0,ND.jsxs)("div",{class:"page-header-buttons",dir:"ltr",children:[e.valid&&OD(e),(0,ND.jsxs)("a",{id:"page-edit__button",type:"button",onClick:()=>e.setEditMode(!0),className:"c-button c-button--primary react-profile-builder-action-button","data-action":"edit",children:["\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062e\u062f\u0645\u0629"," ",(0,ND.jsx)("i",{className:"fa fa-fw fa-edit"})]})]}),e.editMode&&!e.isLoading&&(0,ND.jsxs)("div",{class:"page-header-buttons",dir:"ltr",children:[e.valid&&OD(e),(0,ND.jsxs)("a",{id:"page-save__button",onClick:()=>e.setSaveMode(!0),className:"c-button c-button--primary react-profile-builder-action-button",children:["\u062d\u0641\u0638 \u0627\u0644\u062e\u062f\u0645\u0629"," ",(0,ND.jsx)("i",{className:"fa fa-fw fa-save"})]})]}),e.editMode&&e.isLoading&&(0,ND.jsxs)("div",{class:"page-header-buttons",dir:"ltr",children:[e.valid&&OD(e),(0,ND.jsxs)("a",{id:"page-save__button",className:"c-button c-button--primary disabled",children:["\u062d\u0641\u0638 \u0627\u0644\u062e\u062f\u0645\u0629"," ",(0,ND.jsx)("i",{className:"fa fa-fw fa-save"})]})]})]}),MD=e=>(0,ND.jsx)(MS.Fragment,{children:(0,ND.jsx)("div",{class:"row",children:(0,ND.jsx)("div",{class:"col-lg-12 col-sm-12 col-md-12",children:(0,ND.jsx)("div",{id:"message",className:`c-alert c-alert--${e.messageStatus} ${e.messageStatus?"":"hidden"}`,children:(0,ND.jsx)("div",{class:"row",children:(0,ND.jsx)("div",{class:"",children:(0,ND.jsx)("span",{children:e.message})})})})})})}),RD=e=>{const t=e=>{let{item:t}=e;const{title:n,url:r}=t;return(0,ND.jsx)("li",{class:"breadcrumb-item",children:(0,ND.jsx)("a",{href:r,children:n})})},n=(0,ND.jsx)("div",{class:"col-lg-3 col-4 full-width",children:(0,ND.jsx)(jD,{editMode:e.editMode,saveMode:e.saveMode,isLoading:e.isLoading,setSaveMode:t=>e.setSaveMode(t),setEditMode:t=>e.setEditMode(t),setReviewMode:t=>e.setReviewMode(t),dropdownUrls:e.dropdownUrls,valid:e.valid,status:e.status,running:e.running,container:e.container})});return(0,ND.jsxs)("div",{class:"container main-container",children:[(0,ND.jsxs)("div",{class:"page_header",children:[(0,ND.jsx)("div",{class:"row mb-1",children:(0,ND.jsx)(MS.Fragment,{children:(0,ND.jsx)("nav",{dir:"rtl","aria-label":"breadcrumb",children:(0,ND.jsxs)("ol",{class:"breadcrumb",children:[(0,ND.jsx)("li",{class:"breadcrumb-item",children:(0,ND.jsx)("a",{href:"/",children:"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"})}),e.header&&e.header.breadcrumb&&e.header.breadcrumb.map(((e,n)=>(0,ND.jsx)(t,{item:e},n)))]})})})}),(0,ND.jsxs)("div",{id:"header-group",class:"row",children:[(0,ND.jsx)("div",{class:"heading col-lg-9 col-8 full-width",children:(0,ND.jsx)("div",{class:"row",children:(0,ND.jsx)("h1",{children:e.header.title})})}),n]})]}),(0,ND.jsx)("div",{class:"content inside layout",children:(0,ND.jsx)(MD,{message:e.header.message,messageStatus:e.header.message_status})})]})},FD=e=>{let{requirement:t,message:n,link:r}=e;return void 0===r?(0,ND.jsx)("li",{class:"c-list__item",children:(0,ND.jsxs)("span",{className:t?"u-clr--primary step_passed":"",children:[(0,ND.jsx)("i",{className:"text-delta me-2 fa fa-fw "+(t?"fa-check-circle":"fa-circle-o")}),(0,ND.jsx)("span",{children:n})]})}):(0,ND.jsx)("li",{class:"c-list__item",children:(0,ND.jsxs)("a",{href:r,className:t?"u-clr--primary step_passed":"",children:[(0,ND.jsx)("i",{className:"text-delta me-2 fa fa-fw "+(t?"fa-check-circle":"fa-circle-o")}),(0,ND.jsx)("span",{children:n})]})})},LD=e=>{const t=window.location.origin,n=()=>"pending"==e.status?(0,ND.jsxs)("a",{className:"c-button c-button--primary react-profile-builder-action-button disabled c-button--block mt-4",children:[(0,ND.jsx)("i",{className:"fa fa-save"}),"  ","\u0627\u0644\u062e\u062f\u0645\u0629 \u0642\u064a\u062f \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629"]}):e.valid&&"draft"==e.status?(0,ND.jsxs)("a",{id:"page-save-review__button",onClick:()=>{e.setSaveMode(!0),e.setReviewMode(!0)},className:"c-button c-button--primary react-profile-builder-action-button c-button--block mt-4",children:[(0,ND.jsx)("i",{className:"fa fa-paper-plane-o"}),"  ","\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062e\u062f\u0645\u0629 \u0644\u0644\u0645\u0631\u0627\u062c\u0639\u0629"]}):(0,ND.jsxs)("a",{id:"page-save-review__button",className:"c-button c-button--primary react-profile-builder-action-button disabled c-button--block mt-4",children:[(0,ND.jsx)("i",{className:"fa fa-paper-plane-o"}),"  ","\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062e\u062f\u0645\u0629 \u0644\u0644\u0645\u0631\u0627\u062c\u0639\u0629"]});return(0,ND.jsxs)("div",{class:"card steps-completion d-block",children:[(0,ND.jsx)("div",{class:"card-header bg-white",children:(0,ND.jsx)("h4",{children:" \u062e\u0637\u0648\u0627\u062a \u0627\u0644\u0625\u0643\u0645\u0627\u0644 "})}),(0,ND.jsxs)("div",{class:"card-body",children:[(0,ND.jsxs)("ul",{class:"c-list c-list--vert",children:[(0,ND.jsx)(FD,{requirement:!0,message:"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",link:t+"/service/"+e.container.dataset.id+"/edit"}),(0,ND.jsx)(FD,{requirement:e.submission_requirements.is_valid_thumb,message:"\u0625\u0636\u0627\u0641\u0629 \u0635\u0648\u0631\u0629 \u0627\u0644\u063a\u0644\u0627\u0641"}),(0,ND.jsx)(FD,{requirement:e.submission_requirements.is_valid_description,message:"\u0625\u0636\u0627\u0641\u0629 \u0648\u0635\u0641 \u0627\u0644\u062e\u062f\u0645\u0629"}),(0,ND.jsx)(FD,{requirement:e.submission_requirements.is_valid_gallery,message:"\u0625\u0636\u0627\u0641\u0629 "+e.imagesLimit+" \u0635\u0648\u0631 \u0623\u0648 "+e.videosLimit+" \u0641\u064a\u062f\u064a\u0648 \u0644\u0644\u0645\u0639\u0631\u0636"}),(0,ND.jsx)(FD,{requirement:e.submission_requirements.is_valid_instructions,message:"\u0625\u0636\u0627\u0641\u0629 \u062a\u0639\u0644\u064a\u0645\u0627\u062a \u0644\u0644\u0645\u0634\u062a\u0631\u064a"})]}),(0,ND.jsx)(n,{})]})]})},PD=e=>{const t=(0,ND.jsx)("div",{dangerouslySetInnerHTML:{__html:e.sidebarHtml}}),n=(0,ND.jsx)(LD,{setSaveMode:t=>e.setSaveMode(t),setReviewMode:t=>e.setReviewMode(t),submission_requirements:e.submission_requirements,imagesLimit:e.imagesLimit,videosLimit:e.videosLimit,container:e.container,valid:e.valid,status:e.status});return(0,ND.jsxs)("div",{className:"col-lg-4 col-md-12 col-sm-12 "+(e.container.dataset.embeded?"mt-0":""),id:"profile-service-sidebar",children:[(0,ND.jsx)("div",{dangerouslySetInnerHTML:{__html:e.upgrades}}),e.editMode||"draft"==e.status?n:"",e.editMode||"draft"==e.status?"":t]})};var ID=e(7214),$D=e.n(ID),zD=e(3837),BD=e.n(zD);Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var UD=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]),HD=[".DS_Store","Thumbs.db"],WD=e(5756),KD="function"==typeof WD.A?WD.A:WD.A.default,qD="file-invalid-type",VD="file-too-large",YD="file-too-small",JD=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:qD,message:"File type must be ".concat(t)}},GD=function(e){return{code:VD,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},XD=function(e){return{code:YD,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},QD={code:"too-many-files",message:"Too many files"},ZD=["children"],eT=["open"],tT=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],nT=["refKey","onChange","onClick"],rT=(0,MS.forwardRef)((function(e,t){var n=e.children,r=Ve(qe(e,ZD)),i=r.open,o=qe(r,eT);return(0,MS.useImperativeHandle)(t,(function(){return{open:i}}),[i]),MS.createElement(MS.Fragment,null,n(We(We({},o),{},{open:i})))}));rT.displayName="Dropzone";var iT={disabled:!1,getFilesFromEvent:function(e){return se(this,void 0,void 0,(function(){return ae(this,(function(){return de(e)&&de(e.dataTransfer)?[2,pe(e.dataTransfer,e.type)]:function(e){return de(e)&&de(e.target)}(e)?[2,fe(e)]:Array.isArray(e)&&e.every((function(e){return"getFile"in e&&"function"==typeof e.getFile}))?[2,he(e)]:[2,[]]}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};rT.defaultProps=iT,rT.propTypes={children:BD().func,accept:BD().objectOf(BD().arrayOf(BD().string)),multiple:BD().bool,preventDropOnDocument:BD().bool,noClick:BD().bool,noKeyboard:BD().bool,noDrag:BD().bool,noDragEventsBubbling:BD().bool,minSize:BD().number,maxSize:BD().number,maxFiles:BD().number,disabled:BD().bool,getFilesFromEvent:BD().func,onFileDialogCancel:BD().func,onFileDialogOpen:BD().func,useFsAccessApi:BD().bool,autoFocus:BD().bool,onDragEnter:BD().func,onDragLeave:BD().func,onDragOver:BD().func,onDrop:BD().func,onDropAccepted:BD().func,onDropRejected:BD().func,onError:BD().func,validator:BD().func};var oT={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};const sT=JSON.parse('{"ar":{"q8":"\u062d\u062f\u062b \u062e\u0637\u0623 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641","UD":"\u062a\u0639\u0630\u0651\u0631 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0634\u0628\u0643\u0629 \u0627\u0644\u0623\u0646\u062a\u0631\u0646\u062a","XR":"\u0628\u0631\u062c\u0627\u0621 \u0625\u0643\u0645\u0627\u0644 \u0625\u0646\u0634\u0627\u0621 \u0645\u0644\u0641 \u0627\u0644\u062e\u062f\u0645\u0629 \u0628\u0634\u0643\u0644 \u0635\u062d\u064a\u062d \u0644\u062a\u062a\u0645\u0643\u0646 \u0645\u0646 \u0625\u0631\u0633\u0627\u0644\u0647\u0627 \u0644\u0644\u0645\u0631\u0627\u062c\u0639\u0629","A7":"\u0628\u0631\u062c\u0627\u0621 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0643\u0627\u0641\u0629 \u0634\u0631\u0648\u0637 \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0623\u0648\u0644\u0627\u064b","Cp":"\u064a\u062c\u0628 \u0623\u0646 \u062a\u0643\u0648\u0646 \u0627\u0644\u0635\u0648\u0631\u0629 \u0628\u0639\u0631\u0636 1700 \u0628\u064a\u0643\u0633\u0644 \u0648\u0627\u0631\u062a\u0641\u0627\u0639 970 \u0628\u064a\u0643\u0633\u0644 \u0623\u0648 \u0623\u0643\u0628\u0631","Mv":"\u0646\u0631\u062c\u0648 \u0631\u0641\u0639 \u0635\u0648\u0631\u0629 \u0628\u0625\u062d\u062f\u0649 \u0627\u0644\u0635\u064a\u063a \u0627\u0644\u0622\u062a\u064a\u0629 (jpg , png, jpeg)"}}'),aT=e=>{let{link:t,index:n}=e;return(0,ND.jsx)("div",{class:"carousel-item",id:`img-${n}`,children:(0,ND.jsx)("div",{class:"d-flex align-items-center justify-content-center min-vh-100 min-vw-100 images",children:(0,ND.jsx)("img",{loading:"lazy",class:"d-block",src:`${t.replace("?s=small","").replace("_thumb","")}`})})})},lT=e=>(0,ND.jsx)(MS.Fragment,{children:!e.editMode&&(0,ND.jsx)("div",{class:"modal large-modal fade",id:"large-modal",tabindex:"-1","aria-labelledby":"large-modal-label","aria-hidden":"true",children:(0,ND.jsx)("div",{class:"modal-dialog",children:(0,ND.jsxs)("div",{class:"modal-content",children:[(0,ND.jsx)("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"}),(0,ND.jsxs)("div",{id:"imageControllers",class:"carousel slide","data-bs-interval":"false","data-ride":"carousel","data-pause":"hover",children:[(0,ND.jsx)("div",{class:"carousel-inner",children:e.imagesUrls.map(((e,t)=>(0,ND.jsx)(aT,{index:t,link:e})))}),(0,ND.jsx)("a",{class:"carousel-control-next",type:"button","data-bs-target":"#imageControllers","data-bs-slide":"next",children:(0,ND.jsx)("i",{class:"fa fa-chevron-right","aria-hidden":"true"})}),(0,ND.jsx)("a",{class:"carousel-control-prev",type:"button","data-bs-target":"#imageControllers","data-bs-slide":"prev",children:(0,ND.jsx)("i",{class:"fa fa-chevron-left","aria-hidden":"true"})})]})]})})})});var cT={valueField:"text",labelField:"text",delimiter:",",options:[],create:!0,onType:function(){0==this.currentResults.total&&this.currentResults.query.length<3?$(".selectize-dropdown").addClass("hard-hidden"):$(".selectize-dropdown").removeClass("hard-hidden")},render:{option_create:function(e,t){return t(e.input).length<3||t(e.input).length>30?"":isNaN(t(e.input))?($(".selectize-dropdown").removeClass("hard-hidden"),'<div class="create  bg-gray-darker">\u0623\u0636\u0641 \u0643\u0644\u0645\u0629 \u062c\u062f\u064a\u062f\u0629 : '+t(e.input)+"</div>"):""}},plugins:{remove_button:{label:'<i class="fa fa-fw fa-times"></i>',title:"\u062d\u0630\u0641",className:"remove"}}};const uT=()=>{$(".dropdown_single_readonly").selectize({readOnly:!0,onDelete:function(){return!1}}),function(){if($(".multi-select-or-create-selectize").length>0){var e=$(".multi-select-or-create-selectize").val().split(","),t=$("input[name=title]").val(),n=$("textarea[name=description]").val();""!=t&&$.ajax({url:window.location.origin+"/ajax/tags/predict",method:"POST",dataType:"json",data:{title:t,description:n,tags:e}}).done((function(t){var n=[];if(t.tags.forEach((e=>{n.push({id:e.id,tag:escapeHtml(e.tag),keyword:e.keyword})})),n.length>0){if(""==e)var r=n;else r=n.filter((function(t){return-1==e.indexOf(t)}));for(var i="",o=0;o<r.length;o++)i=i+'<span class="suggestion-block-keywords-btn btn" id="'+(null==r[o].keyword?"tag":"keyword")+"-"+r[o].id+'"> <i class="fa fa-fw fa-plus" />'+escapeHtml(r[o].tag)+"</span>";""!=i&&($(".suggestion-block").removeClass("hidden"),$(".suggestion-block-keywords").empty().append(i));var s={};$(".suggestion-block-keywords-btn").each((function(){var e=$.trim($(this).text());s[e]?$(this).remove():s[e]=!0}))}}))}}(),Qe()},dT=JSON.parse('{"ar":{"blocks":[{"title":"\u0648\u0635\u0641 \u0627\u0644\u062e\u062f\u0645\u0629","type":"text","sort":0,"visible":false,"data":{"text":""}},{"title":"\u0645\u0645\u064a\u0632\u0627\u062a \u0627\u0644\u062e\u062f\u0645\u0629","type":"list","sort":1,"visible":false,"data":{"items":[{"id":"1","title":"","text":"","sort":0,"visible":false}]}},{"title":"\u0645\u0639\u0631\u0636 \u0627\u0644\u0623\u0639\u0645\u0627\u0644","type":"image","sort":2,"visible":false,"data":{"items":[]}},{"title":"\u0645\u0627 \u0627\u0644\u0630\u064a \u0633\u062a\u0633\u062a\u0644\u0645\u0647","type":"list","sort":3,"visible":false,"data":{"items":[{"id":"1","title":"","text":"","sort":0,"visible":false}]}}]}}'),fT=()=>{$(".service-upgrade-price, .service-upgrade-days").selectize({readOnly:!0,onDelete:function(){return!1}})},hT=()=>{function e(){return(0,ND.jsxs)(MS.Fragment,{children:[(0,ND.jsx)("div",{dangerouslySetInnerHTML:{__html:a.decline_reasons}}),(0,ND.jsx)("section",{className:"wrapper hsoub-container",children:(0,ND.jsx)("div",{className:"card page-block",id:"profile-builder-html",children:(0,ND.jsx)("div",{className:"tab-pane active ",id:"profile-container",children:(0,ND.jsxs)("div",{className:"card-body page-block__body ",children:[w?q:V,(0,ND.jsx)(AD,{profile:t,batchUploadNewImages:async e=>{k(!0);let t=[];for(let n=0;n<e.length;n++)t.push(await ne(e[n]));return t=t.filter(Boolean),setTimeout((()=>{k(!1)}),50),t},onSaveComplete:e=>J(0,e),enabledBlocks:["text","list","image","video"],appData:{locales:{titleBlock:{title:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0642\u0633\u0645"}},locale:"ar",editMode:w,saveMode:x,emptyText:" ",emptyTextOnPreview:" ",emptyTitle:" ",imageTypes:["jpeg","gif","jpg","png"],isRTL:!0},classNames:{blockContainer:"",inputTitle:"profile-input-title",textareaBlock:"profile-paragraph",iconsContainer:"profile-icons-container",icons:{add:"fa fa-fw fa-large fa-plus",remove:"fa fa-fw fa-times",fileInput:"fa fa-fw fa-large fa-cloud-upload",up:"fa fa-fw fa-arrow-up",down:"fa fa-fw fa-arrow-down",text:"fa fa-fw fa-align-right",list:"fa fa-fw fa-list",url:"fa fa-fw fa-paperclip",image:"fa fa-fw fa-picture-o",video:"fa fa-fw fa-file-video-o"},gallaryBlock:{gallaryItem:"profile-gallary-item",gallaryUpload:"profile-gallary-upload"},urlBlock:{inputUrl:"profile-input-title-sm",urlItem:"",urlButton:"btn-sm btn btn-primary",urlText:"profile-input-title-sm"},listBlock:{listButton:"btn-sm btn btn-primary",listTitle:"profile-input-title-sm",listDescription:"profile-paragraph"},videoBlock:"",selectorContainer:""}})]})})})}),(0,ND.jsx)("div",{dangerouslySetInnerHTML:{__html:a.keywords}}),(0,ND.jsx)(lT,{editMode:w,imagesUrls:O}),F.dataset.embeded&&(0,ND.jsxs)(MS.Fragment,{children:[!w&&(0,ND.jsxs)("a",{id:"page-edit__button",dir:"ltr",type:"button",onClick:()=>C(!0),className:"c-button c-button--primary react-profile-builder-action-button mb-4","data-action":"edit",children:["\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062e\u062f\u0645\u0629"," ",(0,ND.jsx)("i",{className:"fa fa-edit"})]}),w&&(0,ND.jsxs)("a",{id:"page-save__button",dir:"ltr",onClick:()=>E(!0),className:"c-button c-button--primary react-profile-builder-action-button mb-4",children:["\u062d\u0641\u0638 \u0627\u0644\u062e\u062f\u0645\u0629"," ",(0,ND.jsx)("i",{className:"fa fa-save"})]})]})]})}const[t,n]=MS.useState(),[r,i]=(0,MS.useState)(null),[o,s]=(0,MS.useState)(null),[a,l]=(0,MS.useState)(null),[c,u]=(0,MS.useState)(null),[d,f]=(0,MS.useState)(null),[h,p]=(0,MS.useState)(null),[m,g]=(0,MS.useState)(null),[v,y]=(0,MS.useState)(null),[b,_]=(0,MS.useState)(null),[w,C]=(0,MS.useState)(!1),[x,E]=(0,MS.useState)(!1),[S,k]=(0,MS.useState)(!1),[D,T]=(0,MS.useState)(!1),[A,N]=(0,MS.useState)(!1),[O,j]=(0,MS.useState)([]),[M,R]=MS.useState([]),F=document.querySelector("#profile-builder_container"),L=document.getElementById("user_token"),P=window.location.origin,I=$D().create();I.defaults.timeout=1e5,I.defaults.baseURL=P;const z={backgroundImage:`url('${m}')`},{acceptedFiles:B,fileRejections:U,getRootProps:H,getInputProps:W}=Ve({accept:{"image/jpeg":[],"image/jpg":[],"image/png":[]},multiple:!1,onDropAccepted:e=>{Y(e[0])},onDropRejected:()=>{Ze(sT.ar.Mv,"danger")}}),K=M.map((e=>(0,ND.jsx)("img",{src:e.preview,className:"img",onLoad:()=>{URL.revokeObjectURL(e.preview),$(".dropzone").addClass("thumb-preview")}},"thumb-img")));(0,MS.useEffect)((()=>()=>M.forEach((e=>URL.revokeObjectURL(e.preview)))),[M]);const q=(0,ND.jsx)("section",{className:"container thumbs-container",children:(0,ND.jsxs)("div",{style:z,...H({className:"dropzone thumb"}),children:[(0,ND.jsx)("input",{...W()}),K,(0,ND.jsx)("i",{className:"thumb-image block-images-upload-icon fa fa-fw fa-large fa-cloud-upload"})]})}),V=(0,ND.jsx)("section",{className:"container thumbs-container",children:(0,ND.jsx)("div",{className:"dropzone thumb show-thumb",style:z})});(0,MS.useEffect)((()=>(D&&($("#send-service-to-review").modal("show"),T(!1)),$(".keywords-card").addClass("hidden"),w?(window.onbeforeunload=e=>(e.preventDefault(),e.returnValue="",""),$("#upgrade_service .upgrade-service-inputs").length>0&&!$("#upgrade_service").hasClass("hidden")&&$("#upgrades-description").addClass("hidden"),$("#add_to_cart, #add_upgrades, #upgrade-service-btn").removeClass("hidden"),$("#service-upgrades-table, #purchase-actions").addClass("hidden"),$("#edit_service_upgrades").parent().removeClass("hidden"),$("#upgrade_service .upgrade-service-inputs").length>4&&$("#upgrade-service-btn").addClass("hidden")):(window.onbeforeunload=null,0==$("#add_to_cart").find("#service-upgrades-table").length&&$("#add_to_cart").addClass("hidden"),$("#add_upgrades, #upgrade-service-btn").addClass("hidden"),$("#purchase-actions").removeClass("hidden"),$("#edit_service_upgrades").parent().addClass("hidden")),()=>{})));const Y=e=>{const t=new Image;t.src=URL.createObjectURL(e),t.onload=()=>{if(t.width>=1700&&t.height>=970){$(".thumb-image").addClass("fa-spinner fa-spin");const t=new FormData;t.append("file",e),t.append("token",L.value),t.append("id",F.dataset.id),k(!0),I.post(P+"/ajax/"+F.dataset.type+"/profile/thumb_img",t).then((e=>{g(e.data.url),$(".thumb-image").removeClass("fa-spinner fa-spin"),k(!1)})).catch((e=>{te(e.response&&e.response.data?e.response.data:e),k(!1)}))}else Ze(sT.ar.Cp,"danger")},t.onerror=()=>{Ze(sT.ar.q8,"danger")}},J=async(e,t)=>{x&&(X(),E(!1));const n={};$.each($("#add_upgrades").serializeArray(),(function(){n[this.name]=this.value}));const r={};$.each($("#add_instructions").serializeArray(),(function(){r[this.name]=this.value}));const i={};$.each($("#service_edit").serializeArray(),(function(){i[this.name]=this.value})),((e,t,n,r,i)=>{Promise.all([I.post(P+"/ajax/"+F.dataset.type,{blocks:e.blocks,thumb_url:m,id:F.dataset.id,embeded:F.dataset.embeded,token:L.value,service_upgrades_attrs:t,service_instruction_attrs:n,profile_changed:r,service_settings:i})]).then((e=>{G(),Z(e)})).catch((e=>{G(),C(!0),te(e.response&&e.response.data?e.response.data:e)}))})(t,n,r,t.changed,i)},G=()=>{E(!1),C(!1)},X=()=>{Q(!0)},Q=e=>{let t=document.getElementById("page-save__button"),n=t.querySelectorAll(".fa-spinner");if(e&&0==n.length){let e=document.createElement("i");t.querySelector(".fa-save").setAttribute("class","fa fa-save hidden"),t.classList.add("disabled"),e.setAttribute("class","fa fa-spinner fa-spin"),t.appendChild(e)}else n[0].remove(),t.classList.remove("disabled"),t.querySelector(".fa-save").setAttribute("class","fa fa-save")},Z=e=>{0==e[0].data.profile.blocks.blocks.length?n(dT.ar):n(e[0].data.profile.blocks),l(e[0].data.profile.html),u(null),u(e[0].data.profile.html.upgrades),f(null),f(e[0].data.profile.html.edit_form),p(e[0].data.profile.submission_requirements),g(e[0].data.profile.info.thumb_url),s(e[0].data.profile.info),y(e[0].data.profile.limits.images),_(e[0].data.profile.limits.videos),"service"==e[0].data.profile.type&&i(e[0].data.profile.header),F.dataset.embeded?(fT(),C(!1)):(uT(),C(!0));var t=[];e[0].data.profile.blocks.blocks.filter((e=>"image"===e.type)).map((e=>e.data.items)).map((e=>t.push(e.map((e=>e.url))))),j(t.flat())},ee=async()=>{Promise.all([await I.get(P+"/ajax/"+F.dataset.type,{params:{id:F.dataset.id,embeded:F.dataset.embeded}})]).then((e=>{Z(e)})).then((()=>{}))},te=e=>{Ze(navigator.onLine?e.error?e.error:e.response&&e.response.data&&e.response.data.message?e.response.data.message:sT.ar.q8:sT.ar.UD,"danger")};(0,MS.useEffect)((()=>{Promise.all([ee(),C(!1)]).then((()=>{N(!0),F.dataset.embeded?fT():uT()}))}),[]);const ne=async e=>new Promise((t=>{const n=new Image;n.src=URL.createObjectURL(e),n.onload=()=>{let r,i=!1,o=$(".remove-image").length;n.width>=800&&n.height>=460&&(i=!0);let s=new FormData;s.append("file",e),s.append("token",L.value),s.append("id",F.dataset.id),s.append("acceptable_dimentions",i),s.append("images_count",o),t(I.post("/ajax/"+F.dataset.type+"/profile/upload_image",s,{headers:{"content-type":"multipart/form-data"}}).then((e=>(r=e,r.data))).catch((e=>{te(e.response&&e.response.data?e.response.data:e)})))},n.onerror=()=>{Ze(sT.ar.q8,"danger")}})),re=e=>{let{name:t,enabled:n}=e;return n?(0,ND.jsx)("input",{name:t,id:t,type:"checkbox",value:"0"}):(0,ND.jsx)("input",{name:t,id:t,type:"checkbox",value:"0",disabled:!0})},ie=e=>{let{valid:t}=e;if(!t)return(0,ND.jsx)("div",{className:"alert alert-danger text-center py-2",children:sT.ar.XR})};return(0,ND.jsx)(MS.Fragment,{children:A&&(0,ND.jsxs)("div",{class:"hsoub-container",children:[(0,ND.jsxs)("div",{class:"hsoub-content",children:[!F.dataset.embeded&&(0,ND.jsx)(RD,{header:r,editMode:w,saveMode:x,isLoading:S,setEditMode:e=>C(e),setSaveMode:e=>E(e),setReviewMode:e=>T(e),dropdownUrls:(()=>{let e=[];return e.push({title:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062e\u062f\u0645\u0629",url:P+"/service/"+F.dataset.id+"/edit",icon:"fa-edit"}),!!e.length&&e})(),status:o.status,running:o.running,admin:o.admin,owner:o.owner,valid:h.is_valid,container:F}),(0,ND.jsx)("div",{class:"flash-box"}),(0,ND.jsx)("div",{className:"container main-container "+(F.dataset.embeded?"pe-0 ps-0":""),children:(0,ND.jsx)("div",{class:"content inside",children:(0,ND.jsxs)("div",{class:"row",children:[(0,ND.jsx)("div",{class:"col-lg-8 col-sm-12 col-md-12",children:F.dataset.embeded?e():(0,ND.jsxs)(MS.Fragment,{children:[(0,ND.jsx)("div",{class:"row",id:"service-tabs",children:(0,ND.jsx)("div",{class:"tabs",children:(0,ND.jsx)("div",{class:"col-12",children:(0,ND.jsxs)("ul",{class:"tabs-list tabs-list--links",children:[(0,ND.jsxs)("li",{class:"tabs-list__item active",id:"edit-service",children:[(0,ND.jsx)("i",{class:"fa fa-fw fa-edit u-margin-left--tiny"}),(0,ND.jsx)("span",{children:"\u0635\u0641\u062d\u0629 \u0627\u0644\u062e\u062f\u0645\u0629"})]}),(0,ND.jsxs)("li",{class:"tabs-list__item",id:"settings",children:[(0,ND.jsx)("i",{class:"fa fa-fw fa-sliders u-margin-left--tiny"}),(0,ND.jsx)("span",{children:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"})]})]})})})}),(0,ND.jsxs)("div",{class:"tab-content",children:[(0,ND.jsx)("div",{class:"tab-content--item",id:"tab-content--edit-service",children:e()}),(0,ND.jsx)("div",{class:"tab-content--item hidden",id:"tab-content--settings",children:(0,ND.jsx)("div",{dangerouslySetInnerHTML:{__html:d}})})]})]})}),(0,ND.jsx)(PD,{setSaveMode:e=>E(e),setReviewMode:e=>T(e),sidebarHtml:a.sidebar,submission_requirements:h,editMode:w,upgrades:c,imagesLimit:v,videosLimit:b,container:F,status:o.status,valid:h.is_valid})]})})})]}),(0,ND.jsx)("div",{class:"modal",dir:"rtl",id:"send-service-to-review",children:(0,ND.jsx)("div",{class:"modal-dialog",children:(0,ND.jsxs)("div",{class:"modal-content",children:[(0,ND.jsxs)("div",{class:"modal-header",children:[(0,ND.jsx)("h5",{class:"modal-title",id:"send-service-to-review_label",children:"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062e\u062f\u0645\u0629 \u0644\u0644\u0645\u0631\u0627\u062c\u0639\u0629"}),(0,ND.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,ND.jsxs)("div",{class:"modal-body",children:[(0,ND.jsx)(ie,{valid:h.is_valid}),(0,ND.jsxs)("ul",{class:"c-list c-list--vert",children:[(0,ND.jsx)("li",{class:"c-list__item",children:(0,ND.jsx)("div",{class:"u-checkbox",children:(0,ND.jsxs)("label",{class:"mb-0",for:"unique",children:[(0,ND.jsx)(re,{name:"unique",enabled:h.is_valid}),(0,ND.jsxs)("span",{children:["\u0639\u0646\u0648\u0627\u0646 \u0648\u0648\u0635\u0641 \u0627\u0644\u062e\u062f\u0645\u0629 \u0645\u0646 \u0635\u064a\u0627\u063a\u062a\u064a \u0627\u0644\u062e\u0627\u0635\u0629",(0,ND.jsx)("span",{class:"required",children:"*"})]})]})})}),(0,ND.jsx)("li",{class:"c-list__item",children:(0,ND.jsx)("div",{class:"u-checkbox",children:(0,ND.jsxs)("label",{class:"mb-0",for:"ownership",children:[(0,ND.jsx)(re,{name:"ownership",enabled:h.is_valid}),(0,ND.jsxs)("span",{children:["\u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0639\u0645\u0627\u0644 \u0628\u0645\u0639\u0631\u0636 \u0627\u0644\u062e\u062f\u0645\u0629 \u0646\u0641\u0630\u062a\u0647\u0627 \u0628\u0646\u0641\u0633\u064a",(0,ND.jsx)("span",{class:"required",children:"*"})]})]})})}),(0,ND.jsx)("li",{class:"c-list__item",children:(0,ND.jsx)("div",{class:"u-checkbox",children:(0,ND.jsxs)("label",{class:"mb-0",for:"acknowledgment",children:[(0,ND.jsx)(re,{name:"acknowledgment",enabled:h.is_valid}),(0,ND.jsxs)("span",{children:["\u0627\u0644\u062e\u062f\u0645\u0629 \u0645\u062a\u0648\u0627\u0641\u0642\u0629 \u0645\u0639 ",(0,ND.jsx)("a",{href:"/terms",class:"u-clr--primary",target:"_blank",children:"\u0634\u0631\u0648\u0637 \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645"}),(0,ND.jsx)("span",{class:"required",children:"*"})]})]})})})]})]}),(0,ND.jsx)("div",{class:"modal-footer justify-content-between",children:(0,ND.jsx)("button",{type:"button",id:"send-service-to-review",className:"c-button c-button--primary c-button--block "+(h.is_valid?"":"disabled"),onClick:h.is_valid?e=>{e.preventDefault();var t=document.getElementById("unique").checked,n=document.getElementById("ownership").checked,r=document.getElementById("acknowledgment").checked,i=document.getElementById("user_token").value;const o=new FormData;o.append("token",i),o.append("unique",t),o.append("ownership",n),o.append("acknowledgment",r),t&&n&&r?I.post(P+"/ajax/service/"+F.dataset.id+"/profile/pending",o).then((e=>{"success"==e.data.status?(window.onbeforeunload=null,window.location=e.data.url):Ze(e.data.message,e.data.status),G(),ee(),$("#send-service-to-review").modal("hide")})).catch((()=>{})):Ze(sT.ar.A7,"danger")}:"",children:(0,ND.jsx)("span",{children:"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062e\u062f\u0645\u0629 \u0644\u0644\u0645\u0631\u0627\u062c\u0639\u0629"})})})]})})})]})})};var pT;const mT=MS.forwardRef(tt);var gT;e.p;const vT=MS.forwardRef(rt);e.p,e.p;var yT=e(1051),bT=e.n(yT),_T=e(1390),wT=e.n(_T),CT=e(7440),xT=e.n(CT),ET=e(8778),ST=e.n(ET),kT=e(3093),DT=e.n(kT),TT=e(138),AT=e.n(TT),NT=e(215),OT=e.n(NT),jT=(e(2673),e(592)),MT=e.n(jT);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e.g?e.g:"undefined"!=typeof self&&self;var RT=it({exports:{}}.exports=function(){var e=6e4,t=36e5,n="millisecond",r="second",i="minute",o="hour",s="day",a="week",l="month",c="quarter",u="year",d="date",f="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},g=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},v={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+g(r,2,"0")+":"+g(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,l),o=n-i<0,s=t.clone().add(r+(o?-1:1),l);return+(-(r+(n-i)/(o?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:u,w:a,d:s,D:d,h:o,m:i,s:r,ms:n,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",b={};b[y]=m;var _="$isDayjsObject",w=function(e){return e instanceof S||!(!e||!e[_])},C=function e(t,n,r){var i;if(!t)return y;if("string"==typeof t){var o=t.toLowerCase();b[o]&&(i=o),n&&(b[o]=n,i=o);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var a=t.name;b[a]=t,i=a}return!r&&i&&(y=i),i||!r&&y},x=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new S(n)},E=v;E.l=C,E.i=w,
E.w=function(e,t){return x(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var S=function(){function m(e){this.$L=C(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[_]=!0}var g=m.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(E.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(h);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return E},g.isValid=function(){return!(this.$d.toString()===f)},g.isSame=function(e,t){var n=x(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return x(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<x(e)},g.$g=function(e,t,n){return E.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,c=!!E.u(t)||t,f=E.p(e),h=function(e,t){var r=E.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return c?r:r.endOf(s)},p=function(e,t){return E.w(n.toDate()[e].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(f){case u:return c?h(1,0):h(31,11);case l:return c?h(1,g):h(0,g+1);case a:var b=this.$locale().weekStart||0,_=(m<b?m+7:m)-b;return h(c?v-_:v+(6-_),g);case s:case d:return p(y+"Hours",0);case o:return p(y+"Minutes",1);case i:return p(y+"Seconds",2);case r:return p(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var a,c=E.p(e),f="set"+(this.$u?"UTC":""),h=(a={},a[s]=f+"Date",a[d]=f+"Date",a[l]=f+"Month",a[u]=f+"FullYear",a[o]=f+"Hours",a[i]=f+"Minutes",a[r]=f+"Seconds",a[n]=f+"Milliseconds",a)[c],p=c===s?this.$D+(t-this.$W):t;if(c===l||c===u){var m=this.clone().set(d,1);m.$d[h](p),m.init(),this.$d=m.set(d,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[E.p(e)]()},g.add=function(n,c){var d,f=this;n=Number(n);var h=E.p(c),p=function(e){var t=x(f);return E.w(t.date(t.date()+Math.round(e*n)),f)};if(h===l)return this.set(l,this.$M+n);if(h===u)return this.set(u,this.$y+n);if(h===s)return p(1);if(h===a)return p(7);var m=(d={},d[i]=e,d[o]=t,d[r]=1e3,d)[h]||1,g=this.$d.getTime()+n*m;return E.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=E.z(this),o=this.$H,s=this.$m,a=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,d=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},h=function(e){return E.s(o%12||12,e,"0")},m=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(p,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return E.s(t.$y,4,"0");case"M":return a+1;case"MM":return E.s(a+1,2,"0");case"MMM":return d(n.monthsShort,a,c,3);case"MMMM":return d(c,a);case"D":return t.$D;case"DD":return E.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,l,2);case"ddd":return d(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(o);case"HH":return E.s(o,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return m(o,s,!0);case"A":return m(o,s,!1);case"m":return String(s);case"mm":return E.s(s,2,"0");case"s":return String(t.$s);case"ss":return E.s(t.$s,2,"0");case"SSS":return E.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,d,f){var h,p=this,m=E.p(d),g=x(n),v=(g.utcOffset()-this.utcOffset())*e,y=this-g,b=function(){return E.m(p,g)};switch(m){case u:h=b()/12;break;case l:h=b();break;case c:h=b()/3;break;case a:h=(y-v)/6048e5;break;case s:h=(y-v)/864e5;break;case o:h=y/t;break;case i:h=y/e;break;case r:h=y/1e3;break;default:h=y}return f?h:E.a(h)},g.daysInMonth=function(){return this.endOf(l).$D},g.$locale=function(){return b[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=C(e,t,!0);return r&&(n.$L=r),n},g.clone=function(){return E.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},m}(),k=S.prototype;return x.prototype=k,[["$ms",n],["$s",r],["$m",i],["$H",o],["$W",s],["$M",l],["$y",u],["$D",d]].forEach((function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),x.extend=function(e,t){return e.$i||(e(t,S,x),e.$i=!0),x},x.locale=C,x.isDayjs=w,x.unix=function(e){return x(1e3*e)},x.en=b[y],x.Ls=b,x.p={},x}());const FT="\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),LT={name:"ar",weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),months:FT,monthsShort:FT,weekStart:6,meridiem:(e,t,n)=>e>=12?n?"\u0645":"\u0645\u0633\u0627\u0621":n?"\u0635":"\u0635\u0628\u0627\u062d\u0627",relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",specialNumeration:(e,t)=>{const n=e.substring(0,1),r={s:["\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629","\u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u062a\u064a\u0646","\u062b\u0648\u0627\u0646"],m:["\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629","\u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u062a\u064a\u0646","\u062f\u0642\u0627\u0626\u0642"],h:["\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629","\u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u062a\u064a\u0646","\u0633\u0627\u0639\u0627\u062a"],d:["\u064a\u0648\u0645 \u0648\u0627\u062d\u062f","\u064a\u0648\u0645","\u064a\u0648\u0645\u064a\u0646","\u0623\u064a\u0627\u0645"],w:["\u0623\u0633\u0628\u0648\u0639 \u0648\u0627\u062d\u062f","\u0623\u0633\u0628\u0648\u0639","\u0623\u0633\u0628\u0648\u0639\u064a\u0646","\u0623\u0633\u0627\u0628\u064a\u0639"],M:["\u0634\u0647\u0631 \u0648\u0627\u062d\u062f","\u0634\u0647\u0631","\u0634\u0647\u0631\u064a\u0646","\u0623\u0634\u0647\u0631"],y:["\u0639\u0627\u0645 \u0648\u0627\u062d\u062f","\u0639\u0627\u0645","\u0639\u0627\u0645\u064a\u0646","\u0623\u0639\u0648\u0627\u0645"]},i=Number(String(t).substr(-2,2));return t<2?`${r[n][0]} `:i<2?`%d ${r[n][1]}`:i>2?t<11?`%d ${r[n][3]}`:`%d ${r[n][1]}`:2===t?r[n][2]:`%d \u0648 ${r[n][3]}`}},ordinal:e=>e,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"h:mm A",nextDay:"[\u063a\u062f\u0627]",nextWeek:"dddd",lastDay:"[\u0627\u0644\u0628\u0627\u0631\u062d\u0629]",lastWeek:"dddd [\u0627\u0644\u0633\u0627\u0628\u0642]",sameElse:"D MMMM"}};RT.locale(LT,null,!0),RT.extend(AT()),RT.extend(((e,t,n)=>{const r=t.prototype;n.en.relativeTime={future:"in %s",past:"%s ago",s:"seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};const i=(e,t,r,i)=>{const o=r.$locale().relativeTime,s=[{l:"s",r:59,d:"second"},{l:"m",r:59},{l:"mm",r:59,d:"minute"},{l:"h",r:23},{l:"hh",r:23,d:"hour"},{l:"d",r:29},{l:"dd",r:29,d:"day"},{l:"M",r:12},{l:"MM",r:12,d:"month"},{l:"y"},{l:"yy",d:"year"}],a=s.length;let l,c;for(let t=0;t<a;t+=2){let a=s[t];a.d&&(l=i?n(e).diff(r,a.d,!0):r.diff(e,a.d,!0));const u=Math.round(Math.abs(l));if(u<=a.r||!a.r){1===u&&t>0&&(a=s[t-1]),c=("specialNumeration"in o?o.specialNumeration(a.l,u):o[a.l]).replace("%d",u);break}}return t?c:(l>0?o.future:o.past).replace("%s",c)};r.to=function(e,t){return i(e,t,this,!0)},r.from=function(e,t){return i(e,t,this)};const o=e=>e.$u?n.utc():n();r.toNow=function(e){return this.to(o(this),e)},r.fromNow=function(e){return this.from(o(this),e)}})),RT.extend(bT()),RT.extend(xT()),RT.extend(ST()),RT.extend(DT()),RT.extend(wT()),RT.extend(OT()),RT.updateLocale("en",{calendar:{sameDay:"h:mm A",nextDay:"[Tomorrow]",nextWeek:"dddd",lastDay:"[Yesterday]",lastWeek:"[Last] dddd",sameElse:"D MMMM"}});const PT=RT.tz.guess();var IT,$T,zT=Object.prototype.toString,BT=function(e){var t=zT.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===zT.call(e.callee)),n},UT=Array.prototype.slice,HT=BT,WT=Object.keys,KT=WT?function(e){return WT(e)}:function(){if($T)return IT;var e;if($T=1,!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=BT,i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),s=i.call((function(){}),"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(e){var t=e.constructor;return t&&t.prototype===e},c={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!c["$"+e]&&t.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{l(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();e=function(e){var i=null!==e&&"object"==typeof e,c="[object Function]"===n.call(e),d=r(e),f=i&&"[object String]"===n.call(e),h=[];if(!i&&!c&&!d)throw new TypeError("Object.keys called on a non-object");var p=s&&c;if(f&&e.length>0&&!t.call(e,0))for(var m=0;m<e.length;++m)h.push(String(m));if(d&&e.length>0)for(var g=0;g<e.length;++g)h.push(String(g));else for(var v in e)p&&"prototype"===v||!t.call(e,v)||h.push(String(v));if(o)for(var y=function(e){if("undefined"==typeof window||!u)return l(e);try{return l(e)}catch(e){return!1}}(e),b=0;b<a.length;++b)y&&"constructor"===a[b]||!t.call(e,a[b])||h.push(a[b]);return h}}return IT=e}(),qT=Object.keys;KT.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return HT(e)?qT(UT.call(e)):qT(e)})}else Object.keys=KT;return Object.keys||KT};var VT,YT=KT,JT=Error,GT=EvalError,XT=RangeError,QT=ReferenceError,ZT=SyntaxError,eA=TypeError,tA=URIError,nA="undefined"!=typeof Symbol&&Symbol,rA={__proto__:null,foo:{}},iA=Object,oA=Function.prototype.call,sA=Object.prototype.hasOwnProperty,aA=MT().call(oA,sA),lA=JT,cA=GT,uA=XT,dA=QT,fA=ZT,hA=eA,pA=tA,mA=Function,gA=function(e){try{return mA('"use strict"; return ('+e+").constructor;")()}catch(e){}},vA=Object.getOwnPropertyDescriptor;if(vA)try{vA({},"")}catch(e){vA=null}var yA=function(){throw new hA},bA=vA?function(){try{return yA}catch(e){try{return vA(arguments,"callee").get}catch(e){return yA}}}():yA,_A="function"==typeof nA&&"function"==typeof Symbol&&"symbol"==typeof nA("foo")&&"symbol"==typeof Symbol("bar")&&function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}(),wA={__proto__:rA}.foo===rA.foo&&!(rA instanceof iA),CA=Object.getPrototypeOf||(wA?function(e){return e.__proto__}:null),xA={},EA="undefined"!=typeof Uint8Array&&CA?CA(Uint8Array):VT,SA={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?VT:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?VT:ArrayBuffer,"%ArrayIteratorPrototype%":_A&&CA?CA([][Symbol.iterator]()):VT,"%AsyncFromSyncIteratorPrototype%":VT,"%AsyncFunction%":xA,"%AsyncGenerator%":xA,"%AsyncGeneratorFunction%":xA,"%AsyncIteratorPrototype%":xA,"%Atomics%":"undefined"==typeof Atomics?VT:Atomics,"%BigInt%":"undefined"==typeof BigInt?VT:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?VT:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?VT:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?VT:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":lA,"%eval%":eval,"%EvalError%":cA,"%Float32Array%":"undefined"==typeof Float32Array?VT:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?VT:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?VT:FinalizationRegistry,"%Function%":mA,"%GeneratorFunction%":xA,"%Int8Array%":"undefined"==typeof Int8Array?VT:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?VT:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?VT:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_A&&CA?CA(CA([][Symbol.iterator]())):VT,"%JSON%":"object"==typeof JSON?JSON:VT,"%Map%":"undefined"==typeof Map?VT:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&_A&&CA?CA((new Map)[Symbol.iterator]()):VT,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?VT:Promise,"%Proxy%":"undefined"==typeof Proxy?VT:Proxy,"%RangeError%":uA,"%ReferenceError%":dA,"%Reflect%":"undefined"==typeof Reflect?VT:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?VT:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&_A&&CA?CA((new Set)[Symbol.iterator]()):VT,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?VT:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_A&&CA?CA(""[Symbol.iterator]()):VT,"%Symbol%":_A?Symbol:VT,"%SyntaxError%":fA,"%ThrowTypeError%":bA,"%TypedArray%":EA,"%TypeError%":hA,"%Uint8Array%":"undefined"==typeof Uint8Array?VT:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?VT:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?VT:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?VT:Uint32Array,"%URIError%":pA,"%WeakMap%":"undefined"==typeof WeakMap?VT:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?VT:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?VT:WeakSet};if(CA)try{null.error}catch(e){var kA=CA(CA(e));SA["%Error.prototype%"]=kA}var DA,TA,AA=function e(t){var n;if("%AsyncFunction%"===t)n=gA("async function () {}");else if("%GeneratorFunction%"===t)n=gA("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=gA("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&CA&&(n=CA(i.prototype))}return SA[t]=n,n},NA={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},OA=MT(),jA=aA,MA=OA.call(Function.call,Array.prototype.concat),RA=OA.call(Function.apply,Array.prototype.splice),FA=OA.call(Function.call,String.prototype.replace),LA=OA.call(Function.call,String.prototype.slice),PA=OA.call(Function.call,RegExp.prototype.exec),IA=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,$A=/\\(\\)?/g,zA=function(e,t){var n,r=e;if(jA(NA,r)&&(r="%"+(n=NA[r])[0]+"%"),jA(SA,r)){var i=SA[r];if(i===xA&&(i=AA(r)),void 0===i&&!t)throw new hA("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new fA("intrinsic "+e+" does not exist!")},BA=function(e,t){if("string"!=typeof e||0===e.length)throw new hA("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new hA('"allowMissing" argument must be a boolean');if(null===PA(/^%?[^%]*%?$/,e))throw new fA("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=LA(e,0,1),n=LA(e,-1);if("%"===t&&"%"!==n)throw new fA("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new fA("invalid intrinsic syntax, expected opening `%`");var r=[];return FA(e,IA,(function(e,t,n,i){r[r.length]=n?FA(i,$A,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",i=zA("%"+r+"%",t),o=i.name,s=i.value,a=!1,l=i.alias;l&&(r=l[0],RA(n,MA([0,1],l)));for(var c=1,u=!0;c<n.length;c+=1){var d=n[c],f=LA(d,0,1),h=LA(d,-1);if(('"'===f||"'"===f||"`"===f||'"'===h||"'"===h||"`"===h)&&f!==h)throw new fA("property names with quotes must have matching quotes");if("constructor"!==d&&u||(a=!0),jA(SA,o="%"+(r+="."+d)+"%"))s=SA[o];else if(null!=s){if(!(d in s)){if(!t)throw new hA("base intrinsic for "+e+" exists, but the property is not available.");return}if(vA&&c+1>=n.length){var p=vA(s,d);s=(u=!!p)&&"get"in p&&!("originalValue"in p.get)?p.get:s[d]}else u=jA(s,d),s=s[d];u&&!a&&(SA[o]=s)}}return s},UA=BA("%Object.getOwnPropertyDescriptor%",!0);if(UA)try{UA([],"length")}catch(e){UA=null}var HA=UA,WA=ot(),KA=ZT,qA=eA,VA=HA,YA=function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new qA("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new qA("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new qA("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new qA("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new qA("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new qA("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6&&arguments[6],a=!!VA&&VA(e,t);if(WA)WA(e,t,{configurable:null===o&&a?a.configurable:!o,enumerable:null===r&&a?a.enumerable:!r,value:n,writable:null===i&&a?a.writable:!i});else{if(!s&&(r||i||o))throw new KA("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}},JA=ot(),GA=function(){return!!JA};GA.hasArrayLengthDefineBug=function(){if(!JA)return null;try{return 1!==JA([],"length",{value:1}).length}catch(e){return!0}};var XA=GA,QA=YT,ZA="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),eN=Object.prototype.toString,tN=Array.prototype.concat,nN=YA,rN=XA(),iN=function(e,t,n,r){if(t in e)if(!0===r){if(e[t]===n)return}else if("function"!=typeof(i=r)||"[object Function]"!==eN.call(i)||!r())return;var i;rN?nN(e,t,n,!0):nN(e,t,n)},oN=function(e,t){var n=arguments.length>2?arguments[2]:{},r=QA(t);ZA&&(r=tN.call(r,Object.getOwnPropertySymbols(t)));for(var i=0;i<r.length;i+=1)iN(e,r[i],t[r[i]],n[r[i]])};oN.supportsDescriptors=!!rN;var sN=oN,aN={exports:{}},lN=BA,cN=YA,uN=XA(),dN=HA,fN=eA,hN=lN("%Math.floor%"),pN=function(e,t){if("function"!=typeof e)throw new fN("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||hN(t)!==t)throw new fN("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,i=!0;if("length"in e&&dN){var o=dN(e,"length");o&&!o.configurable&&(r=!1),o&&!o.writable&&(i=!1)}return(r||i||!n)&&(uN?cN(e,"length",t,!0,!0):cN(e,"length",t)),e};!function(e){var t=MT(),n=BA,r=pN,i=eA,o=n("%Function.prototype.apply%"),s=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||t.call(s,o),l=ot(),c=n("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new i("a function is required");var n=a(t,s,arguments);return r(n,1+c(0,e.length-(arguments.length-1)),!0)};var u=function(){return a(t,o,arguments)};l?l(e.exports,"apply",{value:u}):e.exports.apply=u}(aN);var mN=aN.exports,gN=eA,vN=BA,yN=mN,bN=yN(vN("String.prototype.indexOf")),_N=function(e,t){var n=vN(e,!!t);return"function"==typeof n&&bN(e,".prototype.")>-1?yN(n):n},wN=_N("Object.prototype.propertyIsEnumerable"),CN=_N("Array.prototype.push"),xN=function(e){var t=function(e){if(null==e)throw new gN(arguments.length>0&&arguments[1]||"Cannot call method on "+e);return e}(e),n=[];for(var r in t)wN(t,r)&&CN(n,[r,t[r]]);return n},EN=xN,SN=function(){return"function"==typeof Object.entries?Object.entries:EN},kN=SN,DN=sN,TN=sN,AN=xN,NN=SN,ON=mN(NN(),Object);TN(ON,{getPolyfill:NN,implementation:AN,shim:function(){var e=kN();return DN(Object,{entries:e},{entries:function(){return Object.entries!==e}}),e}});var jN,MN=ON,RN=function(){},FN=aA,LN=function(e){RN(!1,e)},PN=String.prototype.replace,IN=String.prototype.split,$N="||||",zN=function(e){var t=e%100,n=t%10;return 11!==t&&1===n?0:2<=n&&n<=4&&!(t>=12&&t<=14)?1:2},BN={pluralTypes:{arabic:function(e){if(e<3)return e;var t=e%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:zN,chinese:function(){return 0},croatian:zN,french:function(e){return e>=2?1:0},german:function(e){return 1!==e?1:0},russian:zN,lithuanian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=9&&(e%100<11||e%100>19)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){if(1===e)return 0;var t=e%10;return 2<=t&&t<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0},slovenian:function(e){var t=e%100;return 1===t?0:2===t?1:3===t||4===t?2:3},romanian:function(e){if(1===e)return 0;var t=e%100;return 0===e||t>=2&&t<=19?1:2},ukrainian:zN},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is","mk"],slovenian:["sl-SL"],romanian:["ro"],ukrainian:["uk","ua"]}},UN=(jN={},function(e,t){var n=jN[t];return n&&!e.pluralTypes[n]&&(n=null,jN[t]=n),n||(n=function(e,t){var n=function(e){for(var t={},n=MN(e),r=0;r<n.length;r+=1)for(var i=n[r][0],o=n[r][1],s=0;s<o.length;s+=1)t[o[s]]=i;return t}(e.pluralTypeToLanguages);return n[t]||n[IN.call(t,/-/,1)[0]]||n.en}(e,t))&&(jN[t]=n),n}),HN=/%\{(.*?)\}/g;lt.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},lt.prototype.extend=function(e,t){for(var n=MN(e||{}),r=0;r<n.length;r+=1){var i=n[r][0],o=n[r][1],s=t?t+"."+i:i;"object"==typeof o?this.extend(o,s):this.phrases[s]=o}},lt.prototype.unset=function(e,t){if("string"==typeof e)delete this.phrases[e];else for(var n=MN(e||{}),r=0;r<n.length;r+=1){var i=n[r][0],o=n[r][1],s=t?t+"."+i:i;"object"==typeof o?this.unset(o,s):delete this.phrases[s]}},lt.prototype.clear=function(){this.phrases={}},lt.prototype.replace=function(e){this.clear(),this.extend(e)},lt.prototype.t=function(e,t){var n,r,i=null==t?{}:t;return"string"==typeof this.phrases[e]?n=this.phrases[e]:"string"==typeof i._?n=i._:this.onMissingKey?r=(0,this.onMissingKey)(e,i,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation):(this.warn('Missing translation for key: "'+e+'"'),r=e),"string"==typeof n&&(r=at(n,i,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)),r},lt.prototype.has=function(e){return FN(this.phrases,e)},lt.transformPhrase=function(e,t,n){return at(e,t,n)};var WN,KN=it(lt),qN=new Uint8Array(16);const VN=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,YN=function(e){return"string"==typeof e&&VN.test(e)};for(var JN=[],GN=0;GN<256;++GN)JN.push((GN+256).toString(16).substr(1));const XN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(JN[e[t+0]]+JN[e[t+1]]+JN[e[t+2]]+JN[e[t+3]]+"-"+JN[e[t+4]]+JN[e[t+5]]+"-"+JN[e[t+6]]+JN[e[t+7]]+"-"+JN[e[t+8]]+JN[e[t+9]]+"-"+JN[e[t+10]]+JN[e[t+11]]+JN[e[t+12]]+JN[e[t+13]]+JN[e[t+14]]+JN[e[t+15]]).toLowerCase();if(!YN(n))throw TypeError("Stringified UUID is invalid");return n},QN=function(e,t,n){var r=(e=e||{}).random||(e.rng||ut)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return XN(r)};var ZN=e(507),eO=e.n(ZN),tO=e(1505);const nO="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,rO=nO&&"documentMode"in document?document.documentMode:null,iO=nO&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),oO=nO&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),sO=!(!nO||!("InputEvent"in window)||rO)&&"getTargetRanges"in new window.InputEvent("input"),aO=nO&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),lO=nO&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,cO=nO&&/Android/.test(navigator.userAgent),uO=nO&&/^(?=.*Chrome).*/i.test(navigator.userAgent),dO=nO&&cO&&uO,fO=nO&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!uO,hO=0,pO=1,mO=2,gO=1,vO=2,yO=3,bO=4,_O=5,wO=6,CO=aO||lO||fO?"\xa0":"\u200b",xO="\n\n",EO=oO?"\xa0":CO,SO="\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc",kO="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff",DO=new RegExp("^[^"+kO+"]*["+SO+"]"),TO=new RegExp("^[^"+SO+"]*["+kO+"]"),AO={bold:1,capitalize:1024,code:16,highlight:128,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},NO={directionless:1,unmergeable:2},OO={center:2,end:6,justify:4,left:1,right:3,start:5},jO={[vO]:"center",[wO]:"end",[bO]:"justify",[gO]:"left",[yO]:"right",[_O]:"start"},MO={normal:0,segmented:2,token:1},RO={[hO]:"normal",[mO]:"segmented",[pO]:"token"},FO="$";let LO=!1,PO=0;class IO{constructor(e,t){this.key=e,this.parse=t.parse.bind(t),this.unparse=(t.unparse||Ct).bind(t),this.isEqual=(t.isEqual||Object.is).bind(t),this.defaultValue=this.parse(void 0)}}class $O{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;this.node=e,this.sharedConfigMap=t,this.unknownState=n,this.knownState=r;const o=void 0!==i?i:function(e,t,n){let r=n.size;if(t)for(const i in t){const t=e.get(i);t&&n.has(t)||r++}return r}(t,n,r);void 0!==i&&o!==i&&dt(`NodeState: size != computedSize (${String(i)} != ${String(o)})`);for(const e of r.keys())t.has(e.key)||dt(`NodeState: sharedConfigMap missing knownState key ${e.key}`);this.size=o}getValue(e){const t=this.knownState.get(e);if(void 0!==t)return t;this.sharedConfigMap.set(e.key,e);let n=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const t=this.unknownState[e.key];void 0!==t&&(n=e.parse(t)),this.updateFromKnown(e,n)}return n}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState};for(const[t,n]of this.knownState)t.isEqual(n,t.defaultValue)?delete e[t.key]:e[t.key]=t.unparse(n);return St(e)?{[FO]:e}:{}}getWritable(e){if(this.node===e)return this;const t=new Map(this.knownState),n=St(r=this.unknownState)&&{...r};var r;if(n)for(const e of t.keys())delete n[e.key];return new $O(e,this.sharedConfigMap,St(n),t,this.size)}updateFromKnown(e,t){const n=e.key;this.sharedConfigMap.set(n,e);const{knownState:r,unknownState:i}=this;r.has(e)||i&&n in i||this.size++,r.set(e,t)}updateFromUnknown(e,t){const n=this.sharedConfigMap.get(e);n?this.updateFromKnown(n,n.parse(t)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=t)}updateFromJSON(e){const{knownState:t}=this;for(const e of t.keys())t.set(e,e.defaultValue);if(this.size=t.size,this.unknownState={},e)for(const[t,n]of Object.entries(e))this.updateFromUnknown(t,n);this.unknownState=St(this.unknownState)}}let zO,BO,UO,HO,WO,KO,qO,VO,YO,JO,GO="",XO="",QO=null,ZO="",ej="",tj=!1,nj=!1,rj=null
;const ij="40px",oj=Vt("SELECTION_CHANGE_COMMAND"),sj=Vt("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),aj=Vt("CLICK_COMMAND"),lj=Vt("DELETE_CHARACTER_COMMAND"),cj=Vt("INSERT_LINE_BREAK_COMMAND"),uj=Vt("INSERT_PARAGRAPH_COMMAND"),dj=Vt("CONTROLLED_TEXT_INSERTION_COMMAND"),fj=Vt("PASTE_COMMAND"),hj=Vt("REMOVE_TEXT_COMMAND"),pj=Vt("DELETE_WORD_COMMAND"),mj=Vt("DELETE_LINE_COMMAND"),gj=Vt("FORMAT_TEXT_COMMAND"),vj=Vt("UNDO_COMMAND"),yj=Vt("REDO_COMMAND"),bj=Vt("KEYDOWN_COMMAND"),_j=Vt("KEY_ARROW_RIGHT_COMMAND"),wj=Vt("MOVE_TO_END"),Cj=Vt("KEY_ARROW_LEFT_COMMAND"),xj=Vt("MOVE_TO_START"),Ej=Vt("KEY_ARROW_UP_COMMAND"),Sj=Vt("KEY_ARROW_DOWN_COMMAND"),kj=Vt("KEY_ENTER_COMMAND"),Dj=Vt("KEY_SPACE_COMMAND"),Tj=Vt("KEY_BACKSPACE_COMMAND"),Aj=Vt("KEY_ESCAPE_COMMAND"),Nj=Vt("KEY_DELETE_COMMAND"),Oj=Vt("KEY_TAB_COMMAND"),jj=Vt("INSERT_TAB_COMMAND"),Mj=Vt("INDENT_CONTENT_COMMAND"),Rj=Vt("OUTDENT_CONTENT_COMMAND"),Fj=Vt("DROP_COMMAND"),Lj=Vt("FORMAT_ELEMENT_COMMAND"),Pj=Vt("DRAGSTART_COMMAND"),Ij=Vt("DRAGOVER_COMMAND"),$j=Vt("DRAGEND_COMMAND"),zj=Vt("COPY_COMMAND"),Bj=Vt("CUT_COMMAND"),Uj=Vt("SELECT_ALL_COMMAND"),Hj=Vt("CLEAR_EDITOR_COMMAND"),Wj=Vt("CLEAR_HISTORY_COMMAND"),Kj=Vt("CAN_REDO_COMMAND"),qj=Vt("CAN_UNDO_COMMAND"),Vj=Vt("FOCUS_COMMAND"),Yj=Vt("BLUR_COMMAND"),Jj=Vt("KEY_MODIFIER_COMMAND"),Gj=Object.freeze({}),Xj=[["keydown",function(e,t){if(Qj=e.timeStamp,Zj=e.key,!t.isComposing()&&!bi(t,bj,e)&&null!=e.key){if(aM&&fi(e))return yr(t,(()=>{en(t,lM)})),aM=!1,void(lM="");if(function(e){return di(e,"ArrowRight",{shiftKey:"any"})}(e))bi(t,_j,e);else if(function(e){return di(e,"ArrowRight",HM)}(e))bi(t,wj,e);else if(function(e){return di(e,"ArrowLeft",{shiftKey:"any"})}(e))bi(t,Cj,e);else if(function(e){return di(e,"ArrowLeft",HM)}(e))bi(t,xj,e);else if(function(e){return di(e,"ArrowUp",{altKey:"any",shiftKey:"any"})}(e))bi(t,Ej,e);else if(function(e){return di(e,"ArrowDown",{altKey:"any",shiftKey:"any"})}(e))bi(t,Sj,e);else if(function(e){return di(e,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})}(e))oM=!0,bi(t,kj,e);else if(function(e){return" "===e.key}(e))bi(t,Dj,e);else if(function(e){return iO&&di(e,"o",{ctrlKey:!0})}(e))e.preventDefault(),oM=!0,bi(t,cj,!0);else if(function(e){return di(e,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})}(e))oM=!1,bi(t,kj,e);else if(function(e){return di(e,"Backspace",{shiftKey:"any"})||iO&&di(e,"h",{ctrlKey:!0})}(e))fi(e)?bi(t,Tj,e):(e.preventDefault(),bi(t,lj,!0));else if(function(e){return"Escape"===e.key}(e))bi(t,Aj,e);else if(function(e){return di(e,"Delete",{})||iO&&di(e,"d",{ctrlKey:!0})}(e))!function(e){return"Delete"===e.key}(e)?(e.preventDefault(),bi(t,lj,!1)):bi(t,Nj,e);else if(function(e){return di(e,"Backspace",WM)}(e))e.preventDefault(),bi(t,pj,!0);else if(function(e){return di(e,"Delete",WM)}(e))e.preventDefault(),bi(t,pj,!1);else if(function(e){return iO&&di(e,"Backspace",{metaKey:!0})}(e))e.preventDefault(),bi(t,mj,!0);else if(function(e){return iO&&(di(e,"Delete",{metaKey:!0})||di(e,"k",{ctrlKey:!0}))}(e))e.preventDefault(),bi(t,mj,!1);else if(function(e){return di(e,"b",HM)}(e))e.preventDefault(),bi(t,gj,"bold");else if(function(e){return di(e,"u",HM)}(e))e.preventDefault(),bi(t,gj,"underline");else if(function(e){return di(e,"i",HM)}(e))e.preventDefault(),bi(t,gj,"italic");else if(function(e){return di(e,"Tab",{shiftKey:"any"})}(e))bi(t,Oj,e);else if(function(e){return di(e,"z",HM)}(e))e.preventDefault(),bi(t,vj,void 0);else if(function(e){return iO?di(e,"z",{metaKey:!0,shiftKey:!0}):di(e,"y",{ctrlKey:!0})||di(e,"z",{ctrlKey:!0,shiftKey:!0})}(e))e.preventDefault(),bi(t,yj,void 0);else{const n=t._editorState._selection;null===n||On(n)?!oO&&hi(e)&&(e.preventDefault(),bi(t,Uj,e)):function(e){return di(e,"c",HM)}(e)?(e.preventDefault(),bi(t,zj,e)):function(e){return di(e,"x",HM)}(e)?(e.preventDefault(),bi(t,Bj,e)):hi(e)&&(e.preventDefault(),bi(t,Uj,e))}(function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey})(e)&&bi(t,Jj,e)}}],["pointerdown",function(e,t){const n=e.target,r=e.pointerType;zi(n)&&"touch"!==r&&0===e.button&&yr(t,(()=>{Nr(n)||(iM=!0)}))}],["compositionstart",function(e,t){yr(t,(()=>{const n=qn();if(On(n)&&!t.isComposing()){const r=n.anchor,i=n.anchor.getNode();Wr(r.key),(e.timeStamp<Qj+30||"element"===r.type||!n.isCollapsed()||i.getFormat()!==n.format||En(i)&&i.getStyle()!==n.style)&&bi(t,dj,EO)}}))}],["compositionend",function(e,t){oO?sM=!0:lO||!aO&&!fO?yr(t,(()=>{en(t,e.data)})):(aM=!0,lM=e.data)}],["input",function(e,t){e.stopPropagation(),yr(t,(()=>{if($i(e.target)&&Nr(e.target))return;const n=qn(),r=e.data,i=Zt(e);if(null!=r&&On(n)&&Yt(n,i,r,e.timeStamp,!1)){sM&&(en(t,r),sM=!1);const i=n.anchor.getNode(),o=Pi(Ti(t));if(null===o)return;const s=n.isBackward(),a=s?n.anchor.offset:n.focus.offset,l=s?n.focus.offset:n.anchor.offset;sO&&!n.isCollapsed()&&En(i)&&null!==o.anchorNode&&i.getTextContent().slice(0,a)+r+i.getTextContent().slice(a+l)===si(o.anchorNode)||bi(t,dj,r);const c=r.length;oO&&c>1&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=c),aO||lO||fO||!t.isComposing()||(Qj=0,Wr(null))}else ai(!1,t,null!==r?r:void 0),sM&&(en(t,r||void 0),sM=!1);rr(),_t(sr())}),{event:e}),tM=null}],["click",function(e,t){yr(t,(()=>{const n=qn(),r=Pi(Ti(t)),i=Vn();if(r)if(On(n)){const t=n.anchor,o=t.getNode();if("element"===t.type&&0===t.offset&&n.isCollapsed()&&!xr(o)&&1===Qr().getChildrenSize()&&o.getTopLevelElementOrThrow().isEmpty()&&null!==i&&n.is(i))r.removeAllRanges(),n.dirty=!0;else if(3===e.detail&&!n.isCollapsed()&&o!==n.focus.getNode()){const e=function(e,t){let n=e;for(;n!==Qr()&&null!=n;){if(t(n))return n;n=n.getParent()}return null}(o,(e=>_r(e)&&!e.isInline()));_r(e)&&e.select(0)}}else if("touch"===e.pointerType){const n=r.anchorNode;($i(n)||Pr(n))&&ei(Wn(i,r,t,e))}bi(t,aj,e)}))}],["cut",Gj],["copy",Gj],["dragstart",Gj],["dragover",Gj],["dragend",Gj],["paste",Gj],["focus",Gj],["blur",Gj],["drop",Gj]];sO&&Xj.push(["beforeinput",(e,t)=>function(e,t){const n=e.inputType,r=Zt(e);"deleteCompositionText"===n||oO&&yi(t)||"insertCompositionText"!==n&&yr(t,(()=>{const i=qn();if("deleteContentBackward"===n){if(null===i){const e=Vn();if(!On(e))return;ei(e.clone())}if(On(i)){const n=i.anchor.key===i.focus.key;if(o=e.timeStamp,"MediaLast"===Zj&&o<Qj+30&&t.isComposing()&&n){if(Wr(null),Qj=0,setTimeout((()=>{yr(t,(()=>{Wr(null)}))}),30),On(i)){const e=i.anchor.getNode();e.markDirty(),En(e)||dt("Anchor node must be a TextNode"),Qt(i,e)}}else{Wr(null),e.preventDefault();const r=i.anchor.getNode(),o=r.getTextContent(),s=r.canInsertTextAfter(),a=0===i.anchor.offset&&i.focus.offset===o.length;let l=dO&&n&&!a&&s;if(l&&i.isCollapsed()&&(l=!Cr(vi(i.anchor,!0))),!l){bi(t,lj,!0);const e=qn();dO&&On(e)&&e.isCollapsed()&&(cM=e,setTimeout((()=>cM=null)))}}return}}var o;if(!On(i))return;const s=e.data;null!==tM&&ai(!1,t,tM),i.dirty&&null===tM||!i.isCollapsed()||xr(i.anchor.getNode())||null===r||i.applyDOMRange(r),tM=null;const a=i.anchor,l=i.focus,c=a.getNode(),u=l.getNode();if("insertText"!==n&&"insertTranspose"!==n)switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":bi(t,dj,e);break;case"insertFromComposition":Wr(null),bi(t,dj,e);break;case"insertLineBreak":Wr(null),bi(t,cj,!1);break;case"insertParagraph":Wr(null),oM&&!lO?(oM=!1,bi(t,cj,!1)):bi(t,uj,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":bi(t,fj,e);break;case"deleteByComposition":(function(e,t){return e!==t||_r(e)||_r(t)||!e.isToken()||!t.isToken()})(c,u)&&bi(t,hj,e);break;case"deleteByDrag":case"deleteByCut":bi(t,hj,e);break;case"deleteContent":bi(t,lj,!1);break;case"deleteWordBackward":bi(t,pj,!0);break;case"deleteWordForward":bi(t,pj,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":bi(t,mj,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":bi(t,mj,!1);break;case"formatStrikeThrough":bi(t,gj,"strikethrough");break;case"formatBold":bi(t,gj,"bold");break;case"formatItalic":bi(t,gj,"italic");break;case"formatUnderline":bi(t,gj,"underline");break;case"historyUndo":bi(t,vj,void 0);break;case"historyRedo":bi(t,yj,void 0)}else{if("\n"===s)e.preventDefault(),bi(t,cj,!1);else if(s===xO)e.preventDefault(),bi(t,uj,void 0);else if(null==s&&e.dataTransfer){const t=e.dataTransfer.getData("text/plain");e.preventDefault(),i.insertRawText(t)}else null!=s&&Yt(i,r,s,e.timeStamp,!0)?(e.preventDefault(),bi(t,dj,s)):tM=s;eM=e.timeStamp}}))}(e,t)]);let Qj=0,Zj=null,eM=0,tM=null;const nM=new WeakMap;let rM=!1,iM=!1,oM=!1,sM=!1,aM=!1,lM="",cM=null,uM=[0,"",0,"root",0];const dM=new Map,fM=function(){{let e=!1;return()=>{e||console.warn("Root element not registered"),e=!0}}}();class hM{static getType(){dt(`LexicalNode: Node ${this.name} does not implement .getType().`)}static clone(e){dt(`LexicalNode: Node ${this.name} does not implement .clone().`)}afterCloneFrom(e){this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),Br(this,e),"root"!==this.__type&&(rr(),function(e,t){const n=sr()._nodes.get(e);void 0===n&&dt(`Create node: Attempted to create node ${t.name} that was not configured to be used on the editor.`);const r=n.klass;r!==t&&dt(`Create node: Type ${e} in node ${t.name} does not match registered node ${r.name} with the same type`)}(this.__type,this.constructor))}getType(){return this.__type}isInline(){dt(`LexicalNode: Node ${this.constructor.name} does not implement .isInline().`)}isAttached(){let e=this.__key;for(;null!==e;){if("root"===e)return!0;const t=qr(e);if(null===t)break;e=t.__parent}return!1}isSelected(e){const t=e||qn();if(null==t)return!1;const n=t.getNodes().some((e=>e.__key===this.__key));if(En(this))return n;if(On(t)&&"element"===t.anchor.type&&"element"===t.focus.type){if(t.isCollapsed())return!1;const e=this.getParent();if(Cr(this)&&this.isInline()&&e){const n=t.isBackward()?t.focus:t.anchor;if(e.is(n.getNode())&&n.offset===e.getChildrenSize()&&this.is(e.getLastChild()))return!1}}return n}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(null===e)return-1;let t=e.getFirstChild(),n=0;for(;null!==t;){if(this.is(t))return n;n++,t=t.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return null===e?null:qr(e)}getParentOrThrow(){const e=this.getParent();return null===e&&dt(`Expected node ${this.__key} to have a parent.`),e}getTopLevelElement(){let e=this;for(;null!==e;){const t=e.getParent();if(Ni(t))return _r(e)||e===this&&Cr(e)||dt("Children of root nodes must be elements or decorators"),e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return null===e&&dt(`Expected node ${this.__key} to have a top parent element.`),e}getParents(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return null===e?null:qr(e)}getPreviousSiblings(){const e=[],t=this.getParent();if(null===t)return e;let n=t.getFirstChild();for(;null!==n&&!n.is(this);)e.push(n),n=n.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return null===e?null:qr(e)}getNextSiblings(){const e=[];let t=this.getNextSibling();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){const t=_r(this)?this:this.getParent(),n=_r(e)?e:e.getParent(),r=t&&n?vo(t,n):null;return r?r.commonAncestor:null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){const t=vo(this,e);return null!==t&&("descendant"===t.type||("branch"===t.type?-1===po(t):("same"!==t.type&&"ancestor"!==t.type&&dt("LexicalNode.isBefore: exhaustiveness check"),!1)))}isParentOf(e){const t=vo(this,e);return null!==t&&"ancestor"===t.type}getNodesBetween(e){const t=this.isBefore(e),n=[],r=new Set;let i=this;for(;null!==i;){const o=i.__key;if(r.has(o)||(r.add(o),n.push(i)),i===e)break;const s=_r(i)?t?i.getFirstChild():i.getLastChild():null;if(null!==s){i=s;continue}const a=t?i.getNextSibling():i.getPreviousSibling();if(null!==a){i=a;continue}const l=i.getParentOrThrow();if(r.has(l.__key)||n.push(l),l===e)break;let c=null,u=l;do{if(null===u&&dt("getNodesBetween: ancestor is null"),c=t?u.getNextSibling():u.getPreviousSibling(),u=u.getParent(),null===u)break;null!==c||r.has(u.__key)||n.push(u)}while(null===c);i=c}return t||n.reverse(),n}isDirty(){const e=sr()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){const e=qr(this.__key);return null===e&&dt("Lexical node does not exist in active editor state. Avoid using the same node references between nested closures from editorState.read/editor.update."),e}getWritable(){rr();const e=or(),t=sr(),n=e._nodeMap,r=this.__key,i=this.getLatest(),o=t._cloneNotNeeded,s=qn();if(null!==s&&s.setCachedNodes(null),o.has(r))return Hr(i),i;const a=Vi(i);return o.add(r),Hr(a),n.set(r,a),a}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){dt("createDOM: base method not extended")}updateDOM(e,t,n){dt("updateDOM: base method not extended")}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){dt(`LexicalNode: Node ${this.name} does not implement .importJSON().`)}updateFromJSON(e){return function(e,t){const n=e.getWritable();return(t||n.__state)&&kt(e).updateFromJSON(t),n}(this,e.$)}static transform(){return null}remove(e){sn(this,!0,e)}replace(e,t){rr();let n=qn();null!==n&&(n=n.clone()),Mi(this,e);const r=this.getLatest(),i=this.__key,o=e.__key,s=e.getWritable(),a=this.getParentOrThrow().getWritable(),l=a.__size;Ur(s);const c=r.getPreviousSibling(),u=r.getNextSibling(),d=r.__prev,f=r.__next,h=r.__parent;if(sn(r,!1,!0),null===c?a.__first=o:c.getWritable().__next=o,s.__prev=d,null===u?a.__last=o:u.getWritable().__prev=o,s.__next=f,s.__parent=h,a.__size=l,t&&(_r(this)&&_r(s)||dt("includeChildren should only be true for ElementNodes"),this.getChildren().forEach((e=>{s.append(e)}))),On(n)){ei(n);const e=n.anchor,t=n.focus;e.key===i&&Nn(e,s),t.key===i&&Nn(t,s)}return Kr()===i&&Wr(o),s}insertAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];rr(),Mi(this,e);const n=this.getWritable(),r=e.getWritable(),i=r.getParent(),o=qn();let s=!1,a=!1;if(null!==i){const t=e.getIndexWithinParent();if(Ur(r),On(o)){const e=i.__key,n=o.anchor,r=o.focus;s="element"===n.type&&n.key===e&&n.offset===t+1,a="element"===r.type&&r.key===e&&r.offset===t+1}}const l=this.getNextSibling(),c=this.getParentOrThrow().getWritable(),u=r.__key,d=n.__next;if(null===l?c.__last=u:l.getWritable().__prev=u,c.__size++,n.__next=u,r.__next=d,r.__prev=n.__key,r.__parent=n.__parent,t&&On(o)){const e=this.getIndexWithinParent();Yn(o,c,e+1);const t=c.__key;s&&o.anchor.set(t,e+2,"element"),a&&o.focus.set(t,e+2,"element")}return e}insertBefore(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];rr(),Mi(this,e);const n=this.getWritable(),r=e.getWritable(),i=r.__key;Ur(r);const o=this.getPreviousSibling(),s=this.getParentOrThrow().getWritable(),a=n.__prev,l=this.getIndexWithinParent();null===o?s.__first=i:o.getWritable().__next=i,s.__size++,n.__prev=i,r.__prev=a,r.__next=n.__key,r.__parent=n.__parent;const c=qn();return t&&On(c)&&Yn(c,this.getParentOrThrow(),l),e}isParentRequired(){return!1}createParentElementNode(){return Tr()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){rr();const n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if(_r(n))return n.select();if(!En(n)){const e=n.getIndexWithinParent()+1;return r.select(e,e)}return n.select(e,t)}selectNext(e,t){rr();const n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if(_r(n))return n.select(0,0);if(!En(n)){const e=n.getIndexWithinParent();return r.select(e,e)}return n.select(e,t)}markDirty(){this.getWritable()}reconcileObservedMutation(e,t){this.markDirty()}}class pM extends hM{static getType(){return"linebreak"}static clone(e){return new pM(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>function(e){const t=e.parentElement;if(null!==t&&Hi(t)){const n=t.firstChild;if(n===e||n.nextSibling===e&&un(n)){const n=t.lastChild;if(n===e||n.previousSibling===e&&un(n))return!0}}return!1}(e)||function(e){const t=e.parentElement;if(null!==t&&Hi(t)){const n=t.firstChild;if(n===e||n.nextSibling===e&&un(n))return!1;const r=t.lastChild;if(r===e||r.previousSibling===e&&un(r))return!0}return!1}(e)?null:{conversion:an,priority:0}}}static importJSON(e){return ln().updateFromJSON(e)}}let mM=class e extends hM{static getType(){return"text"}static clone(t){return new e(t.__text,t.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";super(arguments.length>1?arguments[1]:void 0),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return RO[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===Kr()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const t=AO[e];return 0!=(this.getFormat()&t)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return zr(this.getLatest().__format,e,t)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,t){const n=this.__format,r=dn(0,n),i=fn(0,n),o=null===r?i:r,s=document.createElement(o);let a=s;this.hasFormat("code")&&s.setAttribute("spellcheck","false"),null!==r&&(a=document.createElement(i),s.appendChild(a)),mn(a,this,0,n,this.__text,e);const l=this.__style;return""!==l&&(s.style.cssText=l),s}updateDOM(e,t,n){const r=this.__text,i=e.__format,o=this.__format,s=dn(0,i),a=dn(0,o),l=fn(0,i),c=fn(0,o);if((null===s?l:s)!==(null===a?c:a))return!0;if(s===a&&l!==c){const e=t.firstChild;null==e&&dt("updateDOM: prevInnerDOM is null or undefined");const i=document.createElement(c);return mn(i,this,0,o,r,n),t.replaceChild(i,e),!1}let u=t;null!==a&&null!==s&&(u=t.firstChild,null==u&&dt("updateDOM: innerDOM is null or undefined")),pn(r,u,this);const d=n.theme.text;void 0!==d&&i!==o&&hn(0,i,o,u,d);const f=e.__style,h=this.__style;return f!==h&&(t.style.cssText=h),!1}static importDOM(){return{"#text":()=>({conversion:_n,priority:0}),b:()=>({conversion:yn,priority:0}),code:()=>({conversion:Cn,priority:0}),em:()=>({conversion:Cn,priority:0}),i:()=>({conversion:Cn,priority:0}),mark:()=>({conversion:Cn,priority:0}),s:()=>({conversion:Cn,priority:0}),span:()=>({conversion:vn,priority:0}),strong:()=>({conversion:Cn,priority:0}),sub:()=>({conversion:Cn,priority:0}),sup:()=>({conversion:Cn,priority:0}),u:()=>({conversion:Cn,priority:0})}}static importJSON(e){return xn().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:t}=super.exportDOM(e);return $i(t)||dt("Expected TextNode createDOM to always return a HTMLElement"),t.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?t.style.textTransform="lowercase":this.hasFormat("uppercase")?t.style.textTransform="uppercase":this.hasFormat("capitalize")&&(t.style.textTransform="capitalize"),this.hasFormat("bold")&&(t=gn(t,"b")),this.hasFormat("italic")&&(t=gn(t,"i")),this.hasFormat("strikethrough")&&(t=gn(t,"s")),this.hasFormat("underline")&&(t=gn(t,"u")),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,t){}setFormat(e){const t=this.getWritable();return t.__format="string"==typeof e?AO[e]:e,t}setDetail(e){const t=this.getWritable();return t.__detail="string"==typeof e?NO[e]:e,t}setStyle(e){const t=this.getWritable();return t.__style=e,t}toggleFormat(e){const t=zr(this.getFormat(),e,null);return this.setFormat(t)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const t=MO[e];if(this.__mode===t)return this;const n=this.getWritable();return n.__mode=t,n}setTextContent(e){if(this.__text===e)return this;const t=this.getWritable();return t.__text=e,t}select(e,t){rr();let n=e,r=t;const i=qn(),o=this.getTextContent(),s=this.__key;if("string"==typeof o){const e=o.length;void 0===n&&(n=e),void 0===r&&(r=e)}else n=0,r=0;if(!On(i))return Bn(s,n,s,r,"text","text");{const e=Kr();e!==i.anchor.key&&e!==i.focus.key||Wr(s),i.setTextNodeRange(this,n,this,r)}return i}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,n,r){const i=this.getWritable(),o=i.__text,s=n.length;let a=e;a<0&&(a=s+a,a<0&&(a=0));const l=qn();if(r&&On(l)){const t=e+s;l.setTextNodeRange(i,t,i,t)}const c=o.slice(0,a)+n+o.slice(a+t);return i.__text=c,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(){rr();const e=this.getLatest(),t=e.getTextContent();if(""===t)return[];const n=e.__key,r=Kr(),i=t.length;for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];s.sort(((e,t)=>e-t)),s.push(i);const l=[],c=s.length;for(let e=0,n=0;e<i&&n<=c;n++){const r=s[n];r>e&&(l.push(t.slice(e,r)),e=r)}const u=l.length;if(1===u)return[e];const d=l[0],f=e.getParent();let h;const p=e.getFormat(),m=e.getStyle(),g=e.__detail;let v=!1,y=null,b=null;const _=qn();if(On(_)){const[e,t]=_.isBackward()?[_.focus,_.anchor]:[_.anchor,_.focus];"text"===e.type&&e.key===n&&(y=e),"text"===t.type&&t.key===n&&(b=t)}e.isSegmented()?(h=xn(d),h.__format=p,h.__style=m,h.__detail=g,v=!0):(h=e.getWritable(),h.__text=d);const w=[h];for(let e=1;e<u;e++){const t=xn(l[e]);t.__format=p,t.__style=m,t.__detail=g;const i=t.__key;r===n&&Wr(i),w.push(t)}const C=y?y.offset:null,x=b?b.offset:null;let E=0;for(const e of w){if(!y&&!b)break;const t=E+e.getTextContentSize();if(null!==y&&null!==C&&C<=t&&C>=E&&(y.set(e.getKey(),C-E,"text"),C<t&&(y=null)),null!==b&&null!==x&&x<=t&&x>=E){b.set(e.getKey(),x-E,"text");break}E=t}if(null!==f){!function(e){const t=e.getPreviousSibling(),n=e.getNextSibling();null!==t&&Hr(t),null!==n&&Hr(n)}(this);const e=f.getWritable(),t=this.getIndexWithinParent();v?(e.splice(t,0,w),this.remove()):e.splice(t,1,w),On(_)&&Yn(_,f,t,u-1)}return w}mergeWithSibling(e){const t=e===this.getPreviousSibling();t||e===this.getNextSibling()||dt("mergeWithSibling: sibling must be a previous or next sibling");const n=this.__key,r=e.__key,i=this.__text,o=i.length;Kr()===r&&Wr(n);const s=qn();if(On(s)){const i=s.anchor,a=s.focus;null!==i&&i.key===r&&Xn(i,t,n,e,o),null!==a&&a.key===r&&Xn(a,t,n,e,o)}const a=e.__text,l=t?a+i:i+a;this.setTextContent(l);const c=this.getWritable();return e.remove(),c}isTextEntity(){return!1}};const gM=new WeakMap,vM={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};class yM extends mM{static getType(){return"tab"}static clone(e){return new yM(e.__key)}constructor(e){super("\t",e),this.__detail=2}static importDOM(){return null}createDOM(e){const t=super.createDOM(e),n=pi(e.theme,"tab");return void 0!==n&&t.classList.add(...n),t}static importJSON(e){return kn().updateFromJSON(e)}setTextContent(e){return"\t"!==e&&""!==e&&dt("TabNode does not support setTextContent"),super.setTextContent(e)}setDetail(e){return 2!==e&&dt("TabNode does not support setDetail"),this}setMode(e){return"normal"!==e&&dt("TabNode does not support setMode"),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}class bM{constructor(e,t,n){Object.defineProperty(this,"_selection",{enumerable:!1,writable:!0}),this._selection=null,this.key=e,this.offset=t,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:ho(Do(yo(this,"next")),Do(yo(e,"next")))<0}getNode(){const e=qr(this.key);return null===e&&dt("Point.getNode: node not found"),e}set(e,t,n,r){const i=this._selection,o=this.key;if(!r||this.key!==e||this.offset!==t||this.type!==n){this.key=e,this.offset=t,this.type=n;{const t=qr(e);("text"===n?En(t):_r(t))||dt(`PointType.set: node with key ${e} is ${t?t.__type:"[not found]"} and can not be used for a ${n} point`)}nr()||(Kr()===o&&Wr(e),null!==i&&(i.setCachedNodes(null),i.dirty=!0))}}}class _M{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!jn(e))return!1;const t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every((e=>n.has(e)))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new _M(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.getNodes(),n=t.length,r=t[n-1];let i;if(En(r))i=r.select();else{const e=r.getIndexWithinParent()+1;i=r.getParentOrThrow().select(e,e)}i.insertNodes(e);for(let e=0;e<n;e++)t[e].remove()}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=this._nodes,n=[];for(const e of t){const t=qr(e);null!==t&&n.push(t)}return nr()||(this._cachedNodes=n),n}getTextContent(){const e=this.getNodes();let t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}deleteNodes(){const e=this.getNodes();if((qn()||Vn())===this&&e[0]){const t=to(e[0],"next");_o(uo(t,t))}for(const t of e)t.remove()}}class wM{constructor(e,t,n,r){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=n,this.style=r,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!On(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=function(e){const t=[],[n,r]=e.getTextSlices();n&&t.push(n.caret.origin);const i=new Set,o=new Set;for(const n of e)if(eo(n)){const{origin:e}=n;0===t.length?i.add(e):(o.add(e),t.push(e))}else{const{origin:e}=n;_r(e)&&o.has(e)||t.push(e)}if(r&&t.push(r.caret.origin),Zi(e.focus)&&_r(e.focus.origin)&&null===e.focus.getNodeAtCaret())for(let n=oo(e.focus.origin,"previous");eo(n)&&i.has(n.origin)&&!n.origin.isEmpty()&&n.origin.is(t[t.length-1]);n=ao(n))i.delete(n.origin),t.pop();for(;t.length>1;){const e=t[t.length-1];if(!_r(e)||o.has(e)||e.isEmpty()||i.has(e))break;t.pop()}if(0===t.length&&e.isCollapsed()){const n=Do(e.anchor),r=Do(e.anchor.getFlipped()),i=e=>Qi(e)?e.origin:e.getNodeAtCaret(),o=i(n)||i(r)||(e.anchor.getNodeAtCaret()?n.origin:r.origin);t.push(o)}return t}(No(Co(this),"next"));return this.isCollapsed()&&t.length>1&&dt(`RangeSelection.getNodes() returned ${String(t.length)} > 1 nodes in a collapsed selection`),nr()||(this._cachedNodes=t),t}setTextNodeRange(e,t,n,r){this.anchor.set(e.__key,t,"text"),this.focus.set(n.__key,r,"text")}getTextContent(){const e=this.getNodes();if(0===e.length)return"";const t=e[0],n=e[e.length-1],r=this.anchor,i=this.focus,o=r.isBefore(i),[s,a]=Rn(this);let l="",c=!0;for(let u=0;u<e.length;u++){const d=e[u];if(_r(d)&&!d.isInline())c||(l+="\n"),c=!d.isEmpty();else if(c=!1,En(d)){let e=d.getTextContent();d===t?d===n?"element"===r.type&&"element"===i.type&&i.offset!==r.offset||(e=s<a?e.slice(s,a):e.slice(a,s)):e=o?e.slice(s):e.slice(a):d===n&&(e=o?e.slice(0,a):e.slice(0,s)),l+=e}else!Cr(d)&&!cn(d)||d===n&&this.isCollapsed()||(l+=d.getTextContent())}return l}applyDOMRange(e){const t=sr(),n=t.getEditorState()._selection,r=zn(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n);if(null===r)return;const[i,o]=r;this.anchor.set(i.key,i.offset,i.type,!0),this.focus.set(o.key,o.offset,o.type,!0),Nt(this)}clone(){const e=this.anchor,t=this.focus;return new wM(Tn(e.key,e.offset,e.type),Tn(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=zr(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const t=AO[e];return 0!=(this.format&t)}insertRawText(e){const t=e.split(/(\r?\n|\t)/),n=[],r=t.length;for(let e=0;e<r;e++){const r=t[e];"\n"===r||"\r\n"===r?n.push(ln()):"\t"===r?n.push(kn()):n.push(xn(r))}this.insertNodes(n)}insertText(e){const t=this.anchor,n=this.focus,r=this.format,i=this.style;let o=t,s=n;!this.isCollapsed()&&n.isBefore(t)&&(o=n,s=t),"element"===o.type&&function(e,t,n,r){const i=e.getNode(),o=i.getChildAtIndex(e.offset),s=xn(),a=xr(i)?Tr().append(s):s;s.setFormat(n),s.setStyle(r),null===o?i.append(a):o.insertBefore(a),e.is(t)&&t.set(s.__key,0,"text"),e.set(s.__key,0,"text")}(o,s,r,i),"element"===s.type&&bo(s,Do(yo(s,"next")));const a=o.offset;let l=s.offset;const c=this.getNodes(),u=c.length;let d=c[0];En(d)||dt("insertText: first node is not a text node");const f=d.getTextContent().length,h=d.getParentOrThrow();let p=c[u-1];if(1===u&&"element"===s.type&&(l=f,s.set(o.key,l,"text")),this.isCollapsed()&&a===f&&(d.isSegmented()||d.isToken()||!d.canInsertTextAfter()||!h.canInsertTextAfter()&&null===d.getNextSibling())){let t=d.getNextSibling();if(En(t)&&t.canInsertTextBefore()&&!Lr(t)||(t=xn(),t.setFormat(r),t.setStyle(i),h.canInsertTextAfter()?d.insertAfter(t):h.insertAfter(t)),t.select(0,0),d=t,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===a&&(d.isSegmented()||d.isToken()||!d.canInsertTextBefore()||!h.canInsertTextBefore()&&null===d.getPreviousSibling())){let t=d.getPreviousSibling();if(En(t)&&!Lr(t)||(t=xn(),t.setFormat(r),h.canInsertTextBefore()?d.insertBefore(t):h.insertBefore(t)),t.select(),d=t,""!==e)return void this.insertText(e)}else if(d.isSegmented()&&a!==f){const e=xn(d.getTextContent());e.setFormat(r),d.replace(e),d=e}else if(!this.isCollapsed()&&""!==e){const t=p.getParent();if(!h.canInsertTextBefore()||!h.canInsertTextAfter()||_r(t)&&(!t.canInsertTextBefore()||!t.canInsertTextAfter()))return this.insertText(""),$n(this.anchor,this.focus,null),void this.insertText(e)}if(1===u){if(d.isToken()){const t=xn(e);return t.select(),void d.replace(t)}const t=d.getFormat(),n=d.getStyle();if(a!==l||t===r&&n===i){if(Dn(d)){const t=xn(e);return t.setFormat(r),t.setStyle(i),t.select(),void d.replace(t)}}else{if(""!==d.getTextContent()){const t=xn(e);if(t.setFormat(r),t.setStyle(i),t.select(),0===a)d.insertBefore(t,!1);else{const[e]=d.splitText(a);e.insertAfter(t,!1)}return void(t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length))}d.setFormat(r),d.setStyle(i)}const o=l-a;d=d.spliceText(a,o,e,!0),""===d.getTextContent()?d.remove():"text"===this.anchor.type&&(d.isComposing()?this.anchor.offset-=e.length:(this.format=t,this.style=n))}else{const t=new Set([...d.getParentKeys(),...p.getParentKeys()]),n=_r(d)?d:d.getParentOrThrow();let r=_r(p)?p:p.getParentOrThrow(),i=p;if(!n.is(r)&&r.isInline())do{i=r,r=r.getParentOrThrow()}while(r.isInline());if("text"===s.type&&(0!==l||""===p.getTextContent())||"element"===s.type&&p.getIndexWithinParent()<l)if(En(p)&&!p.isToken()&&l!==p.getTextContentSize()){if(p.isSegmented()){const e=xn(p.getTextContent());p.replace(e),p=e}xr(s.getNode())||"text"!==s.type||(p=p.spliceText(0,l,"")),t.add(p.__key)}else{const e=p.getParentOrThrow();e.canBeEmpty()||1!==e.getChildrenSize()?p.remove():e.remove()}else t.add(p.__key);const o=r.getChildren(),h=new Set(c),m=n.is(r),g=n.isInline()&&null===d.getNextSibling()?n:d;for(let e=o.length-1;e>=0;e--){const t=o[e];if(t.is(d)||_r(t)&&t.isParentOf(d))break;t.isAttached()&&(!h.has(t)||t.is(i)?m||g.insertAfter(t,!1):t.remove())}if(!m){let e=r,n=null;for(;null!==e;){const r=e.getChildren(),i=r.length;(0===i||r[i-1].is(n))&&(t.delete(e.__key),n=e),e=e.getParent()}}if(d.isToken())if(a===f)d.select();else{
const t=xn(e);t.select(),d.replace(t)}else d=d.spliceText(a,f-a,e,!0),""===d.getTextContent()?d.remove():d.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);for(let e=1;e<u;e++){const n=c[e],r=n.__key;t.has(r)||n.remove()}}}removeText(){const e=qn()===this;wo(this,ko(Co(this))),e&&qn()!==this&&ei(this)}formatText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isCollapsed())return this.toggleFormat(e),void Wr(null);const n=this.getNodes(),r=[];for(const e of n)En(e)&&r.push(e);const i=t=>{n.forEach((n=>{if(_r(n)){const r=n.getFormatFlags(e,t);n.setTextFormat(r)}}))},o=r.length;if(0===o)return this.toggleFormat(e),Wr(null),void i(t);const s=this.anchor,a=this.focus,l=this.isBackward(),c=l?a:s,u=l?s:a;let d=0,f=r[0],h="element"===c.type?0:c.offset;if("text"===c.type&&h===f.getTextContentSize()&&(d=1,f=r[1],h=0),null==f)return;const p=f.getFormatFlags(e,t);i(p);const m=o-1;let g=r[m];const v="text"===u.type?u.offset:g.getTextContentSize();if(f.is(g)){if(h===v)return;if(Lr(f)||0===h&&v===f.getTextContentSize())f.setFormat(p);else{const e=f.splitText(h,v),t=0===h?e[0]:e[1];t.setFormat(p),"text"===c.type&&c.set(t.__key,0,"text"),"text"===u.type&&u.set(t.__key,v-h,"text")}return void(this.format=p)}0===h||Lr(f)||([,f]=f.splitText(h),h=0),f.setFormat(p);const y=g.getFormatFlags(e,p);v>0&&(v===g.getTextContentSize()||Lr(g)||([g]=g.splitText(v)),g.setFormat(y));for(let t=d+1;t<m;t++){const n=r[t],i=n.getFormatFlags(e,y);n.setFormat(i)}"text"===c.type&&c.set(f.__key,h,"text"),"text"===u.type&&u.set(g.__key,v,"text"),this.format=p|y}insertNodes(e){if(0===e.length)return;if(this.isCollapsed()||this.removeText(),"root"===this.anchor.key){this.insertParagraph();const t=qn();return On(t)||dt("Expected RangeSelection after insertParagraph"),t.insertNodes(e)}const t=(this.isBackward()?this.focus:this.anchor).getNode(),n=Ki(t,Wi),r=e[e.length-1];if(_r(n)&&"__language"in n){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const t=Zn(this);n.splice(t,0,e),r.selectEnd()}return}if(!e.some((e=>(_r(e)||Cr(e))&&!e.isInline()))){_r(n)||dt(`Expected node ${t.constructor.name} of type ${t.getType()} to have a block ElementNode ancestor`);const i=Zn(this);return n.splice(i,0,e),void r.selectEnd()}const i=function(e){const t=Tr();let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=cn(i);if(o||Cr(i)&&i.isInline()||_r(i)&&i.isInline()||En(i)||i.isParentRequired()){if(null===n&&(n=i.createParentElementNode(),t.append(n),o))continue;null!==n&&n.append(i)}else t.append(i),n=null}return t}(e),o=i.getLastDescendant(),s=i.getChildren(),a=_r(n)&&n.isEmpty()?null:this.insertParagraph(),l=s[s.length-1];let c=s[0];var u;_r(u=c)&&Wi(u)&&!u.isEmpty()&&_r(n)&&(!n.isEmpty()||n.canMergeWhenEmpty())&&(_r(n)||dt(`Expected node ${t.constructor.name} of type ${t.getType()} to have a block ElementNode ancestor`),n.append(...c.getChildren()),c=s[1]),c&&(null===n&&dt(`Expected node ${t.constructor.name} of type ${t.getType()} to have a block ancestor`),function(e,t){const n=t.getParentOrThrow().getLastChild();let r=t;const i=[t];for(;r!==n;)r.getNextSibling()||dt("insertRangeAfter: lastToInsert must be a later sibling of firstToInsert"),r=r.getNextSibling(),i.push(r);let o=e;for(const e of i)o=o.insertAfter(e)}(n,c));const d=Ki(o,Wi);a&&_r(d)&&(a.canMergeWhenEmpty()||Wi(l))&&(d.append(...a.getChildren()),a.remove()),_r(n)&&n.isEmpty()&&n.remove(),o.selectEnd();const f=_r(n)?n.getLastChild():null;cn(f)&&d!==n&&f.remove()}insertParagraph(){if("root"===this.anchor.key){const e=Tr();return Qr().splice(this.anchor.offset,0,[e]),e.select(),e}const e=Zn(this),t=Ki(this.anchor.getNode(),Wi);_r(t)||dt("Expected ancestor to be a block ElementNode");const n=t.getChildAtIndex(e),r=n?[n,...n.getNextSiblings()]:[],i=t.insertNewAfter(this,!1);return i?(i.append(...r),i.selectStart(),i):null}insertLineBreak(e){const t=ln();if(this.insertNodes([t]),e){const e=t.getParentOrThrow(),n=t.getIndexWithinParent();e.select(n,n)}}extract(){const e=this.getNodes(),t=e.length,n=t-1,r=this.anchor,i=this.focus;let o=e[0],s=e[n];const[a,l]=Rn(this);if(0===t)return[];if(1===t){if(En(o)&&!this.isCollapsed()){const e=a>l?l:a,t=a>l?a:l,n=o.splitText(e,t),r=0===e?n[0]:n[1];return null!=r?[r]:[]}return[o]}const c=r.isBefore(i);if(En(o)){const t=c?a:l;t===o.getTextContentSize()?e.shift():0!==t&&([,o]=o.splitText(t),e[0]=o)}if(En(s)){const t=s.getTextContent().length,r=c?l:a;0===r?e.pop():r!==t&&([s]=s.splitText(r),e[n]=s)}return e}modify(e,t,n){if(tr(this,e,t,n))return;const r="move"===e,i=sr(),o=Pi(Ti(i));if(!o)return;const s=i._blockCursorElement,a=i._rootElement,l=this.focus.getNode();if(null===a||null===s||!_r(l)||l.isInline()||l.canBeEmpty()||Li(s,i,a),this.dirty){let e=wi(i,this.anchor.key),t=wi(i,this.focus.key);"text"===this.anchor.type&&(e=$r(e)),"text"===this.focus.type&&(t=$r(t)),e&&t&&Qn(o,e,this.anchor.offset,t,this.focus.offset)}if(function(e,t,n,r){e.modify(t,n,r)}(o,e,t?"backward":"forward",n),o.rangeCount>0){const e=o.getRangeAt(0),n=this.anchor.getNode(),i=xr(n)?n:Ai(n);if(this.applyDOMRange(e),this.dirty=!0,!r){const n=this.getNodes(),r=[];let s=!1;for(let e=0;e<n.length;e++){const t=n[e];ki(t,i)?r.push(t):s=!0}if(s&&r.length>0)if(t){const e=r[0];_r(e)?e.selectStart():e.getParentOrThrow().selectStart()}else{const e=r[r.length-1];_r(e)?e.selectEnd():e.getParentOrThrow().selectEnd()}o.anchorNode===e.startContainer&&o.anchorOffset===e.startOffset||function(e){const t=e.focus,n=e.anchor,r=n.key,i=n.offset,o=n.type;n.set(t.key,t.offset,t.type,!0),t.set(r,i,o,!0)}(this)}}"lineboundary"===n&&tr(this,e,t,n,"decorators")}forwardDeletion(e,t,n){if(!n&&("element"===e.type&&_r(t)&&e.offset===t.getChildrenSize()||"text"===e.type&&e.offset===t.getTextContentSize())){const e=t.getParent(),n=t.getNextSibling()||(null===e?null:e.getNextSibling());if(_r(n)&&n.isShadowRoot())return!0}return!1}deleteCharacter(e){const t=this.isCollapsed();if(this.isCollapsed()){const t=this.anchor;let n=t.getNode();if(this.forwardDeletion(t,n,e))return;const r=lo(yo(t,e?"previous":"next"));if(r.getTextSlices().every((e=>null===e||0===e.distance))){let e={type:"initial"};for(const t of r.iterNodeCarets("shadowRoot"))if(eo(t))if(t.origin.isInline());else{if(t.origin.isShadowRoot()){if("merge-block"===e.type)break;if(_r(r.anchor.origin)&&r.anchor.origin.isEmpty()){const e=Do(t);wo(this,uo(e,e)),r.anchor.origin.remove()}return}"merge-next-block"!==e.type&&"merge-block"!==e.type||(e={block:e.block,caret:t,type:"merge-block"})}else{if("merge-block"===e.type)break;if(Zi(t)){if(_r(t.origin)){if(t.origin.isInline()){if(!t.origin.isParentOf(r.anchor.origin))break}else e={block:t.origin,type:"merge-next-block"};continue}if(Cr(t.origin)){if(t.origin.isIsolated());else if("merge-next-block"===e.type&&(t.origin.isKeyboardSelectable()||!t.origin.isInline())&&_r(r.anchor.origin)&&r.anchor.origin.isEmpty()){r.anchor.origin.remove();const e=Hn();e.add(t.origin.getKey()),ei(e)}else t.origin.remove();return}break}}if("merge-block"===e.type){const{caret:t,block:n}=e;return wo(this,uo(!t.origin.isEmpty()&&n.isEmpty()?xo(to(n,t.direction)):r.anchor,t)),this.removeText()}}const i=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===t.offset&&Fn(this,t.getNode()))return}else{const r="text"===i.type?i.getNode():null;if(n="text"===t.type?t.getNode():null,null!==r&&r.isSegmented()){const t=i.offset,o=r.getTextContentSize();if(r.is(n)||e&&t!==o||!e&&0!==t)return void Ln(r,e,t)}else if(null!==n&&n.isSegmented()){const i=t.offset,o=n.getTextContentSize();if(n.is(r)||e&&0!==i||!e&&i!==o)return void Ln(n,e,i)}!function(e,t){const n=e.anchor,r=e.focus,i=n.getNode();if(i===r.getNode()&&"text"===n.type&&"text"===r.type){const e=n.offset,o=r.offset,s=e<o,a=s?e:o,l=s?o:e,c=l-1;a!==c&&function(e){return e.length>1||dt("shouldDeleteExactlyOneCodeUnit: expecting to be called only with sequences of two or more code units"),!(ri(e)||CM(e))}(i.getTextContent().slice(a,l))&&(t?r.set(r.key,c,r.type):n.set(n.key,c,n.type))}}(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){const e=this.anchor.getNode();e.isEmpty()&&xr(e.getParent())&&null===e.getPreviousSibling()&&Fn(this,e)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const t=this.anchor,n=t.getNode();if(this.forwardDeletion(t,n,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}const CM=(()=>{try{const e=new RegExp("\\p{Emoji}","u"),t=e.test.bind(e);if(t("\u2764\ufe0f")&&t("#\ufe0f\u20e3")&&t("\ud83d\udc4d"))return t}catch(e){}return()=>!1})();let xM=null,EM=null,SM=!1,kM=!1,DM=0;const TM={characterData:!0,childList:!0,subtree:!0};class AM{constructor(e,t,n){this.element=e,this.before=t||null,this.after=n||null}withBefore(e){return new AM(this.element,e,this.after)}withAfter(e){return new AM(this.element,this.before,e)}withElement(e){return this.element===e?this:new AM(e,this.before,this.after)}insertChild(e){const t=this.before||this.getManagedLineBreak();return null!==t&&t.parentElement!==this.element&&dt("ElementDOMSlot.insertChild: before is not in element"),this.element.insertBefore(e,t),this}removeChild(e){return e.parentElement!==this.element&&dt("ElementDOMSlot.removeChild: dom is not in element"),this.element.removeChild(e),this}replaceChild(e,t){return t.parentElement!==this.element&&dt("ElementDOMSlot.replaceChild: prevDom is not in element"),this.element.replaceChild(e,t),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(null===e)this.removeManagedLineBreak();else{const t="decorator"===e&&(lO||aO);this.insertManagedLineBreak(t)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const t=this.element,n="IMG"===e.nodeName?e.nextSibling:null;n&&t.removeChild(n),t.removeChild(e),t.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const t=this.getManagedLineBreak();if(t){if(e===("IMG"===t.nodeName))return;this.removeManagedLineBreak()}const n=this.element,r=this.before,i=document.createElement("br");if(n.insertBefore(i,r),e){const e=document.createElement("img");e.setAttribute("data-lexical-linebreak","true"),e.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",e.alt="",n.insertBefore(e,i),n.__lexicalLineBreak=e}else n.__lexicalLineBreak=i}getFirstChildOffset(){let e=0;for(let t=this.after;null!==t;t=t.previousSibling)e++;return e}resolveChildIndex(e,t,n,r){if(n===this.element){const t=this.getFirstChildOffset();return[e,Math.min(t+e.getChildrenSize(),Math.max(t,r))]}const i=br(t,n);i.push(r);const o=br(t,this.element);let s=e.getIndexWithinParent();for(let e=0;e<o.length;e++){const t=i[e],n=o[e];if(void 0===t||t<n)break;if(t>n){s+=1;break}}return[e.getParentOrThrow(),s]}}let NM=class extends hM{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__first=e.__first,this.__last=e.__last,this.__size=e.__size,this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return jO[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let t=this.getFirstChild();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){const e=[];let t=this.getFirstChild();for(;null!==t;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){const e=sr()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}getAllTextNodes(){const e=[];let t=this.getFirstChild();for(;null!==t;){if(En(t)&&e.push(t),_r(t)){const n=t.getAllTextNodes();e.push(...n)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;_r(e);){const t=e.getFirstChild();if(null===t)break;e=t}return e}getLastDescendant(){let e=this.getLastChild();for(;_r(e);){const t=e.getLastChild();if(null===t)break;e=t}return e}getDescendantByIndex(e){const t=this.getChildren(),n=t.length;if(e>=n){const e=t[n-1];return _r(e)&&e.getLastDescendant()||e||null}const r=t[e];return _r(r)&&r.getFirstDescendant()||r||null}getFirstChild(){const e=this.getLatest().__first;return null===e?null:qr(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return null===e&&dt(`Expected node ${this.__key} to have a first child.`),e}getLastChild(){const e=this.getLatest().__last;return null===e?null:qr(e)}getLastChildOrThrow(){const e=this.getLastChild();return null===e&&dt(`Expected node ${this.__key} to have a last child.`),e}getChildAtIndex(e){const t=this.getChildrenSize();let n,r;if(e<t/2){for(n=this.getFirstChild(),r=0;null!==n&&r<=e;){if(r===e)return n;n=n.getNextSibling(),r++}return null}for(n=this.getLastChild(),r=t-1;null!==n&&r>=e;){if(r===e)return n;n=n.getPreviousSibling(),r--}return null}getTextContent(){let e="";const t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=i.getTextContent(),_r(i)&&r!==n-1&&!i.isInline()&&(e+=xO)}return e}getTextContentSize(){let e=0;const t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=i.getTextContentSize(),_r(i)&&r!==n-1&&!i.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(""!==e){const t=OO[e];return 0!=(this.getFormat()&t)}return!1}hasTextFormat(e){const t=AO[e];return 0!=(this.getTextFormat()&t)}getFormatFlags(e,t){return zr(this.getLatest().__textFormat,e,t)}getTextStyle(){return this.getLatest().__textStyle}select(e,t){rr();const n=qn();let r=e,i=t;const o=this.getChildrenSize();if(!this.canBeEmpty())if(0===e&&0===t){const e=this.getFirstChild();if(En(e)||_r(e))return e.select(0,0)}else if(!(void 0!==e&&e!==o||void 0!==t&&t!==o)){const e=this.getLastChild();if(En(e)||_r(e))return e.select()}void 0===r&&(r=o),void 0===i&&(i=o);const s=this.__key;return On(n)?(n.anchor.set(s,r,"element"),n.focus.set(s,i,"element"),n.dirty=!0,n):Bn(s,r,s,i,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach((e=>e.remove())),e}append(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.splice(this.getChildrenSize(),0,t)}setDirection(e){const t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=""!==e?OO[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){const t=this.getWritable();return t.__textFormat=e,t}setTextStyle(e){const t=this.getWritable();return t.__textStyle=e,t}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,n){const r=n.length,i=this.getChildrenSize(),o=this.getWritable();e+t<=i||dt(`ElementNode.splice: start + deleteCount > oldSize (${String(e)} + ${String(t)} > ${String(i)})`);const s=o.__key,a=[],l=[],c=this.getChildAtIndex(e+t);let u=null,d=i-t+r;if(0!==e)if(e===i)u=this.getLastChild();else{const t=this.getChildAtIndex(e);null!==t&&(u=t.getPreviousSibling())}if(t>0){let e=null===u?this.getFirstChild():u.getNextSibling();for(let n=0;n<t;n++){null===e&&dt("splice: sibling not found");const t=e.getNextSibling(),n=e.__key;Ur(e.getWritable()),l.push(n),e=t}}let f=u;for(let e=0;e<r;e++){const t=n[e];null!==f&&t.is(f)&&(u=f=f.getPreviousSibling());const r=t.getWritable();r.__parent===s&&d--,Ur(r);const i=t.__key;if(null===f)o.__first=i,r.__prev=null;else{const e=f.getWritable();e.__next=i,r.__prev=e.__key}t.__key===s&&dt("append: attempting to append self"),r.__parent=s,a.push(i),f=t}if(e+t===i)null!==f&&(f.getWritable().__next=null,o.__last=f.__key);else if(null!==c){const e=c.getWritable();if(null!==f){const t=f.getWritable();e.__prev=f.__key,t.__next=c.__key}else e.__prev=null}if(o.__size=d,l.length){const e=qn();if(On(e)){const t=new Set(l),n=new Set(a),{anchor:r,focus:i}=e;wr(r,t,n)&&Gn(r,r.getNode(),this,u,c),wr(i,t,n)&&Gn(i,i.getNode(),this,u,c),0!==d||this.canBeEmpty()||Ni(this)||this.remove()}}return o}getDOMSlot(e){return new AM(e)}exportDOM(e){const{element:t}=super.exportDOM(e);if($i(t)){const e=this.getIndent();e>0&&(t.style.paddingInlineStart=40*e+"px");const n=this.getDirection();n&&(t.dir=n)}return{element:t}}exportJSON(){const e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},t=this.getTextFormat(),n=this.getTextStyle();return 0!==t&&(e.textFormat=t),""!==n&&(e.textStyle=n),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,n){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,t){const n=this.getDOMSlot(e);let r=n.getFirstChild();for(let e=this.getFirstChild();e;e=e.getNextSibling()){const i=t.getElementByKey(e.getKey());null!==i&&(null==r?(n.insertChild(i),r=i):r!==i&&n.replaceChild(i,r),r=r.nextSibling)}}},OM=class extends hM{decorate(e,t){dt("decorate: base method not extended")}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}};class jM extends NM{static getType(){return"root"}static clone(){return new jM}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){dt("getTopLevelElementOrThrow: root nodes are not top level elements")}getTextContent(){const e=this.__cachedText;return!nr()&&0!==sr()._dirtyType||null===e?super.getTextContent():e}remove(){dt("remove: cannot be called on root nodes")}replace(e){dt("replace: cannot be called on root nodes")}insertBefore(e){dt("insertBefore: cannot be called on root nodes")}insertAfter(e){dt("insertAfter: cannot be called on root nodes")}updateDOM(e,t){return!1}splice(e,t,n){for(const e of n)_r(e)||Cr(e)||dt("rootNode.splice: Only element or decorator nodes can be inserted to the root node");return super.splice(e,t,n)}static importJSON(e){return Qr().updateFromJSON(e)}collapseAtStart(){return!0}}class MM{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e,t){return fr(t&&t.editor||null,this,e)}clone(e){const t=new MM(this._nodeMap,void 0===e?this._selection:e);return t._readOnly=!0,t}toJSON(){return fr(null,this,(()=>({root:kr(Qr())})))}}const RM="history-merge",FM="collaboration",LM="skip-scroll-into-view",PM="skip-dom-selection";let IM=class extends NM{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}},$M=class e extends NM{static getType(){return"paragraph"}static clone(t){return new e(t.__key)}createDOM(e){const t=document.createElement("p"),n=pi(e.theme,"paragraph");return void 0!==n&&t.classList.add(...n),t}updateDOM(e,t,n){return!1}static importDOM(){return{p:()=>({conversion:Dr,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if($i(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();e&&(t.style.textAlign=e)}return{element:t}}static importJSON(e){return Tr().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,t){const n=Tr();n.setTextFormat(e.format),n.setTextStyle(e.style);const r=this.getDirection();return n.setDirection(r),n.setFormat(this.getFormatType()),n.setStyle(this.getStyle()),this.insertAfter(n,t),n}collapseAtStart(){const e=this.getChildren();if(0===e.length||En(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}};class zM{constructor(e,t,n,r,i,o,s,a){this._createEditorArgs=a,this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=oi(),this._onError=i,this._htmlConversions=o,this._editable=s,this._headless=null!==t&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){const t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,n){void 0===n&&dt('Listener for type "command" requires a "priority".');const r=this._commands;r.has(e)||r.set(e,[new Set,new Set,new Set,new Set,new Set]);const i=r.get(e);void 0===i&&dt(`registerCommand: Command ${String(e)} not found in command map`);const o=i[n];return o.add(t),()=>{o.delete(t),i.every((e=>0===e.size))&&r.delete(e)}}registerMutationListener(e,t,n){const r=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,i=this._listeners.mutation;i.set(t,r);const o=n&&n.skipInitialization;return void 0!==o&&o||this.initializeMutationListener(t,r),()=>{i.delete(t)}}getRegisteredNode(e){const t=this._nodes.get(e.getType());return void 0===t&&dt(`Node ${e.name} has not been registered. Ensure node has been passed to createEditor.`),t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,t){const n=this._editorState,r=qi(n).get(t.getType());if(!r)return;const i=new Map;for(const e of r.keys())i.set(e,"created");i.size>0&&e(i,{dirtyLeaves:new Set,prevEditorState:n,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){const n=this.getRegisteredNode(e);return n.transforms.add(t),n}registerNodeTransform(e,t){const n=this.registerNodeTransformToKlass(e,t),r=[n],i=n.replaceWithKlass;if(null!=i){const e=this.registerNodeTransformToKlass(i,t);r.push(e)}return function(e,t){const n=qi(e.getEditorState()),r=[];for(const e of t){const t=n.get(e);t&&r.push(t)}0!==r.length&&e.update((()=>{for(const e of r)for(const t of e.keys()){const e=qr(t);e&&e.markDirty()}}),null===e._pendingEditorState?{tag:RM}:void 0)}(this,r.map((e=>e.klass.getType()))),()=>{r.forEach((e=>e.transforms.delete(t)))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return bi(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const n=pi(this._config.theme,"root"),r=this._pendingEditorState||this._editorState;if(this._rootElement=e,Ar(this,t,e,r),null!==t&&(this._config.disableEvents||function(e){const t=e.ownerDocument,n=nM.get(t);if(void 0===n)return void fM();const r=n-1;r>=0||dt("Root element count less than 0"),nM.set(t,r),0===r&&t.removeEventListener("selectionchange",nn);const i=Fr(e);Mr(i)?(function(e){if(null!==e._parentEditor){const t=ii(e),n=t[t.length-1]._key;dM.get(n)===e&&dM.delete(n)}else dM.delete(e._key)}(i),e.__lexicalEditor=null):i&&dt("Attempted to remove event handlers from a node that does not belong to this build of Lexical");const o=tn(e);for(let e=0;e<o.length;e++)o[e]();e.__lexicalEventHandles=[]}(t),null!=n&&t.classList.remove(...n)),null!==e){const t=Di(e),r=e.style;r.userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=t,this._dirtyType=2,wt(this),this._updateTags.add(RM),pr(this),this._config.disableEvents||function(e,t){const n=e.ownerDocument,r=nM.get(n);(void 0===r||r<1)&&n.addEventListener("selectionchange",nn),nM.set(n,(r||0)+1),e.__lexicalEditor=t;const i=tn(e);for(let n=0;n<Xj.length;n++){const[r,o]=Xj[n],s="function"==typeof o?e=>{on(e)||(rn(e),(t.isEditable()||"click"===r)&&o(e,t))}:e=>{if(on(e))return;rn(e);const n=t.isEditable();switch(r){case"cut":return n&&bi(t,Bj,e);case"copy":return bi(t,zj,e);case"paste":return n&&bi(t,fj,e);case"dragstart":return n&&bi(t,Pj,e);case"dragover":return n&&bi(t,Ij,e);case"dragend":return n&&bi(t,$j,e);case"focus":return n&&bi(t,Vj,e);case"blur":return n&&bi(t,Yj,e);case"drop":return n&&bi(t,Fj,e)}};e.addEventListener(r,s),i.push((()=>{e.removeEventListener(r,s)}))}}(e,this),null!=n&&e.classList.add(...n);{const t=e.parentElement;null!=t&&["flex","inline-flex"].includes(getComputedStyle(t).display)&&console.warn('When using "display: flex" or "display: inline-flex" on an element containing content editable, Chrome may have unwanted focusing behavior when clicking outside of it. Consider wrapping the content editable within a non-flex element.')}}else this._window=null,this._updateTags.add(RM),pr(this);mr("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&dt("setEditorState: the editor state is empty. Ensure the editor state's root node never becomes empty.");let n=e;n._readOnly&&(n=Er(e),n._selection=e._selection?e._selection.clone():null),_t(this);const r=this._pendingEditorState,i=this._updateTags,o=void 0!==t?t.tag:null;null===r||r.isEmpty()||(null!=o&&i.add(o),pr(this)),this._pendingEditorState=n,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=o&&i.add(o),this._updating||pr(this)}parseEditorState(e,t){return function(e,t,n){const r=Sr(),i=xM,o=SM,s=EM,a=t._dirtyElements,l=t._dirtyLeaves,c=t._cloneNotNeeded,u=t._dirtyType;t._dirtyElements=new Map,t._dirtyLeaves=new Set,t._cloneNotNeeded=new Set,t._dirtyType=0,xM=r,SM=!1,EM=t;try{const i=t._nodes;dr(e.root,i),n&&n(),r._readOnly=!0,hr(r)}catch(e){e instanceof Error&&t._onError(e)}finally{t._dirtyElements=a,t._dirtyLeaves=l,t._cloneNotNeeded=c,t._dirtyType=u,xM=i,SM=o,EM=s}return r}("string"==typeof e?JSON.parse(e):e,this,t)}read(e){return pr(this),this.getEditorState().read(e,{editor:this})}update(e,t){!function(e,t,n){e._updating?e._updates.push([t,n]):vr(e,t,n)}(this,e,t)}focus(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),yr(this,(()=>{const r=qn(),i=Qr();null!==r?r.dirty||ei(r.clone()):0!==i.getChildrenSize()&&("rootStart"===t.defaultSelection?i.selectStart():i.selectEnd()),Ei("focus"),Si((()=>{n.removeAttribute("autocapitalize"),e&&e()}))})),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;null!==e&&e.blur();const t=Pi(this._window);null!==t&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,mr("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}zM.version="0.31.2+dev.esm";let BM=1;const UM="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)},HM={ctrlKey:!iO,metaKey:iO},WM={altKey:iO,ctrlKey:!iO},KM=new WeakMap,qM=new Map,VM={next:"previous",previous:"next"};class YM{constructor(e){this.origin=e}[Symbol.iterator](){return fo({hasNext:Zi,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return to(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return to(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,t){const n=this.getNodeAtCaret();return e.is(this.origin)||e.is(n)||(null===n?this.insert(e):n.replace(e,t)),this}splice(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"next")===this.direction?t:Array.from(t).reverse();let r=this;const i=this.getParentAtCaret(),o=new Map;for(let t=r.getAdjacentCaret();null!==t&&o.size<e;t=t.getAdjacentCaret()){const e=t.origin.getWritable();o.set(e.getKey(),e)}for(const e of n){if(o.size>0){const t=r.getNodeAtCaret();if(t)if(o.delete(t.getKey()),o.delete(e.getKey()),t.is(e)||r.origin.is(e));else{const n=e.getParent();n&&n.is(i)&&e.remove(),t.replace(e)}else null===t&&dt(`NodeCaret.splice: Underflow of expected nodesToRemove during splice (keys: ${Array.from(o).join(" ")})`)}else r.insert(e);r=to(e,this.direction)}for(const e of o.values())e.remove();return this}}class JM extends YM{type="child";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:oo(e,this.direction)}getParentCaret(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";return to(Xi(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=Gi(this.direction);return to(this.getNodeAtCaret(),e)||oo(this.origin,e)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(e){return e instanceof JM&&this.direction===e.direction&&this.origin.is(e.origin)}isSamePointCaret(e){return this.isSameNodeCaret(e)}}const GM={root:xr,shadowRoot:Ni};class XM extends YM{type="sibling";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:to(e,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return _r(this.origin)?oo(this.origin,this.direction):null}getParentCaret(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";return to(Xi(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=Gi(this.direction);return to(this.getNodeAtCaret(),e)||oo(this.origin.getParentOrThrow(),e)}isSamePointCaret(e){return e instanceof XM&&this.direction===e.direction&&this.origin.is(e.origin)}isSameNodeCaret(e){return(e instanceof XM||e instanceof QM)&&this.direction===e.direction&&this.origin.is(e.origin)}}class QM extends YM{type="text";constructor(e,t){super(e),this.offset=t}getLatest(){const e=this.origin.getLatest();return e===this.origin?this:no(e,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";return to(Xi(this.getParentAtCaret(),e),this.direction)}getFlipped(){return no(this.origin,Gi(this.direction),this.offset)}isSamePointCaret(e){return e instanceof QM&&this.direction===e.direction&&this.origin.is(e.origin)&&this.offset===e.offset}isSameNodeCaret(e){return(e instanceof XM||e instanceof QM)&&this.direction===e.direction&&this.origin.is(e.origin)}getSiblingCaret(){return to(this.origin,this.direction)}}const ZM={next:class extends QM{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends QM{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},eR={next:class extends XM{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends XM{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},tR={next:class extends JM{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},
previous:class extends JM{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};class nR{type="node-caret-range";constructor(e,t,n){this.anchor=e,this.focus=t,this.direction=n}getLatest(){const e=this.anchor.getLatest(),t=this.focus.getLatest();return e===this.anchor&&t===this.focus?this:new nR(e,t,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=e=>{const t=this[e].getLatest();return Qi(t)?function(e,t){const{direction:n,origin:r}=e;return io(e,ro(r,"focus"===t?Gi(n):n)-e.offset)}(t,e):null},t=e("anchor"),n=e("focus");if(t&&n){const{caret:e}=t,{caret:r}=n;if(e.isSameNodeCaret(r))return[io(e,r.offset-e.offset),null]}return[t,n]}iterNodeCarets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";const t=Qi(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),n=this.focus.getLatest(),r=Qi(n),i=t=>t.isSameNodeCaret(n)?null:ao(t)||t.getParentCaret(e);return fo({hasNext:e=>null!==e&&!(r&&n.isSameNodeCaret(e)),initial:t.isSameNodeCaret(n)?null:i(t),map:e=>e,step:i})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class rR{type="slice";constructor(e,t){this.caret=e,this.distance=t}getSliceIndices(){const{distance:e,caret:{offset:t}}=this,n=t+e;return n<t?[n,t]:[t,n]}getTextContent(){const[e,t]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,t)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:t}}=this,[n,r]=this.getSliceIndices(),i=e.getTextContent();return no(e.setTextContent(i.slice(0,n)+i.slice(r)),t,n)}}Object.freeze({__proto__:null,$addUpdateTag:Ei,$applyNodeReplacement:ji,$caretFromPoint:yo,$caretRangeFromSelection:Co,$cloneWithProperties:Vi,$comparePointCaretNext:ho,$copyNode:Oi,$createLineBreakNode:ln,$createNodeSelection:Hn,$createParagraphNode:Tr,$createPoint:Tn,$createRangeSelection:Un,$createRangeSelectionFromDom:function(e,t){return Wn(null,e,t,null)},$createTabNode:kn,$createTextNode:xn,$extendCaretToRange:lo,$getAdjacentChildCaret:ao,$getAdjacentNode:vi,$getAdjacentSiblingOrParentSiblingCaret:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root",n=0,r=e,i=ao(r);for(;null===i;){if(n--,i=r.getParentCaret(t),!i)return null;r=i,i=ao(r)}return i&&[i,n]},$getCaretInDirection:Ao,$getCaretRange:uo,$getCaretRangeInDirection:No,$getCharacterOffsets:Rn,$getChildCaret:oo,$getChildCaretAtIndex:Oo,$getChildCaretOrSelf:so,$getCollapsedCaretRange:co,$getCommonAncestor:vo,$getCommonAncestorResultBranchOrder:po,$getEditor:function(){return sr()},$getNearestNodeFromDOMNode:Jr,$getNearestRootOrShadowRoot:Ai,$getNodeByKey:qr,$getNodeByKeyOrThrow:Ri,$getPreviousSelection:Vn,$getRoot:Qr,$getSelection:qn,$getSiblingCaret:to,$getState:xt,$getStateChange:function(e,t,n){const r=xt(e,n,"direct"),i=xt(t,n,"direct");return n.isEqual(r,i)?null:[r,i]},$getTextContent:function(){const e=qn();return null===e?"":e.getTextContent()},$getTextNodeOffset:ro,$getTextPointCaret:no,$getTextPointCaretSlice:io,$getWritableNodeState:kt,$hasAncestor:ki,$hasUpdateTag:function(e){return sr()._updateTags.has(e)},$insertNodes:function(e){let t=qn()||Vn();null===t&&(t=Qr().selectEnd()),t.insertNodes(e)},$isBlockElementNode:function(e){return _r(e)&&!e.isInline()},$isChildCaret:eo,$isDecoratorNode:Cr,$isElementNode:_r,$isExtendableTextPointCaret:To,$isInlineElementOrDecoratorNode:function(e){return _r(e)&&e.isInline()||Cr(e)&&e.isInline()},$isLeafNode:function(e){return En(e)||cn(e)||Cr(e)},$isLineBreakNode:cn,$isNodeCaret:function(e){return e instanceof YM},$isNodeSelection:jn,$isParagraphNode:function(e){return e instanceof $M},$isRangeSelection:On,$isRootNode:xr,$isRootOrShadowRoot:Ni,$isSiblingCaret:Zi,$isTabNode:Dn,$isTextNode:En,$isTextPointCaret:Qi,$isTextPointCaretSlice:function(e){return e instanceof rR},$isTokenOrSegmented:Lr,$nodesOfType:function(e){const t=e.getType(),n=or();if(n._readOnly){const e=qi(n).get(t);return e?Array.from(e.values()):[]}const r=n._nodeMap,i=[];for(const[,n]of r)n instanceof e&&n.__type===t&&n.isAttached()&&i.push(n);return i},$normalizeCaret:Do,$normalizeSelection__EXPERIMENTAL:Nt,$onUpdate:Si,$parseSerializedNode:function(e){return dr(e,sr()._nodes)},$removeTextFromCaretRange:ko,$rewindSiblingCaret:xo,$selectAll:function(e){const t=Qr();if(On(e)){const t=e.anchor,n=e.focus,r=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();return t.set(r.getKey(),0,"element"),n.set(r.getKey(),r.getChildrenSize(),"element"),Nt(e),e}{const e=t.select(0,t.getChildrenSize());return ei(Nt(e)),e}},$setCompositionKey:Wr,$setPointFromCaret:bo,$setSelection:ei,$setSelectionFromCaretRange:_o,$setState:function(e,t,n){let r;if(rr(),"function"==typeof n){const i=e.getLatest(),o=xt(i,t);if(r=n(o),t.isEqual(o,r))return i}else r=n;const i=e.getWritable(),o=kt(i);return Et(e,t,o),o.updateFromKnown(t,r),i},$splitAtPointCaretNext:function(e){let{$copyElementNode:t=Oi,$splitTextPointCaretNext:n=jo,rootMode:r="shadowRoot",$shouldSplit:i=Mo}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Qi(e))return n(e);const o=e.getParentCaret(r);if(o){const{origin:n}=o;if(eo(e)&&(!n.canBeEmpty()||!i(n,"first")))return xo(o);const r=function(e){const t=[];for(let n=e.getAdjacentCaret();n;n=n.getAdjacentCaret())t.push(n.origin);return t}(e);(r.length>0||n.canBeEmpty()&&i(n,"last"))&&o.insert(t(n).splice(0,0,r))}return o},$splitNode:function(e,t){let n=e.getChildAtIndex(t);null==n&&(n=e),Ni(e)&&dt("Can not call $splitNode() on root element");const r=e=>{const t=e.getParentOrThrow(),i=Ni(t),o=e!==n||i?Oi(e):e;if(i)return _r(e)&&_r(o)||dt("Children of a root must be ElementNode"),e.insertAfter(o),[e,o,o];{const[n,i,s]=r(t),a=e.getNextSiblings();return s.append(o,...a),[n,i,o]}},[i,o]=r(n);return[i,o]},$updateRangeSelectionFromCaretRange:wo,ArtificialNode__DO_NOT_USE:IM,BLUR_COMMAND:Yj,CAN_REDO_COMMAND:Kj,CAN_UNDO_COMMAND:qj,CLEAR_EDITOR_COMMAND:Hj,CLEAR_HISTORY_COMMAND:Wj,CLICK_COMMAND:aj,COLLABORATION_TAG:FM,COMMAND_PRIORITY_CRITICAL:4,COMMAND_PRIORITY_EDITOR:0,COMMAND_PRIORITY_HIGH:3,COMMAND_PRIORITY_LOW:1,COMMAND_PRIORITY_NORMAL:2,CONTROLLED_TEXT_INSERTION_COMMAND:dj,COPY_COMMAND:zj,CUT_COMMAND:Bj,DELETE_CHARACTER_COMMAND:lj,DELETE_LINE_COMMAND:mj,DELETE_WORD_COMMAND:pj,DRAGEND_COMMAND:$j,DRAGOVER_COMMAND:Ij,DRAGSTART_COMMAND:Pj,DROP_COMMAND:Fj,DecoratorNode:OM,ElementNode:NM,FOCUS_COMMAND:Vj,FORMAT_ELEMENT_COMMAND:Lj,FORMAT_TEXT_COMMAND:gj,HISTORIC_TAG:"historic",HISTORY_MERGE_TAG:RM,HISTORY_PUSH_TAG:"history-push",INDENT_CONTENT_COMMAND:Mj,INSERT_LINE_BREAK_COMMAND:cj,INSERT_PARAGRAPH_COMMAND:uj,INSERT_TAB_COMMAND:jj,INTERNAL_$isBlock:Wi,IS_ALL_FORMATTING:2047,IS_BOLD:1,IS_CODE:16,IS_HIGHLIGHT:128,IS_ITALIC:2,IS_STRIKETHROUGH:4,IS_SUBSCRIPT:32,IS_SUPERSCRIPT:64,IS_UNDERLINE:8,KEY_ARROW_DOWN_COMMAND:Sj,KEY_ARROW_LEFT_COMMAND:Cj,KEY_ARROW_RIGHT_COMMAND:_j,KEY_ARROW_UP_COMMAND:Ej,KEY_BACKSPACE_COMMAND:Tj,KEY_DELETE_COMMAND:Nj,KEY_DOWN_COMMAND:bj,KEY_ENTER_COMMAND:kj,KEY_ESCAPE_COMMAND:Aj,KEY_MODIFIER_COMMAND:Jj,KEY_SPACE_COMMAND:Dj,KEY_TAB_COMMAND:Oj,LineBreakNode:pM,MOVE_TO_END:wj,MOVE_TO_START:xj,NODE_STATE_KEY:"$",OUTDENT_CONTENT_COMMAND:Rj,PASTE_COMMAND:fj,PASTE_TAG:"paste",ParagraphNode:$M,REDO_COMMAND:yj,REMOVE_TEXT_COMMAND:hj,RootNode:jM,SELECTION_CHANGE_COMMAND:oj,SELECTION_INSERT_CLIPBOARD_NODES_COMMAND:sj,SELECT_ALL_COMMAND:Uj,SKIP_COLLAB_TAG:"skip-collab",SKIP_DOM_SELECTION_TAG:PM,SKIP_SCROLL_INTO_VIEW_TAG:LM,TEXT_TYPE_TO_FORMAT:AO,TabNode:yM,TextNode:mM,UNDO_COMMAND:vj,createCommand:Vt,createEditor:function(e){const t=e||{},n=EM,r=t.theme||{},i=void 0===e?n:t.parentEditor||null,o=t.disableEvents||!1,s=Sr(),a=t.namespace||(null!==i?i._config.namespace:oi()),l=t.editorState,c=[jM,mM,pM,yM,$M,IM,...t.nodes||[]],{onError:u,html:d}=t,f=void 0===t.editable||t.editable;let h;if(void 0===e&&null!==n)h=n._nodes;else{h=new Map;for(let e=0;e<c.length;e++){let t=c[e],n=null,r=null;if("function"!=typeof t){const e=t;t=e.replace,n=e.with,r=e.withKlass||null}{const e=Object.prototype.hasOwnProperty.call(t,"getType")&&t.getType(),n=t.name;if(r&&(r.prototype instanceof t||dt(`${r.name} doesn't extend the ${n}`)),"RootNode"!==n&&"root"!==e&&"artificial"!==e){const e=t.prototype;["getType","clone"].forEach((e=>{t.hasOwnProperty(e)||console.warn(`${n} must implement static "${e}" method`)})),!t.hasOwnProperty("importDOM")&&t.hasOwnProperty("exportDOM")&&console.warn(`${n} should implement "importDOM" if using a custom "exportDOM" method to ensure HTML serialization (important for copy & paste) works as expected`),Cr(e)&&(e.hasOwnProperty("decorate")||console.warn(`${e.constructor.name} must implement "decorate" method`)),t.hasOwnProperty("importJSON")||console.warn(`${n} should implement "importJSON" method to ensure JSON and default HTML serialization works as expected`)}}const i=t.getType(),o=t.transform(),s=new Set;null!==o&&s.add(o),h.set(i,{exportDOM:d&&d.export?d.export.get(t):void 0,klass:t,replace:n,replaceWithKlass:r,transforms:s})}}const p=new zM(s,i,h,{disableEvents:o,namespace:a,theme:r},u||console.error,function(e,t){const n=new Map,r=new Set,i=e=>{Object.keys(e).forEach((t=>{let r=n.get(t);void 0===r&&(r=[],n.set(t,r)),r.push(e[t])}))};return e.forEach((e=>{const t=e.klass.importDOM;if(null==t||r.has(t))return;r.add(t);const n=t.call(e.klass);null!==n&&i(n)})),t&&i(t),n}(h,d?d.import:void 0),f,e);return void 0!==l&&(p._pendingEditorState=l,p._dirtyType=2),p},createState:function(e,t){return new IO(e,t)},flipDirection:Gi,getDOMOwnerDocument:xi,getDOMSelection:Pi,getDOMSelectionFromTarget:Ii,getDOMTextNode:$r,getEditorPropertyFromDOMNode:Fr,getNearestEditorFromDOMNode:Rr,isBlockDomNode:Hi,isCurrentlyReadOnlyMode:nr,isDOMDocumentNode:Ir,isDOMNode:zi,isDOMTextNode:Pr,isDOMUnmanaged:Ji,isDocumentFragment:Bi,isExactShortcutMatch:di,isHTMLAnchorElement:function(e){return $i(e)&&"A"===e.tagName},isHTMLElement:$i,isInlineDomNode:Ui,isLexicalEditor:Mr,isModifierMatch:ui,isSelectionCapturedInDecoratorInput:Or,isSelectionWithinEditor:jr,makeStepwiseIterator:fo,removeFromParent:Ur,resetRandomKey:function(){BM=1},setDOMUnmanaged:function(e){e.__lexicalUnmanaged=!0},setNodeIndentFromDOM:Yi});const iR="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,oR=iR&&"documentMode"in document?document.documentMode:null,sR=iR&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),aR=iR&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),lR=!(!iR||!("InputEvent"in window)||oR)&&"getTargetRanges"in new window.InputEvent("input"),cR=iR&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),uR=iR&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,dR=iR&&/Android/.test(navigator.userAgent),fR=iR&&/^(?=.*Chrome).*/i.test(navigator.userAgent),hR=iR&&dR&&fR,pR=iR&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!fR,mR=0,gR=1,vR=2,yR=1,bR=2,_R=3,wR=4,CR=5,xR=6,ER=cR||uR||pR?"\xa0":"\u200b",SR="\n\n",kR=aR?"\xa0":ER,DR="\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc",TR="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff",AR=new RegExp("^[^"+TR+"]*["+DR+"]"),NR=new RegExp("^[^"+DR+"]*["+TR+"]"),OR={bold:1,capitalize:1024,code:16,highlight:128,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},jR={directionless:1,unmergeable:2},MR={center:2,end:6,justify:4,left:1,right:3,start:5},RR={[bR]:"center",[xR]:"end",[wR]:"justify",[yR]:"left",[_R]:"right",[CR]:"start"},FR={normal:0,segmented:2,token:1},LR={[mR]:"normal",[vR]:"segmented",[gR]:"token"},PR="$";let IR,$R,zR,BR,UR,HR,WR,KR,qR,VR,YR=!1,JR=0,GR=class{constructor(e,t){this.key=e,this.parse=t.parse.bind(t),this.unparse=(t.unparse||Ko).bind(t),this.isEqual=(t.isEqual||Object.is).bind(t),this.defaultValue=this.parse(void 0)}},XR=class e{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;this.node=e,this.sharedConfigMap=t,this.unknownState=n,this.knownState=r;const o=void 0!==i?i:function(e,t,n){let r=n.size;if(t)for(const i in t){const t=e.get(i);t&&n.has(t)||r++}return r}(t,n,r);this.size=o}getValue(e){const t=this.knownState.get(e);if(void 0!==t)return t;this.sharedConfigMap.set(e.key,e);let n=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const t=this.unknownState[e.key];void 0!==t&&(n=e.parse(t)),this.updateFromKnown(e,n)}return n}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState};for(const[t,n]of this.knownState)t.isEqual(n,t.defaultValue)?delete e[t.key]:e[t.key]=t.unparse(n);return Vo(e)?{[PR]:e}:{}}getWritable(t){if(this.node===t)return this;const n=new Map(this.knownState),r=Vo(i=this.unknownState)&&{...i};var i;if(r)for(const e of n.keys())delete r[e.key];return new e(t,this.sharedConfigMap,Vo(r),n,this.size)}updateFromKnown(e,t){const n=e.key;this.sharedConfigMap.set(n,e);const{knownState:r,unknownState:i}=this;r.has(e)||i&&n in i||this.size++,r.set(e,t)}updateFromUnknown(e,t){const n=this.sharedConfigMap.get(e);n?this.updateFromKnown(n,n.parse(t)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=t)}updateFromJSON(e){const{knownState:t}=this;for(const e of t.keys())t.set(e,e.defaultValue);if(this.size=t.size,this.unknownState={},e)for(const[t,n]of Object.entries(e))this.updateFromUnknown(t,n);this.unknownState=Vo(this.unknownState)}},QR="",ZR="",eF=null,tF="",nF="",rF=!1,iF=!1,oF=null;const sF="40px",aF=ms("SELECTION_CHANGE_COMMAND"),lF=ms("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),cF=ms("CLICK_COMMAND"),uF=ms("DELETE_CHARACTER_COMMAND"),dF=ms("INSERT_LINE_BREAK_COMMAND"),fF=ms("INSERT_PARAGRAPH_COMMAND"),hF=ms("CONTROLLED_TEXT_INSERTION_COMMAND"),pF=ms("PASTE_COMMAND"),mF=ms("REMOVE_TEXT_COMMAND"),gF=ms("DELETE_WORD_COMMAND"),vF=ms("DELETE_LINE_COMMAND"),yF=ms("FORMAT_TEXT_COMMAND"),bF=ms("UNDO_COMMAND"),_F=ms("REDO_COMMAND"),wF=ms("KEYDOWN_COMMAND"),CF=ms("KEY_ARROW_RIGHT_COMMAND"),xF=ms("MOVE_TO_END"),EF=ms("KEY_ARROW_LEFT_COMMAND"),SF=ms("MOVE_TO_START"),kF=ms("KEY_ARROW_UP_COMMAND"),DF=ms("KEY_ARROW_DOWN_COMMAND"),TF=ms("KEY_ENTER_COMMAND"),AF=ms("KEY_SPACE_COMMAND"),NF=ms("KEY_BACKSPACE_COMMAND"),OF=ms("KEY_ESCAPE_COMMAND"),jF=ms("KEY_DELETE_COMMAND"),MF=ms("KEY_TAB_COMMAND"),RF=ms("INSERT_TAB_COMMAND"),FF=ms("INDENT_CONTENT_COMMAND"),LF=ms("OUTDENT_CONTENT_COMMAND"),PF=ms("DROP_COMMAND"),IF=ms("FORMAT_ELEMENT_COMMAND"),$F=ms("DRAGSTART_COMMAND"),zF=ms("DRAGOVER_COMMAND"),BF=ms("DRAGEND_COMMAND"),UF=ms("COPY_COMMAND"),HF=ms("CUT_COMMAND"),WF=ms("SELECT_ALL_COMMAND"),KF=ms("CLEAR_EDITOR_COMMAND"),qF=ms("CLEAR_HISTORY_COMMAND"),VF=ms("CAN_REDO_COMMAND"),YF=ms("CAN_UNDO_COMMAND"),JF=ms("FOCUS_COMMAND"),GF=ms("BLUR_COMMAND"),XF=ms("KEY_MODIFIER_COMMAND"),QF=Object.freeze({}),ZF=[["keydown",function(e,t){if(eL=e.timeStamp,tL=e.key,!t.isComposing()&&!Il(t,wF,e)&&null!=e.key){if(cL&&Ol(e))return Pa(t,(()=>{Cs(t,uL)})),cL=!1,void(uL="");if(function(e){return Nl(e,"ArrowRight",{shiftKey:"any"})}(e))Il(t,CF,e);else if(function(e){return Nl(e,"ArrowRight",WL)}(e))Il(t,xF,e);else if(function(e){return Nl(e,"ArrowLeft",{shiftKey:"any"})}(e))Il(t,EF,e);else if(function(e){return Nl(e,"ArrowLeft",WL)}(e))Il(t,SF,e);else if(function(e){return Nl(e,"ArrowUp",{altKey:"any",shiftKey:"any"})}(e))Il(t,kF,e);else if(function(e){return Nl(e,"ArrowDown",{altKey:"any",shiftKey:"any"})}(e))Il(t,DF,e);else if(function(e){return Nl(e,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})}(e))aL=!0,Il(t,TF,e);else if(function(e){return" "===e.key}(e))Il(t,AF,e);else if(function(e){return sR&&Nl(e,"o",{ctrlKey:!0})}(e))e.preventDefault(),aL=!0,Il(t,dF,!0);else if(function(e){return Nl(e,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})}(e))aL=!1,Il(t,TF,e);else if(function(e){return Nl(e,"Backspace",{shiftKey:"any"})||sR&&Nl(e,"h",{ctrlKey:!0})}(e))Ol(e)?Il(t,NF,e):(e.preventDefault(),Il(t,uF,!0));else if(function(e){return"Escape"===e.key}(e))Il(t,OF,e);else if(function(e){return Nl(e,"Delete",{})||sR&&Nl(e,"d",{ctrlKey:!0})}(e))!function(e){return"Delete"===e.key}(e)?(e.preventDefault(),Il(t,uF,!1)):Il(t,jF,e);else if(function(e){return Nl(e,"Backspace",KL)}(e))e.preventDefault(),Il(t,gF,!0);else if(function(e){return Nl(e,"Delete",KL)}(e))e.preventDefault(),Il(t,gF,!1);else if(function(e){return sR&&Nl(e,"Backspace",{metaKey:!0})}(e))e.preventDefault(),Il(t,vF,!0);else if(function(e){return sR&&(Nl(e,"Delete",{metaKey:!0})||Nl(e,"k",{ctrlKey:!0}))}(e))e.preventDefault(),Il(t,vF,!1);else if(function(e){return Nl(e,"b",WL)}(e))e.preventDefault(),Il(t,yF,"bold");else if(function(e){return Nl(e,"u",WL)}(e))e.preventDefault(),Il(t,yF,"underline");else if(function(e){return Nl(e,"i",WL)}(e))e.preventDefault(),Il(t,yF,"italic");else if(function(e){return Nl(e,"Tab",{shiftKey:"any"})}(e))Il(t,MF,e);else if(function(e){return Nl(e,"z",WL)}(e))e.preventDefault(),Il(t,bF,void 0);else if(function(e){return sR?Nl(e,"z",{metaKey:!0,shiftKey:!0}):Nl(e,"y",{ctrlKey:!0})||Nl(e,"z",{ctrlKey:!0,shiftKey:!0})}(e))e.preventDefault(),Il(t,_F,void 0);else{const n=t._editorState._selection;null===n||Qs(n)?!aR&&jl(e)&&(e.preventDefault(),Il(t,WF,e)):function(e){return Nl(e,"c",WL)}(e)?(e.preventDefault(),Il(t,UF,e)):function(e){return Nl(e,"x",WL)}(e)?(e.preventDefault(),Il(t,HF,e)):jl(e)&&(e.preventDefault(),Il(t,WF,e))}(function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey})(e)&&Il(t,XF,e)}}],["pointerdown",function(e,t){const n=e.target,r=e.pointerType;oc(n)&&"touch"!==r&&0===e.button&&Pa(t,(()=>{Ja(n)||(sL=!0)}))}],["compositionstart",function(e,t){Pa(t,(()=>{const n=fa();if(Qs(n)&&!t.isComposing()){const r=n.anchor,i=n.anchor.getNode();cl(r.key),(e.timeStamp<eL+30||"element"===r.type||!n.isCollapsed()||i.getFormat()!==n.format||Ks(i)&&i.getStyle()!==n.style)&&Il(t,hF,kR)}}))}],["compositionend",function(e,t){aR?lL=!0:uR||!cR&&!pR?Pa(t,(()=>{Cs(t,e.data)})):(cL=!0,uL=e.data)}],["input",function(e,t){e.stopPropagation(),Pa(t,(()=>{if(ic(e.target)&&Ja(e.target))return;const n=fa(),r=e.data,i=ws(e);if(null!=r&&Qs(n)&&gs(n,i,r,e.timeStamp,!1)){lL&&(Cs(t,r),lL=!1);const i=n.anchor.getNode(),o=nc(Vl(t));if(null===o)return;const s=n.isBackward(),a=s?n.anchor.offset:n.focus.offset,l=s?n.focus.offset:n.anchor.offset;lR&&!n.isCollapsed()&&Ks(i)&&null!==o.anchorNode&&i.getTextContent().slice(0,a)+r+i.getTextContent().slice(a+l)===Sl(o.anchorNode)||Il(t,hF,r);const c=r.length;aR&&c>1&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=c),cR||uR||pR||!t.isComposing()||(eL=0,cl(null))}else kl(!1,t,null!==r?r:void 0),lL&&(Cs(t,r||void 0),lL=!1);xa(),Ho(ka())}),{event:e}),rL=null}],["click",function(e,t){Pa(t,(()=>{const n=fa(),r=nc(Vl(t)),i=ha();if(r)if(Qs(n)){const t=n.anchor,o=t.getNode();if("element"===t.type&&0===t.offset&&n.isCollapsed()&&!Ua(o)&&1===vl().getChildrenSize()&&o.getTopLevelElementOrThrow().isEmpty()&&null!==i&&n.is(i))r.removeAllRanges(),n.dirty=!0;else if(3===e.detail&&!n.isCollapsed()&&o!==n.focus.getNode()){const e=function(e,t){let n=e;for(;n!==vl()&&null!=n;){if(t(n))return n;n=n.getParent()}return null}(o,(e=>$a(e)&&!e.isInline()));$a(e)&&e.select(0)}}else if("touch"===e.pointerType){const n=r.anchorNode;(ic(n)||nl(n))&&bl(da(i,r,t,e))}Il(t,cF,e)}))}],["cut",QF],["copy",QF],["dragstart",QF],["dragover",QF],["dragend",QF],["paste",QF],["focus",QF],["blur",QF],["drop",QF]];lR&&ZF.push(["beforeinput",(e,t)=>function(e,t){const n=e.inputType,r=ws(e);"deleteCompositionText"===n||aR&&Pl(t)||"insertCompositionText"!==n&&Pa(t,(()=>{const i=fa();if("deleteContentBackward"===n){if(null===i){const e=ha();if(!Qs(e))return;bl(e.clone())}if(Qs(i)){const n=i.anchor.key===i.focus.key;if(o=e.timeStamp,"MediaLast"===tL&&o<eL+30&&t.isComposing()&&n){if(cl(null),eL=0,setTimeout((()=>{Pa(t,(()=>{cl(null)}))}),30),Qs(i)){const e=i.anchor.getNode();e.markDirty(),Ks(e)||Ro(142),_s(i,e)}}else{cl(null),e.preventDefault();const r=i.anchor.getNode(),o=r.getTextContent(),s=r.canInsertTextAfter(),a=0===i.anchor.offset&&i.focus.offset===o.length;let l=hR&&n&&!a&&s;if(l&&i.isCollapsed()&&(l=!Ba(Ll(i.anchor,!0))),!l){Il(t,uF,!0);const e=fa();hR&&Qs(e)&&e.isCollapsed()&&(dL=e,setTimeout((()=>dL=null)))}}return}}var o;if(!Qs(i))return;const s=e.data;null!==rL&&kl(!1,t,rL),i.dirty&&null===rL||!i.isCollapsed()||Ua(i.anchor.getNode())||null===r||i.applyDOMRange(r),rL=null;const a=i.anchor,l=i.focus,c=a.getNode(),u=l.getNode();if("insertText"!==n&&"insertTranspose"!==n)switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Il(t,hF,e);break;case"insertFromComposition":cl(null),Il(t,hF,e);break;case"insertLineBreak":cl(null),Il(t,dF,!1);break;case"insertParagraph":cl(null),aL&&!uR?(aL=!1,Il(t,dF,!1)):Il(t,fF,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Il(t,pF,e);break;case"deleteByComposition":(function(e,t){return e!==t||$a(e)||$a(t)||!e.isToken()||!t.isToken()})(c,u)&&Il(t,mF,e);break;case"deleteByDrag":case"deleteByCut":Il(t,mF,e);break;case"deleteContent":Il(t,uF,!1);break;case"deleteWordBackward":Il(t,gF,!0);break;case"deleteWordForward":Il(t,gF,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Il(t,vF,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Il(t,vF,!1);break;case"formatStrikeThrough":Il(t,yF,"strikethrough");break;case"formatBold":Il(t,yF,"bold");break;case"formatItalic":Il(t,yF,"italic");break;case"formatUnderline":Il(t,yF,"underline");break;case"historyUndo":Il(t,bF,void 0);break;case"historyRedo":Il(t,_F,void 0)}else{if("\n"===s)e.preventDefault(),Il(t,dF,!1);else if(s===SR)e.preventDefault(),Il(t,fF,void 0);else if(null==s&&e.dataTransfer){const t=e.dataTransfer.getData("text/plain");e.preventDefault(),i.insertRawText(t)}else null!=s&&gs(i,r,s,e.timeStamp,!0)?(e.preventDefault(),Il(t,hF,s)):rL=s;nL=e.timeStamp}}))}(e,t)]);let eL=0,tL=null,nL=0,rL=null;const iL=new WeakMap;let oL=!1,sL=!1,aL=!1,lL=!1,cL=!1,uL="",dL=null,fL=[0,"",0,"root",0];const hL=new Map;class pL{static getType(){Ro(64,this.name)}static clone(e){Ro(65,this.name)}afterCloneFrom(e){this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),sl(this,e)}getType(){return this.__type}isInline(){Ro(137,this.constructor.name)}isAttached(){let e=this.__key;for(;null!==e;){if("root"===e)return!0;const t=dl(e);if(null===t)break;e=t.__parent}return!1}isSelected(e){const t=e||fa();if(null==t)return!1;const n=t.getNodes().some((e=>e.__key===this.__key));if(Ks(this))return n;if(Qs(t)&&"element"===t.anchor.type&&"element"===t.focus.type){if(t.isCollapsed())return!1;const e=this.getParent();if(Ba(this)&&this.isInline()&&e){const n=t.isBackward()?t.focus:t.anchor;if(e.is(n.getNode())&&n.offset===e.getChildrenSize()&&this.is(e.getLastChild()))return!1}}return n}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(null===e)return-1;let t=e.getFirstChild(),n=0;for(;null!==t;){if(this.is(t))return n;n++,t=t.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return null===e?null:dl(e)}getParentOrThrow(){const e=this.getParent();return null===e&&Ro(66,this.__key),e}getTopLevelElement(){let e=this;for(;null!==e;){const t=e.getParent();if(Jl(t))return $a(e)||e===this&&Ba(e)||Ro(194),e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return null===e&&Ro(67,this.__key),e}getParents(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return null===e?null:dl(e)}getPreviousSiblings(){const e=[],t=this.getParent();if(null===t)return e;let n=t.getFirstChild();for(;null!==n&&!n.is(this);)e.push(n),n=n.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return null===e?null:dl(e)}getNextSiblings(){const e=[];let t=this.getNextSibling();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){const t=$a(this)?this:this.getParent(),n=$a(e)?e:e.getParent(),r=t&&n?Fc(t,n):null;return r?r.commonAncestor:null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){const t=Fc(this,e);return null!==t&&("descendant"===t.type||("branch"===t.type?-1===jc(t):("same"!==t.type&&"ancestor"!==t.type&&Ro(279),!1)))}isParentOf(e){const t=Fc(this,e);return null!==t&&"ancestor"===t.type}getNodesBetween(e){const t=this.isBefore(e),n=[],r=new Set;let i=this;for(;null!==i;){const o=i.__key;if(r.has(o)||(r.add(o),n.push(i)),i===e)break;const s=$a(i)?t?i.getFirstChild():i.getLastChild():null;if(null!==s){i=s;continue}const a=t?i.getNextSibling():i.getPreviousSibling();if(null!==a){i=a;continue}const l=i.getParentOrThrow();if(r.has(l.__key)||n.push(l),l===e)break;let c=null,u=l;do{if(null===u&&Ro(68),c=t?u.getNextSibling():u.getPreviousSibling(),u=u.getParent(),null===u)break;null!==c||r.has(u.__key)||n.push(u)}while(null===c);i=c}return t||n.reverse(),n}isDirty(){const e=ka()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){const e=dl(this.__key);return null===e&&Ro(113),e}getWritable(){xa();const e=Sa(),t=ka(),n=e._nodeMap,r=this.__key,i=this.getLatest(),o=t._cloneNotNeeded,s=fa();if(null!==s&&s.setCachedNodes(null),o.has(r))return ll(i),i;const a=fc(i);return o.add(r),ll(a),n.set(r,a),a}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){Ro(70)}updateDOM(e,t,n){Ro(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){Ro(18,this.name)}updateFromJSON(e){return function(e,t){const n=e.getWritable();return(t||n.__state)&&Yo(e).updateFromJSON(t),n}(this,e.$)}static transform(){return null}remove(e){Ds(this,!0,e)}replace(e,t){xa();let n=fa();null!==n&&(n=n.clone()),Ql(this,e);const r=this.getLatest(),i=this.__key,o=e.__key,s=e.getWritable(),a=this.getParentOrThrow().getWritable(),l=a.__size;al(s);const c=r.getPreviousSibling(),u=r.getNextSibling(),d=r.__prev,f=r.__next,h=r.__parent;if(Ds(r,!1,!0),null===c?a.__first=o:c.getWritable().__next=o,s.__prev=d,null===u?a.__last=o:u.getWritable().__prev=o,s.__next=f,s.__parent=h,a.__size=l,t&&($a(this)&&$a(s)||Ro(139),this.getChildren().forEach((e=>{s.append(e)}))),Qs(n)){bl(n);const e=n.anchor,t=n.focus;e.key===i&&Xs(e,s),t.key===i&&Xs(t,s)}return ul()===i&&cl(o),s}insertAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];xa(),Ql(this,e);const n=this.getWritable(),r=e.getWritable(),i=r.getParent(),o=fa();let s=!1,a=!1;if(null!==i){const t=e.getIndexWithinParent();if(al(r),Qs(o)){const e=i.__key,n=o.anchor,r=o.focus;s="element"===n.type&&n.key===e&&n.offset===t+1,a="element"===r.type&&r.key===e&&r.offset===t+1}}const l=this.getNextSibling(),c=this.getParentOrThrow().getWritable(),u=r.__key,d=n.__next;if(null===l?c.__last=u:l.getWritable().__prev=u,c.__size++,n.__next=u,r.__next=d,r.__prev=n.__key,r.__parent=n.__parent,t&&Qs(o)){const e=this.getIndexWithinParent();pa(o,c,e+1);const t=c.__key;s&&o.anchor.set(t,e+2,"element"),a&&o.focus.set(t,e+2,"element")}return e}insertBefore(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];xa(),Ql(this,e);const n=this.getWritable(),r=e.getWritable(),i=r.__key;al(r);const o=this.getPreviousSibling(),s=this.getParentOrThrow().getWritable(),a=n.__prev,l=this.getIndexWithinParent();null===o?s.__first=i:o.getWritable().__next=i,s.__size++,n.__prev=i,r.__prev=a,r.__next=n.__key,r.__parent=n.__parent;const c=fa();return t&&Qs(c)&&pa(c,this.getParentOrThrow(),l),e}isParentRequired(){return!1}createParentElementNode(){return Va()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){xa();const n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if($a(n))return n.select();if(!Ks(n)){const e=n.getIndexWithinParent()+1;return r.select(e,e)}return n.select(e,t)}selectNext(e,t){xa();const n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if($a(n))return n.select(0,0);if(!Ks(n)){const e=n.getIndexWithinParent();return r.select(e,e)}return n.select(e,t)}markDirty(){this.getWritable()}reconcileObservedMutation(e,t){this.markDirty()}}class mL extends pL{static getType(){return"linebreak"}static clone(e){return new mL(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>function(e){const t=e.parentElement;if(null!==t&&lc(t)){const n=t.firstChild;if(n===e||n.nextSibling===e&&Os(n)){const n=t.lastChild;if(n===e||n.previousSibling===e&&Os(n))return!0}}return!1}(e)||function(e){const t=e.parentElement;if(null!==t&&lc(t)){const n=t.firstChild;if(n===e||n.nextSibling===e&&Os(n))return!1;const r=t.lastChild;if(r===e||r.previousSibling===e&&Os(r))return!0}return!1}(e)?null:{conversion:Ts,priority:0}}}static importJSON(e){return As().updateFromJSON(e)}}class gL extends pL{static getType(){return"text"}static clone(e){return new gL(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";super(arguments.length>1?arguments[1]:void 0),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return LR[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===ul()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const t=OR[e];return!!(this.getFormat()&t)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return ol(this.getLatest().__format,e,t)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,t){const n=this.__format,r=js(0,n),i=Ms(0,n),o=null===r?i:r,s=document.createElement(o);let a=s;this.hasFormat("code")&&s.setAttribute("spellcheck","false"),null!==r&&(a=document.createElement(i),s.appendChild(a)),Ls(a,this,0,n,this.__text,e);const l=this.__style;return""!==l&&(s.style.cssText=l),s}updateDOM(e,t,n){const r=this.__text,i=e.__format,o=this.__format,s=js(0,i),a=js(0,o),l=Ms(0,i),c=Ms(0,o);if((null===s?l:s)!==(null===a?c:a))return!0;if(s===a&&l!==c){const e=t.firstChild;null==e&&Ro(48);const i=document.createElement(c);return Ls(i,this,0,o,r,n),t.replaceChild(i,e),!1}let u=t;null!==a&&null!==s&&(u=t.firstChild,null==u&&Ro(49)),Fs(r,u,this);const d=n.theme.text;void 0!==d&&i!==o&&Rs(0,i,o,u,d);const f=e.__style,h=this.__style;return f!==h&&(t.style.cssText=h),!1}static importDOM(){return{"#text":()=>({conversion:Bs,priority:0}),b:()=>({conversion:$s,priority:0}),code:()=>({conversion:Hs,priority:0}),em:()=>({conversion:Hs,priority:0}),i:()=>({conversion:Hs,priority:0}),mark:()=>({conversion:Hs,priority:0}),s:()=>({conversion:Hs,priority:0}),span:()=>({conversion:Is,priority:0}),strong:()=>({conversion:Hs,priority:0}),sub:()=>({conversion:Hs,priority:0}),sup:()=>({conversion:Hs,priority:0}),u:()=>({conversion:Hs,priority:0})}}static importJSON(e){return Ws().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:t}=super.exportDOM(e);return ic(t)||Ro(132),t.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?t.style.textTransform="lowercase":this.hasFormat("uppercase")?t.style.textTransform="uppercase":this.hasFormat("capitalize")&&(t.style.textTransform="capitalize"),this.hasFormat("bold")&&(t=Ps(t,"b")),this.hasFormat("italic")&&(t=Ps(t,"i")),this.hasFormat("strikethrough")&&(t=Ps(t,"s")),this.hasFormat("underline")&&(t=Ps(t,"u")),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),
text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,t){}setFormat(e){const t=this.getWritable();return t.__format="string"==typeof e?OR[e]:e,t}setDetail(e){const t=this.getWritable();return t.__detail="string"==typeof e?jR[e]:e,t}setStyle(e){const t=this.getWritable();return t.__style=e,t}toggleFormat(e){const t=ol(this.getFormat(),e,null);return this.setFormat(t)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const t=FR[e];if(this.__mode===t)return this;const n=this.getWritable();return n.__mode=t,n}setTextContent(e){if(this.__text===e)return this;const t=this.getWritable();return t.__text=e,t}select(e,t){xa();let n=e,r=t;const i=fa(),o=this.getTextContent(),s=this.__key;if("string"==typeof o){const e=o.length;void 0===n&&(n=e),void 0===r&&(r=e)}else n=0,r=0;if(!Qs(i))return la(s,n,s,r,"text","text");{const e=ul();e!==i.anchor.key&&e!==i.focus.key||cl(s),i.setTextNodeRange(this,n,this,r)}return i}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,n,r){const i=this.getWritable(),o=i.__text,s=n.length;let a=e;a<0&&(a=s+a,a<0&&(a=0));const l=fa();if(r&&Qs(l)){const t=e+s;l.setTextNodeRange(i,t,i,t)}const c=o.slice(0,a)+n+o.slice(a+t);return i.__text=c,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(){xa();const e=this.getLatest(),t=e.getTextContent();if(""===t)return[];const n=e.__key,r=ul(),i=t.length;for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];s.sort(((e,t)=>e-t)),s.push(i);const l=[],c=s.length;for(let e=0,n=0;e<i&&n<=c;n++){const r=s[n];r>e&&(l.push(t.slice(e,r)),e=r)}const u=l.length;if(1===u)return[e];const d=l[0],f=e.getParent();let h;const p=e.getFormat(),m=e.getStyle(),g=e.__detail;let v=!1,y=null,b=null;const _=fa();if(Qs(_)){const[e,t]=_.isBackward()?[_.focus,_.anchor]:[_.anchor,_.focus];"text"===e.type&&e.key===n&&(y=e),"text"===t.type&&t.key===n&&(b=t)}e.isSegmented()?(h=Ws(d),h.__format=p,h.__style=m,h.__detail=g,v=!0):(h=e.getWritable(),h.__text=d);const w=[h];for(let e=1;e<u;e++){const t=Ws(l[e]);t.__format=p,t.__style=m,t.__detail=g;const i=t.__key;r===n&&cl(i),w.push(t)}const C=y?y.offset:null,x=b?b.offset:null;let E=0;for(const e of w){if(!y&&!b)break;const t=E+e.getTextContentSize();if(null!==y&&null!==C&&C<=t&&C>=E&&(y.set(e.getKey(),C-E,"text"),C<t&&(y=null)),null!==b&&null!==x&&x<=t&&x>=E){b.set(e.getKey(),x-E,"text");break}E=t}if(null!==f){!function(e){const t=e.getPreviousSibling(),n=e.getNextSibling();null!==t&&ll(t),null!==n&&ll(n)}(this);const e=f.getWritable(),t=this.getIndexWithinParent();v?(e.splice(t,0,w),this.remove()):e.splice(t,1,w),Qs(_)&&pa(_,f,t,u-1)}return w}mergeWithSibling(e){const t=e===this.getPreviousSibling();t||e===this.getNextSibling()||Ro(50);const n=this.__key,r=e.__key,i=this.__text,o=i.length;ul()===r&&cl(n);const s=fa();if(Qs(s)){const i=s.anchor,a=s.focus;null!==i&&i.key===r&&va(i,t,n,e,o),null!==a&&a.key===r&&va(a,t,n,e,o)}const a=e.__text,l=t?a+i:i+a;this.setTextContent(l);const c=this.getWritable();return e.remove(),c}isTextEntity(){return!1}}const vL=new WeakMap,yL={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};class bL extends gL{static getType(){return"tab"}static clone(e){return new bL(e.__key)}constructor(e){super("\t",e),this.__detail=2}static importDOM(){return null}createDOM(e){const t=super.createDOM(e),n=Ml(e.theme,"tab");return void 0!==n&&t.classList.add(...n),t}static importJSON(e){return Vs().updateFromJSON(e)}setTextContent(e){return"\t"!==e&&""!==e&&Ro(126),super.setTextContent(e)}setDetail(e){return 2!==e&&Ro(127),this}setMode(e){return"normal"!==e&&Ro(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}class _L{constructor(e,t,n){this._selection=null,this.key=e,this.offset=t,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:Oc(Kc(Lc(this,"next")),Kc(Lc(e,"next")))<0}getNode(){const e=dl(this.key);return null===e&&Ro(20),e}set(e,t,n,r){const i=this._selection,o=this.key;r&&this.key===e&&this.offset===t&&this.type===n||(this.key=e,this.offset=t,this.type=n,Ca()||(ul()===o&&cl(e),null!==i&&(i.setCachedNodes(null),i.dirty=!0)))}}class wL{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!Zs(e))return!1;const t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every((e=>n.has(e)))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new wL(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.getNodes(),n=t.length,r=t[n-1];let i;if(Ks(r))i=r.select();else{const e=r.getIndexWithinParent()+1;i=r.getParentOrThrow().select(e,e)}i.insertNodes(e);for(let e=0;e<n;e++)t[e].remove()}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=this._nodes,n=[];for(const e of t){const t=dl(e);null!==t&&n.push(t)}return Ca()||(this._cachedNodes=n),n}getTextContent(){const e=this.getNodes();let t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}deleteNodes(){const e=this.getNodes();if((fa()||ha())===this&&e[0]){const t=_c(e[0],"next");Ic(Ac(t,t))}for(const t of e)t.remove()}}let CL=class e{constructor(e,t,n,r){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=n,this.style=r,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!Qs(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=function(e){const t=[],[n,r]=e.getTextSlices();n&&t.push(n.caret.origin);const i=new Set,o=new Set;for(const n of e)if(bc(n)){const{origin:e}=n;0===t.length?i.add(e):(o.add(e),t.push(e))}else{const{origin:e}=n;$a(e)&&o.has(e)||t.push(e)}if(r&&t.push(r.caret.origin),yc(e.focus)&&$a(e.focus.origin)&&null===e.focus.getNodeAtCaret())for(let n=Ec(e.focus.origin,"previous");bc(n)&&i.has(n.origin)&&!n.origin.isEmpty()&&n.origin.is(t[t.length-1]);n=kc(n))i.delete(n.origin),t.pop();for(;t.length>1;){const e=t[t.length-1];if(!$a(e)||o.has(e)||e.isEmpty()||i.has(e))break;t.pop()}if(0===t.length&&e.isCollapsed()){const n=Kc(e.anchor),r=Kc(e.anchor.getFlipped()),i=e=>vc(e)?e.origin:e.getNodeAtCaret(),o=i(n)||i(r)||(e.anchor.getNodeAtCaret()?n.origin:r.origin);t.push(o)}return t}(Yc(zc(this),"next"));return Ca()||(this._cachedNodes=t),t}setTextNodeRange(e,t,n,r){this.anchor.set(e.__key,t,"text"),this.focus.set(n.__key,r,"text")}getTextContent(){const e=this.getNodes();if(0===e.length)return"";const t=e[0],n=e[e.length-1],r=this.anchor,i=this.focus,o=r.isBefore(i),[s,a]=ta(this);let l="",c=!0;for(let u=0;u<e.length;u++){const d=e[u];if($a(d)&&!d.isInline())c||(l+="\n"),c=!d.isEmpty();else if(c=!1,Ks(d)){let e=d.getTextContent();d===t?d===n?"element"===r.type&&"element"===i.type&&i.offset!==r.offset||(e=s<a?e.slice(s,a):e.slice(a,s)):e=o?e.slice(s):e.slice(a):d===n&&(e=o?e.slice(0,a):e.slice(0,s)),l+=e}else!Ba(d)&&!Ns(d)||d===n&&this.isCollapsed()||(l+=d.getTextContent())}return l}applyDOMRange(e){const t=ka(),n=t.getEditorState()._selection,r=aa(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n);if(null===r)return;const[i,o]=r;this.anchor.set(i.key,i.offset,i.type,!0),this.focus.set(o.key,o.offset,o.type,!0),Qo(this)}clone(){const t=this.anchor,n=this.focus;return new e(Js(t.key,t.offset,t.type),Js(n.key,n.offset,n.type),this.format,this.style)}toggleFormat(e){this.format=ol(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const t=OR[e];return!!(this.format&t)}insertRawText(e){const t=e.split(/(\r?\n|\t)/),n=[],r=t.length;for(let e=0;e<r;e++){const r=t[e];"\n"===r||"\r\n"===r?n.push(As()):"\t"===r?n.push(Vs()):n.push(Ws(r))}this.insertNodes(n)}insertText(e){const t=this.anchor,n=this.focus,r=this.format,i=this.style;let o=t,s=n;!this.isCollapsed()&&n.isBefore(t)&&(o=n,s=t),"element"===o.type&&function(e,t,n,r){const i=e.getNode(),o=i.getChildAtIndex(e.offset),s=Ws(),a=Ua(i)?Va().append(s):s;s.setFormat(n),s.setStyle(r),null===o?i.append(a):o.insertBefore(a),e.is(t)&&t.set(s.__key,0,"text"),e.set(s.__key,0,"text")}(o,s,r,i),"element"===s.type&&Pc(s,Kc(Lc(s,"next")));const a=o.offset;let l=s.offset;const c=this.getNodes(),u=c.length;let d=c[0];Ks(d)||Ro(26);const f=d.getTextContent().length,h=d.getParentOrThrow();let p=c[u-1];if(1===u&&"element"===s.type&&(l=f,s.set(o.key,l,"text")),this.isCollapsed()&&a===f&&(d.isSegmented()||d.isToken()||!d.canInsertTextAfter()||!h.canInsertTextAfter()&&null===d.getNextSibling())){let t=d.getNextSibling();if(Ks(t)&&t.canInsertTextBefore()&&!tl(t)||(t=Ws(),t.setFormat(r),t.setStyle(i),h.canInsertTextAfter()?d.insertAfter(t):h.insertAfter(t)),t.select(0,0),d=t,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===a&&(d.isSegmented()||d.isToken()||!d.canInsertTextBefore()||!h.canInsertTextBefore()&&null===d.getPreviousSibling())){let t=d.getPreviousSibling();if(Ks(t)&&!tl(t)||(t=Ws(),t.setFormat(r),h.canInsertTextBefore()?d.insertBefore(t):h.insertBefore(t)),t.select(),d=t,""!==e)return void this.insertText(e)}else if(d.isSegmented()&&a!==f){const e=Ws(d.getTextContent());e.setFormat(r),d.replace(e),d=e}else if(!this.isCollapsed()&&""!==e){const t=p.getParent();if(!h.canInsertTextBefore()||!h.canInsertTextAfter()||$a(t)&&(!t.canInsertTextBefore()||!t.canInsertTextAfter()))return this.insertText(""),sa(this.anchor,this.focus,null),void this.insertText(e)}if(1===u){if(d.isToken()){const t=Ws(e);return t.select(),void d.replace(t)}const t=d.getFormat(),n=d.getStyle();if(a!==l||t===r&&n===i){if(Ys(d)){const t=Ws(e);return t.setFormat(r),t.setStyle(i),t.select(),void d.replace(t)}}else{if(""!==d.getTextContent()){const t=Ws(e);if(t.setFormat(r),t.setStyle(i),t.select(),0===a)d.insertBefore(t,!1);else{const[e]=d.splitText(a);e.insertAfter(t,!1)}return void(t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length))}d.setFormat(r),d.setStyle(i)}const o=l-a;d=d.spliceText(a,o,e,!0),""===d.getTextContent()?d.remove():"text"===this.anchor.type&&(d.isComposing()?this.anchor.offset-=e.length:(this.format=t,this.style=n))}else{const t=new Set([...d.getParentKeys(),...p.getParentKeys()]),n=$a(d)?d:d.getParentOrThrow();let r=$a(p)?p:p.getParentOrThrow(),i=p;if(!n.is(r)&&r.isInline())do{i=r,r=r.getParentOrThrow()}while(r.isInline());if("text"===s.type&&(0!==l||""===p.getTextContent())||"element"===s.type&&p.getIndexWithinParent()<l)if(Ks(p)&&!p.isToken()&&l!==p.getTextContentSize()){if(p.isSegmented()){const e=Ws(p.getTextContent());p.replace(e),p=e}Ua(s.getNode())||"text"!==s.type||(p=p.spliceText(0,l,"")),t.add(p.__key)}else{const e=p.getParentOrThrow();e.canBeEmpty()||1!==e.getChildrenSize()?p.remove():e.remove()}else t.add(p.__key);const o=r.getChildren(),h=new Set(c),m=n.is(r),g=n.isInline()&&null===d.getNextSibling()?n:d;for(let e=o.length-1;e>=0;e--){const t=o[e];if(t.is(d)||$a(t)&&t.isParentOf(d))break;t.isAttached()&&(!h.has(t)||t.is(i)?m||g.insertAfter(t,!1):t.remove())}if(!m){let e=r,n=null;for(;null!==e;){const r=e.getChildren(),i=r.length;(0===i||r[i-1].is(n))&&(t.delete(e.__key),n=e),e=e.getParent()}}if(d.isToken())if(a===f)d.select();else{const t=Ws(e);t.select(),d.replace(t)}else d=d.spliceText(a,f-a,e,!0),""===d.getTextContent()?d.remove():d.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);for(let e=1;e<u;e++){const n=c[e],r=n.__key;t.has(r)||n.remove()}}}removeText(){const e=fa()===this;$c(this,Wc(zc(this))),e&&fa()!==this&&bl(this)}formatText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isCollapsed())return this.toggleFormat(e),void cl(null);const n=this.getNodes(),r=[];for(const e of n)Ks(e)&&r.push(e);const i=t=>{n.forEach((n=>{if($a(n)){const r=n.getFormatFlags(e,t);n.setTextFormat(r)}}))},o=r.length;if(0===o)return this.toggleFormat(e),cl(null),void i(t);const s=this.anchor,a=this.focus,l=this.isBackward(),c=l?a:s,u=l?s:a;let d=0,f=r[0],h="element"===c.type?0:c.offset;if("text"===c.type&&h===f.getTextContentSize()&&(d=1,f=r[1],h=0),null==f)return;const p=f.getFormatFlags(e,t);i(p);const m=o-1;let g=r[m];const v="text"===u.type?u.offset:g.getTextContentSize();if(f.is(g)){if(h===v)return;if(tl(f)||0===h&&v===f.getTextContentSize())f.setFormat(p);else{const e=f.splitText(h,v),t=0===h?e[0]:e[1];t.setFormat(p),"text"===c.type&&c.set(t.__key,0,"text"),"text"===u.type&&u.set(t.__key,v-h,"text")}return void(this.format=p)}0===h||tl(f)||([,f]=f.splitText(h),h=0),f.setFormat(p);const y=g.getFormatFlags(e,p);v>0&&(v===g.getTextContentSize()||tl(g)||([g]=g.splitText(v)),g.setFormat(y));for(let t=d+1;t<m;t++){const n=r[t],i=n.getFormatFlags(e,y);n.setFormat(i)}"text"===c.type&&c.set(f.__key,h,"text"),"text"===u.type&&u.set(g.__key,v,"text"),this.format=p|y}insertNodes(e){if(0===e.length)return;if(this.isCollapsed()||this.removeText(),"root"===this.anchor.key){this.insertParagraph();const t=fa();return Qs(t)||Ro(134),t.insertNodes(e)}const t=(this.isBackward()?this.focus:this.anchor).getNode(),n=uc(t,cc),r=e[e.length-1];if($a(n)&&"__language"in n){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const t=ba(this);n.splice(t,0,e),r.selectEnd()}return}if(!e.some((e=>($a(e)||Ba(e))&&!e.isInline()))){$a(n)||Ro(211,t.constructor.name,t.getType());const i=ba(this);return n.splice(i,0,e),void r.selectEnd()}const i=function(e){const t=Va();let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=Ns(i);if(o||Ba(i)&&i.isInline()||$a(i)&&i.isInline()||Ks(i)||i.isParentRequired()){if(null===n&&(n=i.createParentElementNode(),t.append(n),o))continue;null!==n&&n.append(i)}else t.append(i),n=null}return t}(e),o=i.getLastDescendant(),s=i.getChildren(),a=$a(n)&&n.isEmpty()?null:this.insertParagraph(),l=s[s.length-1];let c=s[0];var u;$a(u=c)&&cc(u)&&!u.isEmpty()&&$a(n)&&(!n.isEmpty()||n.canMergeWhenEmpty())&&($a(n)||Ro(211,t.constructor.name,t.getType()),n.append(...c.getChildren()),c=s[1]),c&&(null===n&&Ro(212,t.constructor.name,t.getType()),function(e,t){const n=t.getParentOrThrow().getLastChild();let r=t;const i=[t];for(;r!==n;)r.getNextSibling()||Ro(140),r=r.getNextSibling(),i.push(r);let o=e;for(const e of i)o=o.insertAfter(e)}(n,c));const d=uc(o,cc);a&&$a(d)&&(a.canMergeWhenEmpty()||cc(l))&&(d.append(...a.getChildren()),a.remove()),$a(n)&&n.isEmpty()&&n.remove(),o.selectEnd();const f=$a(n)?n.getLastChild():null;Ns(f)&&d!==n&&f.remove()}insertParagraph(){if("root"===this.anchor.key){const e=Va();return vl().splice(this.anchor.offset,0,[e]),e.select(),e}const e=ba(this),t=uc(this.anchor.getNode(),cc);$a(t)||Ro(213);const n=t.getChildAtIndex(e),r=n?[n,...n.getNextSiblings()]:[],i=t.insertNewAfter(this,!1);return i?(i.append(...r),i.selectStart(),i):null}insertLineBreak(e){const t=As();if(this.insertNodes([t]),e){const e=t.getParentOrThrow(),n=t.getIndexWithinParent();e.select(n,n)}}extract(){const e=this.getNodes(),t=e.length,n=t-1,r=this.anchor,i=this.focus;let o=e[0],s=e[n];const[a,l]=ta(this);if(0===t)return[];if(1===t){if(Ks(o)&&!this.isCollapsed()){const e=a>l?l:a,t=a>l?a:l,n=o.splitText(e,t),r=0===e?n[0]:n[1];return null!=r?[r]:[]}return[o]}const c=r.isBefore(i);if(Ks(o)){const t=c?a:l;t===o.getTextContentSize()?e.shift():0!==t&&([,o]=o.splitText(t),e[0]=o)}if(Ks(s)){const t=s.getTextContent().length,r=c?l:a;0===r?e.pop():r!==t&&([s]=s.splitText(r),e[n]=s)}return e}modify(e,t,n){if(wa(this,e,t,n))return;const r="move"===e,i=ka(),o=nc(Vl(i));if(!o)return;const s=i._blockCursorElement,a=i._rootElement,l=this.focus.getNode();if(null===a||null===s||!$a(l)||l.isInline()||l.canBeEmpty()||tc(s,i,a),this.dirty){let e=zl(i,this.anchor.key),t=zl(i,this.focus.key);"text"===this.anchor.type&&(e=il(e)),"text"===this.focus.type&&(t=il(t)),e&&t&&ya(o,e,this.anchor.offset,t,this.focus.offset)}if(function(e,t,n,r){e.modify(t,n,r)}(o,e,t?"backward":"forward",n),o.rangeCount>0){const e=o.getRangeAt(0),n=this.anchor.getNode(),i=Ua(n)?n:Yl(n);if(this.applyDOMRange(e),this.dirty=!0,!r){const n=this.getNodes(),r=[];let s=!1;for(let e=0;e<n.length;e++){const t=n[e];Kl(t,i)?r.push(t):s=!0}if(s&&r.length>0)if(t){const e=r[0];$a(e)?e.selectStart():e.getParentOrThrow().selectStart()}else{const e=r[r.length-1];$a(e)?e.selectEnd():e.getParentOrThrow().selectEnd()}o.anchorNode===e.startContainer&&o.anchorOffset===e.startOffset||function(e){const t=e.focus,n=e.anchor,r=n.key,i=n.offset,o=n.type;n.set(t.key,t.offset,t.type,!0),t.set(r,i,o,!0)}(this)}}"lineboundary"===n&&wa(this,e,t,n,"decorators")}forwardDeletion(e,t,n){if(!n&&("element"===e.type&&$a(t)&&e.offset===t.getChildrenSize()||"text"===e.type&&e.offset===t.getTextContentSize())){const e=t.getParent(),n=t.getNextSibling()||(null===e?null:e.getNextSibling());if($a(n)&&n.isShadowRoot())return!0}return!1}deleteCharacter(e){const t=this.isCollapsed();if(this.isCollapsed()){const t=this.anchor;let n=t.getNode();if(this.forwardDeletion(t,n,e))return;const r=Dc(Lc(t,e?"previous":"next"));if(r.getTextSlices().every((e=>null===e||0===e.distance))){let e={type:"initial"};for(const t of r.iterNodeCarets("shadowRoot"))if(bc(t))if(t.origin.isInline());else{if(t.origin.isShadowRoot()){if("merge-block"===e.type)break;if($a(r.anchor.origin)&&r.anchor.origin.isEmpty()){const e=Kc(t);$c(this,Ac(e,e)),r.anchor.origin.remove()}return}"merge-next-block"!==e.type&&"merge-block"!==e.type||(e={block:e.block,caret:t,type:"merge-block"})}else{if("merge-block"===e.type)break;if(yc(t)){if($a(t.origin)){if(t.origin.isInline()){if(!t.origin.isParentOf(r.anchor.origin))break}else e={block:t.origin,type:"merge-next-block"};continue}if(Ba(t.origin)){if(t.origin.isIsolated());else if("merge-next-block"===e.type&&(t.origin.isKeyboardSelectable()||!t.origin.isInline())&&$a(r.anchor.origin)&&r.anchor.origin.isEmpty()){r.anchor.origin.remove();const e=ua();e.add(t.origin.getKey()),bl(e)}else t.origin.remove();return}break}}if("merge-block"===e.type){const{caret:t,block:n}=e;return $c(this,Ac(!t.origin.isEmpty()&&n.isEmpty()?Bc(_c(n,t.direction)):r.anchor,t)),this.removeText()}}const i=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===t.offset&&na(this,t.getNode()))return}else{const r="text"===i.type?i.getNode():null;if(n="text"===t.type?t.getNode():null,null!==r&&r.isSegmented()){const t=i.offset,o=r.getTextContentSize();if(r.is(n)||e&&t!==o||!e&&0!==t)return void ra(r,e,t)}else if(null!==n&&n.isSegmented()){const i=t.offset,o=n.getTextContentSize();if(n.is(r)||e&&0!==i||!e&&i!==o)return void ra(n,e,i)}!function(e,t){const n=e.anchor,r=e.focus,i=n.getNode();if(i===r.getNode()&&"text"===n.type&&"text"===r.type){const e=n.offset,o=r.offset,s=e<o,a=s?e:o,l=s?o:e,c=l-1;a!==c&&function(e){return!(Cl(e)||xL(e))}(i.getTextContent().slice(a,l))&&(t?r.set(r.key,c,r.type):n.set(n.key,c,n.type))}}(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){const e=this.anchor.getNode();e.isEmpty()&&Ua(e.getParent())&&null===e.getPreviousSibling()&&na(this,e)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const t=this.anchor,n=t.getNode();if(this.forwardDeletion(t,n,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}};const xL=(()=>{try{const e=new RegExp("\\p{Emoji}","u"),t=e.test.bind(e);if(t("\u2764\ufe0f")&&t("#\ufe0f\u20e3")&&t("\ud83d\udc4d"))return t}catch(e){}return()=>!1})();let EL=null,SL=null,kL=!1,DL=!1,TL=0;const AL={characterData:!0,childList:!0,subtree:!0};class NL{constructor(e,t,n){this.element=e,this.before=t||null,this.after=n||null}withBefore(e){return new NL(this.element,e,this.after)}withAfter(e){return new NL(this.element,this.before,e)}withElement(e){return this.element===e?this:new NL(e,this.before,this.after)}insertChild(e){const t=this.before||this.getManagedLineBreak();return null!==t&&t.parentElement!==this.element&&Ro(222),this.element.insertBefore(e,t),this}removeChild(e){return e.parentElement!==this.element&&Ro(223),this.element.removeChild(e),this}replaceChild(e,t){return t.parentElement!==this.element&&Ro(224),this.element.replaceChild(e,t),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(null===e)this.removeManagedLineBreak();else{const t="decorator"===e&&(uR||cR);this.insertManagedLineBreak(t)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const t=this.element,n="IMG"===e.nodeName?e.nextSibling:null;n&&t.removeChild(n),t.removeChild(e),t.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const t=this.getManagedLineBreak();if(t){if(e===("IMG"===t.nodeName))return;this.removeManagedLineBreak()}const n=this.element,r=this.before,i=document.createElement("br");if(n.insertBefore(i,r),e){const e=document.createElement("img");e.setAttribute("data-lexical-linebreak","true"),e.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",e.alt="",n.insertBefore(e,i),n.__lexicalLineBreak=e}else n.__lexicalLineBreak=i}getFirstChildOffset(){let e=0;for(let t=this.after;null!==t;t=t.previousSibling)e++;return e}resolveChildIndex(e,t,n,r){if(n===this.element){const t=this.getFirstChildOffset();return[e,Math.min(t+e.getChildrenSize(),Math.max(t,r))]}const i=Ia(t,n);i.push(r);const o=Ia(t,this.element);let s=e.getIndexWithinParent();for(let e=0;e<o.length;e++){const t=i[e],n=o[e];if(void 0===t||t<n)break;if(t>n){s+=1;break}}return[e.getParentOrThrow(),s]}}class OL extends pL{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__first=e.__first,this.__last=e.__last,this.__size=e.__size,this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return RR[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let t=this.getFirstChild();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){const e=[];let t=this.getFirstChild();for(;null!==t;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){const e=ka()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}getAllTextNodes(){const e=[];let t=this.getFirstChild();for(;null!==t;){if(Ks(t)&&e.push(t),$a(t)){const n=t.getAllTextNodes();e.push(...n)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;$a(e);){const t=e.getFirstChild();if(null===t)break;e=t}return e}getLastDescendant(){let e=this.getLastChild();for(;$a(e);){const t=e.getLastChild();if(null===t)break;e=t}return e}getDescendantByIndex(e){const t=this.getChildren(),n=t.length;if(e>=n){const e=t[n-1];return $a(e)&&e.getLastDescendant()||e||null}const r=t[e];return $a(r)&&r.getFirstDescendant()||r||null}getFirstChild(){const e=this.getLatest().__first;return null===e?null:dl(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return null===e&&Ro(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return null===e?null:dl(e)}getLastChildOrThrow(){const e=this.getLastChild();return null===e&&Ro(96,this.__key),e}getChildAtIndex(e){const t=this.getChildrenSize();let n,r;if(e<t/2){for(n=this.getFirstChild(),r=0;null!==n&&r<=e;){if(r===e)return n;n=n.getNextSibling(),r++}return null}for(n=this.getLastChild(),r=t-1;null!==n&&r>=e;){if(r===e)return n;n=n.getPreviousSibling(),r--}return null}getTextContent(){let e="";const t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=i.getTextContent(),$a(i)&&r!==n-1&&!i.isInline()&&(e+=SR)}return e}getTextContentSize(){let e=0;const t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=i.getTextContentSize(),$a(i)&&r!==n-1&&!i.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(""!==e){const t=MR[e];return!!(this.getFormat()&t)}return!1}hasTextFormat(e){const t=OR[e];return!!(this.getTextFormat()&t)}getFormatFlags(e,t){return ol(this.getLatest().__textFormat,e,t)}getTextStyle(){return this.getLatest().__textStyle}select(e,t){xa();const n=fa();let r=e,i=t;const o=this.getChildrenSize();if(!this.canBeEmpty())if(0===e&&0===t){const e=this.getFirstChild();if(Ks(e)||$a(e))return e.select(0,0)}else if(!(void 0!==e&&e!==o||void 0!==t&&t!==o)){const e=this.getLastChild();if(Ks(e)||$a(e))return e.select()}void 0===r&&(r=o),void 0===i&&(i=o);const s=this.__key;return Qs(n)?(n.anchor.set(s,r,"element"),n.focus.set(s,i,"element"),n.dirty=!0,n):la(s,r,s,i,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach((e=>e.remove())),e}append(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.splice(this.getChildrenSize(),0,t)}setDirection(e){const t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=""!==e?MR[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){const t=this.getWritable();return t.__textFormat=e,t}setTextStyle(e){const t=this.getWritable();return t.__textStyle=e,t}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,n){const r=n.length,i=this.getChildrenSize(),o=this.getWritable();e+t<=i||Ro(226,String(e),String(t),String(i));const s=o.__key,a=[],l=[],c=this.getChildAtIndex(e+t);let u=null,d=i-t+r;if(0!==e)if(e===i)u=this.getLastChild();else{const t=this.getChildAtIndex(e);null!==t&&(u=t.getPreviousSibling())}if(t>0){let e=null===u?this.getFirstChild():u.getNextSibling();for(let n=0;n<t;n++){null===e&&Ro(100);const t=e.getNextSibling(),n=e.__key;al(e.getWritable()),l.push(n),e=t}}let f=u;for(let e=0;e<r;e++){const t=n[e];null!==f&&t.is(f)&&(u=f=f.getPreviousSibling());const r=t.getWritable();r.__parent===s&&d--,al(r);const i=t.__key;if(null===f)o.__first=i,r.__prev=null;else{const e=f.getWritable();e.__next=i,r.__prev=e.__key}t.__key===s&&Ro(76),r.__parent=s,a.push(i),f=t}if(e+t===i)null!==f&&(f.getWritable().__next=null,o.__last=f.__key);else if(null!==c){const e=c.getWritable();if(null!==f){const t=f.getWritable();e.__prev=f.__key,t.__next=c.__key}else e.__prev=null}if(o.__size=d,l.length){const e=fa();if(Qs(e)){const t=new Set(l),n=new Set(a),{anchor:r,focus:i}=e;za(r,t,n)&&ga(r,r.getNode(),this,u,c),za(i,t,n)&&ga(i,i.getNode(),this,u,c),0!==d||this.canBeEmpty()||Jl(this)||this.remove()}}return o}getDOMSlot(e){return new NL(e)}exportDOM(e){const{element:t}=super.exportDOM(e);if(ic(t)){const e=this.getIndent();e>0&&(t.style.paddingInlineStart=40*e+"px");const n=this.getDirection();n&&(t.dir=n)}return{element:t}}exportJSON(){const e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},t=this.getTextFormat(),n=this.getTextStyle();return 0!==t&&(e.textFormat=t),""!==n&&(e.textStyle=n),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,n){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,t){const n=this.getDOMSlot(e);let r=n.getFirstChild();for(let e=this.getFirstChild();e;e=e.getNextSibling()){const i=t.getElementByKey(e.getKey());null!==i&&(null==r?(n.insertChild(i),r=i):r!==i&&n.replaceChild(i,r),r=r.nextSibling)}}}class jL extends pL{decorate(e,t){Ro(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}class ML extends OL{static getType(){return"root"}static clone(){return new ML}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){Ro(51)}getTextContent(){const e=this.__cachedText;return!Ca()&&0!==ka()._dirtyType||null===e?super.getTextContent():e}remove(){Ro(52)}replace(e){Ro(53)}insertBefore(e){Ro(54)}insertAfter(e){Ro(55)}updateDOM(e,t){return!1}splice(e,t,n){for(const e of n)$a(e)||Ba(e)||Ro(282);return super.splice(e,t,n)}static importJSON(e){return vl().updateFromJSON(e)}collapseAtStart(){return!0}}class RL{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e,t){return ja(t&&t.editor||null,this,e)}clone(e){const t=new RL(this._nodeMap,void 0===e?this._selection:e);return t._readOnly=!0,t}toJSON(){return ja(null,this,(()=>({root:Ka(vl())})))}}const FL="history-merge",LL="collaboration",PL="skip-scroll-into-view",IL="skip-dom-selection";class $L extends OL{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class zL extends OL{static getType(){return"paragraph"}static clone(e){return new zL(e.__key)}createDOM(e){const t=document.createElement("p"),n=Ml(e.theme,"paragraph");return void 0!==n&&t.classList.add(...n),t}updateDOM(e,t,n){return!1}static importDOM(){return{p:()=>({conversion:qa,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(ic(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();e&&(t.style.textAlign=e)}return{element:t}}static importJSON(e){return Va().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,t){const n=Va();n.setTextFormat(e.format),n.setTextStyle(e.style);const r=this.getDirection();return n.setDirection(r),n.setFormat(this.getFormatType()),n.setStyle(this.getStyle()),this.insertAfter(n,t),n}collapseAtStart(){const e=this.getChildren();if(0===e.length||Ks(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}class BL{constructor(e,t,n,r,i,o,s,a){this._createEditorArgs=a,this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=El(),this._onError=i,this._htmlConversions=o,this._editable=s,this._headless=null!==t&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){const t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){
const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,n){void 0===n&&Ro(35);const r=this._commands;r.has(e)||r.set(e,[new Set,new Set,new Set,new Set,new Set]);const i=r.get(e);void 0===i&&Ro(36,String(e));const o=i[n];return o.add(t),()=>{o.delete(t),i.every((e=>0===e.size))&&r.delete(e)}}registerMutationListener(e,t,n){const r=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,i=this._listeners.mutation;i.set(t,r);const o=n&&n.skipInitialization;return void 0!==o&&o||this.initializeMutationListener(t,r),()=>{i.delete(t)}}getRegisteredNode(e){const t=this._nodes.get(e.getType());return void 0===t&&Ro(37,e.name),t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,t){const n=this._editorState,r=dc(n).get(t.getType());if(!r)return;const i=new Map;for(const e of r.keys())i.set(e,"created");i.size>0&&e(i,{dirtyLeaves:new Set,prevEditorState:n,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){const n=this.getRegisteredNode(e);return n.transforms.add(t),n}registerNodeTransform(e,t){const n=this.registerNodeTransformToKlass(e,t),r=[n],i=n.replaceWithKlass;if(null!=i){const e=this.registerNodeTransformToKlass(i,t);r.push(e)}return function(e,t){const n=dc(e.getEditorState()),r=[];for(const e of t){const t=n.get(e);t&&r.push(t)}0!==r.length&&e.update((()=>{for(const e of r)for(const t of e.keys()){const e=dl(t);e&&e.markDirty()}}),null===e._pendingEditorState?{tag:FL}:void 0)}(this,r.map((e=>e.klass.getType()))),()=>{r.forEach((e=>e.transforms.delete(t)))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return Il(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const n=Ml(this._config.theme,"root"),r=this._pendingEditorState||this._editorState;if(this._rootElement=e,Ya(this,t,e,r),null!==t&&(this._config.disableEvents||function(e){const t=e.ownerDocument,n=iL.get(t);if(void 0===n)return;const r=n-1;r>=0||Ro(164),iL.set(t,r),0===r&&t.removeEventListener("selectionchange",Es);const i=el(e);Qa(i)?(function(e){if(null!==e._parentEditor){const t=xl(e),n=t[t.length-1]._key;hL.get(n)===e&&hL.delete(n)}else hL.delete(e._key)}(i),e.__lexicalEditor=null):i&&Ro(198);const o=xs(e);for(let e=0;e<o.length;e++)o[e]();e.__lexicalEventHandles=[]}(t),null!=n&&t.classList.remove(...n)),null!==e){const t=ql(e),r=e.style;r.userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=t,this._dirtyType=2,Wo(this),this._updateTags.add(FL),Ma(this),this._config.disableEvents||function(e,t){const n=e.ownerDocument,r=iL.get(n);(void 0===r||r<1)&&n.addEventListener("selectionchange",Es),iL.set(n,(r||0)+1),e.__lexicalEditor=t;const i=xs(e);for(let n=0;n<ZF.length;n++){const[r,o]=ZF[n],s="function"==typeof o?e=>{ks(e)||(Ss(e),(t.isEditable()||"click"===r)&&o(e,t))}:e=>{if(ks(e))return;Ss(e);const n=t.isEditable();switch(r){case"cut":return n&&Il(t,HF,e);case"copy":return Il(t,UF,e);case"paste":return n&&Il(t,pF,e);case"dragstart":return n&&Il(t,$F,e);case"dragover":return n&&Il(t,zF,e);case"dragend":return n&&Il(t,BF,e);case"focus":return n&&Il(t,JF,e);case"blur":return n&&Il(t,GF,e);case"drop":return n&&Il(t,PF,e)}};e.addEventListener(r,s),i.push((()=>{e.removeEventListener(r,s)}))}}(e,this),null!=n&&e.classList.add(...n)}else this._window=null,this._updateTags.add(FL),Ma(this);Ra("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&Ro(38);let n=e;n._readOnly&&(n=Ha(e),n._selection=e._selection?e._selection.clone():null),Ho(this);const r=this._pendingEditorState,i=this._updateTags,o=void 0!==t?t.tag:null;null===r||r.isEmpty()||(null!=o&&i.add(o),Ma(this)),this._pendingEditorState=n,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=o&&i.add(o),this._updating||Ma(this)}parseEditorState(e,t){return function(e,t,n){const r=Wa(),i=EL,o=kL,s=SL,a=t._dirtyElements,l=t._dirtyLeaves,c=t._cloneNotNeeded,u=t._dirtyType;t._dirtyElements=new Map,t._dirtyLeaves=new Set,t._cloneNotNeeded=new Set,t._dirtyType=0,EL=r,kL=!1,SL=t;try{const i=t._nodes;Oa(e.root,i),n&&n(),r._readOnly=!0}catch(e){e instanceof Error&&t._onError(e)}finally{t._dirtyElements=a,t._dirtyLeaves=l,t._cloneNotNeeded=c,t._dirtyType=u,EL=i,kL=o,SL=s}return r}("string"==typeof e?JSON.parse(e):e,this,t)}read(e){return Ma(this),this.getEditorState().read(e,{editor:this})}update(e,t){!function(e,t,n){e._updating?e._updates.push([t,n]):La(e,t,n)}(this,e,t)}focus(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),Pa(this,(()=>{const r=fa(),i=vl();null!==r?r.dirty||bl(r.clone()):0!==i.getChildrenSize()&&("rootStart"===t.defaultSelection?i.selectStart():i.selectEnd()),Hl("focus"),Wl((()=>{n.removeAttribute("autocapitalize"),e&&e()}))})),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;null!==e&&e.blur();const t=nc(this._window);null!==t&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Ra("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}BL.version="0.31.2+prod.esm";let UL=1;const HL="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)},WL={ctrlKey:!sR,metaKey:sR},KL={altKey:sR,ctrlKey:!sR},qL=new WeakMap,VL=new Map,YL={next:"previous",previous:"next"};class JL{constructor(e){this.origin=e}[Symbol.iterator](){return Nc({hasNext:yc,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return _c(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return _c(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,t){const n=this.getNodeAtCaret();return e.is(this.origin)||e.is(n)||(null===n?this.insert(e):n.replace(e,t)),this}splice(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"next")===this.direction?t:Array.from(t).reverse();let r=this;const i=this.getParentAtCaret(),o=new Map;for(let t=r.getAdjacentCaret();null!==t&&o.size<e;t=t.getAdjacentCaret()){const e=t.origin.getWritable();o.set(e.getKey(),e)}for(const e of n){if(o.size>0){const t=r.getNodeAtCaret();if(t)if(o.delete(t.getKey()),o.delete(e.getKey()),t.is(e)||r.origin.is(e));else{const n=e.getParent();n&&n.is(i)&&e.remove(),t.replace(e)}else null===t&&Ro(263,Array.from(o).join(" "))}else r.insert(e);r=_c(e,this.direction)}for(const e of o.values())e.remove();return this}}class GL extends JL{type="child";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:Ec(e,this.direction)}getParentCaret(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";return _c(gc(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=mc(this.direction);return _c(this.getNodeAtCaret(),e)||Ec(this.origin,e)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(e){return e instanceof GL&&this.direction===e.direction&&this.origin.is(e.origin)}isSamePointCaret(e){return this.isSameNodeCaret(e)}}const XL={root:Ua,shadowRoot:Jl};class QL extends JL{type="sibling";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:_c(e,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return $a(this.origin)?Ec(this.origin,this.direction):null}getParentCaret(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";return _c(gc(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=mc(this.direction);return _c(this.getNodeAtCaret(),e)||Ec(this.origin.getParentOrThrow(),e)}isSamePointCaret(e){return e instanceof QL&&this.direction===e.direction&&this.origin.is(e.origin)}isSameNodeCaret(e){return(e instanceof QL||e instanceof ZL)&&this.direction===e.direction&&this.origin.is(e.origin)}}class ZL extends JL{type="text";constructor(e,t){super(e),this.offset=t}getLatest(){const e=this.origin.getLatest();return e===this.origin?this:wc(e,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";return _c(gc(this.getParentAtCaret(),e),this.direction)}getFlipped(){return wc(this.origin,mc(this.direction),this.offset)}isSamePointCaret(e){return e instanceof ZL&&this.direction===e.direction&&this.origin.is(e.origin)&&this.offset===e.offset}isSameNodeCaret(e){return(e instanceof QL||e instanceof ZL)&&this.direction===e.direction&&this.origin.is(e.origin)}getSiblingCaret(){return _c(this.origin,this.direction)}}const eP={next:class extends ZL{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends ZL{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},tP={next:class extends QL{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends QL{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},nP={next:class extends GL{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends GL{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};class rP{type="node-caret-range";constructor(e,t,n){this.anchor=e,this.focus=t,this.direction=n}getLatest(){const e=this.anchor.getLatest(),t=this.focus.getLatest();return e===this.anchor&&t===this.focus?this:new rP(e,t,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=e=>{const t=this[e].getLatest();return vc(t)?function(e,t){const{direction:n,origin:r}=e;return xc(e,Cc(r,"focus"===t?mc(n):n)-e.offset)}(t,e):null},t=e("anchor"),n=e("focus");if(t&&n){const{caret:e}=t,{caret:r}=n;if(e.isSameNodeCaret(r))return[xc(e,r.offset-e.offset),null]}return[t,n]}iterNodeCarets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";const t=vc(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),n=this.focus.getLatest(),r=vc(n),i=t=>t.isSameNodeCaret(n)?null:kc(t)||t.getParentCaret(e);return Nc({hasNext:e=>null!==e&&!(r&&n.isSameNodeCaret(e)),initial:t.isSameNodeCaret(n)?null:i(t),map:e=>e,step:i})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class iP{type="slice";constructor(e,t){this.caret=e,this.distance=t}getSliceIndices(){const{distance:e,caret:{offset:t}}=this,n=t+e;return n<t?[n,t]:[t,n]}getTextContent(){const[e,t]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,t)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:t}}=this,[n,r]=this.getSliceIndices(),i=e.getTextContent();return wc(e.setTextContent(i.slice(0,n)+i.slice(r)),t,n)}}var oP=Object.freeze({__proto__:null,$addUpdateTag:Hl,$applyNodeReplacement:Xl,$caretFromPoint:Lc,$caretRangeFromSelection:zc,$cloneWithProperties:fc,$comparePointCaretNext:Oc,$copyNode:Gl,$createLineBreakNode:As,$createNodeSelection:ua,$createParagraphNode:Va,$createPoint:Js,$createRangeSelection:ca,$createRangeSelectionFromDom:function(e,t){return da(null,e,t,null)},$createTabNode:Vs,$createTextNode:Ws,$extendCaretToRange:Dc,$getAdjacentChildCaret:kc,$getAdjacentNode:Ll,$getAdjacentSiblingOrParentSiblingCaret:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root",n=0,r=e,i=kc(r);for(;null===i;){if(n--,i=r.getParentCaret(t),!i)return null;r=i,i=kc(r)}return i&&[i,n]},$getCaretInDirection:Vc,$getCaretRange:Ac,$getCaretRangeInDirection:Yc,$getCharacterOffsets:ta,$getChildCaret:Ec,$getChildCaretAtIndex:Jc,$getChildCaretOrSelf:Sc,$getCollapsedCaretRange:Tc,$getCommonAncestor:Fc,$getCommonAncestorResultBranchOrder:jc,$getEditor:function(){return ka()},$getNearestNodeFromDOMNode:pl,$getNearestRootOrShadowRoot:Yl,$getNodeByKey:dl,$getNodeByKeyOrThrow:Zl,$getPreviousSelection:ha,$getRoot:vl,$getSelection:fa,$getSiblingCaret:_c,$getState:qo,$getStateChange:function(e,t,n){const r=qo(e,n,"direct"),i=qo(t,n,"direct");return n.isEqual(r,i)?null:[r,i]},$getTextContent:function(){const e=fa();return null===e?"":e.getTextContent()},$getTextNodeOffset:Cc,$getTextPointCaret:wc,$getTextPointCaretSlice:xc,$getWritableNodeState:Yo,$hasAncestor:Kl,$hasUpdateTag:function(e){return ka()._updateTags.has(e)},$insertNodes:function(e){let t=fa()||ha();null===t&&(t=vl().selectEnd()),t.insertNodes(e)},$isBlockElementNode:function(e){return $a(e)&&!e.isInline()},$isChildCaret:bc,$isDecoratorNode:Ba,$isElementNode:$a,$isExtendableTextPointCaret:qc,$isInlineElementOrDecoratorNode:function(e){return $a(e)&&e.isInline()||Ba(e)&&e.isInline()},$isLeafNode:function(e){return Ks(e)||Ns(e)||Ba(e)},$isLineBreakNode:Ns,$isNodeCaret:function(e){return e instanceof JL},$isNodeSelection:Zs,$isParagraphNode:function(e){return e instanceof zL},$isRangeSelection:Qs,$isRootNode:Ua,$isRootOrShadowRoot:Jl,$isSiblingCaret:yc,$isTabNode:Ys,$isTextNode:Ks,$isTextPointCaret:vc,$isTextPointCaretSlice:function(e){return e instanceof iP},$isTokenOrSegmented:tl,$nodesOfType:function(e){const t=e.getType(),n=Sa();if(n._readOnly){const e=dc(n).get(t);return e?Array.from(e.values()):[]}const r=n._nodeMap,i=[];for(const[,n]of r)n instanceof e&&n.__type===t&&n.isAttached()&&i.push(n);return i},$normalizeCaret:Kc,$normalizeSelection__EXPERIMENTAL:Qo,$onUpdate:Wl,$parseSerializedNode:function(e){return Oa(e,ka()._nodes)},$removeTextFromCaretRange:Wc,$rewindSiblingCaret:Bc,$selectAll:function(e){const t=vl();if(Qs(e)){const t=e.anchor,n=e.focus,r=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();return t.set(r.getKey(),0,"element"),n.set(r.getKey(),r.getChildrenSize(),"element"),Qo(e),e}{const e=t.select(0,t.getChildrenSize());return bl(Qo(e)),e}},$setCompositionKey:cl,$setPointFromCaret:Pc,$setSelection:bl,$setSelectionFromCaretRange:Ic,$setState:function(e,t,n){let r;if(xa(),"function"==typeof n){const i=e.getLatest(),o=qo(i,t);if(r=n(o),t.isEqual(o,r))return i}else r=n;const i=e.getWritable();return Yo(i).updateFromKnown(t,r),i},$splitAtPointCaretNext:function(e){let{$copyElementNode:t=Gl,$splitTextPointCaretNext:n=Gc,rootMode:r="shadowRoot",$shouldSplit:i=Xc}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(vc(e))return n(e);const o=e.getParentCaret(r);if(o){const{origin:n}=o;if(bc(e)&&(!n.canBeEmpty()||!i(n,"first")))return Bc(o);const r=function(e){const t=[];for(let n=e.getAdjacentCaret();n;n=n.getAdjacentCaret())t.push(n.origin);return t}(e);(r.length>0||n.canBeEmpty()&&i(n,"last"))&&o.insert(t(n).splice(0,0,r))}return o},$splitNode:function(e,t){let n=e.getChildAtIndex(t);null==n&&(n=e),Jl(e)&&Ro(102);const r=e=>{const t=e.getParentOrThrow(),i=Jl(t),o=e!==n||i?Gl(e):e;if(i)return $a(e)&&$a(o)||Ro(133),e.insertAfter(o),[e,o,o];{const[n,i,s]=r(t),a=e.getNextSiblings();return s.append(o,...a),[n,i,o]}},[i,o]=r(n);return[i,o]},$updateRangeSelectionFromCaretRange:$c,ArtificialNode__DO_NOT_USE:$L,BLUR_COMMAND:GF,CAN_REDO_COMMAND:VF,CAN_UNDO_COMMAND:YF,CLEAR_EDITOR_COMMAND:KF,CLEAR_HISTORY_COMMAND:qF,CLICK_COMMAND:cF,COLLABORATION_TAG:LL,COMMAND_PRIORITY_CRITICAL:4,COMMAND_PRIORITY_EDITOR:0,COMMAND_PRIORITY_HIGH:3,COMMAND_PRIORITY_LOW:1,COMMAND_PRIORITY_NORMAL:2,CONTROLLED_TEXT_INSERTION_COMMAND:hF,COPY_COMMAND:UF,CUT_COMMAND:HF,DELETE_CHARACTER_COMMAND:uF,DELETE_LINE_COMMAND:vF,DELETE_WORD_COMMAND:gF,DRAGEND_COMMAND:BF,DRAGOVER_COMMAND:zF,DRAGSTART_COMMAND:$F,DROP_COMMAND:PF,DecoratorNode:jL,ElementNode:OL,FOCUS_COMMAND:JF,FORMAT_ELEMENT_COMMAND:IF,FORMAT_TEXT_COMMAND:yF,HISTORIC_TAG:"historic",HISTORY_MERGE_TAG:FL,HISTORY_PUSH_TAG:"history-push",INDENT_CONTENT_COMMAND:FF,INSERT_LINE_BREAK_COMMAND:dF,INSERT_PARAGRAPH_COMMAND:fF,INSERT_TAB_COMMAND:RF,INTERNAL_$isBlock:cc,IS_ALL_FORMATTING:2047,IS_BOLD:1,IS_CODE:16,IS_HIGHLIGHT:128,IS_ITALIC:2,IS_STRIKETHROUGH:4,IS_SUBSCRIPT:32,IS_SUPERSCRIPT:64,IS_UNDERLINE:8,KEY_ARROW_DOWN_COMMAND:DF,KEY_ARROW_LEFT_COMMAND:EF,KEY_ARROW_RIGHT_COMMAND:CF,KEY_ARROW_UP_COMMAND:kF,KEY_BACKSPACE_COMMAND:NF,KEY_DELETE_COMMAND:jF,KEY_DOWN_COMMAND:wF,KEY_ENTER_COMMAND:TF,KEY_ESCAPE_COMMAND:OF,KEY_MODIFIER_COMMAND:XF,KEY_SPACE_COMMAND:AF,KEY_TAB_COMMAND:MF,LineBreakNode:mL,MOVE_TO_END:xF,MOVE_TO_START:SF,NODE_STATE_KEY:"$",OUTDENT_CONTENT_COMMAND:LF,PASTE_COMMAND:pF,PASTE_TAG:"paste",ParagraphNode:zL,REDO_COMMAND:_F,REMOVE_TEXT_COMMAND:mF,RootNode:ML,SELECTION_CHANGE_COMMAND:aF,SELECTION_INSERT_CLIPBOARD_NODES_COMMAND:lF,SELECT_ALL_COMMAND:WF,SKIP_COLLAB_TAG:"skip-collab",SKIP_DOM_SELECTION_TAG:IL,SKIP_SCROLL_INTO_VIEW_TAG:PL,TEXT_TYPE_TO_FORMAT:OR,TabNode:bL,TextNode:gL,UNDO_COMMAND:bF,createCommand:ms,createEditor:function(e){const t=e||{},n=SL,r=t.theme||{},i=void 0===e?n:t.parentEditor||null,o=t.disableEvents||!1,s=Wa(),a=t.namespace||(null!==i?i._config.namespace:El()),l=t.editorState,c=[ML,gL,mL,bL,zL,$L,...t.nodes||[]],{onError:u,html:d}=t,f=void 0===t.editable||t.editable;let h;if(void 0===e&&null!==n)h=n._nodes;else{h=new Map;for(let e=0;e<c.length;e++){let t=c[e],n=null,r=null;if("function"!=typeof t){const e=t;t=e.replace,n=e.with,r=e.withKlass||null}const i=t.getType(),o=t.transform(),s=new Set;null!==o&&s.add(o),h.set(i,{exportDOM:d&&d.export?d.export.get(t):void 0,klass:t,replace:n,replaceWithKlass:r,transforms:s})}}const p=new BL(s,i,h,{disableEvents:o,namespace:a,theme:r},u||console.error,function(e,t){const n=new Map,r=new Set,i=e=>{Object.keys(e).forEach((t=>{let r=n.get(t);void 0===r&&(r=[],n.set(t,r)),r.push(e[t])}))};return e.forEach((e=>{const t=e.klass.importDOM;if(null==t||r.has(t))return;r.add(t);const n=t.call(e.klass);null!==n&&i(n)})),t&&i(t),n}(h,d?d.import:void 0),f,e);return void 0!==l&&(p._pendingEditorState=l,p._dirtyType=2),p},createState:function(e,t){return new GR(e,t)},flipDirection:mc,getDOMOwnerDocument:Ul,getDOMSelection:nc,getDOMSelectionFromTarget:rc,getDOMTextNode:il,getEditorPropertyFromDOMNode:el,getNearestEditorFromDOMNode:Za,isBlockDomNode:lc,isCurrentlyReadOnlyMode:Ca,isDOMDocumentNode:rl,isDOMNode:oc,isDOMTextNode:nl,isDOMUnmanaged:pc,isDocumentFragment:sc,isExactShortcutMatch:Nl,isHTMLAnchorElement:function(e){return ic(e)&&"A"===e.tagName},isHTMLElement:ic,isInlineDomNode:ac,isLexicalEditor:Qa,isModifierMatch:Al,isSelectionCapturedInDecoratorInput:Ga,isSelectionWithinEditor:Xa,makeStepwiseIterator:Nc,removeFromParent:al,resetRandomKey:function(){UL=1},setDOMUnmanaged:function(e){e.__lexicalUnmanaged=!0},setNodeIndentFromDOM:hc});const sP=oP,aP=sP.$addUpdateTag,lP=sP.$applyNodeReplacement,cP=sP.$caretFromPoint,uP=sP.$caretRangeFromSelection,dP=sP.$cloneWithProperties,fP=sP.$createLineBreakNode,hP=sP.$createNodeSelection,pP=sP.$createParagraphNode,mP=sP.$createPoint,gP=sP.$createRangeSelection,vP=sP.$createRangeSelectionFromDom,yP=sP.$createTabNode,bP=sP.$createTextNode,_P=sP.$extendCaretToRange,wP=sP.$getAdjacentChildCaret,CP=sP.$getAdjacentNode,xP=sP.$getCaretInDirection,EP=sP.$getCharacterOffsets,SP=sP.$getChildCaret,kP=sP.$getChildCaretOrSelf,DP=sP.$getCollapsedCaretRange,TP=sP.$getEditor,AP=sP.$getNearestNodeFromDOMNode,NP=sP.$getNodeByKey,OP=sP.$getNodeByKeyOrThrow,jP=sP.$getPreviousSelection,MP=sP.$getRoot,RP=sP.$getSelection,FP=sP.$getSiblingCaret,LP=sP.$getState,PP=sP.$getWritableNodeState,IP=sP.$hasAncestor,$P=sP.$insertNodes,zP=sP.$isBlockElementNode,BP=sP.$isChildCaret,UP=sP.$isDecoratorNode,HP=sP.$isElementNode,WP=sP.$isExtendableTextPointCaret,KP=sP.$isInlineElementOrDecoratorNode,qP=sP.$isLeafNode,VP=sP.$isLineBreakNode,YP=sP.$isNodeSelection,JP=sP.$isParagraphNode,GP=sP.$isRangeSelection,XP=sP.$isRootNode,QP=sP.$isRootOrShadowRoot,ZP=sP.$isSiblingCaret,eI=sP.$isTabNode,tI=sP.$isTextNode,nI=sP.$isTextPointCaret,rI=sP.$isTokenOrSegmented,iI=sP.$normalizeCaret,oI=sP.$normalizeSelection__EXPERIMENTAL,sI=sP.$parseSerializedNode,aI=sP.$rewindSiblingCaret,lI=sP.$selectAll,cI=sP.$setPointFromCaret,uI=sP.$setSelection,dI=sP.$setSelectionFromCaretRange,fI=sP.$setState,hI=sP.$splitAtPointCaretNext,pI=sP.$splitNode,mI=sP.ArtificialNode__DO_NOT_USE,gI=sP.BLUR_COMMAND,vI=sP.CAN_REDO_COMMAND,yI=sP.CAN_UNDO_COMMAND,bI=sP.CLEAR_EDITOR_COMMAND,_I=sP.CLEAR_HISTORY_COMMAND,wI=sP.CLICK_COMMAND,CI=sP.COLLABORATION_TAG,xI=sP.COMMAND_PRIORITY_CRITICAL,EI=sP.COMMAND_PRIORITY_EDITOR,SI=sP.COMMAND_PRIORITY_HIGH,kI=sP.COMMAND_PRIORITY_LOW,DI=sP.CONTROLLED_TEXT_INSERTION_COMMAND,TI=sP.COPY_COMMAND,AI=sP.CUT_COMMAND,NI=sP.DELETE_CHARACTER_COMMAND,OI=sP.DELETE_LINE_COMMAND,jI=sP.DELETE_WORD_COMMAND,MI=sP.DRAGOVER_COMMAND,RI=sP.DRAGSTART_COMMAND,FI=sP.DROP_COMMAND,LI=sP.DecoratorNode,PI=sP.ElementNode,II=sP.FOCUS_COMMAND,$I=sP.FORMAT_ELEMENT_COMMAND,zI=sP.FORMAT_TEXT_COMMAND,BI=sP.HISTORIC_TAG,UI=sP.HISTORY_MERGE_TAG,HI=sP.HISTORY_PUSH_TAG,WI=sP.INDENT_CONTENT_COMMAND,KI=sP.INSERT_LINE_BREAK_COMMAND,qI=sP.INSERT_PARAGRAPH_COMMAND,VI=sP.INSERT_TAB_COMMAND,YI=sP.INTERNAL_$isBlock,JI=sP.KEY_ARROW_DOWN_COMMAND,GI=sP.KEY_ARROW_LEFT_COMMAND,XI=sP.KEY_ARROW_RIGHT_COMMAND,QI=sP.KEY_ARROW_UP_COMMAND,ZI=sP.KEY_BACKSPACE_COMMAND,e$=sP.KEY_DELETE_COMMAND,t$=sP.KEY_DOWN_COMMAND,n$=sP.KEY_ENTER_COMMAND,r$=sP.KEY_ESCAPE_COMMAND,i$=sP.KEY_SPACE_COMMAND,o$=sP.KEY_TAB_COMMAND,s$=sP.MOVE_TO_END,a$=sP.MOVE_TO_START,l$=sP.OUTDENT_CONTENT_COMMAND,c$=sP.PASTE_COMMAND,u$=sP.PASTE_TAG,d$=sP.ParagraphNode,f$=sP.REDO_COMMAND,h$=sP.REMOVE_TEXT_COMMAND,p$=sP.SELECTION_CHANGE_COMMAND,m$=sP.SELECTION_INSERT_CLIPBOARD_NODES_COMMAND,g$=sP.SELECT_ALL_COMMAND,v$=sP.SKIP_SCROLL_INTO_VIEW_TAG,y$=sP.TEXT_TYPE_TO_FORMAT,b$=sP.TextNode,_$=sP.UNDO_COMMAND,w$=sP.createCommand,C$=sP.createEditor,x$=sP.getDOMSelection,E$=sP.getDOMTextNode,S$=sP.getNearestEditorFromDOMNode,k$=sP.isBlockDomNode,D$=sP.isCurrentlyReadOnlyMode,T$=sP.isDOMNode,A$=sP.isDocumentFragment,N$=sP.isHTMLAnchorElement,O$=sP.isHTMLElement,j$=sP.isInlineDomNode,M$=sP.isSelectionCapturedInDecoratorInput,R$=sP.isSelectionWithinEditor,F$=sP.makeStepwiseIterator,L$=sP.removeFromParent,P$=sP.setDOMUnmanaged,I$=sP.setNodeIndentFromDOM,$$=new Map,z$=iu;Object.freeze({__proto__:null,$addNodeStyle:function(e){const t=e.getStyle(),n=tu(t);$$.set(t,n)},$cloneWithProperties:dP,$copyBlockFormatIndent:lu,$ensureForwardRangeSelection:au,$forEachSelectedTextNode:su,$getSelectionStyleValueForProperty:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=null;const i=e.getNodes(),o=e.anchor,s=e.focus,a=e.isBackward(),l=a?s.offset:o.offset,c=a?s.getNode():o.getNode();if(GP(e)&&e.isCollapsed()&&""!==e.style){const n=nu(e.style);if(null!==n&&t in n)return n[t]}for(let e=0;e<i.length;e++){const o=i[e];if((0===e||0!==l||!o.is(c))&&tI(o)){const e=mu(o,t,n);if(null===r)r=e;else if(r!==e){r="";break}}}return null===r?n:r},$isAtNodeEnd:function(e){if("text"===e.type)return e.offset===e.getNode().getTextContentSize();const t=e.getNode();return HP(t)||Qc("isAtNodeEnd: node must be a TextNode or ElementNode"),e.offset===t.getChildrenSize()},$isParentElementRTL:pu,$moveCaretSelection:hu,$moveCharacter:function(e,t,n){const r=pu(e);let i;i=fu(e)||r?!n:n,hu(e,t,i,"character")},$patchStyleText:function(e,t){if(GP(e)&&e.isCollapsed()){ou(e,t);const n=e.anchor.getNode();HP(n)&&n.isEmpty()&&ou(n,t)}su((e=>{ou(e,t)}))},$selectAll:lI,$setBlocksType:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lu;if(null===e)return;const r=e.getStartEndPoints(),i=new Map;let o=null;if(r){const[e,t]=r;o=gP(),o.anchor.set(e.key,e.offset,e.type),o.focus.set(t.key,t.offset,t.type);const n=gu(e.getNode(),YI),s=gu(t.getNode(),YI);HP(n)&&i.set(n.getKey(),n),HP(s)&&i.set(s.getKey(),s)}for(const t of e.getNodes())HP(t)&&YI(t)&&i.set(t.getKey(),t);for(const[e,r]of i){const i=t();n(r,i),r.replace(i,!0),o&&(e===o.anchor.key&&o.anchor.set(i.getKey(),o.anchor.offset,o.anchor.type),e===o.focus.key&&o.focus.set(i.getKey(),o.focus.offset,o.focus.type))}o&&e.is(RP())&&uI(o)},$shouldOverrideDefaultCharacterSelection:function(e,t){const n=fu(e)?!t:t,r=cP(e.focus,n?"previous":"next");if(WP(r))return!1;for(const e of _P(r)){if(BP(e))return!e.origin.isInline();if(!HP(e.origin)){if(UP(e.origin))return!0;break}}return!1},$sliceSelectedTextNodeContent:function(e,t){const n=e.getStartEndPoints();if(t.isSelected(e)&&!t.isSegmented()&&!t.isToken()&&null!==n){const[r,i]=n,o=e.isBackward(),s=r.getNode(),a=i.getNode(),l=t.is(s),c=t.is(a);if(l||c){const[n,r]=EP(e),i=s.is(a),l=t.is(o?a:s),c=t.is(o?s:a);let u,d=0;return i?(d=n>r?r:n,u=n>r?n:r):l?(d=o?r:n,u=void 0):c&&(d=0,u=o?n:r),t.__text=t.__text.slice(d,u),t}}return t},$trimTextContentFromAnchor:iu,$wrapNodes:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=e.getStartEndPoints(),i=r?r[0]:null,o=e.getNodes(),s=o.length;if(null!==i&&(0===s||1===s&&"element"===i.type&&0===i.getNode().getChildrenSize())){const e="text"===i.type?i.getNode().getParentOrThrow():i.getNode(),r=e.getChildren();let o=t();return o.setFormat(e.getFormatType()),o.setIndent(e.getIndent()),r.forEach((e=>o.append(e))),n&&(o=n.append(o)),void e.replace(o)}let a=null,l=[];for(let r=0;r<s;r++){const i=o[r];QP(i)?(du(e,l,l.length,t,n),l=[],a=i):null===a||null!==a&&IP(i,a)?l.push(i):(du(e,l,l.length,t,n),l=[i])}du(e,l,l.length,t,n)},createDOMRange:function(e,t,n,r,i){const o=t.getKey(),s=r.getKey(),a=document.createRange();let l=e.getElementByKey(o),c=e.getElementByKey(s),u=n,d=i;if(tI(t)&&(l=Zc(l)),tI(r)&&(c=Zc(c)),void 0===t||void 0===r||null===l||null===c)return null;"BR"===l.nodeName&&([l,u]=eu(l)),"BR"===c.nodeName&&([c,d]=eu(c));const f=l.firstChild;l===c&&null!=f&&"BR"===f.nodeName&&0===u&&0===d&&(d=1);try{a.setStart(l,u),a.setEnd(c,d)}catch(e){return null}return!a.collapsed||u===d&&o===s||(a.setStart(c,d),a.setEnd(l,u)),a},createRectsFromDOMRange:function(e,t){const n=e.getRootElement();if(null===n)return[];const r=n.getBoundingClientRect(),i=getComputedStyle(n),o=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),s=Array.from(t.getClientRects());let a,l=s.length;s.sort(((e,t)=>{const n=e.top-t.top;return Math.abs(n)<=3?e.left-t.left:n}));for(let e=0;e<l;e++){const t=s[e],n=a&&a.top<=t.top&&a.top+a.height>t.top&&a.left+a.width>t.left,i=t.width+o===r.width;n||i?(s.splice(e--,1),l--):a=t}return s},getCSSFromStyleObject:ru,getStyleObjectFromCSS:nu,trimTextContentFromAnchor:z$});const B$=new Map,U$=xu;var H$=Object.freeze({__proto__:null,$addNodeStyle:function(e){const t=e.getStyle(),n=_u(t);B$.set(t,n)},$cloneWithProperties:dP,$copyBlockFormatIndent:Du,$ensureForwardRangeSelection:ku,$forEachSelectedTextNode:Su,$getSelectionStyleValueForProperty:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=null;const i=e.getNodes(),o=e.anchor,s=e.focus,a=e.isBackward(),l=a?s.offset:o.offset,c=a?s.getNode():o.getNode();if(GP(e)&&e.isCollapsed()&&""!==e.style){const n=wu(e.style);if(null!==n&&t in n)return n[t]}for(let e=0;e<i.length;e++){const o=i[e];if((0===e||0!==l||!o.is(c))&&tI(o)){const e=Ru(o,t,n);if(null===r)r=e;else if(r!==e){r="";break}}}return null===r?n:r},$isAtNodeEnd:function(e){if("text"===e.type)return e.offset===e.getNode().getTextContentSize();const t=e.getNode();return HP(t)||vu(177),e.offset===t.getChildrenSize()},$isParentElementRTL:Mu,$moveCaretSelection:ju,$moveCharacter:function(e,t,n){const r=Mu(e);let i;i=Ou(e)||r?!n:n,ju(e,t,i,"character")},$patchStyleText:function(e,t){if(GP(e)&&e.isCollapsed()){Eu(e,t);const n=e.anchor.getNode();HP(n)&&n.isEmpty()&&Eu(n,t)}Su((e=>{Eu(e,t)}))},$selectAll:lI,$setBlocksType:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Du;if(null===e)return;const r=e.getStartEndPoints(),i=new Map;let o=null;if(r){const[e,t]=r;o=gP(),o.anchor.set(e.key,e.offset,e.type),o.focus.set(t.key,t.offset,t.type);const n=Fu(e.getNode(),YI),s=Fu(t.getNode(),YI);HP(n)&&i.set(n.getKey(),n),HP(s)&&i.set(s.getKey(),s)}for(const t of e.getNodes())HP(t)&&YI(t)&&i.set(t.getKey(),t);for(const[e,r]of i){const i=t();n(r,i),r.replace(i,!0),o&&(e===o.anchor.key&&o.anchor.set(i.getKey(),o.anchor.offset,o.anchor.type),e===o.focus.key&&o.focus.set(i.getKey(),o.focus.offset,o.focus.type))}o&&e.is(RP())&&uI(o)},$shouldOverrideDefaultCharacterSelection:function(e,t){const n=Ou(e)?!t:t,r=cP(e.focus,n?"previous":"next");if(WP(r))return!1;for(const e of _P(r)){if(BP(e))return!e.origin.isInline();if(!HP(e.origin)){if(UP(e.origin))return!0;break}}return!1},$sliceSelectedTextNodeContent:function(e,t){const n=e.getStartEndPoints();if(t.isSelected(e)&&!t.isSegmented()&&!t.isToken()&&null!==n){const[r,i]=n,o=e.isBackward(),s=r.getNode(),a=i.getNode(),l=t.is(s),c=t.is(a);if(l||c){const[n,r]=EP(e),i=s.is(a),l=t.is(o?a:s),c=t.is(o?s:a);let u,d=0;return i?(d=n>r?r:n,u=n>r?n:r):l?(d=o?r:n,u=void 0):c&&(d=0,u=o?n:r),t.__text=t.__text.slice(d,u),t}}return t},$trimTextContentFromAnchor:xu,$wrapNodes:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=e.getStartEndPoints(),i=r?r[0]:null,o=e.getNodes(),s=o.length;if(null!==i&&(0===s||1===s&&"element"===i.type&&0===i.getNode().getChildrenSize())){const e="text"===i.type?i.getNode().getParentOrThrow():i.getNode(),r=e.getChildren();let o=t();return o.setFormat(e.getFormatType()),o.setIndent(e.getIndent()),r.forEach((e=>o.append(e))),n&&(o=n.append(o)),void e.replace(o)}let a=null,l=[];for(let r=0;r<s;r++){const i=o[r];QP(i)?(Nu(e,l,l.length,t,n),l=[],a=i):null===a||null!==a&&IP(i,a)?l.push(i):(Nu(e,l,l.length,t,n),l=[i])}Nu(e,l,l.length,t,n)},createDOMRange:function(e,t,n,r,i){const o=t.getKey(),s=r.getKey(),a=document.createRange();let l=e.getElementByKey(o),c=e.getElementByKey(s),u=n,d=i;if(tI(t)&&(l=yu(l)),tI(r)&&(c=yu(c)),void 0===t||void 0===r||null===l||null===c)return null;"BR"===l.nodeName&&([l,u]=bu(l)),"BR"===c.nodeName&&([c,d]=bu(c));const f=l.firstChild;l===c&&null!=f&&"BR"===f.nodeName&&0===u&&0===d&&(d=1);try{a.setStart(l,u),a.setEnd(c,d)}catch(e){return null}return!a.collapsed||u===d&&o===s||(a.setStart(c,d),a.setEnd(l,u)),a},createRectsFromDOMRange:function(e,t){const n=e.getRootElement();if(null===n)return[];const r=n.getBoundingClientRect(),i=getComputedStyle(n),o=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),s=Array.from(t.getClientRects());let a,l=s.length;s.sort(((e,t)=>{const n=e.top-t.top;return Math.abs(n)<=3?e.left-t.left:n}));for(let e=0;e<l;e++){const t=s[e],n=a&&a.top<=t.top&&a.top+a.height>t.top&&a.left+a.width>t.left,i=t.width+o===r.width;n||i?(s.splice(e--,1),l--):a=t}return s},getCSSFromStyleObject:Cu,getStyleObjectFromCSS:wu,trimTextContentFromAnchor:U$});const W$=H$,K$=W$.$addNodeStyle,q$=W$.$isAtNodeEnd,V$=W$.$isParentElementRTL,Y$=W$.$moveCharacter,J$=W$.$patchStyleText,G$=W$.$shouldOverrideDefaultCharacterSelection,X$=W$.$sliceSelectedTextNodeContent,Q$=W$.$wrapNodes,Z$=W$.createDOMRange,ez=W$.createRectsFromDOMRange,tz=W$.getStyleObjectFromCSS,nz="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,rz=nz&&"documentMode"in document?document.documentMode:null,iz=nz&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),oz=nz&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),sz=!(!nz||!("InputEvent"in window)||rz)&&"getTargetRanges"in new window.InputEvent("input"),az=nz&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),lz=nz&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,cz=nz&&/Android/.test(navigator.userAgent),uz=nz&&/^(?=.*Chrome).*/i.test(navigator.userAgent),dz=nz&&cz&&uz,fz=nz&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!uz,hz={attributes:!0,characterData:!0,childList:!0,subtree:!0},pz=sz,mz=nz,gz=cz,vz=dz,yz=iz,bz=fz,_z=uz,wz=oz,Cz=lz,xz=az,Ez=(e,t)=>{let n=e;for(;n!==MP()&&null!=n;){if(t(n))return n;n=n.getParent()}return null};let Sz=!(wz||!mz)&&void 0;Object.freeze({__proto__:null,$descendantsMatching:function(e,t){const n=[],r=Array.from(e).reverse();for(let e=r.pop();void 0!==e;e=r.pop())if(t(e))n.push(e);else if(HP(e))for(const t of Gu(e))r.push(t);return n},$dfs:function(e,t){return Array.from(Wu(e,t))},$dfsIterator:Wu,$filter:function(e,t){const n=[];for(let r=0;r<e.length;r++){const i=t(e[r]);null!==i&&n.push(i)}return n},$findMatchingParent:Ez,$firstToLastIterator:function(e){
return Xu(SP(e,"next"))},$getAdjacentCaret:function(e){return e?e.getAdjacentCaret():null},$getAdjacentSiblingOrParentSiblingCaret:Qu,$getDepth:qu,$getNearestBlockElementAncestorOrThrow:function(e){const t=Ez(e,(e=>HP(e)&&!e.isInline()));return HP(t)||Lu(`Expected node ${e.__key} to have closest block element node.`),t},$getNearestNodeOfType:function(e,t){let n=e;for(;null!=n;){if(n instanceof t)return n;n=n.getParent()}return null},$getNextRightPreorderNode:function(e){const t=Qu(kP(FP(e,"previous")),"root");return t&&t[0].origin},$getNextSiblingOrParentSibling:function(e){const t=Qu(FP(e,"next"));return t&&[t[0].origin,t[1]]},$insertFirst:function(e,t){SP(e,"next").insert(t)},$insertNodeToNearestRoot:function(e){const t=RP()||jP();let n;if(GP(t))n=cP(t.focus,"next");else{if(null!=t){const e=t.getNodes(),r=e[e.length-1];r&&(n=FP(r,"next"))}n=n||SP(MP(),"previous").getFlipped().insert(pP())}const r=Yu(e,n),i=wP(r),o=BP(i)?iI(i):r;return dI(DP(o)),e.getLatest()},$insertNodeToNearestRootAtCaret:Yu,$isEditorIsNestedEditor:function(e){return null!==e._parentEditor},$lastToFirstIterator:Gu,$restoreEditorState:function(e,t){const n=new Map,r=e._pendingEditorState;for(const[e,r]of t._nodeMap)n.set(e,dP(r));r&&(r._nodeMap=n),e._dirtyType=2;const i=t._selection;uI(null===i?null:i.clone())},$reverseDfs:function(e,t){return Array.from(Vu(e,t))},$reverseDfsIterator:Vu,$splitNode:pI,$unwrapAndFilterDescendants:function(e,t){return Ju(e,t,null)},$unwrapNode:function(e){aI(FP(e,"next")).splice(1,e.getChildren())},$wrapNodeInElement:function(e,t){const n=t();return e.replace(n),n.append(e),n},CAN_USE_BEFORE_INPUT:pz,CAN_USE_DOM:mz,IS_ANDROID:gz,IS_ANDROID_CHROME:vz,IS_APPLE:yz,IS_APPLE_WEBKIT:bz,IS_CHROME:_z,IS_FIREFOX:wz,IS_IOS:Cz,IS_SAFARI:xz,addClassNamesToElement:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=Pu(...n);i.length>0&&e.classList.add(...i)},calculateZoomLevel:function(e){let t=1;if(function(){if(void 0===Sz){const e=document.createElement("div");e.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(e);const t=e.getBoundingClientRect();e.style.setProperty("zoom","2"),Sz=e.getBoundingClientRect().width===t.width,document.body.removeChild(e)}return Sz}())for(;e;)t*=Number(window.getComputedStyle(e).getPropertyValue("zoom")),e=e.parentElement;return t},isBlockDomNode:k$,isHTMLAnchorElement:N$,isHTMLElement:O$,isInlineDomNode:j$,isMimeType:Hu,makeStateWrapper:function(e){const t=t=>LP(t,e),n=(t,n)=>fI(t,e,n);return{$get:t,$set:n,accessors:[t,n],makeGetterMethod:()=>function(){return t(this)},makeSetterMethod:()=>function(e){return n(this,e)},stateConfig:e}},markSelection:Uu,mediaFileReader:function(e,t){const n=e[Symbol.iterator]();return new Promise(((e,r)=>{const i=[],o=()=>{const{done:s,value:a}=n.next();if(s)return e(i);const l=new FileReader;l.addEventListener("error",r),l.addEventListener("load",(()=>{const e=l.result;"string"==typeof e&&i.push({file:a,result:e}),o()})),Hu(a,t)?l.readAsDataURL(a):o()};o()}))},mergeRegister:Iu,objectKlassEquals:function(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name},positionNodeOnRange:zu,registerNestedElementResolver:function(e,t,n,r){const i=e=>e instanceof t;return e.registerNodeTransform(t,(e=>{const t=(e=>{const t=e.getChildren();for(let e=0;e<t.length;e++){const n=t[e];if(i(n))return null}let n=e,r=e;for(;null!==n;)if(r=n,n=n.getParent(),i(n))return{child:r,parent:n};return null})(e);if(null!==t){const{child:i,parent:o}=t;if(i.is(e)){r(o,e);const t=i.getNextSiblings(),s=t.length;if(o.insertAfter(i),0!==s){const e=n(o);i.insertAfter(e);for(let n=0;n<s;n++)e.append(t[n])}o.canBeEmpty()||0!==o.getChildrenSize()||o.remove()}}}))},removeClassNamesFromElement:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=Pu(...n);i.length>0&&e.classList.remove(...i)},selectionAlwaysOnDisplay:function(e){let t=null;const n=()=>{const n=getSelection(),r=n&&n.anchorNode,i=e.getRootElement();null!==r&&null!==i&&i.contains(r)?null!==t&&(t(),t=null):null===t&&(t=Uu(e))};return document.addEventListener("selectionchange",n),()=>{null!==t&&t(),document.removeEventListener("selectionchange",n)}}});const kz="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Dz=kz&&"documentMode"in document?document.documentMode:null,Tz=kz&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Az=kz&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Nz=!(!kz||!("InputEvent"in window)||Dz)&&"getTargetRanges"in new window.InputEvent("input"),Oz=kz&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),jz=kz&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Mz=kz&&/Android/.test(navigator.userAgent),Rz=kz&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Fz=kz&&Mz&&Rz,Lz=kz&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Rz,Pz={attributes:!0,characterData:!0,childList:!0,subtree:!0},Iz=Nz,$z=kz,zz=Mz,Bz=Fz,Uz=Tz,Hz=Lz,Wz=Rz,Kz=Az,qz=jz,Vz=Oz,Yz=(e,t)=>{let n=e;for(;n!==MP()&&null!=n;){if(t(n))return n;n=n.getParent()}return null};let Jz=!(Kz||!$z)&&void 0;var Gz=Object.freeze({__proto__:null,$descendantsMatching:function(e,t){const n=[],r=Array.from(e).reverse();for(let e=r.pop();void 0!==e;e=r.pop())if(t(e))n.push(e);else if(HP(e))for(const t of hd(e))r.push(t);return n},$dfs:function(e,t){return Array.from(ad(e,t))},$dfsIterator:ad,$filter:function(e,t){const n=[];for(let r=0;r<e.length;r++){const i=t(e[r]);null!==i&&n.push(i)}return n},$findMatchingParent:Yz,$firstToLastIterator:function(e){return pd(SP(e,"next"))},$getAdjacentCaret:function(e){return e?e.getAdjacentCaret():null},$getAdjacentSiblingOrParentSiblingCaret:md,$getDepth:cd,$getNearestBlockElementAncestorOrThrow:function(e){const t=Yz(e,(e=>HP(e)&&!e.isInline()));return HP(t)||Zu(4,e.__key),t},$getNearestNodeOfType:function(e,t){let n=e;for(;null!=n;){if(n instanceof t)return n;n=n.getParent()}return null},$getNextRightPreorderNode:function(e){const t=md(kP(FP(e,"previous")),"root");return t&&t[0].origin},$getNextSiblingOrParentSibling:function(e){const t=md(FP(e,"next"));return t&&[t[0].origin,t[1]]},$insertFirst:function(e,t){SP(e,"next").insert(t)},$insertNodeToNearestRoot:function(e){const t=RP()||jP();let n;if(GP(t))n=cP(t.focus,"next");else{if(null!=t){const e=t.getNodes(),r=e[e.length-1];r&&(n=FP(r,"next"))}n=n||SP(MP(),"previous").getFlipped().insert(pP())}const r=dd(e,n),i=wP(r),o=BP(i)?iI(i):r;return dI(DP(o)),e.getLatest()},$insertNodeToNearestRootAtCaret:dd,$isEditorIsNestedEditor:function(e){return null!==e._parentEditor},$lastToFirstIterator:hd,$restoreEditorState:function(e,t){const n=new Map,r=e._pendingEditorState;for(const[e,r]of t._nodeMap)n.set(e,dP(r));r&&(r._nodeMap=n),e._dirtyType=2;const i=t._selection;uI(null===i?null:i.clone())},$reverseDfs:function(e,t){return Array.from(ud(e,t))},$reverseDfsIterator:ud,$splitNode:pI,$unwrapAndFilterDescendants:function(e,t){return fd(e,t,null)},$unwrapNode:function(e){aI(FP(e,"next")).splice(1,e.getChildren())},$wrapNodeInElement:function(e,t){const n=t();return e.replace(n),n.append(e),n},CAN_USE_BEFORE_INPUT:Iz,CAN_USE_DOM:$z,IS_ANDROID:zz,IS_ANDROID_CHROME:Bz,IS_APPLE:Uz,IS_APPLE_WEBKIT:Hz,IS_CHROME:Wz,IS_FIREFOX:Kz,IS_IOS:qz,IS_SAFARI:Vz,addClassNamesToElement:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=ed(...n);i.length>0&&e.classList.add(...i)},calculateZoomLevel:function(e){let t=1;if(function(){if(void 0===Jz){const e=document.createElement("div");e.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(e);const t=e.getBoundingClientRect();e.style.setProperty("zoom","2"),Jz=e.getBoundingClientRect().width===t.width,document.body.removeChild(e)}return Jz}())for(;e;)t*=Number(window.getComputedStyle(e).getPropertyValue("zoom")),e=e.parentElement;return t},isBlockDomNode:k$,isHTMLAnchorElement:N$,isHTMLElement:O$,isInlineDomNode:j$,isMimeType:sd,makeStateWrapper:function(e){const t=t=>LP(t,e),n=(t,n)=>fI(t,e,n);return{$get:t,$set:n,accessors:[t,n],makeGetterMethod:()=>function(){return t(this)},makeSetterMethod:()=>function(e){return n(this,e)},stateConfig:e}},markSelection:od,mediaFileReader:function(e,t){const n=e[Symbol.iterator]();return new Promise(((e,r)=>{const i=[],o=()=>{const{done:s,value:a}=n.next();if(s)return e(i);const l=new FileReader;l.addEventListener("error",r),l.addEventListener("load",(()=>{const e=l.result;"string"==typeof e&&i.push({file:a,result:e}),o()})),sd(a,t)?l.readAsDataURL(a):o()};o()}))},mergeRegister:td,objectKlassEquals:function(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name},positionNodeOnRange:rd,registerNestedElementResolver:function(e,t,n,r){const i=e=>e instanceof t;return e.registerNodeTransform(t,(e=>{const t=(e=>{const t=e.getChildren();for(let e=0;e<t.length;e++){const n=t[e];if(i(n))return null}let n=e,r=e;for(;null!==n;)if(r=n,n=n.getParent(),i(n))return{child:r,parent:n};return null})(e);if(null!==t){const{child:i,parent:o}=t;if(i.is(e)){r(o,e);const t=i.getNextSiblings(),s=t.length;if(o.insertAfter(i),0!==s){const e=n(o);i.insertAfter(e);for(let n=0;n<s;n++)e.append(t[n])}o.canBeEmpty()||0!==o.getChildrenSize()||o.remove()}}}))},removeClassNamesFromElement:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=ed(...n);i.length>0&&e.classList.remove(...i)},selectionAlwaysOnDisplay:function(e){let t=null;const n=()=>{const n=getSelection(),r=n&&n.anchorNode,i=e.getRootElement();null!==r&&null!==i&&i.contains(r)?null!==t&&(t(),t=null):null===t&&(t=od(e))};return document.addEventListener("selectionchange",n),()=>{null!==t&&t(),document.removeEventListener("selectionchange",n)}}});const Xz=Gz,Qz=Xz.$descendantsMatching,Zz=Xz.$findMatchingParent,eB=Xz.$getAdjacentCaret,tB=Xz.$getNearestBlockElementAncestorOrThrow,nB=Xz.$getNearestNodeOfType,rB=Xz.$insertFirst,iB=Xz.$insertNodeToNearestRoot,oB=Xz.$unwrapAndFilterDescendants,sB=Xz.$wrapNodeInElement,aB=Xz.IS_APPLE_WEBKIT,lB=Xz.IS_SAFARI,cB=Xz.addClassNamesToElement,uB=Xz.calculateZoomLevel,dB=Xz.isBlockDomNode,fB=Xz.isHTMLAnchorElement,hB=Xz.isHTMLElement,pB=Xz.mergeRegister,mB=Xz.objectKlassEquals,gB=Xz.removeClassNamesFromElement,vB=new Set(["STYLE","SCRIPT"]);Object.freeze({__proto__:null,$generateHtmlFromNodes:function(t,n){if("undefined"==typeof document||"undefined"==typeof window&&void 0===e.g.window)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const r=document.createElement("div"),i=MP().getChildren();for(let e=0;e<i.length;e++)gd(t,i[e],r,n);return r.innerHTML},$generateNodesFromDOM:function(e,t){const n=t.body?t.body.childNodes:[];let r=[];const i=[];for(let t=0;t<n.length;t++){const o=n[t];if(!vB.has(o.nodeName)){const t=vd(o,e,i,!1);null!==t&&(r=r.concat(t))}}return function(e){for(const t of e)t.getNextSibling()instanceof mI&&t.insertAfter(fP());for(const t of e){const e=t.getChildren();for(const n of e)t.insertBefore(n);t.remove()}}(i),r}});const yB=new Set(["STYLE","SCRIPT"]);var bB=Object.freeze({__proto__:null,$generateHtmlFromNodes:function(t,n){if("undefined"==typeof document||"undefined"==typeof window&&void 0===e.g.window)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const r=document.createElement("div"),i=MP().getChildren();for(let e=0;e<i.length;e++)yd(t,i[e],r,n);return r.innerHTML},$generateNodesFromDOM:function(e,t){const n=t.body?t.body.childNodes:[];let r=[];const i=[];for(let t=0;t<n.length;t++){const o=n[t];if(!yB.has(o.nodeName)){const t=bd(o,e,i,!1);null!==t&&(r=r.concat(t))}}return function(e){for(const t of e)t.getNextSibling()instanceof mI&&t.insertAfter(fP());for(const t of e){const e=t.getChildren();for(const n of e)t.insertBefore(n);t.remove()}}(i),r}});const _B=bB,wB=_B.$generateHtmlFromNodes,CB=_B.$generateNodesFromDOM;let xB=null;const EB=[["text/html",wd],["application/x-lexical-editor",Cd]];Object.freeze({__proto__:null,$generateJSONFromSelectedNodes:Sd,$generateNodesFromSerializedNodes:kd,$getClipboardDataFromSelection:Td,$getHtmlContent:wd,$getLexicalContent:Cd,$insertDataTransferForPlainText:function(e,t){const n=e.getData("text/plain")||e.getData("text/uri-list");null!=n&&t.insertRawText(n)},$insertDataTransferForRichText:function(e,t,n){const r=e.getData("application/x-lexical-editor");if(r)try{const e=JSON.parse(r);if(e.namespace===n._config.namespace&&Array.isArray(e.nodes))return xd(n,kd(e.nodes),t)}catch(e){}const i=e.getData("text/html"),o=e.getData("text/plain");if(i&&o!==i)try{const e=(new DOMParser).parseFromString(function(e){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:e=>e}).createHTML(e):e}(i),"text/html");return xd(n,CB(n,e),t)}catch(e){}const s=o||e.getData("text/uri-list");if(null!=s)if(GP(t)){const e=s.split(/(\r?\n|\t)/);""===e[e.length-1]&&e.pop();for(let t=0;t<e.length;t++){const n=RP();if(GP(n)){const r=e[t];"\n"===r||"\r\n"===r?n.insertParagraph():"\t"===r?n.insertNodes([yP()]):n.insertText(r)}}}else t.insertRawText(s)},$insertGeneratedNodes:xd,copyToClipboard:async function(e,t,n){if(null!==xB)return!1;if(null!==t)return new Promise((r=>{e.update((()=>{r(Dd(e,t,n))}))}));const r=e.getRootElement(),i=e._window||window,o=window.document,s=x$(i);if(null===r||null===s)return!1;const a=o.createElement("span");a.style.cssText="position: fixed; top: -1000px;",a.append(o.createTextNode("#")),r.append(a);const l=new Range;return l.setStart(a,0),l.setEnd(a,1),s.removeAllRanges(),s.addRange(l),new Promise((t=>{const r=e.registerCommand(TI,(i=>(mB(i,ClipboardEvent)&&(r(),null!==xB&&(window.clearTimeout(xB),xB=null),t(Dd(e,i,n))),!0)),xI);xB=window.setTimeout((()=>{r(),xB=null,t(!1)}),50),o.execCommand("copy"),a.remove()}))},setLexicalClipboardDataTransfer:Ad});let SB=null;const kB=[["text/html",Od],["application/x-lexical-editor",jd]];var DB=Object.freeze({__proto__:null,$generateJSONFromSelectedNodes:Fd,$generateNodesFromSerializedNodes:Ld,$getClipboardDataFromSelection:Id,$getHtmlContent:Od,$getLexicalContent:jd,$insertDataTransferForPlainText:function(e,t){const n=e.getData("text/plain")||e.getData("text/uri-list");null!=n&&t.insertRawText(n)},$insertDataTransferForRichText:function(e,t,n){const r=e.getData("application/x-lexical-editor");if(r)try{const e=JSON.parse(r);if(e.namespace===n._config.namespace&&Array.isArray(e.nodes))return Md(n,Ld(e.nodes),t)}catch(e){}const i=e.getData("text/html"),o=e.getData("text/plain");if(i&&o!==i)try{const e=(new DOMParser).parseFromString(function(e){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:e=>e}).createHTML(e):e}(i),"text/html");return Md(n,CB(n,e),t)}catch(e){}const s=o||e.getData("text/uri-list");if(null!=s)if(GP(t)){const e=s.split(/(\r?\n|\t)/);""===e[e.length-1]&&e.pop();for(let t=0;t<e.length;t++){const n=RP();if(GP(n)){const r=e[t];"\n"===r||"\r\n"===r?n.insertParagraph():"\t"===r?n.insertNodes([yP()]):n.insertText(r)}}}else t.insertRawText(s)},$insertGeneratedNodes:Md,copyToClipboard:async function(e,t,n){if(null!==SB)return!1;if(null!==t)return new Promise((r=>{e.update((()=>{r(Pd(e,t,n))}))}));const r=e.getRootElement(),i=e._window||window,o=window.document,s=x$(i);if(null===r||null===s)return!1;const a=o.createElement("span");a.style.cssText="position: fixed; top: -1000px;",a.append(o.createTextNode("#")),r.append(a);const l=new Range;return l.setStart(a,0),l.setEnd(a,1),s.removeAllRanges(),s.addRange(l),new Promise((t=>{const r=e.registerCommand(TI,(i=>(mB(i,ClipboardEvent)&&(r(),null!==SB&&(window.clearTimeout(SB),SB=null),t(Pd(e,i,n))),!0)),xI);SB=window.setTimeout((()=>{r(),SB=null,t(!1)}),50),o.execCommand("copy"),a.remove()}))},setLexicalClipboardDataTransfer:$d});const TB=DB,AB=TB.$generateNodesFromSerializedNodes,NB=TB.$getClipboardDataFromSelection,OB=TB.$getHtmlContent,jB=TB.$insertDataTransferForPlainText,MB=TB.$insertDataTransferForRichText,RB=TB.$insertGeneratedNodes,FB=TB.copyToClipboard,LB="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,PB=LB&&"documentMode"in document?document.documentMode:null,IB=!(!LB||!("InputEvent"in window)||PB)&&"getTargetRanges"in new window.InputEvent("input"),$B=LB&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),zB=LB&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,BB=LB&&/^(?=.*Chrome).*/i.test(navigator.userAgent),UB=LB&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!BB,HB=w$("DRAG_DROP_PASTE_FILE");let WB=class e extends PI{static getType(){return"quote"}static clone(t){return new e(t.__key)}createDOM(e){const t=document.createElement("blockquote");return cB(t,e.theme.quote),t}updateDOM(e,t){return!1}static importDOM(){return{blockquote:()=>({conversion:Wd,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(hB(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();e&&(t.style.textAlign=e);const n=this.getDirection();n&&(t.dir=n)}return{element:t}}static importJSON(e){return Bd().updateFromJSON(e)}insertNewAfter(e,t){const n=pP(),r=this.getDirection();return n.setDirection(r),this.insertAfter(n,t),n}collapseAtStart(){const e=pP();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}canMergeWhenEmpty(){return!0}},KB=class e extends PI{static getType(){return"heading"}static clone(t){return new e(t.__tag,t.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}setTag(e){const t=this.getWritable();return this.__tag=e,t}createDOM(e){const t=this.__tag,n=document.createElement(t),r=e.theme.heading;if(void 0!==r){const e=r[t];cB(n,e)}return n}updateDOM(e,t,n){return e.__tag!==this.__tag}static importDOM(){return{h1:()=>({conversion:Hd,priority:0}),h2:()=>({conversion:Hd,priority:0}),h3:()=>({conversion:Hd,priority:0}),h4:()=>({conversion:Hd,priority:0}),h5:()=>({conversion:Hd,priority:0}),h6:()=>({conversion:Hd,priority:0}),p:e=>{const t=e.firstChild;return null!==t&&Ud(t)?{conversion:()=>({node:null}),priority:3}:null},span:e=>Ud(e)?{conversion:()=>({node:Kd("h1")}),priority:3}:null}}exportDOM(e){const{element:t}=super.exportDOM(e);if(hB(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();e&&(t.style.textAlign=e);const n=this.getDirection();n&&(t.dir=n)}return{element:t}}static importJSON(e){return Kd(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e?e.anchor.offset:0,r=this.getLastDescendant(),i=!r||e&&e.anchor.key===r.getKey()&&n===r.getTextContentSize()||!e?pP():Kd(this.getTag()),o=this.getDirection();if(i.setDirection(o),this.insertAfter(i,t),0===n&&!this.isEmpty()&&e){const e=pP();e.select(),this.replace(e,!0)}return i}collapseAtStart(){const e=this.isEmpty()?pP():Kd(this.getTag());return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}extractWithChild(){return!0}};Object.freeze({__proto__:null,$createHeadingNode:Kd,$createQuoteNode:Bd,$isHeadingNode:function(e){return e instanceof KB},$isQuoteNode:function(e){return e instanceof WB},DRAG_DROP_PASTE:HB,HeadingNode:KB,QuoteNode:WB,eventFiles:qd,registerRichText:function(e){const t=pB(e.registerCommand(wI,(()=>{const e=RP();return!!YP(e)&&(e.clear(),!0)}),0),e.registerCommand(NI,(e=>{const t=RP();return GP(t)?(t.deleteCharacter(e),!0):!!YP(t)&&(t.deleteNodes(),!0)}),EI),e.registerCommand(jI,(e=>{const t=RP();return!!GP(t)&&(t.deleteWord(e),!0)}),EI),e.registerCommand(OI,(e=>{const t=RP();return!!GP(t)&&(t.deleteLine(e),!0)}),EI),e.registerCommand(DI,(t=>{const n=RP();if("string"==typeof t)null!==n&&n.insertText(t);else{if(null===n)return!1;const r=t.dataTransfer;if(null!=r)MB(r,n,e);else if(GP(n)){const e=t.data;return e&&n.insertText(e),!0}}return!0}),EI),e.registerCommand(h$,(()=>{const e=RP();return!!GP(e)&&(e.removeText(),!0)}),EI),e.registerCommand(zI,(e=>{const t=RP();return!!GP(t)&&(t.formatText(e),!0)}),EI),e.registerCommand($I,(e=>{const t=RP();if(!GP(t)&&!YP(t))return!1;const n=t.getNodes();for(const t of n){const n=Zz(t,(e=>HP(e)&&!e.isInline()));null!==n&&n.setFormat(e)}return!0}),EI),e.registerCommand(KI,(e=>{const t=RP();return!!GP(t)&&(t.insertLineBreak(e),!0)}),EI),e.registerCommand(qI,(()=>{const e=RP();return!!GP(e)&&(e.insertParagraph(),!0)}),EI),e.registerCommand(VI,(()=>($P([yP()]),!0)),EI),e.registerCommand(WI,(()=>Vd((e=>{const t=e.getIndent();e.setIndent(t+1)}))),EI),e.registerCommand(l$,(()=>Vd((e=>{const t=e.getIndent();t>0&&e.setIndent(Math.max(0,t-1))}))),EI),e.registerCommand(QI,(e=>{const t=RP();if(YP(t)){const e=t.getNodes();if(e.length>0)return e[0].selectPrevious(),!0}else if(GP(t)){const n=CP(t.focus,!0);if(!e.shiftKey&&UP(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),e.preventDefault(),!0}return!1}),EI),e.registerCommand(JI,(e=>{const t=RP();if(YP(t)){const e=t.getNodes();if(e.length>0)return e[0].selectNext(0,0),!0}else if(GP(t)){if(function(e){const t=e.focus;return"root"===t.key&&t.offset===MP().getChildrenSize()}(t))return e.preventDefault(),!0;const n=CP(t.focus,!1);if(!e.shiftKey&&UP(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),e.preventDefault(),!0}return!1}),EI),e.registerCommand(GI,(e=>{const t=RP();if(YP(t)){const n=t.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectPrevious(),!0}if(!GP(t))return!1;if(G$(t,!0)){const n=e.shiftKey;return e.preventDefault(),Y$(t,n,!0),!0}return!1}),EI),e.registerCommand(XI,(e=>{const t=RP();if(YP(t)){const n=t.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectNext(0,0),!0}if(!GP(t))return!1;const n=e.shiftKey;return!!G$(t,!1)&&(e.preventDefault(),Y$(t,n,!1),!0)}),EI),e.registerCommand(ZI,(t=>{if(Yd(t.target))return!1;const n=RP();if(GP(n)){if(function(e){if(!e.isCollapsed())return!1;const{anchor:t}=e;if(0!==t.offset)return!1;const n=t.getNode();if(XP(n))return!1;const r=tB(n);return r.getIndent()>0&&(r.is(n)||n.is(r.getFirstDescendant()))}(n))return t.preventDefault(),e.dispatchCommand(l$,void 0);if(zB&&"ko-KR"===navigator.language)return!1}else if(!YP(n))return!1;return t.preventDefault(),e.dispatchCommand(NI,!0)}),EI),e.registerCommand(e$,(t=>{if(Yd(t.target))return!1;const n=RP();return!(!GP(n)&&!YP(n))&&(t.preventDefault(),e.dispatchCommand(NI,!1))}),EI),e.registerCommand(n$,(t=>{const n=RP();if(!GP(n))return!1;if(Jd(n),null!==t){if((zB||$B||UB)&&IB)return!1;if(t.preventDefault(),t.shiftKey)return e.dispatchCommand(KI,!1)}return e.dispatchCommand(qI,void 0)}),EI),e.registerCommand(r$,(()=>{const t=RP();return!!GP(t)&&(e.blur(),!0)}),EI),e.registerCommand(FI,(t=>{const[,n]=qd(t);if(n.length>0){const r=zd(t.clientX,t.clientY);if(null!==r){const{offset:t,node:i}=r,o=AP(i);if(null!==o){const e=gP();if(tI(o))e.anchor.set(o.getKey(),t,"text"),e.focus.set(o.getKey(),t,"text");else{const t=o.getParentOrThrow().getKey(),n=o.getIndexWithinParent()+1;e.anchor.set(t,n,"element"),e.focus.set(t,n,"element")}const n=oI(e);uI(n)}e.dispatchCommand(HB,n)}return t.preventDefault(),!0}const r=RP();return!!GP(r)}),EI),e.registerCommand(RI,(e=>{const[t]=qd(e),n=RP();return!(t&&!GP(n))}),EI),e.registerCommand(MI,(e=>{const[t]=qd(e),n=RP();if(t&&!GP(n))return!1;const r=zd(e.clientX,e.clientY);if(null!==r){const t=AP(r.node);UP(t)&&e.preventDefault()}return!0}),EI),e.registerCommand(g$,(()=>(lI(),!0)),EI),e.registerCommand(TI,(t=>(FB(e,mB(t,ClipboardEvent)?t:null),!0)),EI),e.registerCommand(AI,(t=>(async function(e,t){await FB(t,mB(e,ClipboardEvent)?e:null),t.update((()=>{const e=RP();GP(e)?e.removeText():YP(e)&&e.getNodes().forEach((e=>e.remove()))}))}(t,e),!0)),EI),e.registerCommand(c$,(t=>{const[,n,r]=qd(t);return n.length>0&&!r?(e.dispatchCommand(HB,n),!0):!(T$(t.target)&&M$(t.target)||null===RP()||(function(e,t){e.preventDefault(),t.update((()=>{const n=RP(),r=mB(e,InputEvent)||mB(e,KeyboardEvent)?null:e.clipboardData;null!=r&&null!==n&&MB(r,n,t)}),{tag:u$})}(t,e),0))}),EI),e.registerCommand(i$,(()=>{const e=RP();return GP(e)&&Jd(e),!1}),EI),e.registerCommand(o$,(()=>{const e=RP();return GP(e)&&Jd(e),!1}),EI));return t}});const qB="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,VB=qB&&"documentMode"in document?document.documentMode:null,YB=!(!qB||!("InputEvent"in window)||VB)&&"getTargetRanges"in new window.InputEvent("input"),JB=qB&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),GB=qB&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,XB=qB&&/^(?=.*Chrome).*/i.test(navigator.userAgent),QB=qB&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!XB,ZB=w$("DRAG_DROP_PASTE_FILE");let eU=class e extends PI{static getType(){return"quote"}static clone(t){return new e(t.__key)}createDOM(e){const t=document.createElement("blockquote");return cB(t,e.theme.quote),t}updateDOM(e,t){return!1}static importDOM(){return{blockquote:()=>({conversion:ef,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(hB(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();e&&(t.style.textAlign=e);const n=this.getDirection();n&&(t.dir=n)}return{element:t}}static importJSON(e){return Xd().updateFromJSON(e)}insertNewAfter(e,t){const n=pP(),r=this.getDirection();return n.setDirection(r),this.insertAfter(n,t),n}collapseAtStart(){const e=pP();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}canMergeWhenEmpty(){return!0}},tU=class e extends PI{static getType(){return"heading"}static clone(t){return new e(t.__tag,t.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}setTag(e){const t=this.getWritable();return this.__tag=e,t}createDOM(e){const t=this.__tag,n=document.createElement(t),r=e.theme.heading;if(void 0!==r){const e=r[t];cB(n,e)}return n}updateDOM(e,t,n){return e.__tag!==this.__tag}static importDOM(){return{h1:()=>({conversion:Zd,priority:0}),h2:()=>({conversion:Zd,priority:0}),h3:()=>({conversion:Zd,priority:0}),h4:()=>({conversion:Zd,priority:0}),h5:()=>({conversion:Zd,priority:0}),h6:()=>({conversion:Zd,priority:0}),p:e=>{const t=e.firstChild;return null!==t&&Qd(t)?{conversion:()=>({node:null}),priority:3}:null},span:e=>Qd(e)?{conversion:()=>({node:tf("h1")}),priority:3}:null}}exportDOM(e){const{element:t}=super.exportDOM(e);if(hB(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();e&&(t.style.textAlign=e);const n=this.getDirection();n&&(t.dir=n)}return{element:t}}static importJSON(e){return tf(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e?e.anchor.offset:0,r=this.getLastDescendant(),i=!r||e&&e.anchor.key===r.getKey()&&n===r.getTextContentSize()||!e?pP():tf(this.getTag()),o=this.getDirection();if(i.setDirection(o),this.insertAfter(i,t),0===n&&!this.isEmpty()&&e){const e=pP();e.select(),this.replace(e,!0)}return i}collapseAtStart(){const e=this.isEmpty()?pP():tf(this.getTag());return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}extractWithChild(){return!0}};var nU=Object.freeze({__proto__:null,$createHeadingNode:tf,$createQuoteNode:Xd,$isHeadingNode:function(e){return e instanceof tU},$isQuoteNode:function(e){return e instanceof eU},DRAG_DROP_PASTE:ZB,HeadingNode:tU,QuoteNode:eU,eventFiles:nf,registerRichText:function(e){return pB(e.registerCommand(wI,(()=>{const e=RP();return!!YP(e)&&(e.clear(),!0)}),0),e.registerCommand(NI,(e=>{const t=RP();return GP(t)?(t.deleteCharacter(e),!0):!!YP(t)&&(t.deleteNodes(),!0)}),EI),e.registerCommand(jI,(e=>{const t=RP();return!!GP(t)&&(t.deleteWord(e),!0)}),EI),e.registerCommand(OI,(e=>{const t=RP();return!!GP(t)&&(t.deleteLine(e),!0)}),EI),e.registerCommand(DI,(t=>{const n=RP();if("string"==typeof t)null!==n&&n.insertText(t);else{if(null===n)return!1;const r=t.dataTransfer;if(null!=r)MB(r,n,e);else if(GP(n)){const e=t.data;return e&&n.insertText(e),!0}}return!0}),EI),e.registerCommand(h$,(()=>{const e=RP();return!!GP(e)&&(e.removeText(),!0)}),EI),e.registerCommand(zI,(e=>{const t=RP();return!!GP(t)&&(t.formatText(e),!0)}),EI),e.registerCommand($I,(e=>{const t=RP();if(!GP(t)&&!YP(t))return!1;const n=t.getNodes();for(const t of n){const n=Zz(t,(e=>HP(e)&&!e.isInline()));null!==n&&n.setFormat(e)}return!0}),EI),e.registerCommand(KI,(e=>{const t=RP();return!!GP(t)&&(t.insertLineBreak(e),!0)}),EI),e.registerCommand(qI,(()=>{const e=RP();return!!GP(e)&&(e.insertParagraph(),!0)}),EI),e.registerCommand(VI,(()=>($P([yP()]),!0)),EI),e.registerCommand(WI,(()=>rf((e=>{const t=e.getIndent();e.setIndent(t+1)}))),EI),e.registerCommand(l$,(()=>rf((e=>{const t=e.getIndent();t>0&&e.setIndent(Math.max(0,t-1))}))),EI),e.registerCommand(QI,(e=>{const t=RP();if(YP(t)){const e=t.getNodes();if(e.length>0)return e[0].selectPrevious(),!0}else if(GP(t)){const n=CP(t.focus,!0);if(!e.shiftKey&&UP(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),e.preventDefault(),!0}return!1}),EI),e.registerCommand(JI,(e=>{const t=RP();if(YP(t)){const e=t.getNodes();if(e.length>0)return e[0].selectNext(0,0),!0}else if(GP(t)){if(function(e){const t=e.focus;return"root"===t.key&&t.offset===MP().getChildrenSize()}(t))return e.preventDefault(),!0;const n=CP(t.focus,!1);if(!e.shiftKey&&UP(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),e.preventDefault(),!0}return!1}),EI),e.registerCommand(GI,(e=>{const t=RP();if(YP(t)){const n=t.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectPrevious(),!0}if(!GP(t))return!1;if(G$(t,!0)){const n=e.shiftKey;return e.preventDefault(),Y$(t,n,!0),!0}return!1}),EI),e.registerCommand(XI,(e=>{const t=RP();if(YP(t)){const n=t.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectNext(0,0),!0}if(!GP(t))return!1;const n=e.shiftKey;return!!G$(t,!1)&&(e.preventDefault(),Y$(t,n,!1),!0)}),EI),e.registerCommand(ZI,(t=>{if(of(t.target))return!1;const n=RP();if(GP(n)){if(function(e){if(!e.isCollapsed())return!1;const{anchor:t}=e;if(0!==t.offset)return!1;const n=t.getNode();if(XP(n))return!1;const r=tB(n);return r.getIndent()>0&&(r.is(n)||n.is(r.getFirstDescendant()))}(n))return t.preventDefault(),e.dispatchCommand(l$,void 0);if(GB&&"ko-KR"===navigator.language)return!1}else if(!YP(n))return!1;return t.preventDefault(),e.dispatchCommand(NI,!0)}),EI),e.registerCommand(e$,(t=>{if(of(t.target))return!1;const n=RP();return!(!GP(n)&&!YP(n))&&(t.preventDefault(),e.dispatchCommand(NI,!1))}),EI),e.registerCommand(n$,(t=>{const n=RP();if(!GP(n))return!1;if(sf(n),null!==t){if((GB||JB||QB)&&YB)return!1;if(t.preventDefault(),t.shiftKey)return e.dispatchCommand(KI,!1)}return e.dispatchCommand(qI,void 0)}),EI),e.registerCommand(r$,(()=>{const t=RP();return!!GP(t)&&(e.blur(),!0)}),EI),e.registerCommand(FI,(t=>{const[,n]=nf(t);if(n.length>0){const r=Gd(t.clientX,t.clientY);if(null!==r){const{offset:t,node:i}=r,o=AP(i);if(null!==o){const e=gP();if(tI(o))e.anchor.set(o.getKey(),t,"text"),e.focus.set(o.getKey(),t,"text");else{const t=o.getParentOrThrow().getKey(),n=o.getIndexWithinParent()+1;e.anchor.set(t,n,"element"),e.focus.set(t,n,"element")}const n=oI(e);uI(n)}e.dispatchCommand(ZB,n)}return t.preventDefault(),!0}const r=RP();return!!GP(r)}),EI),e.registerCommand(RI,(e=>{const[t]=nf(e),n=RP();return!(t&&!GP(n))}),EI),e.registerCommand(MI,(e=>{const[t]=nf(e),n=RP();if(t&&!GP(n))return!1;const r=Gd(e.clientX,e.clientY);if(null!==r){const t=AP(r.node);UP(t)&&e.preventDefault()}return!0}),EI),e.registerCommand(g$,(()=>(lI(),!0)),EI),e.registerCommand(TI,(t=>(FB(e,mB(t,ClipboardEvent)?t:null),!0)),EI),e.registerCommand(AI,(t=>(async function(e,t){await FB(t,mB(e,ClipboardEvent)?e:null),t.update((()=>{const e=RP();GP(e)?e.removeText():YP(e)&&e.getNodes().forEach((e=>e.remove()))}))}(t,e),!0)),EI),e.registerCommand(c$,(t=>{const[,n,r]=nf(t);return n.length>0&&!r?(e.dispatchCommand(ZB,n),!0):!(T$(t.target)&&M$(t.target)||null===RP()||(function(e,t){e.preventDefault(),t.update((()=>{const n=RP(),r=mB(e,InputEvent)||mB(e,KeyboardEvent)?null:e.clipboardData;null!=r&&null!==n&&MB(r,n,t)}),{tag:u$})}(t,e),0))}),EI),e.registerCommand(i$,(()=>{const e=RP();return GP(e)&&sf(e),!1}),EI),e.registerCommand(o$,(()=>{const e=RP();return GP(e)&&sf(e),!1}),EI))}})
;const rU=nU,iU=rU.$createHeadingNode,oU=rU.$createQuoteNode,sU=rU.$isHeadingNode,aU=rU.$isQuoteNode,lU=rU.DRAG_DROP_PASTE,cU=rU.HeadingNode,uU=rU.QuoteNode,dU=rU.eventFiles,fU=rU.registerRichText;var hU="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e.g?e.g:"undefined"!=typeof self?self:{};!function(e){var t=function(e){function t(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function n(e,t,n,r){e.lastIndex=t;var i=e.exec(n);if(i&&r&&i[1]){var o=i[1].length;i.index+=o,i[0]=i[0].slice(o)}return i}function r(e,i,a,l,c,u){for(var f in a)if(a.hasOwnProperty(f)&&a[f]){var h=a[f];h=Array.isArray(h)?h:[h];for(var p=0;p<h.length;++p){if(u&&u.cause==f+","+p)return;var m=h[p],g=m.inside,v=!!m.lookbehind,y=!!m.greedy,b=m.alias;if(y&&!m.pattern.global){var _=m.pattern.toString().match(/[imsuy]*$/)[0];m.pattern=RegExp(m.pattern.source,_+"g")}for(var w=m.pattern||m,C=l.next,x=c;C!==i.tail&&!(u&&x>=u.reach);x+=C.value.length,C=C.next){var E=C.value;if(i.length>e.length)return;if(!(E instanceof t)){var S,k=1;if(y){if(!(S=n(w,x,e,v))||S.index>=e.length)break;var D=S.index,T=S.index+S[0].length,A=x;for(A+=C.value.length;D>=A;)A+=(C=C.next).value.length;if(x=A-=C.value.length,C.value instanceof t)continue;for(var N=C;N!==i.tail&&(A<T||"string"==typeof N.value);N=N.next)k++,A+=N.value.length;k--,E=e.slice(x,A),S.index-=x}else if(!(S=n(w,0,E,v)))continue;D=S.index;var O=S[0],j=E.slice(0,D),M=E.slice(D+O.length),R=x+E.length;u&&R>u.reach&&(u.reach=R);var F=C.prev;if(j&&(F=o(i,F,j),x+=j.length),s(i,F,k),C=o(i,F,new t(f,g?d.tokenize(O,g):O,b,O)),M&&o(i,C,M),k>1){var L={cause:f+","+p,reach:R};r(e,i,a,C.prev,x,L),u&&L.reach>u.reach&&(u.reach=L.reach)}}}}}}function i(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function o(e,t,n){var r=t.next,i={value:n,prev:t,next:r};return t.next=i,r.prev=i,e.length++,i}function s(e,t,n){for(var r=t.next,i=0;i<n&&r!==e.tail;i++)r=r.next;t.next=r,r.prev=t,e.length-=i}function a(){d.manual||d.highlightAll()}var l=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,c=0,u={},d={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(n){return n instanceof t?new t(n.type,e(n.content),n.alias):Array.isArray(n)?n.map(e):n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++c}),e.__id},clone:function e(t,n){var r,i;switch(n=n||{},d.util.type(t)){case"Object":if(i=d.util.objId(t),n[i])return n[i];for(var o in r={},n[i]=r,t)t.hasOwnProperty(o)&&(r[o]=e(t[o],n));return r;case"Array":return i=d.util.objId(t),n[i]?n[i]:(r=[],n[i]=r,t.forEach((function(t,i){r[i]=e(t,n)})),r);default:return t}},getLanguage:function(e){for(;e;){var t=l.exec(e.className);if(t)return t[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,t){e.className=e.className.replace(RegExp(l,"gi"),""),e.classList.add("language-"+t)},currentScript:function(){if("undefined"==typeof document)return null;if(document.currentScript&&"SCRIPT"===document.currentScript.tagName)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var i=e.classList;if(i.contains(t))return!0;if(i.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:u,plaintext:u,text:u,txt:u,extend:function(e,t){var n=d.util.clone(d.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var i=(r=r||d.languages)[e],o={};for(var s in i)if(i.hasOwnProperty(s)){if(s==t)for(var a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);n.hasOwnProperty(s)||(o[s]=i[s])}var l=r[e];return r[e]=o,d.languages.DFS(d.languages,(function(t,n){n===l&&t!=e&&(this[t]=o)})),o},DFS:function e(t,n,r,i){i=i||{};var o=d.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],r||s);var a=t[s],l=d.util.type(a);"Object"!==l||i[o(a)]?"Array"!==l||i[o(a)]||(i[o(a)]=!0,e(a,n,s,i)):(i[o(a)]=!0,e(a,n,null,i))}}},plugins:{},highlightAll:function(e,t){d.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};d.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),d.hooks.run("before-all-elements-highlight",r);for(var i,o=0;i=r.elements[o++];)d.highlightElement(i,!0===t,r.callback)},highlightElement:function(t,n,r){function i(e){l.highlightedCode=e,d.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,d.hooks.run("after-highlight",l),d.hooks.run("complete",l),r&&r.call(l.element)}var o=d.util.getLanguage(t),s=d.languages[o];d.util.setLanguage(t,o);var a=t.parentElement;a&&"pre"===a.nodeName.toLowerCase()&&d.util.setLanguage(a,o);var l={element:t,language:o,grammar:s,code:t.textContent};if(d.hooks.run("before-sanity-check",l),(a=l.element.parentElement)&&"pre"===a.nodeName.toLowerCase()&&!a.hasAttribute("tabindex")&&a.setAttribute("tabindex","0"),!l.code)return d.hooks.run("complete",l),void(r&&r.call(l.element));if(d.hooks.run("before-highlight",l),l.grammar)if(n&&e.Worker){var c=new Worker(d.filename);c.onmessage=function(e){i(e.data)},c.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else i(d.highlight(l.code,l.grammar,l.language));else i(d.util.encode(l.code))},highlight:function(e,n,r){var i={code:e,grammar:n,language:r};if(d.hooks.run("before-tokenize",i),!i.grammar)throw new Error('The language "'+i.language+'" has no grammar.');return i.tokens=d.tokenize(i.code,i.grammar),d.hooks.run("after-tokenize",i),t.stringify(d.util.encode(i.tokens),i.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var s in n)t[s]=n[s];delete t.rest}var a=new i;return o(a,a.head,e),r(e,a,t,a.head,0),function(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}(a)},hooks:{all:{},add:function(e,t){var n=d.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=d.hooks.all[e];if(n&&n.length)for(var r,i=0;r=n[i++];)r(t)}},Token:t};if(e.Prism=d,t.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach((function(t){r+=e(t,n)})),r}var i={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},o=t.alias;o&&(Array.isArray(o)?Array.prototype.push.apply(i.classes,o):i.classes.push(o)),d.hooks.run("wrap",i);var s="";for(var a in i.attributes)s+=" "+a+'="'+(i.attributes[a]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+s+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener?(d.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),r=n.language,i=n.code,o=n.immediateClose;e.postMessage(d.highlight(i,d.languages[r],r)),o&&e.close()}),!1),d):d;var f=d.util.currentScript();if(f&&(d.filename=f.src,f.hasAttribute("data-manual")&&(d.manual=!0)),!d.manual){var h=document.readyState;"loading"===h||"interactive"===h&&f&&f.defer?document.addEventListener("DOMContentLoaded",a):window.requestAnimationFrame?window.requestAnimationFrame(a):window.setTimeout(a,16)}return d}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=t),void 0!==hU&&(hU.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(e,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};i["language-"+n]={pattern:/[\s\S]+/,inside:t.languages[n]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:i},t.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(e,n){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:t.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(void 0!==t&&"undefined"!=typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},n="data-src-status",r="loading",i="loaded",o="pre[data-src]:not(["+n+'="'+i+'"]):not(['+n+'="'+r+'"])';t.hooks.add("before-highlightall",(function(e){e.selector+=", "+o})),t.hooks.add("before-sanity-check",(function(s){var a=s.element;if(a.matches(o)){s.code="",a.setAttribute(n,r);var l=a.appendChild(document.createElement("CODE"));l.textContent="Loading\u2026";var c=a.getAttribute("data-src"),u=s.language;if("none"===u){var d=(/\.(\w+)$/.exec(c)||[,"none"])[1];u=e[d]||d}t.util.setLanguage(l,u),t.util.setLanguage(a,u);var f=t.plugins.autoloader;f&&f.loadLanguages(u),function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.onreadystatechange=function(){4==r.readyState&&(r.status<400&&r.responseText?t(r.responseText):r.status>=400?n("\u2716 Error "+r.status+" while fetching file: "+r.statusText):n("\u2716 Error: File does not exist or is empty"))},r.send(null)}(c,(function(e){a.setAttribute(n,i);var r=function(e){var t=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(e||"");if(t){var n=Number(t[1]),r=t[2],i=t[3];return r?i?[n,Number(i)]:[n,void 0]:[n,n]}}(a.getAttribute("data-range"));if(r){var o=e.split(/\r\n?|\n/g),s=r[0],c=null==r[1]?o.length:r[1];s<0&&(s+=o.length),s=Math.max(0,Math.min(s-1,o.length)),c<0&&(c+=o.length),c=Math.max(0,Math.min(c,o.length)),e=o.slice(s,c).join("\n"),a.hasAttribute("data-start")||a.setAttribute("data-start",String(s+1))}l.textContent=e,t.highlightElement(l)}),(function(e){a.setAttribute(n,"failed"),l.textContent=e}))}})),t.plugins.fileHighlight={highlight:function(e){for(var n,r=(e||document).querySelectorAll(o),i=0;n=r[i++];)t.highlightElement(n)}};var s=!1;t.fileHighlight=function(){s||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),s=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}}()}({exports:{}}),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript,Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},Prism.languages.insertBefore("markup","cdata",i)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(e,t){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:Prism.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(e){function t(e){return e=e.replace(/<inner>/g,(function(){return n})),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var n=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source,r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,(function(){return r})),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+o+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+o+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:t(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:t(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:t(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:t(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach((function(t){["url","bold","italic","strike","code-snippet"].forEach((function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n])}))})),e.hooks.add("after-tokenize",(function(e){"markdown"!==e.language&&"md"!==e.language||function e(t){if(t&&"string"!=typeof t)for(var n=0,r=t.length;n<r;n++){var i=t[n];if("code"===i.type){var o=i.content[1],s=i.content[3];if(o&&s&&"code-language"===o.type&&"code-block"===s.type&&"string"==typeof o.content){var a=o.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),l="language-"+(a=(/[a-z][\w-]*/i.exec(a)||[""])[0].toLowerCase());s.alias?"string"==typeof s.alias?s.alias=[s.alias,l]:s.alias.push(l):s.alias=[l]}}else e(i.content)}}(e.tokens)})),e.hooks.add("wrap",(function(t){if("code-block"===t.type){for(var n="",r=0,i=t.classes.length;r<i;r++){var o=t.classes[r],c=/language-(.+)/.exec(o);if(c){n=c[1];break}}var u,d=e.languages[n];if(d)t.content=e.highlight((u=(u=t.content.replace(s,"")).replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,(function(e,t){var n;return"#"===(t=t.toLowerCase())[0]?(n="x"===t[1]?parseInt(t.slice(2),16):Number(t.slice(1)),l(n)):a[t]||e})),u),d,n);else if(n&&"none"!==n&&e.plugins.autoloader){var f="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());t.attributes.id=f,e.plugins.autoloader.loadLanguages(n,(function(){var t=document.getElementById(f);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n))}))}}}));var s=RegExp(e.languages.markup.tag.pattern.source,"gi"),a={amp:"&",lt:"<",gt:">",quot:'"'},l=String.fromCodePoint||String.fromCharCode;e.languages.md=e.languages.markdown}(Prism),Prism.languages.c=Prism.languages.extend("clike",{comment:{
pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean,function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(Prism),Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete Prism.languages.objectivec["class-name"],Prism.languages.objc=Prism.languages.objectivec,Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(){var e=Prism.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};e.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:e},boolean:e.boolean,variable:e.variable}}(),Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,function(e){for(var t=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)t=t.replace(/<self>/g,(function(){return t}));t=t.replace(/<self>/g,(function(){return/[^\s\S]/.source})),e.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+t),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},e.languages.rust["closure-params"].inside.rest=e.languages.rust,e.languages.rust.attribute.inside.string=e.languages.rust.string}(Prism),Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ \t]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},Prism.languages.swift["string-literal"].forEach((function(e){e.inside.interpolation.inside=Prism.languages.swift})),function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(Prism),function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism),function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return n}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(Prism);const pU=globalThis.Prism||window.Prism,mU=e=>{try{return!!e&&pU.languages.hasOwnProperty(e)}catch(e){return!1}},gU="data-language",vU="data-highlight-language";let yU=class e extends PI{static getType(){return"code"}static clone(t){return new e(t.__language,t.__key)}constructor(e,t){super(t),this.__language=e||void 0,this.__isSyntaxHighlightSupported=mU(e)}createDOM(e){const t=document.createElement("code");cB(t,e.theme.code),t.setAttribute("spellcheck","false");const n=this.getLanguage();return n&&(t.setAttribute(gU,n),this.getIsSyntaxHighlightSupported()&&t.setAttribute(vU,n)),t}updateDOM(e,t,n){const r=this.__language,i=e.__language;return r?r!==i&&(t.setAttribute(gU,r),this.__isSyntaxHighlightSupported&&t.setAttribute(vU,r)):i&&(t.removeAttribute(gU),e.__isSyntaxHighlightSupported&&t.removeAttribute(vU)),!1}exportDOM(e){const t=document.createElement("pre");cB(t,e._config.theme.code),t.setAttribute("spellcheck","false");const n=this.getLanguage();return n&&(t.setAttribute(gU,n),this.getIsSyntaxHighlightSupported()&&t.setAttribute(vU,n)),{element:t}}static importDOM(){return{code:e=>null!=e.textContent&&(/\r?\n/.test(e.textContent)||lf(e,"BR"))?{conversion:df,priority:1}:null,div:()=>({conversion:ff,priority:1}),pre:()=>({conversion:df,priority:0}),table:e=>gf(e)?{conversion:hf,priority:3}:null,td:e=>{const t=e,n=t.closest("table");return t.classList.contains("js-file-line")||n&&gf(n)?{conversion:pf,priority:3}:null},tr:e=>{const t=e.closest("table");return t&&gf(t)?{conversion:pf,priority:3}:null}}}static importJSON(e){return cf().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setLanguage(e.language)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage()}}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.getChildren(),r=n.length;if(r>=2&&"\n"===n[r-1].getTextContent()&&"\n"===n[r-2].getTextContent()&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===r){n[r-1].remove(),n[r-2].remove();const e=pP();return this.insertAfter(e,t),e}const{anchor:i,focus:o}=e,s=(i.isBefore(o)?i:o).getNode();if(tI(s)){let e=Cf(s);const t=[];for(;;)if(eI(e))t.push(yP()),e=e.getNextSibling();else{if(!_f(e))break;{let n=0;const r=e.getTextContent(),i=e.getTextContentSize();for(;n<i&&" "===r[n];)n++;if(0!==n&&t.push(bf(" ".repeat(n))),n!==i)break;e=e.getNextSibling()}}const n=s.splitText(i.offset)[0],r=0===i.offset?0:1,o=n.getIndexWithinParent()+r,a=s.getParentOrThrow(),l=[fP(),...t];a.splice(o,0,l);const c=t[t.length-1];c?c.select():0===i.offset?n.selectPrevious():n.getNextSibling().selectNext(0,0)}if(uf(s)){const{offset:t}=e.anchor;s.splice(t,0,[fP()]),s.select(t+1,t+1)}return null}canIndent(){return!1}collapseAtStart(){const e=pP();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}setLanguage(e){const t=this.getWritable();return t.__language=e||void 0,t.__isSyntaxHighlightSupported=mU(e),t}getLanguage(){return this.getLatest().__language}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}};const bU="javascript",_U={c:"C",clike:"C-like",cpp:"C++",css:"CSS",html:"HTML",java:"Java",js:"JavaScript",markdown:"Markdown",objc:"Objective-C",plain:"Plain Text",powershell:"PowerShell",py:"Python",rust:"Rust",sql:"SQL",swift:"Swift",typescript:"TypeScript",xml:"XML"},wU={cpp:"cpp",java:"java",javascript:"js",md:"markdown",plaintext:"plain",python:"py",text:"plain",ts:"typescript"};let CU=class e extends b${constructor(){let e=arguments.length>1?arguments[1]:void 0;super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>2?arguments[2]:void 0),this.__highlightType=e}static getType(){return"code-highlight"}static clone(t){return new e(t.__text,t.__highlightType||void 0,t.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(e){const t=this.getWritable();return t.__highlightType=e||void 0,t}canHaveFormat(){return!1}createDOM(e){const t=super.createDOM(e),n=yf(e.theme,this.__highlightType);return cB(t,n),t}updateDOM(e,t,n){const r=super.updateDOM(e,t,n),i=yf(n.theme,e.__highlightType),o=yf(n.theme,this.__highlightType);return i!==o&&(i&&gB(t,i),o&&cB(t,o)),r}static importJSON(e){return bf().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHighlightType(e.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return cf()}};const xU={defaultLanguage:bU,tokenize(e,t){return pU.tokenize(e,pU.languages[t||""]||pU.languages[this.defaultLanguage])}},EU=new Set,SU=Cf,kU=xf,DU=Sf,TU=Ef;Object.freeze({__proto__:null,$createCodeHighlightNode:bf,$createCodeNode:cf,$getEndOfCodeInLine:Sf,$getFirstCodeNodeOfLine:Cf,$getLastCodeNodeOfLine:xf,$getStartOfCodeInLine:Ef,$isCodeHighlightNode:_f,$isCodeNode:uf,CODE_LANGUAGE_FRIENDLY_NAME_MAP:_U,CODE_LANGUAGE_MAP:wU,CodeHighlightNode:CU,CodeNode:yU,DEFAULT_CODE_LANGUAGE:bU,PrismTokenizer:xU,getCodeLanguages:()=>Object.keys(pU.languages).filter((e=>"function"!=typeof pU.languages[e])).sort(),getDefaultCodeLanguage:()=>bU,getEndOfCodeInLine:DU,getFirstCodeNodeOfLine:SU,getLanguageFriendlyName:function(e){const t=vf(e);return _U[t]||t},getLastCodeNodeOfLine:kU,getStartOfCodeInLine:TU,normalizeCodeLang:vf,registerCodeHighlighting:function(e,t){if(!e.hasNodes([yU,CU]))throw new Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");null==t&&(t=xU);const n=[];return!0!==e._headless&&n.push(e.registerMutationListener(yU,(t=>{e.update((()=>{for(const[n,r]of t)if("destroyed"!==r){const t=NP(n);null!==t&&Df(t,e)}}))}),{skipInitialization:!1})),n.push(e.registerNodeTransform(yU,(n=>Tf(n,e,t))),e.registerNodeTransform(b$,(n=>kf(n,e,t))),e.registerNodeTransform(CU,(n=>kf(n,e,t))),e.registerCommand(o$,(t=>{const n=function(e){const t=RP();if(!GP(t)||!Of(t))return null;const n=e?l$:WI,r=e?l$:VI;if(jf(t).length>1)return n;const i=t.getNodes()[0];if(uf(i)||_f(i)||eI(i)||VP(i)||af("Expected selection firstNode to be CodeHighlightNode or TabNode"),uf(i))return n;const o=Cf(i),s=xf(i),a=t.anchor,l=t.focus;let c,u;return l.isBefore(a)?(c=l,u=a):(c=a,u=l),null!==o&&null!==s&&c.key===o.getKey()&&0===c.offset&&u.key===s.getKey()&&u.offset===s.getTextContentSize()?n:r}(t.shiftKey);return null!==n&&(t.preventDefault(),e.dispatchCommand(n,void 0),!0)}),kI),e.registerCommand(VI,(()=>!!Of(RP())&&($P([yP()]),!0)),kI),e.registerCommand(WI,(()=>Mf(WI)),kI),e.registerCommand(l$,(()=>Mf(l$)),kI),e.registerCommand(QI,(e=>{const t=RP();if(!GP(t))return!1;const{anchor:n}=t,r=n.getNode();return!!Of(t)&&(t.isCollapsed()&&0===n.offset&&null===r.getPreviousSibling()&&uf(r.getParentOrThrow())?(e.preventDefault(),!0):Rf(QI,e))}),kI),e.registerCommand(JI,(e=>{const t=RP();if(!GP(t))return!1;const{anchor:n}=t,r=n.getNode();return!!Of(t)&&(t.isCollapsed()&&n.offset===r.getTextContentSize()&&null===r.getNextSibling()&&uf(r.getParentOrThrow())?(e.preventDefault(),!0):Rf(JI,e))}),kI),e.registerCommand(a$,(e=>Ff(a$,e)),kI),e.registerCommand(s$,(e=>Ff(s$,e)),kI)),pB(...n)}});const AU=globalThis.Prism||window.Prism,NU=e=>{try{return!!e&&AU.languages.hasOwnProperty(e)}catch(e){return!1}},OU="data-language",jU="data-highlight-language";let MU=class e extends PI{static getType(){return"code"}static clone(t){return new e(t.__language,t.__key)}constructor(e,t){super(t),this.__language=e||void 0,this.__isSyntaxHighlightSupported=NU(e)}createDOM(e){const t=document.createElement("code");cB(t,e.theme.code),t.setAttribute("spellcheck","false");const n=this.getLanguage();return n&&(t.setAttribute(OU,n),this.getIsSyntaxHighlightSupported()&&t.setAttribute(jU,n)),t}updateDOM(e,t,n){const r=this.__language,i=e.__language;return r?r!==i&&(t.setAttribute(OU,r),this.__isSyntaxHighlightSupported&&t.setAttribute(jU,r)):i&&(t.removeAttribute(OU),e.__isSyntaxHighlightSupported&&t.removeAttribute(jU)),!1}exportDOM(e){const t=document.createElement("pre");cB(t,e._config.theme.code),t.setAttribute("spellcheck","false");const n=this.getLanguage();return n&&(t.setAttribute(OU,n),this.getIsSyntaxHighlightSupported()&&t.setAttribute(jU,n)),{element:t}}static importDOM(){return{code:e=>null!=e.textContent&&(/\r?\n/.test(e.textContent)||Pf(e,"BR"))?{conversion:zf,priority:1}:null,div:()=>({conversion:Bf,priority:1}),pre:()=>({conversion:zf,priority:0}),table:e=>Kf(e)?{conversion:Uf,priority:3}:null,td:e=>{const t=e,n=t.closest("table");return t.classList.contains("js-file-line")||n&&Kf(n)?{conversion:Hf,priority:3}:null},tr:e=>{const t=e.closest("table");return t&&Kf(t)?{conversion:Hf,priority:3}:null}}}static importJSON(e){return If().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setLanguage(e.language)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage()}}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.getChildren(),r=n.length;if(r>=2&&"\n"===n[r-1].getTextContent()&&"\n"===n[r-2].getTextContent()&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===r){n[r-1].remove(),n[r-2].remove();const e=pP();return this.insertAfter(e,t),e}const{anchor:i,focus:o}=e,s=(i.isBefore(o)?i:o).getNode()
;if(tI(s)){let e=Xf(s);const t=[];for(;;)if(eI(e))t.push(yP()),e=e.getNextSibling();else{if(!Jf(e))break;{let n=0;const r=e.getTextContent(),i=e.getTextContentSize();for(;n<i&&" "===r[n];)n++;if(0!==n&&t.push(Yf(" ".repeat(n))),n!==i)break;e=e.getNextSibling()}}const n=s.splitText(i.offset)[0],r=0===i.offset?0:1,o=n.getIndexWithinParent()+r,a=s.getParentOrThrow(),l=[fP(),...t];a.splice(o,0,l);const c=t[t.length-1];c?c.select():0===i.offset?n.selectPrevious():n.getNextSibling().selectNext(0,0)}if($f(s)){const{offset:t}=e.anchor;s.splice(t,0,[fP()]),s.select(t+1,t+1)}return null}canIndent(){return!1}collapseAtStart(){const e=pP();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}setLanguage(e){const t=this.getWritable();return t.__language=e||void 0,t.__isSyntaxHighlightSupported=NU(e),t}getLanguage(){return this.getLatest().__language}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}};const RU="javascript",FU={c:"C",clike:"C-like",cpp:"C++",css:"CSS",html:"HTML",java:"Java",js:"JavaScript",markdown:"Markdown",objc:"Objective-C",plain:"Plain Text",powershell:"PowerShell",py:"Python",rust:"Rust",sql:"SQL",swift:"Swift",typescript:"TypeScript",xml:"XML"},LU={cpp:"cpp",java:"java",javascript:"js",md:"markdown",plaintext:"plain",python:"py",text:"plain",ts:"typescript"};let PU=class e extends b${constructor(){let e=arguments.length>1?arguments[1]:void 0;super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>2?arguments[2]:void 0),this.__highlightType=e}static getType(){return"code-highlight"}static clone(t){return new e(t.__text,t.__highlightType||void 0,t.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(e){const t=this.getWritable();return t.__highlightType=e||void 0,t}canHaveFormat(){return!1}createDOM(e){const t=super.createDOM(e),n=Vf(e.theme,this.__highlightType);return cB(t,n),t}updateDOM(e,t,n){const r=super.updateDOM(e,t,n),i=Vf(n.theme,e.__highlightType),o=Vf(n.theme,this.__highlightType);return i!==o&&(i&&gB(t,i),o&&cB(t,o)),r}static importJSON(e){return Yf().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHighlightType(e.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return If()}};const IU={defaultLanguage:RU,tokenize(e,t){return AU.tokenize(e,AU.languages[t||""]||AU.languages[this.defaultLanguage])}},$U=new Set,zU=Xf,BU=Qf,UU=eh,HU=Zf;var WU=Object.freeze({__proto__:null,$createCodeHighlightNode:Yf,$createCodeNode:If,$getEndOfCodeInLine:eh,$getFirstCodeNodeOfLine:Xf,$getLastCodeNodeOfLine:Qf,$getStartOfCodeInLine:Zf,$isCodeHighlightNode:Jf,$isCodeNode:$f,CODE_LANGUAGE_FRIENDLY_NAME_MAP:FU,CODE_LANGUAGE_MAP:LU,CodeHighlightNode:PU,CodeNode:MU,DEFAULT_CODE_LANGUAGE:RU,PrismTokenizer:IU,getCodeLanguages:()=>Object.keys(AU.languages).filter((e=>"function"!=typeof AU.languages[e])).sort(),getDefaultCodeLanguage:()=>RU,getEndOfCodeInLine:UU,getFirstCodeNodeOfLine:zU,getLanguageFriendlyName:function(e){const t=qf(e);return FU[t]||t},getLastCodeNodeOfLine:BU,getStartOfCodeInLine:HU,normalizeCodeLang:qf,registerCodeHighlighting:function(e,t){if(!e.hasNodes([MU,PU]))throw new Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");null==t&&(t=IU);const n=[];return!0!==e._headless&&n.push(e.registerMutationListener(MU,(t=>{e.update((()=>{for(const[n,r]of t)if("destroyed"!==r){const t=NP(n);null!==t&&nh(t,e)}}))}),{skipInitialization:!1})),n.push(e.registerNodeTransform(MU,(n=>rh(n,e,t))),e.registerNodeTransform(b$,(n=>th(n,e,t))),e.registerNodeTransform(PU,(n=>th(n,e,t))),e.registerCommand(o$,(t=>{const n=function(e){const t=RP();if(!GP(t)||!sh(t))return null;const n=e?l$:WI,r=e?l$:VI;if(ah(t).length>1)return n;const i=t.getNodes()[0];if($f(i)||Jf(i)||eI(i)||VP(i)||Lf(170),$f(i))return n;const o=Xf(i),s=Qf(i),a=t.anchor,l=t.focus;let c,u;return l.isBefore(a)?(c=l,u=a):(c=a,u=l),null!==o&&null!==s&&c.key===o.getKey()&&0===c.offset&&u.key===s.getKey()&&u.offset===s.getTextContentSize()?n:r}(t.shiftKey);return null!==n&&(t.preventDefault(),e.dispatchCommand(n,void 0),!0)}),kI),e.registerCommand(VI,(()=>!!sh(RP())&&($P([yP()]),!0)),kI),e.registerCommand(WI,(()=>lh(WI)),kI),e.registerCommand(l$,(()=>lh(l$)),kI),e.registerCommand(QI,(e=>{const t=RP();if(!GP(t))return!1;const{anchor:n}=t,r=n.getNode();return!!sh(t)&&(t.isCollapsed()&&0===n.offset&&null===r.getPreviousSibling()&&$f(r.getParentOrThrow())?(e.preventDefault(),!0):ch(QI,e))}),kI),e.registerCommand(JI,(e=>{const t=RP();if(!GP(t))return!1;const{anchor:n}=t,r=n.getNode();return!!sh(t)&&(t.isCollapsed()&&n.offset===r.getTextContentSize()&&null===r.getNextSibling()&&$f(r.getParentOrThrow())?(e.preventDefault(),!0):ch(JI,e))}),kI),e.registerCommand(a$,(e=>uh(a$,e)),kI),e.registerCommand(s$,(e=>uh(s$,e)),kI)),pB(...n)}});const KU=WU,qU=KU.$createCodeNode,VU=KU.$isCodeHighlightNode,YU=KU.$isCodeNode,JU=KU.CODE_LANGUAGE_FRIENDLY_NAME_MAP,GU=KU.CodeHighlightNode,XU=KU.CodeNode,QU=KU.getLanguageFriendlyName;let ZU=class e extends PI{static getType(){return"listitem"}static clone(t){return new e(t.__value,t.__checked,t.__key)}constructor(e,t,n){super(n),this.__value=void 0===e?1:e,this.__checked=t}createDOM(e){const t=document.createElement("li"),n=this.getParent();Ih(n)&&"check"===n.getListType()&&Ah(t,this,null),t.value=this.__value,Th(t,e.theme,this);const r=this.__style;return r&&(t.style.cssText=r),Dh(t,this,null),t}updateDOM(e,t,n){const r=this.getParent();Ih(r)&&"check"===r.getListType()&&Ah(t,this,e),t.value=this.__value,Th(t,n.theme,this);const i=e.__style,o=this.__style;return i!==o&&(""===o?t.removeAttribute("style"):t.style.cssText=o),Dh(t,this,e),!1}static transform(){return e=>{if(Mh(e)||dh("node is not a ListItemNode"),null==e.__checked)return;const t=e.getParent();Ih(t)&&"check"!==t.getListType()&&null!=e.getChecked()&&e.setChecked(void 0)}}static importDOM(){return{li:()=>({conversion:Nh,priority:0})}}static importJSON(e){return jh().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setValue(e.value).setChecked(e.checked)}exportDOM(e){const t=this.createDOM(e._config),n=this.getFormatType();n&&(t.style.textAlign=n);const r=this.getDirection();return r&&(t.dir=r),{element:t}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(){for(let e=0;e<arguments.length;e++){const t=e<0||arguments.length<=e?void 0:arguments[e];if(HP(t)&&this.canMergeWith(t)){const e=t.getChildren();this.append(...e),t.remove()}else super.append(t)}return this}replace(e,t){if(Mh(e))return super.replace(e);this.setIndent(0);const n=this.getParentOrThrow();if(!Ih(n))return e;if(n.__first===this.getKey())n.insertBefore(e);else if(n.__last===this.getKey())n.insertAfter(e);else{const t=Ph(n.getListType());let r=this.getNextSibling();for(;r;){const e=r;r=r.getNextSibling(),t.append(e)}n.insertAfter(e),e.insertAfter(t)}return t&&(HP(e)||dh("includeChildren should only be true for ElementNodes"),this.getChildren().forEach((t=>{e.append(t)}))),this.remove(),0===n.getChildrenSize()&&n.remove(),e}insertAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.getParentOrThrow();if(Ih(n)||dh("insertAfter: list node is not parent of list item node"),Mh(e))return super.insertAfter(e,t);const r=this.getNextSiblings();if(n.insertAfter(e,t),0!==r.length){const i=Ph(n.getListType());r.forEach((e=>i.append(e))),e.insertAfter(i,t)}return e}remove(e){const t=this.getPreviousSibling(),n=this.getNextSibling();super.remove(e),t&&n&&mh(t)&&mh(n)&&(wh(t.getFirstChild(),n.getFirstChild()),n.remove())}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=jh().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(n,t),n}collapseAtStart(e){const t=pP();this.getChildren().forEach((e=>t.append(e)));const n=this.getParentOrThrow(),r=n.getParentOrThrow(),i=Mh(r);if(1===n.getChildrenSize())if(i)n.remove(),r.select();else{n.insertBefore(t),n.remove();const r=e.anchor,i=e.focus,o=t.getKey();"element"===r.type&&r.getNode().is(this)&&r.set(o,r.offset,"element"),"element"===i.type&&i.getNode().is(this)&&i.set(o,i.offset,"element")}else n.insertBefore(t),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){const t=this.getWritable();return t.__value=e,t}getChecked(){const e=this.getLatest();let t;const n=this.getParent();return Ih(n)&&(t=n.getListType()),"check"===t?Boolean(e.__checked):void 0}setChecked(e){const t=this.getWritable();return t.__checked=e,t}toggleChecked(){const e=this.getWritable();return e.setChecked(!e.__checked)}getIndent(){const e=this.getParent();if(null===e||!this.isAttached())return this.getLatest().__indent;let t=e.getParentOrThrow(),n=0;for(;Mh(t);)t=t.getParentOrThrow().getParentOrThrow(),n++;return n}setIndent(e){"number"!=typeof e&&dh("Invalid indent value."),(e=Math.floor(e))>=0||dh("Indent value must be non-negative.");let t=this.getIndent();for(;t!==e;)t<e?(xh(this),t++):(Eh(this),t--);return this}canInsertAfter(e){return Mh(e)}canReplaceWith(e){return Mh(e)}canMergeWith(e){return Mh(e)||JP(e)}extractWithChild(e,t){if(!GP(t))return!1;const n=t.anchor.getNode(),r=t.focus.getNode();return this.isParentOf(n)&&this.isParentOf(r)&&this.getTextContent().length===t.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return Ph("bullet")}canMergeWhenEmpty(){return!0}},eH=class e extends PI{static getType(){return"list"}static clone(t){const n=t.__listType||tH[t.__tag];return new e(n,t.__start,t.__key)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"number",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(arguments.length>2?arguments[2]:void 0);const n=tH[e]||e;this.__listType=n,this.__tag="number"===n?"ol":"ul",this.__start=t}getTag(){return this.__tag}setListType(e){const t=this.getWritable();return t.__listType=e,t.__tag="number"===e?"ol":"ul",t}getListType(){return this.__listType}getStart(){return this.__start}setStart(e){const t=this.getWritable();return t.__start=e,t}createDOM(e,t){const n=this.__tag,r=document.createElement(n);return 1!==this.__start&&r.setAttribute("start",String(this.__start)),r.__lexicalListType=this.__listType,Rh(r,e.theme,this),r}updateDOM(e,t,n){return e.__tag!==this.__tag||(Rh(t,n.theme,this),!1)}static transform(){return e=>{Ih(e)||dh("node is not a ListNode"),function(e){const t=e.getNextSibling();Ih(t)&&e.getListType()===t.getListType()&&wh(e,t)}(e),function(e){const t="check"!==e.getListType();let n=e.getStart();for(const r of e.getChildren())Mh(r)&&(r.getValue()!==n&&r.setValue(n),t&&null!=r.getLatest().__checked&&r.setChecked(void 0),Ih(r.getFirstChild())||n++)}(e)}}static importDOM(){return{ol:()=>({conversion:Lh,priority:0}),ul:()=>({conversion:Lh,priority:0})}}static importJSON(e){return Ph().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setListType(e.listType).setStart(e.start)}exportDOM(e){const t=this.createDOM(e._config,e);return hB(t)&&(1!==this.__start&&t.setAttribute("start",String(this.__start)),"check"===this.__listType&&t.setAttribute("__lexicalListType","check")),{element:t}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(e,t,n){let r=n;for(let e=0;e<n.length;e++){const t=n[e];Mh(t)||(r===n&&(r=[...n]),r[e]=jh().append(!HP(t)||Ih(t)||t.isInline()?t:bP(t.getTextContent())))}return super.splice(e,t,r)}extractWithChild(e){return Mh(e)}};const tH={ol:"number",ul:"bullet"},nH=w$("INSERT_CHECK_LIST_COMMAND"),rH=w$("INSERT_UNORDERED_LIST_COMMAND"),iH=w$("INSERT_ORDERED_LIST_COMMAND"),oH=w$("REMOVE_LIST_COMMAND");Object.freeze({__proto__:null,$createListItemNode:jh,$createListNode:Ph,$getListDepth:fh,$handleListInsertParagraph:Sh,$insertList:yh,$isListItemNode:Mh,$isListNode:Ih,$removeList:Ch,INSERT_CHECK_LIST_COMMAND:nH,INSERT_ORDERED_LIST_COMMAND:iH,INSERT_UNORDERED_LIST_COMMAND:rH,ListItemNode:ZU,ListNode:eH,REMOVE_LIST_COMMAND:oH,insertList:function(e,t){e.update((()=>yh(t)))},registerCheckList:function(e){return pB(e.registerCommand(nH,(()=>(yh("check"),!0)),kI),e.registerCommand(JI,(t=>Hh(t,e,!1)),kI),e.registerCommand(QI,(t=>Hh(t,e,!0)),kI),e.registerCommand(r$,(()=>{if(null!=Uh()){const t=e.getRootElement();return null!=t&&t.focus(),!0}return!1}),kI),e.registerCommand(i$,(t=>{const n=Uh();return!(null==n||!e.isEditable()||(e.update((()=>{const e=AP(n);Mh(e)&&(t.preventDefault(),e.toggleChecked())})),0))}),kI),e.registerCommand(GI,(t=>e.getEditorState().read((()=>{const n=RP();if(GP(n)&&n.isCollapsed()){const{anchor:r}=n,i="element"===r.type;if(i||0===r.offset){const n=r.getNode(),o=Zz(n,(e=>HP(e)&&!e.isInline()));if(Mh(o)){const r=o.getParent();if(Ih(r)&&"check"===r.getListType()&&(i||o.getFirstDescendant()===n)){const n=e.getElementByKey(o.__key);if(null!=n&&document.activeElement!==n)return n.focus(),t.preventDefault(),!0}}}}return!1}))),kI),e.registerRootListener(((e,t)=>{null!==e&&(e.addEventListener("click",zh),e.addEventListener("pointerdown",Bh)),null!==t&&(t.removeEventListener("click",zh),t.removeEventListener("pointerdown",Bh))})))},registerList:function(e){return pB(e.registerCommand(iH,(()=>(yh("number"),!0)),kI),e.registerCommand(rH,(()=>(yh("bullet"),!0)),kI),e.registerCommand(oH,(()=>(Ch(),!0)),kI),e.registerCommand(qI,(()=>Sh()),kI),e.registerNodeTransform(ZU,(e=>{const t=e.getFirstChild();if(t){if(tI(t)){const n=t.getStyle(),r=t.getFormat();e.getTextStyle()!==n&&e.setTextStyle(n),e.getTextFormat()!==r&&e.setTextFormat(r)}}else{const t=RP();GP(t)&&(t.style!==e.getTextStyle()||t.format!==e.getTextFormat())&&t.isCollapsed()&&e.is(t.anchor.getNode())&&e.setTextStyle(t.style).setTextFormat(t.format)}})),e.registerNodeTransform(b$,(e=>{const t=e.getParent();if(Mh(t)&&e.is(t.getFirstChild())){const n=e.getStyle(),r=e.getFormat();n===t.getTextStyle()&&r===t.getTextFormat()||t.setTextStyle(n).setTextFormat(r)}})))},registerListStrictIndentTransform:function(e){const t=e=>{const t=e.getParent();if(Ih(e.getFirstChild())||!Ih(t))return;const n=Zz(e,(e=>Mh(e)&&Ih(e.getParent())&&Mh(e.getPreviousSibling())));if(null===n&&e.getIndent()>0)e.setIndent(0);else if(Mh(n)){const r=n.getPreviousSibling();if(Mh(r)){const n=function(e){let t=e,n=t.getFirstChild();for(;Ih(n);){const e=n.getLastChild();if(!Mh(e))break;t=e,n=t.getFirstChild()}return t}(r),i=n.getParent();if(Ih(i)){const n=fh(i);n+1<fh(t)&&e.setIndent(n)}}}};return e.registerNodeTransform(eH,(e=>{const n=[e];for(;n.length>0;){const e=n.shift();if(Ih(e))for(const r of e.getChildren())if(Mh(r)){t(r);const e=r.getFirstChild();Ih(e)&&n.push(e)}}}))},removeList:function(e){e.update((()=>Ch()))}});let sH=class e extends PI{static getType(){return"listitem"}static clone(t){return new e(t.__value,t.__checked,t.__key)}constructor(e,t,n){super(n),this.__value=void 0===e?1:e,this.__checked=t}createDOM(e){const t=document.createElement("li"),n=this.getParent();vp(n)&&"check"===n.getListType()&&lp(t,this,null),t.value=this.__value,ap(t,e.theme,this);const r=this.__style;return r&&(t.style.cssText=r),sp(t,this,null),t}updateDOM(e,t,n){const r=this.getParent();vp(r)&&"check"===r.getListType()&&lp(t,this,e),t.value=this.__value,ap(t,n.theme,this);const i=e.__style,o=this.__style;return i!==o&&(""===o?t.removeAttribute("style"):t.style.cssText=o),sp(t,this,e),!1}static transform(){return e=>{if(fp(e)||Wh(144),null==e.__checked)return;const t=e.getParent();vp(t)&&"check"!==t.getListType()&&null!=e.getChecked()&&e.setChecked(void 0)}}static importDOM(){return{li:()=>({conversion:cp,priority:0})}}static importJSON(e){return dp().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setValue(e.value).setChecked(e.checked)}exportDOM(e){const t=this.createDOM(e._config),n=this.getFormatType();n&&(t.style.textAlign=n);const r=this.getDirection();return r&&(t.dir=r),{element:t}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(){for(let e=0;e<arguments.length;e++){const t=e<0||arguments.length<=e?void 0:arguments[e];if(HP(t)&&this.canMergeWith(t)){const e=t.getChildren();this.append(...e),t.remove()}else super.append(t)}return this}replace(e,t){if(fp(e))return super.replace(e);this.setIndent(0);const n=this.getParentOrThrow();if(!vp(n))return e;if(n.__first===this.getKey())n.insertBefore(e);else if(n.__last===this.getKey())n.insertAfter(e);else{const t=gp(n.getListType());let r=this.getNextSibling();for(;r;){const e=r;r=r.getNextSibling(),t.append(e)}n.insertAfter(e),e.insertAfter(t)}return t&&(HP(e)||Wh(139),this.getChildren().forEach((t=>{e.append(t)}))),this.remove(),0===n.getChildrenSize()&&n.remove(),e}insertAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.getParentOrThrow();if(vp(n)||Wh(39),fp(e))return super.insertAfter(e,t);const r=this.getNextSiblings();if(n.insertAfter(e,t),0!==r.length){const i=gp(n.getListType());r.forEach((e=>i.append(e))),e.insertAfter(i,t)}return e}remove(e){const t=this.getPreviousSibling(),n=this.getNextSibling();super.remove(e),t&&n&&Yh(t)&&Yh(n)&&(ep(t.getFirstChild(),n.getFirstChild()),n.remove())}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=dp().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(n,t),n}collapseAtStart(e){const t=pP();this.getChildren().forEach((e=>t.append(e)));const n=this.getParentOrThrow(),r=n.getParentOrThrow(),i=fp(r);if(1===n.getChildrenSize())if(i)n.remove(),r.select();else{n.insertBefore(t),n.remove();const r=e.anchor,i=e.focus,o=t.getKey();"element"===r.type&&r.getNode().is(this)&&r.set(o,r.offset,"element"),"element"===i.type&&i.getNode().is(this)&&i.set(o,i.offset,"element")}else n.insertBefore(t),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){const t=this.getWritable();return t.__value=e,t}getChecked(){const e=this.getLatest();let t;const n=this.getParent();return vp(n)&&(t=n.getListType()),"check"===t?Boolean(e.__checked):void 0}setChecked(e){const t=this.getWritable();return t.__checked=e,t}toggleChecked(){const e=this.getWritable();return e.setChecked(!e.__checked)}getIndent(){const e=this.getParent();if(null===e||!this.isAttached())return this.getLatest().__indent;let t=e.getParentOrThrow(),n=0;for(;fp(t);)t=t.getParentOrThrow().getParentOrThrow(),n++;return n}setIndent(e){"number"!=typeof e&&Wh(117),(e=Math.floor(e))>=0||Wh(199);let t=this.getIndent();for(;t!==e;)t<e?(np(this),t++):(rp(this),t--);return this}canInsertAfter(e){return fp(e)}canReplaceWith(e){return fp(e)}canMergeWith(e){return fp(e)||JP(e)}extractWithChild(e,t){if(!GP(t))return!1;const n=t.anchor.getNode(),r=t.focus.getNode();return this.isParentOf(n)&&this.isParentOf(r)&&this.getTextContent().length===t.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return gp("bullet")}canMergeWhenEmpty(){return!0}},aH=class e extends PI{static getType(){return"list"}static clone(t){const n=t.__listType||lH[t.__tag];return new e(n,t.__start,t.__key)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"number",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(arguments.length>2?arguments[2]:void 0);const n=lH[e]||e;this.__listType=n,this.__tag="number"===n?"ol":"ul",this.__start=t}getTag(){return this.__tag}setListType(e){const t=this.getWritable();return t.__listType=e,t.__tag="number"===e?"ol":"ul",t}getListType(){return this.__listType}getStart(){return this.__start}setStart(e){const t=this.getWritable();return t.__start=e,t}createDOM(e,t){const n=this.__tag,r=document.createElement(n);return 1!==this.__start&&r.setAttribute("start",String(this.__start)),r.__lexicalListType=this.__listType,hp(r,e.theme,this),r}updateDOM(e,t,n){return e.__tag!==this.__tag||(hp(t,n.theme,this),!1)}static transform(){return e=>{vp(e)||Wh(163),function(e){const t=e.getNextSibling();vp(t)&&e.getListType()===t.getListType()&&ep(e,t)}(e),function(e){const t="check"!==e.getListType();let n=e.getStart();for(const r of e.getChildren())fp(r)&&(r.getValue()!==n&&r.setValue(n),t&&null!=r.getLatest().__checked&&r.setChecked(void 0),vp(r.getFirstChild())||n++)}(e)}}static importDOM(){return{ol:()=>({conversion:mp,priority:0}),ul:()=>({conversion:mp,priority:0})}}static importJSON(e){return gp().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setListType(e.listType).setStart(e.start)}exportDOM(e){const t=this.createDOM(e._config,e);return hB(t)&&(1!==this.__start&&t.setAttribute("start",String(this.__start)),"check"===this.__listType&&t.setAttribute("__lexicalListType","check")),{element:t}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(e,t,n){let r=n;for(let e=0;e<n.length;e++){const t=n[e];fp(t)||(r===n&&(r=[...n]),r[e]=dp().append(!HP(t)||vp(t)||t.isInline()?t:bP(t.getTextContent())))}return super.splice(e,t,r)}extractWithChild(e){return fp(e)}};const lH={ol:"number",ul:"bullet"},cH=w$("INSERT_CHECK_LIST_COMMAND"),uH=w$("INSERT_UNORDERED_LIST_COMMAND"),dH=w$("INSERT_ORDERED_LIST_COMMAND"),fH=w$("REMOVE_LIST_COMMAND");var hH=Object.freeze({__proto__:null,$createListItemNode:dp,$createListNode:gp,$getListDepth:Kh,$handleListInsertParagraph:ip,$insertList:Xh,$isListItemNode:fp,$isListNode:vp,$removeList:tp,INSERT_CHECK_LIST_COMMAND:cH,INSERT_ORDERED_LIST_COMMAND:dH,INSERT_UNORDERED_LIST_COMMAND:uH,ListItemNode:sH,ListNode:aH,REMOVE_LIST_COMMAND:fH,insertList:function(e,t){e.update((()=>Xh(t)))},registerCheckList:function(e){return pB(e.registerCommand(cH,(()=>(Xh("check"),!0)),kI),e.registerCommand(JI,(t=>Cp(t,e,!1)),kI),e.registerCommand(QI,(t=>Cp(t,e,!0)),kI),e.registerCommand(r$,(()=>{if(null!=wp()){const t=e.getRootElement();return null!=t&&t.focus(),!0}return!1}),kI),e.registerCommand(i$,(t=>{const n=wp();return!(null==n||!e.isEditable()||(e.update((()=>{const e=AP(n);fp(e)&&(t.preventDefault(),e.toggleChecked())})),0))}),kI),e.registerCommand(GI,(t=>e.getEditorState().read((()=>{const n=RP();if(GP(n)&&n.isCollapsed()){const{anchor:r}=n,i="element"===r.type;if(i||0===r.offset){const n=r.getNode(),o=Zz(n,(e=>HP(e)&&!e.isInline()));if(fp(o)){const r=o.getParent();if(vp(r)&&"check"===r.getListType()&&(i||o.getFirstDescendant()===n)){const n=e.getElementByKey(o.__key);if(null!=n&&document.activeElement!==n)return n.focus(),t.preventDefault(),!0}}}}return!1}))),kI),e.registerRootListener(((e,t)=>{null!==e&&(e.addEventListener("click",bp),e.addEventListener("pointerdown",_p)),null!==t&&(t.removeEventListener("click",bp),t.removeEventListener("pointerdown",_p))})))},registerList:function(e){return pB(e.registerCommand(dH,(()=>(Xh("number"),!0)),kI),e.registerCommand(uH,(()=>(Xh("bullet"),!0)),kI),e.registerCommand(fH,(()=>(tp(),!0)),kI),e.registerCommand(qI,(()=>ip()),kI),e.registerNodeTransform(sH,(e=>{const t=e.getFirstChild();if(t){if(tI(t)){const n=t.getStyle(),r=t.getFormat();e.getTextStyle()!==n&&e.setTextStyle(n),e.getTextFormat()!==r&&e.setTextFormat(r)}}else{const t=RP();GP(t)&&(t.style!==e.getTextStyle()||t.format!==e.getTextFormat())&&t.isCollapsed()&&e.is(t.anchor.getNode())&&e.setTextStyle(t.style).setTextFormat(t.format)}})),e.registerNodeTransform(b$,(e=>{const t=e.getParent();if(fp(t)&&e.is(t.getFirstChild())){const n=e.getStyle(),r=e.getFormat();n===t.getTextStyle()&&r===t.getTextFormat()||t.setTextStyle(n).setTextFormat(r)}})))},registerListStrictIndentTransform:function(e){const t=e=>{const t=e.getParent();if(vp(e.getFirstChild())||!vp(t))return;const n=Zz(e,(e=>fp(e)&&vp(e.getParent())&&fp(e.getPreviousSibling())));if(null===n&&e.getIndent()>0)e.setIndent(0);else if(fp(n)){const r=n.getPreviousSibling();if(fp(r)){const n=function(e){let t=e,n=t.getFirstChild();for(;vp(n);){const e=n.getLastChild();if(!fp(e))break;t=e,n=t.getFirstChild()}return t}(r),i=n.getParent();if(vp(i)){const n=Kh(i);n+1<Kh(t)&&e.setIndent(n)}}}};return e.registerNodeTransform(aH,(e=>{const n=[e];for(;n.length>0;){const e=n.shift();if(vp(e))for(const r of e.getChildren())if(fp(r)){t(r);const e=r.getFirstChild();vp(e)&&n.push(e)}}}))},removeList:function(e){e.update((()=>tp()))}});const pH=hH,mH=pH.$createListItemNode,gH=pH.$createListNode,vH=pH.$isListItemNode,yH=pH.$isListNode,bH=pH.INSERT_CHECK_LIST_COMMAND,_H=pH.INSERT_ORDERED_LIST_COMMAND,wH=pH.INSERT_UNORDERED_LIST_COMMAND,CH=pH.ListItemNode,xH=pH.ListNode,EH=pH.REMOVE_LIST_COMMAND,SH=pH.registerCheckList,kH=pH.registerList,DH=pH.registerListStrictIndentTransform,TH=new Set(["http:","https:","mailto:","sms:","tel:"]);let AH=class e extends PI{static getType(){return"link"}static clone(t){return new e(t.__url,{rel:t.__rel,target:t.__target,title:t.__title},t.__key)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(arguments.length>2?arguments[2]:void 0);const{target:n=null,rel:r=null,title:i=null}=t;this.__url=e,this.__target=n,this.__rel=r,this.__title=i}createDOM(e){const t=document.createElement("a");return t.href=this.sanitizeUrl(this.__url),null!==this.__target&&(t.target=this.__target),null!==this.__rel&&(t.rel=this.__rel),null!==this.__title&&(t.title=this.__title),cB(t,e.theme.link),t}updateDOM(e,t,n){if(fB(t)){const n=this.__url,r=this.__target,i=this.__rel,o=this.__title;n!==e.__url&&(t.href=n),r!==e.__target&&(r?t.target=r:t.removeAttribute("target")),i!==e.__rel&&(i?t.rel=i:t.removeAttribute("rel")),o!==e.__title&&(o?t.title=o:t.removeAttribute("title"))}return!1}static importDOM(){return{a:()=>({conversion:xp,priority:1})}}static importJSON(e){return Ep().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setURL(e.url).setRel(e.rel||null).setTarget(e.target||null).setTitle(e.title||null)}sanitizeUrl(e){try{const t=new URL(e);if(!TH.has(t.protocol))return"about:blank"}catch(t){return e}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(e){const t=this.getWritable();return t.__url=e,t}getTarget(){return this.getLatest().__target}setTarget(e){const t=this.getWritable();return t.__target=e,t}getRel(){return this.getLatest().__rel}setRel(e){const t=this.getWritable();return t.__rel=e,t}getTitle(){return this.getLatest().__title}setTitle(e){const t=this.getWritable();return t.__title=e,t}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=Ep(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(n,t),n}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t,n){if(!GP(t))return!1;const r=t.anchor.getNode(),i=t.focus.getNode();return this.isParentOf(r)&&this.isParentOf(i)&&t.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}},NH=class e extends AH{constructor(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e,arguments.length>2?arguments[2]:void 0),this.__isUnlinked=void 0!==e.isUnlinked&&null!==e.isUnlinked&&e.isUnlinked}static getType(){return"autolink"}static clone(t){return new e(t.__url,{isUnlinked:t.__isUnlinked,rel:t.__rel,target:t.__target,title:t.__title},t.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(e){const t=this.getWritable();return t.__isUnlinked=e,t}createDOM(e){return this.__isUnlinked?document.createElement("span"):super.createDOM(e)}updateDOM(e,t,n){return super.updateDOM(e,t,n)||e.__isUnlinked!==this.__isUnlinked}static importJSON(e){return kp().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setIsUnlinked(e.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.getParentOrThrow().insertNewAfter(e,t);if(HP(n)){const e=kp(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return n.append(e),e}return null}};const OH=w$("TOGGLE_LINK_COMMAND"),jH=Ap;Object.freeze({__proto__:null,$createAutoLinkNode:kp,$createLinkNode:Ep,$isAutoLinkNode:Dp,$isLinkNode:Sp,$toggleLink:Ap,AutoLinkNode:NH,LinkNode:AH,TOGGLE_LINK_COMMAND:OH,toggleLink:jH});const MH=new Set(["http:","https:","mailto:","sms:","tel:"]);let RH=class e extends PI{static getType(){return"link"}static clone(t){return new e(t.__url,{rel:t.__rel,target:t.__target,title:t.__title},t.__key)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(arguments.length>2?arguments[2]:void 0);const{target:n=null,rel:r=null,title:i=null}=t;this.__url=e,this.__target=n,this.__rel=r,this.__title=i}createDOM(e){const t=document.createElement("a");return t.href=this.sanitizeUrl(this.__url),null!==this.__target&&(t.target=this.__target),null!==this.__rel&&(t.rel=this.__rel),null!==this.__title&&(t.title=this.__title),cB(t,e.theme.link),t}updateDOM(e,t,n){if(fB(t)){const n=this.__url,r=this.__target,i=this.__rel,o=this.__title;n!==e.__url&&(t.href=n),r!==e.__target&&(r?t.target=r:t.removeAttribute("target")),i!==e.__rel&&(i?t.rel=i:t.removeAttribute("rel")),o!==e.__title&&(o?t.title=o:t.removeAttribute("title"))}return!1}static importDOM(){return{a:()=>({conversion:Op,priority:1})}}static importJSON(e){return jp().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setURL(e.url).setRel(e.rel||null).setTarget(e.target||null).setTitle(e.title||null)}sanitizeUrl(e){try{const t=new URL(e);if(!MH.has(t.protocol))return"about:blank"}catch(t){return e}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(e){const t=this.getWritable();return t.__url=e,t}getTarget(){return this.getLatest().__target}setTarget(e){const t=this.getWritable();return t.__target=e,t}getRel(){return this.getLatest().__rel}setRel(e){const t=this.getWritable();return t.__rel=e,t}getTitle(){return this.getLatest().__title}setTitle(e){const t=this.getWritable();return t.__title=e,t}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=jp(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(n,t),n}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t,n){if(!GP(t))return!1;const r=t.anchor.getNode(),i=t.focus.getNode();return this.isParentOf(r)&&this.isParentOf(i)&&t.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}},FH=class e extends RH{constructor(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e,arguments.length>2?arguments[2]:void 0),this.__isUnlinked=void 0!==e.isUnlinked&&null!==e.isUnlinked&&e.isUnlinked}static getType(){return"autolink"}static clone(t){return new e(t.__url,{isUnlinked:t.__isUnlinked,rel:t.__rel,target:t.__target,title:t.__title},t.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(e){const t=this.getWritable();return t.__isUnlinked=e,t}createDOM(e){return this.__isUnlinked?document.createElement("span"):super.createDOM(e)}updateDOM(e,t,n){return super.updateDOM(e,t,n)||e.__isUnlinked!==this.__isUnlinked}static importJSON(e){return Rp().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setIsUnlinked(e.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.getParentOrThrow().insertNewAfter(e,t);if(HP(n)){const e=Rp(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return n.append(e),e}return null}};const LH=w$("TOGGLE_LINK_COMMAND"),PH=Pp,IH=Object.freeze({__proto__:null,$createAutoLinkNode:Rp,$createLinkNode:jp,$isAutoLinkNode:Fp,$isLinkNode:Mp,$toggleLink:Pp,AutoLinkNode:FH,LinkNode:RH,TOGGLE_LINK_COMMAND:LH,toggleLink:PH
}),$H=IH.$createAutoLinkNode,zH=IH.$createLinkNode,BH=IH.$isAutoLinkNode,UH=IH.$isLinkNode,HH=IH.$toggleLink,WH=IH.AutoLinkNode,KH=IH.LinkNode,qH=IH.TOGGLE_LINK_COMMAND;class VH extends d${static getType(){return"hsoub-paragraph"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];super(arguments.length>1?arguments[1]:void 0),this.__isAnInline=e}static clone(e){return new VH(e.__isAnInline,e.__key)}createDOM(e){const t=super.createDOM(e);return this.getIsInline()&&(t.style.display="inline"),t.style.cssText+=this.getStyle(),t}updateDOM(e){return this.__style!==e.__style}setIsInline(e){this.getWritable().__isAnInline=e}getIsInline(){return this.getLatest().__isAnInline}static importDOM(){const e=super.importDOM();return e&&e.p?Object.assign(Object.assign({},e),{p:Bp(e.p)}):e}static importJSON(e){const t=$p(e.isAnInline);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t.setIsInline(e.isAnInline),t}exportJSON(){return Object.assign(Object.assign({},super.exportJSON()),{isAnInline:this.getIsInline(),type:"hsoub-paragraph",version:1})}}const YH=/^(\d+(?:\.\d+)?)px$/,JH={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1};let GH=class e extends PI{static getType(){return"tablecell"}static clone(t){return new e(t.__headerState,t.__colSpan,t.__width,t.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__rowSpan=e.__rowSpan,this.__backgroundColor=e.__backgroundColor,this.__verticalAlign=e.__verticalAlign}static importDOM(){return{td:()=>({conversion:Wp,priority:0}),th:()=>({conversion:Wp,priority:0})}}static importJSON(e){return Kp().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeaderStyles(e.headerState).setColSpan(e.colSpan||1).setRowSpan(e.rowSpan||1).setWidth(e.width||void 0).setBackgroundColor(e.backgroundColor||null).setVerticalAlign(e.verticalAlign||void 0)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:JH.NO_STATUS,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;super(arguments.length>3?arguments[3]:void 0),this.__colSpan=t,this.__rowSpan=1,this.__headerState=e,this.__width=n,this.__backgroundColor=null,this.__verticalAlign=void 0}createDOM(e){const t=document.createElement(this.getTag());return this.__width&&(t.style.width=`${this.__width}px`),this.__colSpan>1&&(t.colSpan=this.__colSpan),this.__rowSpan>1&&(t.rowSpan=this.__rowSpan),null!==this.__backgroundColor&&(t.style.backgroundColor=this.__backgroundColor),Hp(this.__verticalAlign)&&(t.style.verticalAlign=this.__verticalAlign),cB(t,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),t}exportDOM(e){const t=super.exportDOM(e);if(O$(t.element)){const e=t.element;e.setAttribute("data-temporary-table-cell-lexical-key",this.getKey()),e.style.border="1px solid black",this.__colSpan>1&&(e.colSpan=this.__colSpan),this.__rowSpan>1&&(e.rowSpan=this.__rowSpan),e.style.width=`${this.getWidth()||75}px`,e.style.verticalAlign=this.getVerticalAlign()||"top",e.style.textAlign="start",null===this.__backgroundColor&&this.hasHeader()&&(e.style.backgroundColor="#f2f3f5")}return t}exportJSON(){return{...super.exportJSON(),...Hp(this.__verticalAlign)&&{verticalAlign:this.__verticalAlign},backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,width:this.getWidth()}}getColSpan(){return this.getLatest().__colSpan}setColSpan(e){const t=this.getWritable();return t.__colSpan=e,t}getRowSpan(){return this.getLatest().__rowSpan}setRowSpan(e){const t=this.getWritable();return t.__rowSpan=e,t}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JH.BOTH;const n=this.getWritable();return n.__headerState=e&t|n.__headerState&~t,n}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){const t=this.getWritable();return t.__width=e,t}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){const t=this.getWritable();return t.__backgroundColor=e,t}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(e){const t=this.getWritable();return t.__verticalAlign=e||void 0,t}toggleHeaderStyle(e){const t=this.getWritable();return(t.__headerState&e)===e?t.__headerState-=e:t.__headerState+=e,t}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==JH.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor||e.__verticalAlign!==this.__verticalAlign}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}};const XH=w$("INSERT_TABLE_COMMAND");let QH=class e extends PI{static getType(){return"tablerow"}static clone(t){return new e(t.__height,t.__key)}static importDOM(){return{tr:()=>({conversion:Yp,priority:0})}}static importJSON(e){return Jp().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeight(e.height)}constructor(e,t){super(t),this.__height=e}exportJSON(){const e=this.getHeight();return{...super.exportJSON(),...void 0===e?void 0:{height:e}}}createDOM(e){const t=document.createElement("tr");return this.__height&&(t.style.height=`${this.__height}px`),cB(t,e.theme.tableRow),t}extractWithChild(e,t,n){return"html"===n}isShadowRoot(){return!0}setHeight(e){const t=this.getWritable();return t.__height=e,t}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}};const ZH="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,eW=ZH&&"documentMode"in document?document.documentMode:null,tW=ZH&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);ZH&&"InputEvent"in window&&!eW&&new window.InputEvent("input");const nW=(e,t)=>e===JH.BOTH||e===t?t:JH.NO_STATUS,rW=tm,iW=rm,oW=om,sW=sm;class aW{constructor(e,t,n){this.anchor=t,this.focus=n,t._selection=this,n._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=e}getStartEndPoints(){return[this.anchor,this.focus]}isValid(){return"root"!==this.tableKey&&"root"!==this.anchor.key&&"element"===this.anchor.type&&"root"!==this.focus.key&&"element"===this.focus.type}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return ym(e)&&this.tableKey===e.tableKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)}set(e,t,n){this.dirty=this.dirty||e!==this.tableKey||t!==this.anchor.key||n!==this.focus.key,this.tableKey=e,this.anchor.key=t,this.focus.key=n,this._cachedNodes=null}clone(){return new aW(this.tableKey,mP(this.anchor.key,this.anchor.offset,this.anchor.type),mP(this.focus.key,this.focus.offset,this.focus.type))}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(e){}insertText(){}hasFormat(e){let t=0;this.getNodes().filter(qp).forEach((e=>{const n=e.getFirstChild();JP(n)&&(t|=n.getTextFormat())}));const n=y$[e];return 0!=(t&n)}insertNodes(e){const t=this.focus.getNode();HP(t)||Vp("Expected TableSelection focus to be an ElementNode"),oI(t.select(0,t.getChildrenSize())).insertNodes(e)}getShape(){const{anchorCell:e,focusCell:t}=vm(this),n=gm(e);null===n&&Vp("getCellRect: expected to find AnchorNode");const r=gm(t);null===r&&Vp("getCellRect: expected to find focusCellNode");const i=Math.min(n.columnIndex,r.columnIndex),o=Math.max(n.columnIndex+n.colSpan-1,r.columnIndex+r.colSpan-1),s=Math.min(n.rowIndex,r.rowIndex),a=Math.max(n.rowIndex+n.rowSpan-1,r.rowIndex+r.rowSpan-1);return{fromX:Math.min(i,o),fromY:Math.min(s,a),toX:Math.max(i,o),toY:Math.max(s,a)}}getNodes(){if(!this.isValid())return[];const e=this._cachedNodes;if(null!==e)return e;const{anchorTable:t,anchorCell:n,focusCell:r}=vm(this),i=r.getParents()[1];if(i!==t){if(t.isParentOf(r)){const e=i.getParent();null==e&&Vp("Expected focusCellParent to have a parent"),this.set(this.tableKey,r.getKey(),e.getKey())}else{const e=t.getParent();null==e&&Vp("Expected gridParent to have a parent"),this.set(this.tableKey,e.getKey(),r.getKey())}return this.getNodes()}const[o,s,a]=fm(t,n,r),{minColumn:l,maxColumn:c,minRow:u,maxRow:d}=mm(o,s,a),f=new Map([[t.getKey(),t]]);let h=null;for(let e=u;e<=d;e++)for(let t=l;t<=c;t++){const{cell:n}=o[e][t],r=n.getParent();Gp(r)||Vp("Expected TableCellNode parent to be a TableRowNode"),r!==h&&(f.set(r.getKey(),r),h=r),f.has(n.getKey())||wm(n,(e=>{f.set(e.getKey(),e)}))}const p=Array.from(f.values());return D$()||(this._cachedNodes=p),p}getTextContent(){const e=this.getNodes().filter((e=>qp(e)));let t="";for(let n=0;n<e.length;n++){const r=e[n],i=r.__parent,o=(e[n+1]||{}).__parent;t+=r.getTextContent()+(o!==i?"\n":"\t")}return t}}class lW{constructor(e,t){this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.listenersToRemove=new Set,this.tableNodeKey=t,this.editor=e,this.table={columns:0,domRows:[],rows:0},this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.isSelecting=!1,this.pointerType=null,this.shouldCheckSelection=!1,this.abortController=new AbortController,this.listenerOptions={signal:this.abortController.signal},this.nextFocus=null,this.trackTable()}getTable(){return this.table}removeListeners(){this.abortController.abort("removeListeners"),Array.from(this.listenersToRemove).forEach((e=>e())),this.listenersToRemove.clear()}$lookup(){return Cm(this.tableNodeKey,this.editor)}trackTable(){const e=new MutationObserver((e=>{this.editor.getEditorState().read((()=>{let t=!1;for(let n=0;n<e.length;n++){const r=e[n].target.nodeName;if("TABLE"===r||"TBODY"===r||"THEAD"===r||"TR"===r){t=!0;break}}if(!t)return;const{tableNode:n,tableElement:r}=this.$lookup();this.table=Om(n,r)}),{editor:this.editor})}));this.editor.getEditorState().read((()=>{const{tableNode:t,tableElement:n}=this.$lookup();this.table=Om(t,n),e.observe(n,{attributes:!0,childList:!0,subtree:!0})}),{editor:this.editor})}$clearHighlight(){const e=this.editor;this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.$enableHighlightStyle();const{tableNode:t,tableElement:n}=this.$lookup();jm(e,Om(t,n),null),null!==RP()&&(uI(null),e.dispatchCommand(p$,void 0))}$enableHighlightStyle(){const e=this.editor,{tableElement:t}=this.$lookup();gB(t,e._config.theme.tableSelection),t.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1}$disableHighlightStyle(){const{tableElement:e}=this.$lookup();cB(e,this.editor._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0}$updateTableTableSelection(e){if(null!==e){e.tableKey!==this.tableNodeKey&&Vp(`TableObserver.$updateTableTableSelection: selection.tableKey !== this.tableNodeKey ('${e.tableKey}' !== '${this.tableNodeKey}')`);const t=this.editor;this.tableSelection=e,this.isHighlightingCells=!0,this.$disableHighlightStyle(),this.updateDOMSelection(),jm(t,this.table,this.tableSelection)}else this.$clearHighlight()}setShouldCheckSelection(){this.shouldCheckSelection=!0}getAndClearShouldCheckSelection(){return!!this.shouldCheckSelection&&(this.shouldCheckSelection=!1,!0)}setNextFocus(e){this.nextFocus=e}getAndClearNextFocus(){const{nextFocus:e}=this;return null!==e&&(this.nextFocus=null),e}updateDOMSelection(){if(null!==this.anchorCell&&null!==this.focusCell){const e=x$(this.editor._window);e&&e.rangeCount>0&&e.removeAllRanges()}}$setFocusCellForSelection(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.editor,{tableNode:r}=this.$lookup(),i=e.x,o=e.y;if(this.focusCell=e,this.isHighlightingCells||this.anchorX===i&&this.anchorY===o&&!t){if(i===this.focusX&&o===this.focusY)return!1}else this.isHighlightingCells=!0,this.$disableHighlightStyle();if(this.focusX=i,this.focusY=o,this.isHighlightingCells){const t=Jm(r,e.elem);if(null!=this.tableSelection&&null!=this.anchorCellNodeKey&&null!==t)return this.focusCellNodeKey=t.getKey(),this.tableSelection=_m(r,this.$getAnchorTableCellOrThrow(),t),uI(this.tableSelection),n.dispatchCommand(p$,void 0),jm(n,this.table,this.tableSelection),!0}return!1}$getAnchorTableCell(){return this.anchorCellNodeKey?NP(this.anchorCellNodeKey):null}$getAnchorTableCellOrThrow(){const e=this.$getAnchorTableCell();return null===e&&Vp("TableObserver anchorTableCell is null"),e}$getFocusTableCell(){return this.focusCellNodeKey?NP(this.focusCellNodeKey):null}$getFocusTableCellOrThrow(){const e=this.$getFocusTableCell();return null===e&&Vp("TableObserver focusTableCell is null"),e}$setAnchorCellForSelection(e){this.isHighlightingCells=!1,this.anchorCell=e,this.anchorX=e.x,this.anchorY=e.y;const{tableNode:t}=this.$lookup(),n=Jm(t,e.elem);if(null!==n){const e=n.getKey();this.tableSelection=null!=this.tableSelection?this.tableSelection.clone():bm(),this.anchorCellNodeKey=e}}$formatCells(e){const t=RP();ym(t)||Vp("Expected Table selection");const n=gP(),r=n.anchor,i=n.focus,o=t.getNodes().filter(qp);o.length>0||Vp("No table cells present");const s=o[0].getFirstChild(),a=JP(s)?s.getFormatFlags(e,null):null;o.forEach((t=>{r.set(t.getKey(),0,"element"),i.set(t.getKey(),t.getChildrenSize(),"element"),n.formatText(e,a)})),uI(t),this.editor.dispatchCommand(p$,void 0)}$clearText(){const{editor:e}=this,t=NP(this.tableNodeKey);if(!tg(t))throw new Error("Expected TableNode.");const n=RP();ym(n)||Vp("Expected TableSelection");const r=n.getNodes().filter(qp),i=t.getFirstChild(),o=t.getLastChild();if(r.length>0&&null!==i&&null!==o&&Gp(i)&&Gp(o)&&r[0]===i.getFirstChild()&&r[r.length-1]===o.getLastChild()){t.selectPrevious();const n=t.getParent();return t.remove(),void(XP(n)&&n.isEmpty()&&e.dispatchCommand(qI,void 0))}r.forEach((e=>{if(HP(e)){const t=pP(),n=bP();t.append(n),e.append(t),e.getChildren().forEach((e=>{e!==t&&e.remove()}))}})),jm(e,this.table,null),uI(null),e.dispatchCommand(p$,void 0)}}const cW="__lexicalTableSelection",uW=[[JI,"down"],[QI,"up"],[GI,"backward"],[XI,"forward"]],dW=[jI,OI,NI],fW=[ZI,e$],hW=(e,t,n,r,i)=>{const o="forward"===i;switch(i){case"backward":case"forward":return n!==(o?e.table.columns-1:0)?$m(t.getCellNodeFromCordsOrThrow(n+(o?1:-1),r,e.table),o):r!==(o?e.table.rows-1:0)?$m(t.getCellNodeFromCordsOrThrow(o?0:e.table.columns-1,r+(o?1:-1),e.table),o):o?t.selectNext():t.selectPrevious(),!0;case"up":return 0!==r?$m(t.getCellNodeFromCordsOrThrow(n,r-1,e.table),!1):t.selectPrevious(),!0;case"down":return r!==e.table.rows-1?$m(t.getCellNodeFromCordsOrThrow(n,r+1,e.table),!0):t.selectNext(),!0;default:return!1}},pW=new WeakSet;let mW=class e extends PI{static getType(){return"table"}getColWidths(){return this.getLatest().__colWidths}setColWidths(e){const t=this.getWritable();return t.__colWidths=void 0!==e?Object.freeze(e):e,t}static clone(t){return new e(t.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__colWidths=e.__colWidths,this.__rowStriping=e.__rowStriping,this.__frozenColumnCount=e.__frozenColumnCount,this.__frozenRowCount=e.__frozenRowCount}static importDOM(){return{table:()=>({conversion:Zm,priority:1})}}static importJSON(e){return eg().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setRowStriping(e.rowStriping||!1).setFrozenColumns(e.frozenColumnCount||0).setFrozenRows(e.frozenRowCount||0).setColWidths(e.colWidths)}constructor(e){super(e),this.__rowStriping=!1,this.__frozenColumnCount=0,this.__frozenRowCount=0}exportJSON(){return{...super.exportJSON(),colWidths:this.getColWidths(),frozenColumnCount:this.__frozenColumnCount?this.__frozenColumnCount:void 0,frozenRowCount:this.__frozenRowCount?this.__frozenRowCount:void 0,rowStriping:this.__rowStriping?this.__rowStriping:void 0}}extractWithChild(e,t,n){return"html"===n}getDOMSlot(e){const t=xm(e)?e:e.querySelector("table");return xm(t)||Vp("TableNode.getDOMSlot: createDOM() did not return a table"),super.getDOMSlot(e).withElement(t).withAfter(t.querySelector("colgroup"))}createDOM(e,t){const n=document.createElement("table");this.__style&&(n.style.cssText=this.__style);const r=document.createElement("colgroup");if(n.appendChild(r),P$(r),cB(n,e.theme.table),this.updateTableElement(null,n,e),Xm(t)){const t=document.createElement("div"),r=e.theme.tableScrollableWrapper;return r?cB(t,r):t.style.cssText="overflow-x: auto;",t.appendChild(n),this.updateTableWrapper(null,t,n,e),t}return n}updateTableWrapper(e,t,n,r){this.__frozenColumnCount!==(e?e.__frozenColumnCount:0)&&function(e,t,n,r){r>0?(cB(e,n.theme.tableFrozenColumn),t.setAttribute("data-lexical-frozen-column","true")):(gB(e,n.theme.tableFrozenColumn),t.removeAttribute("data-lexical-frozen-column"))}(t,n,r,this.__frozenColumnCount),this.__frozenRowCount!==(e?e.__frozenRowCount:0)&&function(e,t,n,r){r>0?(cB(e,n.theme.tableFrozenRow),t.setAttribute("data-lexical-frozen-row","true")):(gB(e,n.theme.tableFrozenRow),t.removeAttribute("data-lexical-frozen-row"))}(t,n,r,this.__frozenRowCount)}updateTableElement(e,t,n){this.__style!==(e?e.__style:"")&&(t.style.cssText=this.__style),this.__rowStriping!==(!!e&&e.__rowStriping)&&function(e,t,n){n?(cB(e,t.theme.tableRowStriping),e.setAttribute("data-lexical-row-striping","true")):(gB(e,t.theme.tableRowStriping),e.removeAttribute("data-lexical-row-striping"))}(t,n,this.__rowStriping),function(e,t,n,r){const i=e.querySelector("colgroup");if(!i)return;const o=[];for(let e=0;e<n;e++){const t=document.createElement("col"),n=r&&r[e];n&&(t.style.width=`${n}px`),o.push(t)}i.replaceChildren(...o)}(t,0,this.getColumnCount(),this.getColWidths()),Gm(t,n,this.getFormatType())}updateDOM(e,t,n){const r=this.getDOMSlot(t).element;return t===r===Xm()||(hB(i=t)&&"DIV"===i.nodeName&&this.updateTableWrapper(e,t,r,n),this.updateTableElement(e,r,n),!1);var i}exportDOM(e){const t=super.exportDOM(e),{element:n}=t;return{after:n=>{if(t.after&&(n=t.after(n)),!xm(n)&&hB(n)&&(n=n.querySelector("table")),!xm(n))return null;Gm(n,e._config,this.getFormatType());const[r]=hm(this,null,null),i=new Map;for(const e of r)for(const t of e){const e=t.cell.getKey();i.has(e)||i.set(e,{colSpan:t.cell.getColSpan(),startColumn:t.startColumn})}const o=new Set;for(const e of n.querySelectorAll(":scope > tr > [data-temporary-table-cell-lexical-key]")){const t=e.getAttribute("data-temporary-table-cell-lexical-key");if(t){const n=i.get(t);if(e.removeAttribute("data-temporary-table-cell-lexical-key"),n){i.delete(t);for(let e=0;e<n.colSpan;e++)o.add(e+n.startColumn)}}}const s=n.querySelector(":scope > colgroup");if(s){const e=Array.from(n.querySelectorAll(":scope > colgroup > col")).filter(((e,t)=>o.has(t)));s.replaceChildren(...e)}const a=n.querySelectorAll(":scope > tr");if(a.length>0){const e=document.createElement("tbody");for(const t of a)e.appendChild(t);n.append(e)}return n},element:!xm(n)&&hB(n)?n.querySelector("table"):n}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,t){const{rows:n,domRows:r}=t;for(let t=0;t<n;t++){const n=r[t];if(null!=n)for(let r=0;r<n.length;r++){const i=n[r];if(null==i)continue;const{elem:o}=i,s=Jm(this,o);if(null!==s&&e.is(s))return{x:r,y:t}}}throw new Error("Cell not found in table.")}getDOMCellFromCords(e,t,n){const{domRows:r}=n,i=r[t];if(null==i)return null;const o=i[e<i.length?e:i.length-1];return null==o?null:o}getDOMCellFromCordsOrThrow(e,t,n){const r=this.getDOMCellFromCords(e,t,n);if(!r)throw new Error("Cell not found at cords.");return r}getCellNodeFromCords(e,t,n){const r=this.getDOMCellFromCords(e,t,n);if(null==r)return null;const i=AP(r.elem);return qp(i)?i:null}getCellNodeFromCordsOrThrow(e,t,n){const r=this.getCellNodeFromCords(e,t,n);if(!r)throw new Error("Node at cords not TableCellNode.");return r}getRowStriping(){return Boolean(this.getLatest().__rowStriping)}setRowStriping(e){const t=this.getWritable();return t.__rowStriping=e,t}setFrozenColumns(e){const t=this.getWritable();return t.__frozenColumnCount=e,t}getFrozenColumns(){return this.getLatest().__frozenColumnCount}setFrozenRows(e){const t=this.getWritable();return t.__frozenRowCount=e,t}getFrozenRows(){return this.getLatest().__frozenRowCount}canSelectBefore(){return!0}canIndent(){return!1}getColumnCount(){const e=this.getFirstChild();if(!e)return 0;let t=0;return e.getChildren().forEach((e=>{qp(e)&&(t+=e.getColSpan())})),t}};Object.freeze({__proto__:null,$computeTableMap:fm,$computeTableMapSkipCellCheck:hm,$createTableCellNode:Kp,$createTableNode:eg,$createTableNodeWithDimensions:Xp,$createTableRowNode:Jp,$createTableSelection:bm,$createTableSelectionFrom:_m,$deleteTableColumn:function(e,t){const n=e.getChildren();for(let e=0;e<n.length;e++){const r=n[e];if(Gp(r)){const e=r.getChildren();if(t>=e.length||t<0)throw new Error("Table column target index out of range");e[t].remove()}}return e},$deleteTableColumnAtSelection:sm,$deleteTableColumn__EXPERIMENTAL:sW,$deleteTableRowAtSelection:om,$deleteTableRow__EXPERIMENTAL:oW,$findCellNode:Um,$findTableNode:Hm,$getElementForTableNode:Qm,$getNodeTriplet:pm,$getTableAndElementByKey:Cm,$getTableCellNodeFromLexicalNode:function(e){const t=Zz(e,(e=>qp(e)));return qp(t)?t:null},$getTableCellNodeRect:gm,$getTableColumnIndexFromTableCellNode:function(e){return Qp(e).getChildren().findIndex((t=>t.is(e)))},$getTableNodeFromLexicalNodeOrThrow:Zp,$getTableRowIndexFromTableCellNode:function(e){const t=Qp(e);return Zp(t).getChildren().findIndex((e=>e.is(t)))},$getTableRowNodeFromTableCellNodeOrThrow:Qp,$insertTableColumn:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const o=e.getChildren(),s=[];for(let e=0;e<o.length;e++){const n=o[e];if(Gp(n))for(let e=0;e<r;e++){const e=n.getChildren();if(t>=e.length||t<0)throw new Error("Table column target index out of range");const r=e[t];qp(r)||Vp("Expected table cell");const{left:o,right:a}=em(r,i);let l=JH.NO_STATUS;(o&&o.hasHeaderState(JH.ROW)||a&&a.hasHeaderState(JH.ROW))&&(l|=JH.ROW);const c=Kp(l);c.append(pP()),s.push({newTableCell:c,targetCell:r})}}return s.forEach((e=>{let{newTableCell:t,targetCell:r}=e;n?r.insertAfter(t):r.insertBefore(t)})),e},$insertTableColumnAtSelection:rm,$insertTableColumn__EXPERIMENTAL:iW,$insertTableRow:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const o=e.getChildren();if(t>=o.length||t<0)throw new Error("Table row target index out of range");const s=o[t];if(!Gp(s))throw new Error("Row before insertion index does not exist.");for(let e=0;e<r;e++){const e=s.getChildren(),t=e.length,r=Jp();for(let n=0;n<t;n++){const t=e[n];qp(t)||Vp("Expected table cell");const{above:o,below:s}=em(t,i);let a=JH.NO_STATUS;const l=o&&o.getWidth()||s&&s.getWidth()||void 0;(o&&o.hasHeaderState(JH.COLUMN)||s&&s.hasHeaderState(JH.COLUMN))&&(a|=JH.COLUMN);const c=Kp(a,1,l);c.append(pP()),r.append(c)}n?s.insertAfter(r):s.insertBefore(r)}return e},$insertTableRowAtSelection:tm,$insertTableRow__EXPERIMENTAL:rW,$isScrollableTablesActive:Xm,$isTableCellNode:qp,$isTableNode:tg,$isTableRowNode:Gp,$isTableSelection:ym,$mergeCells:cm,$removeTableRowAtIndex:function(e,t){const n=e.getChildren();if(t>=n.length||t<0)throw new Error("Expected table cell to be inside of table row.");return n[t].remove(),e},$unmergeCell:function(){const e=RP();GP(e)||ym(e)||Vp("Expected a RangeSelection or TableSelection");const t=e.anchor.getNode(),n=Zz(t,qp);return qp(n)||Vp("Expected to find a parent TableCellNode"),dm(n)},INSERT_TABLE_COMMAND:XH,TableCellHeaderStates:JH,TableCellNode:GH,TableNode:mW,TableObserver:lW,TableRowNode:QH,applyTableHandlers:Dm,getDOMCellFromTarget:Am,getTableElement:Em,getTableObserverFromTableElement:Tm,registerTableCellUnmergeTransform:function(e){return e.registerNodeTransform(GH,(e=>{if(e.getColSpan()>1||e.getRowSpan()>1){const[,,t]=pm(e),[n]=fm(t,e,e),r=n.length,i=n[0].length;let o=t.getFirstChild();Gp(o)||Vp("Expected TableNode first child to be a RowNode");const s=[];for(let e=0;e<r;e++){0!==e&&(o=o.getNextSibling(),Gp(o)||Vp("Expected TableNode first child to be a RowNode"));let t=null;for(let r=0;r<i;r++){const i=n[e][r],a=i.cell;if(i.startRow===e&&i.startColumn===r)t=a,s.push(a);else if(a.getColSpan()>1||a.getRowSpan()>1){qp(a)||Vp("Expected TableNode cell to be a TableCellNode");const e=Kp(a.__headerState);null!==t?t.insertAfter(e):rB(o,e)}}}for(const e of s)e.setColSpan(1),e.setRowSpan(1)}}))},registerTablePlugin:function(e){return e.hasNodes([mW])||Vp("TablePlugin: TableNode is not registered on editor"),pB(e.registerCommand(XH,ng,EI),e.registerCommand(m$,(e=>{let{nodes:t,selection:n}=e;return!!GP(n)&&null!==Hm(n.anchor.getNode())&&t.some(tg)}),EI),e.registerCommand(wI,sg,EI),e.registerNodeTransform(mW,og),e.registerNodeTransform(QH,ig),e.registerNodeTransform(GH,rg))},registerTableSelectionObserver:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=new Map,r=(r,i,o)=>{const s=Em(r,o),a=Dm(r,s,e,t);n.set(i,[a,s])},i=e.registerMutationListener(mW,(t=>{e.getEditorState().read((()=>{for(const[e,i]of t){const t=n.get(e);if("created"===i||"updated"===i){const{tableNode:i,tableElement:o}=Cm(e);void 0===t?r(i,e,o):o!==t[1]&&(t[0].removeListeners(),n.delete(e),r(i,e,o))}else"destroyed"===i&&void 0!==t&&(t[0].removeListeners(),n.delete(e))}}),{editor:e})}),{skipInitialization:!1});return()=>{i();for(const[,[e]]of n)e.removeListeners()}},setScrollableTablesActive:function(e,t){t?(e._config.theme.tableScrollableWrapper||console.warn("TableNode: hasHorizontalScroll is active but theme.tableScrollableWrapper is not defined."),pW.add(e)):pW.delete(e)}});const gW=/^(\d+(?:\.\d+)?)px$/,vW={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1};let yW=class e extends PI{static getType(){return"tablecell"}static clone(t){return new e(t.__headerState,t.__colSpan,t.__width,t.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__rowSpan=e.__rowSpan,this.__backgroundColor=e.__backgroundColor,this.__verticalAlign=e.__verticalAlign}static importDOM(){return{td:()=>({conversion:lg,priority:0}),th:()=>({conversion:lg,priority:0})}}static importJSON(e){return cg().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeaderStyles(e.headerState).setColSpan(e.colSpan||1).setRowSpan(e.rowSpan||1).setWidth(e.width||void 0).setBackgroundColor(e.backgroundColor||null).setVerticalAlign(e.verticalAlign||void 0)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vW.NO_STATUS,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;super(arguments.length>3?arguments[3]:void 0),this.__colSpan=t,this.__rowSpan=1,this.__headerState=e,this.__width=n,this.__backgroundColor=null,this.__verticalAlign=void 0}createDOM(e){const t=document.createElement(this.getTag());return this.__width&&(t.style.width=`${this.__width}px`),this.__colSpan>1&&(t.colSpan=this.__colSpan),this.__rowSpan>1&&(t.rowSpan=this.__rowSpan),null!==this.__backgroundColor&&(t.style.backgroundColor=this.__backgroundColor),ag(this.__verticalAlign)&&(t.style.verticalAlign=this.__verticalAlign),cB(t,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),t}exportDOM(e){const t=super.exportDOM(e);if(O$(t.element)){const e=t.element;e.setAttribute("data-temporary-table-cell-lexical-key",this.getKey()),e.style.border="1px solid black",this.__colSpan>1&&(e.colSpan=this.__colSpan),this.__rowSpan>1&&(e.rowSpan=this.__rowSpan),e.style.width=`${this.getWidth()||75}px`,e.style.verticalAlign=this.getVerticalAlign()||"top",e.style.textAlign="start",null===this.__backgroundColor&&this.hasHeader()&&(e.style.backgroundColor="#f2f3f5")}return t}exportJSON(){return{...super.exportJSON(),...ag(this.__verticalAlign)&&{verticalAlign:this.__verticalAlign},backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,width:this.getWidth()}}getColSpan(){return this.getLatest().__colSpan}setColSpan(e){const t=this.getWritable();return t.__colSpan=e,t}getRowSpan(){return this.getLatest().__rowSpan}setRowSpan(e){const t=this.getWritable();return t.__rowSpan=e,t}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vW.BOTH;const n=this.getWritable();return n.__headerState=e&t|n.__headerState&~t,n}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){const t=this.getWritable();return t.__width=e,t}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){const t=this.getWritable();return t.__backgroundColor=e,t}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(e){const t=this.getWritable();return t.__verticalAlign=e||void 0,t}toggleHeaderStyle(e){const t=this.getWritable();return(t.__headerState&e)===e?t.__headerState-=e:t.__headerState+=e,t}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==vW.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor||e.__verticalAlign!==this.__verticalAlign}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}};const bW=w$("INSERT_TABLE_COMMAND");class _W extends PI{static getType(){return"tablerow"}static clone(e){return new _W(e.__height,e.__key)}static importDOM(){return{tr:()=>({conversion:fg,priority:0})}}static importJSON(e){return hg().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeight(e.height)}constructor(e,t){super(t),this.__height=e}exportJSON(){const e=this.getHeight();return{...super.exportJSON(),...void 0===e?void 0:{height:e}}}createDOM(e){const t=document.createElement("tr");return this.__height&&(t.style.height=`${this.__height}px`),cB(t,e.theme.tableRow),t}extractWithChild(e,t,n){return"html"===n}isShadowRoot(){return!0}setHeight(e){const t=this.getWritable();return t.__height=e,t}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}const wW="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,CW=wW&&"documentMode"in document?document.documentMode:null,xW=wW&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);wW&&"InputEvent"in window&&!CW&&new window.InputEvent("input");const EW=(e,t)=>e===vW.BOTH||e===t?t:vW.NO_STATUS,SW=bg,kW=wg,DW=xg,TW=Eg;let AW=class e{constructor(e,t,n){this.anchor=t,this.focus=n,t._selection=this,n._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=e}getStartEndPoints(){return[this.anchor,this.focus]}isValid(){return"root"!==this.tableKey&&"root"!==this.anchor.key&&"element"===this.anchor.type&&"root"!==this.focus.key&&"element"===this.focus.type}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return Lg(e)&&this.tableKey===e.tableKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)}set(e,t,n){this.dirty=this.dirty||e!==this.tableKey||t!==this.anchor.key||n!==this.focus.key,this.tableKey=e,this.anchor.key=t,this.focus.key=n,this._cachedNodes=null}clone(){return new e(this.tableKey,mP(this.anchor.key,this.anchor.offset,this.anchor.type),mP(this.focus.key,this.focus.offset,this.focus.type))}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(e){}insertText(){}hasFormat(e){let t=0;this.getNodes().filter(ug).forEach((e=>{const n=e.getFirstChild();JP(n)&&(t|=n.getTextFormat())}));const n=y$[e];return!!(t&n)}insertNodes(e){const t=this.focus.getNode();HP(t)||dg(151),oI(t.select(0,t.getChildrenSize())).insertNodes(e)}getShape(){const{anchorCell:e,focusCell:t}=Fg(this),n=Rg(e);null===n&&dg(153);const r=Rg(t);null===r&&dg(155);const i=Math.min(n.columnIndex,r.columnIndex),o=Math.max(n.columnIndex+n.colSpan-1,r.columnIndex+r.colSpan-1),s=Math.min(n.rowIndex,r.rowIndex),a=Math.max(n.rowIndex+n.rowSpan-1,r.rowIndex+r.rowSpan-1);return{fromX:Math.min(i,o),fromY:Math.min(s,a),toX:Math.max(i,o),toY:Math.max(s,a)}}getNodes(){if(!this.isValid())return[];const e=this._cachedNodes;if(null!==e)return e;const{anchorTable:t,anchorCell:n,focusCell:r}=Fg(this),i=r.getParents()[1];if(i!==t){if(t.isParentOf(r)){const e=i.getParent();null==e&&dg(159),
this.set(this.tableKey,r.getKey(),e.getKey())}else{const e=t.getParent();null==e&&dg(158),this.set(this.tableKey,e.getKey(),r.getKey())}return this.getNodes()}const[o,s,a]=Ng(t,n,r),{minColumn:l,maxColumn:c,minRow:u,maxRow:d}=Mg(o,s,a),f=new Map([[t.getKey(),t]]);let h=null;for(let e=u;e<=d;e++)for(let t=l;t<=c;t++){const{cell:n}=o[e][t],r=n.getParent();pg(r)||dg(160),r!==h&&(f.set(r.getKey(),r),h=r),f.has(n.getKey())||$g(n,(e=>{f.set(e.getKey(),e)}))}const p=Array.from(f.values());return D$()||(this._cachedNodes=p),p}getTextContent(){const e=this.getNodes().filter((e=>ug(e)));let t="";for(let n=0;n<e.length;n++){const r=e[n],i=r.__parent,o=(e[n+1]||{}).__parent;t+=r.getTextContent()+(o!==i?"\n":"\t")}return t}},NW=class{constructor(e,t){this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.listenersToRemove=new Set,this.tableNodeKey=t,this.editor=e,this.table={columns:0,domRows:[],rows:0},this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.isSelecting=!1,this.pointerType=null,this.shouldCheckSelection=!1,this.abortController=new AbortController,this.listenerOptions={signal:this.abortController.signal},this.nextFocus=null,this.trackTable()}getTable(){return this.table}removeListeners(){this.abortController.abort("removeListeners"),Array.from(this.listenersToRemove).forEach((e=>e())),this.listenersToRemove.clear()}$lookup(){return zg(this.tableNodeKey,this.editor)}trackTable(){const e=new MutationObserver((e=>{this.editor.getEditorState().read((()=>{let t=!1;for(let n=0;n<e.length;n++){const r=e[n].target.nodeName;if("TABLE"===r||"TBODY"===r||"THEAD"===r||"TR"===r){t=!0;break}}if(!t)return;const{tableNode:n,tableElement:r}=this.$lookup();this.table=Jg(n,r)}),{editor:this.editor})}));this.editor.getEditorState().read((()=>{const{tableNode:t,tableElement:n}=this.$lookup();this.table=Jg(t,n),e.observe(n,{attributes:!0,childList:!0,subtree:!0})}),{editor:this.editor})}$clearHighlight(){const e=this.editor;this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.$enableHighlightStyle();const{tableNode:t,tableElement:n}=this.$lookup();Gg(e,Jg(t,n),null),null!==RP()&&(uI(null),e.dispatchCommand(p$,void 0))}$enableHighlightStyle(){const e=this.editor,{tableElement:t}=this.$lookup();gB(t,e._config.theme.tableSelection),t.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1}$disableHighlightStyle(){const{tableElement:e}=this.$lookup();cB(e,this.editor._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0}$updateTableTableSelection(e){if(null!==e){e.tableKey!==this.tableNodeKey&&dg(233,e.tableKey,this.tableNodeKey);const t=this.editor;this.tableSelection=e,this.isHighlightingCells=!0,this.$disableHighlightStyle(),this.updateDOMSelection(),Gg(t,this.table,this.tableSelection)}else this.$clearHighlight()}setShouldCheckSelection(){this.shouldCheckSelection=!0}getAndClearShouldCheckSelection(){return!!this.shouldCheckSelection&&(this.shouldCheckSelection=!1,!0)}setNextFocus(e){this.nextFocus=e}getAndClearNextFocus(){const{nextFocus:e}=this;return null!==e&&(this.nextFocus=null),e}updateDOMSelection(){if(null!==this.anchorCell&&null!==this.focusCell){const e=x$(this.editor._window);e&&e.rangeCount>0&&e.removeAllRanges()}}$setFocusCellForSelection(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.editor,{tableNode:r}=this.$lookup(),i=e.x,o=e.y;if(this.focusCell=e,this.isHighlightingCells||this.anchorX===i&&this.anchorY===o&&!t){if(i===this.focusX&&o===this.focusY)return!1}else this.isHighlightingCells=!0,this.$disableHighlightStyle();if(this.focusX=i,this.focusY=o,this.isHighlightingCells){const t=hv(r,e.elem);if(null!=this.tableSelection&&null!=this.anchorCellNodeKey&&null!==t)return this.focusCellNodeKey=t.getKey(),this.tableSelection=Ig(r,this.$getAnchorTableCellOrThrow(),t),uI(this.tableSelection),n.dispatchCommand(p$,void 0),Gg(n,this.table,this.tableSelection),!0}return!1}$getAnchorTableCell(){return this.anchorCellNodeKey?NP(this.anchorCellNodeKey):null}$getAnchorTableCellOrThrow(){const e=this.$getAnchorTableCell();return null===e&&dg(234),e}$getFocusTableCell(){return this.focusCellNodeKey?NP(this.focusCellNodeKey):null}$getFocusTableCellOrThrow(){const e=this.$getFocusTableCell();return null===e&&dg(235),e}$setAnchorCellForSelection(e){this.isHighlightingCells=!1,this.anchorCell=e,this.anchorX=e.x,this.anchorY=e.y;const{tableNode:t}=this.$lookup(),n=hv(t,e.elem);if(null!==n){const e=n.getKey();this.tableSelection=null!=this.tableSelection?this.tableSelection.clone():Pg(),this.anchorCellNodeKey=e}}$formatCells(e){const t=RP();Lg(t)||dg(236);const n=gP(),r=n.anchor,i=n.focus,o=t.getNodes().filter(ug);o.length>0||dg(237);const s=o[0].getFirstChild(),a=JP(s)?s.getFormatFlags(e,null):null;o.forEach((t=>{r.set(t.getKey(),0,"element"),i.set(t.getKey(),t.getChildrenSize(),"element"),n.formatText(e,a)})),uI(t),this.editor.dispatchCommand(p$,void 0)}$clearText(){const{editor:e}=this,t=NP(this.tableNodeKey);if(!bv(t))throw new Error("Expected TableNode.");const n=RP();Lg(n)||dg(253);const r=n.getNodes().filter(ug),i=t.getFirstChild(),o=t.getLastChild();if(r.length>0&&null!==i&&null!==o&&pg(i)&&pg(o)&&r[0]===i.getFirstChild()&&r[r.length-1]===o.getLastChild()){t.selectPrevious();const n=t.getParent();return t.remove(),void(XP(n)&&n.isEmpty()&&e.dispatchCommand(qI,void 0))}r.forEach((e=>{if(HP(e)){const t=pP(),n=bP();t.append(n),e.append(t),e.getChildren().forEach((e=>{e!==t&&e.remove()}))}})),Gg(e,this.table,null),uI(null),e.dispatchCommand(p$,void 0)}};const OW="__lexicalTableSelection",jW=[[JI,"down"],[QI,"up"],[GI,"backward"],[XI,"forward"]],MW=[jI,OI,NI],RW=[ZI,e$],FW=(e,t,n,r,i)=>{const o="forward"===i;switch(i){case"backward":case"forward":return n!==(o?e.table.columns-1:0)?rv(t.getCellNodeFromCordsOrThrow(n+(o?1:-1),r,e.table),o):r!==(o?e.table.rows-1:0)?rv(t.getCellNodeFromCordsOrThrow(o?0:e.table.columns-1,r+(o?1:-1),e.table),o):o?t.selectNext():t.selectPrevious(),!0;case"up":return 0!==r?rv(t.getCellNodeFromCordsOrThrow(n,r-1,e.table),!1):t.selectPrevious(),!0;case"down":return r!==e.table.rows-1?rv(t.getCellNodeFromCordsOrThrow(n,r+1,e.table),!0):t.selectNext(),!0;default:return!1}},LW=new WeakSet;class PW extends PI{static getType(){return"table"}getColWidths(){return this.getLatest().__colWidths}setColWidths(e){const t=this.getWritable();return t.__colWidths=e,t}static clone(e){return new PW(e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__colWidths=e.__colWidths,this.__rowStriping=e.__rowStriping,this.__frozenColumnCount=e.__frozenColumnCount,this.__frozenRowCount=e.__frozenRowCount}static importDOM(){return{table:()=>({conversion:vv,priority:1})}}static importJSON(e){return yv().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setRowStriping(e.rowStriping||!1).setFrozenColumns(e.frozenColumnCount||0).setFrozenRows(e.frozenRowCount||0).setColWidths(e.colWidths)}constructor(e){super(e),this.__rowStriping=!1,this.__frozenColumnCount=0,this.__frozenRowCount=0}exportJSON(){return{...super.exportJSON(),colWidths:this.getColWidths(),frozenColumnCount:this.__frozenColumnCount?this.__frozenColumnCount:void 0,frozenRowCount:this.__frozenRowCount?this.__frozenRowCount:void 0,rowStriping:this.__rowStriping?this.__rowStriping:void 0}}extractWithChild(e,t,n){return"html"===n}getDOMSlot(e){const t=Bg(e)?e:e.querySelector("table");return Bg(t)||dg(229),super.getDOMSlot(e).withElement(t).withAfter(t.querySelector("colgroup"))}createDOM(e,t){const n=document.createElement("table");this.__style&&(n.style.cssText=this.__style);const r=document.createElement("colgroup");if(n.appendChild(r),P$(r),cB(n,e.theme.table),this.updateTableElement(null,n,e),mv(t)){const t=document.createElement("div"),r=e.theme.tableScrollableWrapper;return r?cB(t,r):t.style.cssText="overflow-x: auto;",t.appendChild(n),this.updateTableWrapper(null,t,n,e),t}return n}updateTableWrapper(e,t,n,r){this.__frozenColumnCount!==(e?e.__frozenColumnCount:0)&&function(e,t,n,r){r>0?(cB(e,n.theme.tableFrozenColumn),t.setAttribute("data-lexical-frozen-column","true")):(gB(e,n.theme.tableFrozenColumn),t.removeAttribute("data-lexical-frozen-column"))}(t,n,r,this.__frozenColumnCount),this.__frozenRowCount!==(e?e.__frozenRowCount:0)&&function(e,t,n,r){r>0?(cB(e,n.theme.tableFrozenRow),t.setAttribute("data-lexical-frozen-row","true")):(gB(e,n.theme.tableFrozenRow),t.removeAttribute("data-lexical-frozen-row"))}(t,n,r,this.__frozenRowCount)}updateTableElement(e,t,n){this.__style!==(e?e.__style:"")&&(t.style.cssText=this.__style),this.__rowStriping!==(!!e&&e.__rowStriping)&&function(e,t,n){n?(cB(e,t.theme.tableRowStriping),e.setAttribute("data-lexical-row-striping","true")):(gB(e,t.theme.tableRowStriping),e.removeAttribute("data-lexical-row-striping"))}(t,n,this.__rowStriping),function(e,t,n,r){const i=e.querySelector("colgroup");if(!i)return;const o=[];for(let e=0;e<n;e++){const t=document.createElement("col"),n=r&&r[e];n&&(t.style.width=`${n}px`),o.push(t)}i.replaceChildren(...o)}(t,0,this.getColumnCount(),this.getColWidths()),pv(t,n,this.getFormatType())}updateDOM(e,t,n){const r=this.getDOMSlot(t).element;return t===r===mv()||(hB(i=t)&&"DIV"===i.nodeName&&this.updateTableWrapper(e,t,r,n),this.updateTableElement(e,r,n),!1);var i}exportDOM(e){const t=super.exportDOM(e),{element:n}=t;return{after:n=>{if(t.after&&(n=t.after(n)),!Bg(n)&&hB(n)&&(n=n.querySelector("table")),!Bg(n))return null;pv(n,e._config,this.getFormatType());const[r]=Og(this,null,null),i=new Map;for(const e of r)for(const t of e){const e=t.cell.getKey();i.has(e)||i.set(e,{colSpan:t.cell.getColSpan(),startColumn:t.startColumn})}const o=new Set;for(const e of n.querySelectorAll(":scope > tr > [data-temporary-table-cell-lexical-key]")){const t=e.getAttribute("data-temporary-table-cell-lexical-key");if(t){const n=i.get(t);if(e.removeAttribute("data-temporary-table-cell-lexical-key"),n){i.delete(t);for(let e=0;e<n.colSpan;e++)o.add(e+n.startColumn)}}}const s=n.querySelector(":scope > colgroup");if(s){const e=Array.from(n.querySelectorAll(":scope > colgroup > col")).filter(((e,t)=>o.has(t)));s.replaceChildren(...e)}const a=n.querySelectorAll(":scope > tr");if(a.length>0){const e=document.createElement("tbody");for(const t of a)e.appendChild(t);n.append(e)}return n},element:!Bg(n)&&hB(n)?n.querySelector("table"):n}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,t){const{rows:n,domRows:r}=t;for(let t=0;t<n;t++){const n=r[t];if(null!=n)for(let r=0;r<n.length;r++){const i=n[r];if(null==i)continue;const{elem:o}=i,s=hv(this,o);if(null!==s&&e.is(s))return{x:r,y:t}}}throw new Error("Cell not found in table.")}getDOMCellFromCords(e,t,n){const{domRows:r}=n,i=r[t];if(null==i)return null;const o=i[e<i.length?e:i.length-1];return null==o?null:o}getDOMCellFromCordsOrThrow(e,t,n){const r=this.getDOMCellFromCords(e,t,n);if(!r)throw new Error("Cell not found at cords.");return r}getCellNodeFromCords(e,t,n){const r=this.getDOMCellFromCords(e,t,n);if(null==r)return null;const i=AP(r.elem);return ug(i)?i:null}getCellNodeFromCordsOrThrow(e,t,n){const r=this.getCellNodeFromCords(e,t,n);if(!r)throw new Error("Node at cords not TableCellNode.");return r}getRowStriping(){return Boolean(this.getLatest().__rowStriping)}setRowStriping(e){const t=this.getWritable();return t.__rowStriping=e,t}setFrozenColumns(e){const t=this.getWritable();return t.__frozenColumnCount=e,t}getFrozenColumns(){return this.getLatest().__frozenColumnCount}setFrozenRows(e){const t=this.getWritable();return t.__frozenRowCount=e,t}getFrozenRows(){return this.getLatest().__frozenRowCount}canSelectBefore(){return!0}canIndent(){return!1}getColumnCount(){const e=this.getFirstChild();if(!e)return 0;let t=0;return e.getChildren().forEach((e=>{ug(e)&&(t+=e.getColSpan())})),t}}var IW=Object.freeze({__proto__:null,$computeTableMap:Ng,$computeTableMapSkipCellCheck:Og,$createTableCellNode:cg,$createTableNode:yv,$createTableNodeWithDimensions:mg,$createTableRowNode:hg,$createTableSelection:Pg,$createTableSelectionFrom:Ig,$deleteTableColumn:function(e,t){const n=e.getChildren();for(let e=0;e<n.length;e++){const r=n[e];if(pg(r)){const e=r.getChildren();if(t>=e.length||t<0)throw new Error("Table column target index out of range");e[t].remove()}}return e},$deleteTableColumnAtSelection:Eg,$deleteTableColumn__EXPERIMENTAL:TW,$deleteTableRowAtSelection:xg,$deleteTableRow__EXPERIMENTAL:DW,$findCellNode:sv,$findTableNode:av,$getElementForTableNode:gv,$getNodeTriplet:jg,$getTableAndElementByKey:zg,$getTableCellNodeFromLexicalNode:function(e){const t=Zz(e,(e=>ug(e)));return ug(t)?t:null},$getTableCellNodeRect:Rg,$getTableColumnIndexFromTableCellNode:function(e){return gg(e).getChildren().findIndex((t=>t.is(e)))},$getTableNodeFromLexicalNodeOrThrow:vg,$getTableRowIndexFromTableCellNode:function(e){const t=gg(e);return vg(t).getChildren().findIndex((e=>e.is(t)))},$getTableRowNodeFromTableCellNodeOrThrow:gg,$insertTableColumn:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const o=e.getChildren(),s=[];for(let e=0;e<o.length;e++){const n=o[e];if(pg(n))for(let e=0;e<r;e++){const e=n.getChildren();if(t>=e.length||t<0)throw new Error("Table column target index out of range");const r=e[t];ug(r)||dg(12);const{left:o,right:a}=yg(r,i);let l=vW.NO_STATUS;(o&&o.hasHeaderState(vW.ROW)||a&&a.hasHeaderState(vW.ROW))&&(l|=vW.ROW);const c=cg(l);c.append(pP()),s.push({newTableCell:c,targetCell:r})}}return s.forEach((e=>{let{newTableCell:t,targetCell:r}=e;n?r.insertAfter(t):r.insertBefore(t)})),e},$insertTableColumnAtSelection:wg,$insertTableColumn__EXPERIMENTAL:kW,$insertTableRow:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const o=e.getChildren();if(t>=o.length||t<0)throw new Error("Table row target index out of range");const s=o[t];if(!pg(s))throw new Error("Row before insertion index does not exist.");for(let e=0;e<r;e++){const e=s.getChildren(),t=e.length,r=hg();for(let n=0;n<t;n++){const t=e[n];ug(t)||dg(12);const{above:o,below:s}=yg(t,i);let a=vW.NO_STATUS;const l=o&&o.getWidth()||s&&s.getWidth()||void 0;(o&&o.hasHeaderState(vW.COLUMN)||s&&s.hasHeaderState(vW.COLUMN))&&(a|=vW.COLUMN);const c=cg(a,1,l);c.append(pP()),r.append(c)}n?s.insertAfter(r):s.insertBefore(r)}return e},$insertTableRowAtSelection:bg,$insertTableRow__EXPERIMENTAL:SW,$isScrollableTablesActive:mv,$isTableCellNode:ug,$isTableNode:bv,$isTableRowNode:pg,$isTableSelection:Lg,$mergeCells:Dg,$removeTableRowAtIndex:function(e,t){const n=e.getChildren();if(t>=n.length||t<0)throw new Error("Expected table cell to be inside of table row.");return n[t].remove(),e},$unmergeCell:function(){const e=RP();GP(e)||Lg(e)||dg(188);const t=e.anchor.getNode(),n=Zz(t,ug);return ug(n)||dg(148),Ag(n)},INSERT_TABLE_COMMAND:bW,TableCellHeaderStates:vW,TableCellNode:yW,TableNode:PW,TableObserver:NW,TableRowNode:_W,applyTableHandlers:Kg,getDOMCellFromTarget:Vg,getTableElement:Ug,getTableObserverFromTableElement:qg,registerTableCellUnmergeTransform:function(e){return e.registerNodeTransform(yW,(e=>{if(e.getColSpan()>1||e.getRowSpan()>1){const[,,t]=jg(e),[n]=Ng(t,e,e),r=n.length,i=n[0].length;let o=t.getFirstChild();pg(o)||dg(175);const s=[];for(let e=0;e<r;e++){0!==e&&(o=o.getNextSibling(),pg(o)||dg(175));let t=null;for(let r=0;r<i;r++){const i=n[e][r],a=i.cell;if(i.startRow===e&&i.startColumn===r)t=a,s.push(a);else if(a.getColSpan()>1||a.getRowSpan()>1){ug(a)||dg(176);const e=cg(a.__headerState);null!==t?t.insertAfter(e):rB(o,e)}}}for(const e of s)e.setColSpan(1),e.setRowSpan(1)}}))},registerTablePlugin:function(e){return e.hasNodes([PW])||dg(255),pB(e.registerCommand(bW,_v,EI),e.registerCommand(m$,(e=>{let{nodes:t,selection:n}=e;return!!GP(n)&&null!==av(n.anchor.getNode())&&t.some(bv)}),EI),e.registerCommand(wI,Ev,EI),e.registerNodeTransform(PW,xv),e.registerNodeTransform(_W,Cv),e.registerNodeTransform(yW,wv))},registerTableSelectionObserver:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=new Map,r=(r,i,o)=>{const s=Ug(r,o),a=Kg(r,s,e,t);n.set(i,[a,s])},i=e.registerMutationListener(PW,(t=>{e.getEditorState().read((()=>{for(const[e,i]of t){const t=n.get(e);if("created"===i||"updated"===i){const{tableNode:i,tableElement:o}=zg(e);void 0===t?r(i,e,o):o!==t[1]&&(t[0].removeListeners(),n.delete(e),r(i,e,o))}else"destroyed"===i&&void 0!==t&&(t[0].removeListeners(),n.delete(e))}}),{editor:e})}),{skipInitialization:!1});return()=>{i();for(const[,[e]]of n)e.removeListeners()}},setScrollableTablesActive:function(e,t){t?LW.add(e):LW.delete(e)}});const $W=IW,zW=$W.$computeTableMap,BW=$W.$deleteTableColumnAtSelection,UW=$W.$deleteTableRowAtSelection,HW=$W.$findTableNode,WW=$W.$getNodeTriplet,KW=$W.$getTableCellNodeFromLexicalNode,qW=$W.$getTableColumnIndexFromTableCellNode,VW=$W.$getTableNodeFromLexicalNodeOrThrow,YW=$W.$getTableRowIndexFromTableCellNode,JW=$W.$insertTableColumnAtSelection,GW=$W.$insertTableRowAtSelection,XW=$W.$isScrollableTablesActive,QW=$W.$isTableCellNode,ZW=$W.$isTableNode,eK=$W.$isTableRowNode,tK=$W.$isTableSelection,nK=$W.INSERT_TABLE_COMMAND,rK=$W.TableCellHeaderStates,iK=$W.TableCellNode,oK=$W.TableNode,sK=$W.TableRowNode,aK=$W.getDOMCellFromTarget,lK=$W.getTableElement,cK=$W.getTableObserverFromTableElement,uK=$W.registerTableCellUnmergeTransform,dK=$W.registerTablePlugin,fK=$W.registerTableSelectionObserver,hK=$W.setScrollableTablesActive,pK=e=>()=>({forChild:t=>(tI(t)&&t.toggleFormat(e),t),node:null}),mK=Symbol.for("GBCR.patched"),gK=Symbol.for("GBCR.original"),vK=e=>t=>{const n=null==e?void 0:e(t);if(!n)return null;const r=n.conversion(t);if(!r)return r;const i=t.style.backgroundColor,o=t.style.color,s=t.style.fontSize;return Object.assign(Object.assign({},r),{forChild:(e,t)=>{var n;const a=null!==(n=null==r?void 0:r.forChild)&&void 0!==n?n:e=>e,l=a(e,t);if(tI(l)){const e=[i?`background-color: ${i}`:null,o?`color: ${o}`:null,s?`font-size: ${s}`:null].filter(Boolean).join("; ");if(e.length)return l.setStyle(e)}return l}})},yK=Symbol.for("extraAttrs.patched"),bK=Symbol.for("extraAttrs.originals");!function(e){const t=e.prototype.exportDOM;e.prototype.exportDOM=function(e){const n=t.apply(this,[e]),r=n.element;if(r){const e=this.getFormatType();r.style.textAlign=e;const t=this.getDirection();t&&(r.dir=t);const n=this.getIndent();n>0&&(r.style.textIndent=20*n+"px")}return n}}(cU),function(){const e=b$.importDOM();b$.importDOM=function(){return Object.assign(Object.assign({},e),{span:()=>({conversion:vK(null==e?void 0:e.span),priority:0}),strong:()=>({conversion:vK(null==e?void 0:e.strong),priority:0}),sub:()=>({conversion:pK("subscript"),priority:0}),sup:()=>({conversion:pK("superscript"),priority:0}),s:()=>({conversion:pK("strikethrough"),priority:0})})};const t=b$.prototype.exportDOM;b$.prototype.exportDOM=function(e){var n,r;let{element:i}=t.apply(this,[e]);for(i&&(i.style.whiteSpace="");["B","I","S","U"].some((e=>(null==i?void 0:i.tagName)===e))&&(null===(r=null===(n=e._config.theme)||void 0===n?void 0:n.config)||void 0===r?void 0:r.no_format_tag);)i=i.firstElementChild||i;return{element:i}}}(),function(){const e=XU.importDOM();XU.importDOM=function(){return Object.assign(Object.assign({},e),{code:()=>({conversion:()=>({node:qU()}),priority:1})})},XU.prototype.createDOM=function(e){const t=document.createElement("code");t.classList.add(e.theme.code||""),t.setAttribute("spellcheck","false");const n=this.getLanguage();return n&&t.setAttribute("data-highlight-language",QU(n)),t},XU.prototype.updateDOM=function(e,t){const n=this.__language,r=e.__language;return n?n!==r&&t.setAttribute("data-highlight-language",QU(n)):r&&t.removeAttribute("data-highlight-language"),!1}}(),function(){function e(e){return t=>{var n;return{conversion:n=>{var r,i;const o=null===(i=null===(r=e(t))||void 0===r?void 0:r.conversion)||void 0===i?void 0:i.call(r,n);return o&&o.node?{node:o.node}:{node:null}},priority:(null===(n=e(t))||void 0===n?void 0:n.priority)+1}}}const t=xH.importDOM();xH.importDOM=function(){return t?Object.assign(Object.assign({},t),{ul:e(t.ul),ol:e(t.ol)}):t},xH.importJSON=function(e){const t=gH(e.listType,e.start);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t};const n=xH.prototype.createDOM;xH.prototype.createDOM=function(e){const t=n.call(this,e),r=this.getFormatType();return""!==r&&(t.style.textAlign=r),t}}(),function(){const e=CH.importDOM();CH.importDOM=function(){return e&&e.li?Object.assign(Object.assign({},e),{li:t=>({conversion:n=>{var r;const i=null===(r=e.li(t))||void 0===r?void 0:r.conversion(n);return(null==i?void 0:i.node)&&"<br>"!==n.innerHTML?{node:Up(null==i?void 0:i.node,n)}:(n.innerHTML="",{node:null})},priority:1})}):e},CH.importJSON=function(e){const t=lP(new CH(e.value,e.checked));return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t};const t=CH.prototype.createDOM;CH.prototype.createDOM=function(e){const n=t.call(this,e),r=this.getFormatType();return""!==r&&(n.style.textAlign=r),n}}(),oK.prototype.createDOM=function(e){const t=document.createElement("table"),n=document.createElement("colgroup");t.appendChild(n),function(e,t,n,r){const i=e.querySelector("colgroup");if(!i)return;const o=[];for(let e=0;e<n;e++){const t=document.createElement("col"),n=r&&r[e];n&&(t.style.width=`${n}px`),o.push(t)}i.replaceChildren(...o)}(t,0,this.getColumnCount(),this.getColWidths()),P$(n),cB(t,e.theme.table);const r=document.createElement("div"),i=e.theme.tableScrollableWrapper;return i?cB(r,i):r.style.cssText="overflow-x: auto;",r.appendChild(t),r},(()=>{const e=Range;e[mK]||(e[mK]=!0,e[gK]=Range.prototype.getBoundingClientRect,(aB||lB)&&(Range.prototype.getBoundingClientRect=function(){if(this.collapsed&&this.commonAncestorContainer instanceof Text&&this.commonAncestorContainer.isEqualNode(this.endContainer)&&this.commonAncestorContainer.isEqualNode(this.startContainer)&&this.commonAncestorContainer.length===this.startOffset&&this.commonAncestorContainer.parentElement&&"rtl"===getComputedStyle(this.commonAncestorContainer.parentElement).direction){const t=this.cloneRange();return t.setStart(t.startContainer,0),e[gK].call(t)}return e[gK].call(this)}))})(),function(){const e=KH.importDOM();KH.importDOM=function(){return{a:()=>({conversion:t=>{var n;const r=t;let i=null===(n=null==e?void 0:e.a(r))||void 0===n?void 0:n.conversion(r);const o=r.textContent;let s=null==i?void 0:i.node;return r.href===o&&(s=$H(r.href||"",{rel:r.getAttribute("target"),target:r.getAttribute("target")})),Object.assign(Object.assign({},i),{node:s||null})},priority:1})}}}(),PI.prototype.getDirection=function(){return""};const _K=(0,MS.createContext)(null);Object.freeze({__proto__:null,LexicalComposerContext:_K,createLexicalComposerContext:function(e,t){let n=null;return null!=e&&(n=e[1]),{getTheme:function(){return null!=t?t:null!=n?n.getTheme():null}}},useLexicalComposerContext:function(){const e=(0,MS.useContext)(_K);return null==e&&function(){throw new Error("LexicalComposerContext.useLexicalComposerContext: cannot find a LexicalComposerContext")}(),e}});const wK=(0,MS.createContext)(null);var CK=Object.freeze({__proto__:null,LexicalComposerContext:wK,createLexicalComposerContext:function(e,t){let n=null;return null!=e&&(n=e[1]),{getTheme:function(){return null!=t?t:null!=n?n.getTheme():null}}},useLexicalComposerContext:function(){const e=(0,MS.useContext)(wK);return null==e&&function(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(const e of i)n.append("v",e);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),e}});const xK=CK,EK=xK.LexicalComposerContext,SK=xK.createLexicalComposerContext,kK=xK.useLexicalComposerContext,DK="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,TK=DK?MS.useLayoutEffect:MS.useEffect,AK={tag:UI};Object.freeze({__proto__:null,LexicalComposer:function(e){let{initialConfig:t,children:n}=e;const r=(0,MS.useMemo)((()=>{const{theme:e,namespace:n,nodes:r,onError:i,editorState:o,html:s}=t,a=SK(null,e),l=C$({editable:t.editable,html:s,namespace:n,nodes:r,onError:e=>i(e,l),theme:e});return function(e,t){if(null!==t)if(void 0===t)e.update((()=>{const t=MP();if(t.isEmpty()){const n=pP();t.append(n);const r=DK?document.activeElement:null;(null!==RP()||null!==r&&r===e.getRootElement())&&n.select()}}),AK);else if(null!==t)switch(typeof t){case"string":{const n=e.parseEditorState(t);e.setEditorState(n,AK);break}case"object":e.setEditorState(t,AK);break;case"function":e.update((()=>{MP().isEmpty()&&t(e)}),AK)}}(l,o),[l,a]}),[]);return TK((()=>{const e=t.editable,[n]=r;n.setEditable(void 0===e||e)}),[]),(0,ND.jsx)(EK.Provider,{value:r,children:n})}});const NK="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,OK=NK?MS.useLayoutEffect:MS.useEffect,jK={tag:UI};var MK=Object.freeze({__proto__:null,LexicalComposer:function(e){let{initialConfig:t,children:n}=e;const r=(0,MS.useMemo)((()=>{const{theme:e,namespace:n,nodes:r,onError:i,editorState:o,html:s}=t,a=SK(null,e),l=C$({editable:t.editable,html:s,namespace:n,nodes:r,onError:e=>i(e,l),theme:e});return function(e,t){if(null!==t)if(void 0===t)e.update((()=>{const t=MP();if(t.isEmpty()){const n=pP();t.append(n);const r=NK?document.activeElement:null;(null!==RP()||null!==r&&r===e.getRootElement())&&n.select()}}),jK);else if(null!==t)switch(typeof t){case"string":{const n=e.parseEditorState(t);e.setEditorState(n,jK);break}case"object":e.setEditorState(t,jK);break;case"function":e.update((()=>{MP().isEmpty()&&t(e)}),jK)}}(l,o),[l,a]}),[]);return OK((()=>{const e=t.editable,[n]=r;n.setEditable(void 0===e||e)}),[]),(0,ND.jsx)(EK.Provider,{value:r,children:n})}});const RK=MK.LexicalComposer;"function"==typeof SuppressedError&&SuppressedError;const FK=(0,MS.createContext)({hsoubEditorProps:{onChange:()=>{}}}),LK=()=>{};let PK={},IK={},$K=null,zK={mark:LK,measure:LK};try{"undefined"!=typeof window&&(PK=window),"undefined"!=typeof document&&(IK=document),"undefined"!=typeof MutationObserver&&($K=MutationObserver),"undefined"!=typeof performance&&(zK=performance)}catch(eY){}const{userAgent:BK=""}=PK.navigator||{},UK=PK,HK=IK,WK=$K,KK=zK;UK.document;const qK=!!HK.documentElement&&!!HK.head&&"function"==typeof HK.addEventListener&&"function"==typeof HK.createElement,VK=~BK.indexOf("MSIE")||~BK.indexOf("Trident/");var YK={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},JK=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],GK="classic",XK="duotone",QK=[GK,XK,"sharp","sharp-duotone"],ZK=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),eq=["fak","fa-kit","fakd","fa-kit-duotone"],tq=["fak","fakd"],nq={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},rq=["fak","fa-kit","fakd","fa-kit-duotone"],iq={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},oq=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],sq=[1,2,3,4,5,6,7,8,9,10],aq=sq.concat([11,12,13,14,15,16,17,18,19,20]),lq=[...Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",nq.GROUP,nq.SWAP_OPACITY,nq.PRIMARY,nq.SECONDARY].concat(sq.map((e=>"".concat(e,"x")))).concat(aq.map((e=>"w-".concat(e))));const cq="___FONT_AWESOME___",uq=16,dq="svg-inline--fa",fq="data-fa-i2svg",hq="data-fa-pseudo-element",pq="data-prefix",mq="data-icon",gq="fontawesome-i2svg",vq=["HTML","HEAD","STYLE","SCRIPT"],yq=(()=>{try{return!0}catch(e){return!1}})(),bq=Nv({},YK);bq[GK]=Nv(Nv(Nv(Nv({},{"fa-duotone":"duotone"}),YK[GK]),{fak:"kit","fa-kit":"kit"}),{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"});const _q=Ov(bq),wq=Nv({},{classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}});wq[GK]=Nv(Nv(Nv(Nv({},{duotone:"fad"}),wq[GK]),{kit:"fak"}),{"kit-duotone":"fakd"});const Cq=Ov(wq),xq=Nv({},iq);xq[GK]=Nv(Nv({},xq[GK]),{fak:"fa-kit"});const Eq=Ov(xq),Sq=Nv({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}});Sq[GK]=Nv(Nv({},Sq[GK]),{"fa-kit":"fak"}),Ov(Sq);const kq=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Dq="fa-layers-text",Tq=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i;Ov(Nv({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}}));const Aq=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Nq="duotone-group",Oq="primary",jq="secondary",Mq=["kit",...lq],Rq=UK.FontAwesomeConfig||{};HK&&"function"==typeof HK.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((e=>{let[t,n]=e;const r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=HK.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t));null!=r&&(Rq[n]=r)}));const Fq={
styleDefault:"solid",familyDefault:GK,cssPrefix:"fa",replacementClass:dq,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Rq.familyPrefix&&(Rq.cssPrefix=Rq.familyPrefix);const Lq=Nv(Nv({},Fq),Rq);Lq.autoReplaceSvg||(Lq.observeMutations=!1);const Pq={};Object.keys(Fq).forEach((e=>{Object.defineProperty(Pq,e,{enumerable:!0,set:function(t){Lq[e]=t,Iq.forEach((e=>e(Pq)))},get:function(){return Lq[e]}})})),Object.defineProperty(Pq,"familyPrefix",{enumerable:!0,set:function(e){Lq.cssPrefix=e,Iq.forEach((e=>e(Pq)))},get:function(){return Lq.cssPrefix}}),UK.FontAwesomeConfig=Pq;const Iq=[],$q=uq,zq={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};let Bq=!1;var Uq={mixout:()=>({dom:{css:Iv,insertCss:$v}}),hooks:()=>({beforeDOMElementCreation(){$v()},beforeI2svg(){$v()}})};const Hq=UK||{};Hq[cq]||(Hq[cq]={}),Hq[cq].styles||(Hq[cq].styles={}),Hq[cq].hooks||(Hq[cq].hooks={}),Hq[cq].shims||(Hq[cq].shims=[]);var Wq=Hq[cq];const Kq=[],qq=function(){HK.removeEventListener("DOMContentLoaded",qq),Vq=1,Kq.map((e=>e()))};let Vq=!1;qK&&(Vq=(HK.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(HK.readyState),Vq||HK.addEventListener("DOMContentLoaded",qq));var Yq=function(e,t,n){var r,i,o,s=Object.keys(e),a=s.length,l=t;for(void 0===n?(r=1,o=e[s[0]]):(r=0,o=n);r<a;r++)o=l(o,e[i=s[r]],i,e);return o};const{styles:Jq,shims:Gq}=Wq,Xq=Object.keys(Eq),Qq=Xq.reduce(((e,t)=>(e[t]=Object.keys(Eq[t]),e)),{});let Zq=null,eV={},tV={},nV={},rV={},iV={};const oV=()=>{const e=e=>Yq(Jq,((t,n,r)=>(t[r]=Yq(n,e,{}),t)),{});eV=e(((e,t,n)=>(t[3]&&(e[t[3]]=n),t[2]&&t[2].filter((e=>"number"==typeof e)).forEach((t=>{e[t.toString(16)]=n})),e))),tV=e(((e,t,n)=>(e[n]=n,t[2]&&t[2].filter((e=>"string"==typeof e)).forEach((t=>{e[t]=n})),e))),iV=e(((e,t,n)=>{const r=t[2];return e[n]=n,r.forEach((t=>{e[t]=n})),e}));const t="far"in Jq||Pq.autoFetchSvg,n=Yq(Gq,((e,n)=>{const r=n[0];let i=n[1];const o=n[2];return"far"!==i||t||(i="fas"),"string"==typeof r&&(e.names[r]={prefix:i,iconName:o}),"number"==typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:o}),e}),{names:{},unicodes:{}});nV=n.names,rV=n.unicodes,Zq=Jv(Pq.styleDefault,{family:Pq.familyDefault})};var sV;sV=e=>{Zq=Jv(e.styleDefault,{family:Pq.familyDefault})},Iq.push(sV),oV();const aV=QK.filter((e=>e!==GK||e!==XK)),lV=Object.keys(iq).filter((e=>e!==GK)).map((e=>Object.keys(iq[e]))).flat();let cV=[],uV={};const dV={},fV=Object.keys(dV),hV=new class{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(this._pullDefinitions,{});Object.keys(r).forEach((e=>{this.definitions[e]=Nv(Nv({},this.definitions[e]||{}),r[e]),Wv(e,r[e]);const t=Eq[GK][e];t&&Wv(t,r[e]),oV()}))}reset(){this.definitions={}}_pullDefinitions(e,t){const n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((t=>{const{prefix:r,iconName:i,icon:o}=n[t],s=o[2];e[r]||(e[r]={}),s.length>0&&s.forEach((t=>{"string"==typeof t&&(e[r][t]=o)})),e[r][i]=o})),e}},pV={i2svg:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return qK?(Zv("beforeI2svg",e),ey("pseudoElements2svg",e),ey("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;!1===Pq.autoReplaceSvg&&(Pq.autoReplaceSvg=!0),Pq.observeMutations=!0,function(e){qK&&(Vq?setTimeout(e,0):Kq.push(e))}((()=>{vV({autoReplaceSvgRoot:t}),Zv("watch",e)}))}},mV={icon:e=>{if(null===e)return null;if("object"==typeof e&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:qv(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){const t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=Jv(e[0]);return{prefix:n,iconName:qv(n,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(Pq.cssPrefix,"-"))>-1||e.match(kq))){const t=Xv(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||Yv(),iconName:qv(t.prefix,t.iconName)||t.iconName}}if("string"==typeof e){const t=Yv();return{prefix:t,iconName:qv(t,e)||e}}}},gV={noAuto:()=>{Pq.autoReplaceSvg=!1,Pq.observeMutations=!1,Zv("noAuto")},config:Pq,dom:pV,parse:mV,library:hV,findIconDefinition:ty,toHtml:zv},vV=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t=HK}=e;(Object.keys(Wq.styles).length>0||Pq.autoFetchSvg)&&qK&&Pq.autoReplaceSvg&&gV.dom.i2svg({node:t})},{styles:yV}=Wq,bV={found:!1,width:512,height:512},_V=()=>{},wV=Pq.measurePerformance&&KK&&KK.mark&&KK.measure?KK:{mark:_V,measure:_V},CV='FA "6.7.2"';var xV=e=>(wV.mark("".concat(CV," ").concat(e," begins")),()=>(e=>{wV.mark("".concat(CV," ").concat(e," ends")),wV.measure("".concat(CV," ").concat(e),"".concat(CV," ").concat(e," begins"),"".concat(CV," ").concat(e," ends"))})(e));const EV=()=>{},SV={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach((e=>{t.parentNode.insertBefore(uy(e),t)})),null===t.getAttribute(fq)&&Pq.keepOriginalSource){let e=HK.createComment(function(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~Rv(t).indexOf(Pq.replacementClass))return SV.replace(e);const r=new RegExp("".concat(Pq.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const e=n[0].attributes.class.split(" ").reduce(((e,t)=>(t===Pq.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e)),{toNode:[],toSvg:[]});n[0].attributes.class=e.toSvg.join(" "),0===e.toNode.length?t.removeAttribute("class"):t.setAttribute("class",e.toNode.join(" "))}const i=n.map((e=>zv(e))).join("\n");t.setAttribute(fq,""),t.innerHTML=i}};let kV=!1,DV=null;const{styles:TV}=Wq,AV=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=zq,symbol:r=!1,mask:i=null,maskId:o=null,title:s=null,titleId:a=null,classes:l=[],attributes:c={},styles:u={}}=t;if(!e)return;const{prefix:d,iconName:f,icon:h}=e;return ny(Nv({type:"icon"},e),(()=>(Zv("beforeDOMElementCreation",{iconDefinition:e,params:t}),Pq.autoA11y&&(s?c["aria-labelledby"]="".concat(Pq.replacementClass,"-title-").concat(a||jv()):(c["aria-hidden"]="true",c.focusable="false")),ry({icons:{main:oy(h),mask:i?oy(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:f,transform:Nv(Nv({},zq),n),symbol:r,title:s,maskId:o,titleId:a,extra:{attributes:c,styles:u,classes:l}}))))};var NV={mixout(){return{icon:(e=AV,function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(t||{}).icon?t:ty(t||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:ty(i||{})),e(r,Nv(Nv({},n),{},{mask:i}))})};var e},hooks:()=>({mutationObserverCallbacks:e=>(e.treeCallback=yy,e.nodeCallback=by,e)}),provides(e){e.i2svg=function(e){const{node:t=HK,callback:n=(()=>{})}=e;return yy(t,n)},e.generateSvgReplacementMutation=function(e,t){const{iconName:n,title:r,titleId:i,prefix:o,transform:s,symbol:a,mask:l,maskId:c,extra:u}=t;return new Promise(((t,d)=>{Promise.all([sy(n,o),l.iconName?sy(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((l=>{let[d,f]=l;t([e,ry({icons:{main:d,mask:f},prefix:o,iconName:n,transform:s,symbol:a,maskId:c,title:r,titleId:i,extra:u,watchable:!0})])})).catch(d)}))},e.generateAbstractIcon=function(e){let{children:t,attributes:n,main:r,transform:i,styles:o}=e;const s=Lv(o);let a;return s.length>0&&(n.style=s),Pv(i)&&(a=ey("generateAbstractTransformGrouping",{main:r,transform:i,containerWidth:r.width,iconWidth:r.width})),t.push(a||r.icon),{children:t,attributes:n}}}},OV={mixout:()=>({layer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:n=[]}=t;return ny({type:"layer"},(()=>{Zv("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e((e=>{Array.isArray(e)?e.map((e=>{r=r.concat(e.abstract)})):r=r.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(Pq.cssPrefix,"-layers"),...n].join(" ")},children:r}]}))}})},jV={mixout:()=>({counter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:o={}}=t;return ny({type:"counter",content:e},(()=>(Zv("beforeDOMElementCreation",{content:e,params:t}),function(e){const{content:t,title:n,extra:r}=e,i=Nv(Nv(Nv({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=Lv(r.styles);o.length>0&&(i.style=o);const s=[];return s.push({tag:"span",attributes:i,children:[t]}),n&&s.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),s}({content:e.toString(),title:n,extra:{attributes:i,styles:o,classes:["".concat(Pq.cssPrefix,"-layers-counter"),...r]}}))))}})},MV={mixout:()=>({text(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=zq,title:r=null,classes:i=[],attributes:o={},styles:s={}}=t;return ny({type:"text",content:e},(()=>(Zv("beforeDOMElementCreation",{content:e,params:t}),iy({content:e,transform:Nv(Nv({},zq),n),title:r,extra:{attributes:o,styles:s,classes:["".concat(Pq.cssPrefix,"-layers-text"),...i]}}))))}}),provides(e){e.generateLayersText=function(e,t){const{title:n,transform:r,extra:i}=t;let o=null,s=null;if(VK){const t=parseInt(getComputedStyle(e).fontSize,10),n=e.getBoundingClientRect();o=n.width/t,s=n.height/t}return Pq.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,iy({content:e.innerHTML,width:o,height:s,transform:r,title:n,extra:i,watchable:!0})])}}};const RV=new RegExp('"',"ug"),FV=[1105920,1112319],LV=Nv(Nv(Nv(Nv({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),PV=Object.keys(LV).reduce(((e,t)=>(e[t.toLowerCase()]=LV[t],e)),{}),IV=Object.keys(PV).reduce(((e,t)=>{const n=PV[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e}),{});var $V={hooks:()=>({mutationObserverCallbacks:e=>(e.pseudoElementsCallback=xy,e)}),provides(e){e.pseudoElements2svg=function(e){const{node:t=HK}=e;Pq.searchPseudoElements&&xy(t)}}};let zV=!1;var BV={mixout:()=>({dom:{unwatch(){hy(),zV=!0}}}),hooks:()=>({bootstrap(){my(Qv("mutationObserverCallbacks",{}))},noAuto(){DV&&DV.disconnect()},watch(e){const{observeMutationsRoot:t}=e;zV?py():my(Qv("mutationObserverCallbacks",{observeMutationsRoot:t}))}})};const UV=e=>e.toLowerCase().split(" ").reduce(((e,t)=>{const n=t.toLowerCase().split("-"),r=n[0];let i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0});var HV={mixout:()=>({parse:{transform:e=>UV(e)}}),hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=UV(n)),e}}),provides(e){e.generateAbstractTransformGrouping=function(e){let{main:t,transform:n,containerWidth:r,iconWidth:i}=e;const o={transform:"translate(".concat(r/2," 256)")},s="translate(".concat(32*n.x,", ").concat(32*n.y,") "),a="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={outer:o,inner:{transform:"".concat(s," ").concat(a," ").concat(l)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:Nv({},c.outer),children:[{tag:"g",attributes:Nv({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:Nv(Nv({},t.icon.attributes),c.path)}]}]}}}};const WV={x:0,y:0,width:"100%",height:"100%"};var KV={hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?Xv(n.split(" ").map((e=>e.trim()))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=Yv()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}),provides(e){e.generateAbstractMask=function(e){let{children:t,attributes:n,main:r,mask:i,maskId:o,transform:s}=e;const{width:a,icon:l}=r,{width:c,icon:u}=i,d=function(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*t.x,", ").concat(32*t.y,") "),s="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(s," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:s,containerWidth:c,iconWidth:a}),f={tag:"rect",attributes:Nv(Nv({},WV),{},{fill:"white"})},h=l.children?{children:l.children.map(Ey)}:{},p={tag:"g",attributes:Nv({},d.inner),children:[Ey(Nv({tag:l.tag,attributes:Nv(Nv({},l.attributes),d.path)},h))]},m={tag:"g",attributes:Nv({},d.outer),children:[p]},g="mask-".concat(o||jv()),v="clip-".concat(o||jv()),y={tag:"mask",attributes:Nv(Nv({},WV),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,m]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:v},children:(_=u,"g"===_.tag?_.children:[_])},y]};var _;return t.push(b,{tag:"rect",attributes:Nv({fill:"currentColor","clip-path":"url(#".concat(v,")"),mask:"url(#".concat(g,")")},WV)}),{children:t,attributes:n}}}},qV={provides(e){let t=!1;UK.matchMedia&&(t=UK.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:Nv(Nv({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const i=Nv(Nv({},r),{},{attributeName:"opacity"}),o={tag:"circle",attributes:Nv(Nv({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:Nv(Nv({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Nv(Nv({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(o),e.push({tag:"path",attributes:Nv(Nv({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Nv(Nv({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:Nv(Nv({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Nv(Nv({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){let{mixoutsTo:n}=t;cV=e,uV={},Object.keys(dV).forEach((e=>{-1===fV.indexOf(e)&&delete dV[e]})),cV.forEach((e=>{const t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((e=>{"function"==typeof t[e]&&(n[e]=t[e]),"object"==typeof t[e]&&Object.keys(t[e]).forEach((r=>{n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){const t=e.hooks();Object.keys(t).forEach((e=>{uV[e]||(uV[e]=[]),uV[e].push(t[e])}))}e.provides&&e.provides(dV)}))}([Uq,NV,OV,jV,MV,$V,BV,HV,KV,qV,{hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}})}],{mixoutsTo:gV});const VV=gV.parse,YV=gV.icon;var JV,GV,XV,QV,ZV={exports:{}};ZV.exports=function(){function e(){}function t(){}if(QV)return XV;QV=1;var n=GV?JV:(GV=1,JV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");return t.resetWarningCache=e,XV=function(){function r(e,t,r,i,o,s){if(s!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function i(){return r}r.isRequired=r;var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o}}()();var eY,tY=(eY=ZV.exports)&&eY.__esModule&&Object.prototype.hasOwnProperty.call(eY,"default")?eY.default:eY,nY=["style"],rY=!1;try{rY=!0}catch(eY){}var iY=MS.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,o=e.className,s=e.title,a=e.titleId,l=e.maskId,c=jy(n),u=My("classes",[].concat(Ay(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,o=e.bounce,s=e.shake,a=e.flash,l=e.spin,c=e.spinPulse,u=e.spinReverse,d=e.pulse,f=e.fixedWidth,h=e.inverse,p=e.border,m=e.listItem,g=e.flip,v=e.size,y=e.rotation,b=e.pull,_=(Ty(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":o,"fa-shake":s,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":u,"fa-spin-pulse":c,"fa-pulse":d,"fa-fw":f,"fa-inverse":h,"fa-border":p,"fa-li":m,"fa-flip":!0===g,"fa-flip-horizontal":"horizontal"===g||"both"===g,"fa-flip-vertical":"vertical"===g||"both"===g},"fa-".concat(v),null!=v),Ty(t,"fa-rotate-".concat(y),null!=y&&0!==y),Ty(t,"fa-pull-".concat(b),null!=b),Ty(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(_).map((function(e){return _[e]?e:null})).filter((function(e){return e}))}(e)),Ay(o.split(" ")))),d=My("transform","string"==typeof e.transform?VV.transform(e.transform):e.transform),f=My("mask",jy(r)),h=YV(c,ky(ky(ky(ky({},u),d),f),{},{symbol:i,title:s,titleId:a,maskId:l}));if(!h)return function(){var e;!rY&&console&&"function"==typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var p=h.abstract,m={ref:t};return Object.keys(e).forEach((function(t){iY.defaultProps.hasOwnProperty(t)||(m[t]=e[t])})),oY(p[0],m)}));iY.displayName="FontAwesomeIcon",iY.propTypes={beat:tY.bool,border:tY.bool,beatFade:tY.bool,bounce:tY.bool,className:tY.string,fade:tY.bool,flash:tY.bool,mask:tY.oneOfType([tY.object,tY.array,tY.string]),maskId:tY.string,fixedWidth:tY.bool,inverse:tY.bool,flip:tY.oneOf([!0,!1,"horizontal","vertical","both"]),icon:tY.oneOfType([tY.object,tY.array,tY.string]),listItem:tY.bool,pull:tY.oneOf(["right","left"]),pulse:tY.bool,rotation:tY.oneOf([0,90,180,270]),shake:tY.bool,size:tY.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:tY.bool,spinPulse:tY.bool,spinReverse:tY.bool,symbol:tY.oneOfType([tY.bool,tY.string]),title:tY.string,titleId:tY.string,transform:tY.oneOfType([tY.string,tY.object]),swapOpacity:tY.bool},iY.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var oY=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),o=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=Oy(t.slice(0,r)),o=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=o:e[i]=o,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[Oy(t)]=r}return e}),{attrs:{}}),s=r.style,a=void 0===s?{}:s,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,nY);return o.attrs.style=ky(ky({},o.attrs.style),a),t.apply(void 0,[n.tag,ky(ky({},o.attrs),l)].concat(Ay(i)))}.bind(null,MS.createElement);const sY={prefix:"fas",iconName:"strikethrough",icon:[512,512,[],"f0cc","M161.3 144c3.2-17.2 14-30.1 33.7-38.6c21.1-9 51.8-12.3 88.6-6.5c11.9 1.9 48.8 9.1 60.1 12c17.1 4.5 34.6-5.6 39.2-22.7s-5.6-34.6-22.7-39.2c-14.3-3.8-53.6-11.4-66.6-13.4c-44.7-7-88.3-4.2-123.7 10.9c-36.5 15.6-64.4 44.8-71.8 87.3c-.1 .6-.2 1.1-.2 1.7c-2.8 23.9 .5 45.6 10.1 64.6c4.5 9 10.2 16.9 16.7 23.9L32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l448 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-209.9 0-.4-.1-1.1-.3c-36-10.8-65.2-19.6-85.2-33.1c-9.3-6.3-15-12.6-18.2-19.1c-3.1-6.1-5.2-14.6-3.8-27.4zM348.9 337.2c2.7 6.5 4.4 15.8 1.9 30.1c-3 17.6-13.8 30.8-33.9 39.4c-21.1 9-51.7 12.3-88.5 6.5c-18-2.9-49.1-13.5-74.4-22.1c-5.6-1.9-11-3.7-15.9-5.4c-16.8-5.6-34.9 3.5-40.5 20.3s3.5 34.9 20.3 40.5c3.6 1.2 7.9 2.7 12.7 4.3c0 0 0 0 0 0s0 0 0 0c24.9 8.5 63.6 21.7 87.6 25.6c0 0 0 0 0 0l.2 0c44.7 7 88.3 4.2 123.7-10.9c36.5-15.6 64.4-44.8 71.8-87.3c3.6-21 2.7-40.4-3.1-58.1l-75.7 0c7 5.6 11.4 11.2 13.9 17.2z"]},aY={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"]},lY={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"]},cY={prefix:"fas",iconName:"table",icon:[512,512,[],"f0ce","M64 256l0-96 160 0 0 96L64 256zm0 64l160 0 0 96L64 416l0-96zm224 96l0-96 160 0 0 96-160 0zM448 256l-160 0 0-96 160 0 0 96zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"]},uY={prefix:"fas",iconName:"laptop-code",icon:[640,512,[],"f5fc","M64 96c0-35.3 28.7-64 64-64l384 0c35.3 0 64 28.7 64 64l0 256-64 0 0-256L128 96l0 256-64 0L64 96zM0 403.2C0 392.6 8.6 384 19.2 384l601.6 0c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8L76.8 480C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"]},dY={prefix:"fas",iconName:"caret-left",icon:[256,512,[],"f0d9","M9.4 278.6c-12.5-12.5-12.5-32.8 0-45.3l128-128c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6l0 256c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-128-128z"]},fY={prefix:"fas",iconName:"heading",icon:[448,512,["header"],"f1dc","M0 64C0 46.3 14.3 32 32 32l48 0 48 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-16 0 0 112 224 0 0-112-16 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l48 0 48 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-16 0 0 144 0 176 16 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-48 0-48 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l16 0 0-144-224 0 0 144 16 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-48 0-48 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l16 0 0-176L48 96 32 96C14.3 96 0 81.7 0 64z"]},hY={prefix:"fas",iconName:"align-justify",icon:[448,512,[],"f039","M448 64c0-17.7-14.3-32-32-32L32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32zm0 256c0-17.7-14.3-32-32-32L32 288c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32zM0 192c0 17.7 14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 160c-17.7 0-32 14.3-32 32zM448 448c0-17.7-14.3-32-32-32L32 416c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32z"]},pY={prefix:"fas",iconName:"highlighter",icon:[576,512,[],"f591","M315 315l158.4-215L444.1 70.6 229 229 315 315zm-187 5s0 0 0 0l0-71.7c0-15.3 7.2-29.6 19.5-38.6L420.6 8.4C428 2.9 437 0 446.2 0c11.4 0 22.4 4.5 30.5 12.6l54.8 54.8c8.1 8.1 12.6 19 12.6 30.5c0 9.2-2.9 18.2-8.4 25.6L334.4 396.5c-9 12.3-23.4 19.5-38.6 19.5L224 416l-25.4 25.4c-12.5 12.5-32.8 12.5-45.3 0l-50.7-50.7c-12.5-12.5-12.5-32.8 0-45.3L128 320zM7 466.3l63-63 70.6 70.6-31 31c-4.5 4.5-10.6 7-17 7L24 512c-13.3 0-24-10.7-24-24l0-4.7c0-6.4 2.5-12.5 7-17z"]},mY={prefix:"fas",iconName:"underline",icon:[448,512,[],"f0cd","M16 64c0-17.7 14.3-32 32-32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-16 0 0 128c0 53 43 96 96 96s96-43 96-96l0-128-16 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-16 0 0 128c0 88.4-71.6 160-160 160s-160-71.6-160-160L64 96 48 96C30.3 96 16 81.7 16 64zM0 448c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32z"]},gY={prefix:"fas",iconName:"bold",icon:[384,512,[],"f032","M0 64C0 46.3 14.3 32 32 32l48 0 16 0 128 0c70.7 0 128 57.3 128 128c0 31.3-11.3 60.1-30 82.3c37.1 22.4 62 63.1 62 109.7c0 70.7-57.3 128-128 128L96 480l-16 0-48 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l16 0 0-160L48 96 32 96C14.3 96 0 81.7 0 64zM224 224c35.3 0 64-28.7 64-64s-28.7-64-64-64L112 96l0 128 112 0zM112 288l0 128 144 0c35.3 0 64-28.7 64-64s-28.7-64-64-64l-32 0-112 0z"]},vY={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M0 96C0 60.7 28.7 32 64 32l384 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6l96 0 32 0 208 0c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]},yY={prefix:"fas",iconName:"rotate-left",icon:[512,512,["rotate-back","rotate-backward","undo-alt"],"f2ea","M48.5 224L40 224c-13.3 0-24-10.7-24-24L16 72c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2L98.6 96.6c87.6-86.5 228.7-86.2 315.8 1c87.5 87.5 87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3c-62.2-62.2-162.7-62.5-225.3-1L185 183c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8L48.5 224z"]},bY={prefix:"fas",iconName:"subscript",icon:[512,512,[],"f12c","M32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l15.3 0 89.6 128L47.3 384 32 384c-17.7 0-32 14.3-32 32s14.3 32 32 32l32 0c10.4 0 20.2-5.1 26.2-13.6L176 311.8l85.8 122.6c6 8.6 15.8 13.6 26.2 13.6l32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-15.3 0L215.1 256l89.6-128 15.3 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0c-10.4 0-20.2 5.1-26.2 13.6L176 200.2 90.2 77.6C84.2 69.1 74.4 64 64 64L32 64zM480 320c0-11.1-5.7-21.4-15.2-27.2s-21.2-6.4-31.1-1.4l-32 16c-15.8 7.9-22.2 27.1-14.3 42.9C393 361.5 404.3 368 416 368l0 80c-17.7 0-32 14.3-32 32s14.3 32 32 32l32 0 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-128z"]},_Y={prefix:"fas",iconName:"text-slash",icon:[640,512,["remove-format"],"f87d","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L355.7 253.5 400.2 96 503 96 497 120.2c-4.3 17.1 6.1 34.5 23.3 38.8s34.5-6.1 38.8-23.3l11-44.1C577.6 61.3 554.7 32 523.5 32L376.1 32l-.3 0L204.5 32c-22 0-41.2 15-46.6 36.4l-6.3 25.2L38.8 5.1zm168 131.7c.1-.3 .2-.7 .3-1L217 96l116.7 0L301.3 210.8l-94.5-74.1zM243.3 416L192 416c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-42.2 0 17.6-62.1L272.9 311 243.3 416z"]},wY={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160 352 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l111.5 0c0 0 0 0 0 0l.4 0c17.7 0 32-14.3 32-32l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 35.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1L16 432c0 17.7 14.3 32 32 32s32-14.3 32-32l0-35.1 17.6 17.5c0 0 0 0 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.8c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352l34.4 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L48.4 288c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"]},CY={prefix:"fas",iconName:"italic",icon:[384,512,[],"f033","M128 64c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-58.7 0L160 416l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l58.7 0L224 96l-64 0c-17.7 0-32-14.3-32-32z"]},xY={prefix:"fas",iconName:"a",icon:[384,512,[97],"41","M221.5 51.7C216.6 39.8 204.9 32 192 32s-24.6 7.8-29.5 19.7l-120 288-40 96c-6.8 16.3 .9 35 17.2 41.8s35-.9 41.8-17.2L93.3 384l197.3 0 31.8 76.3c6.8 16.3 25.5 24 41.8 17.2s24-25.5 17.2-41.8l-40-96-120-288zM264 320l-144 0 72-172.8L264 320z"]},EY={prefix:"fas",iconName:"list-ol",icon:[512,512,["list-1-2","list-numeric"],"f0cb","M24 56c0-13.3 10.7-24 24-24l32 0c13.3 0 24 10.7 24 24l0 120 16 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l16 0 0-96-8 0C34.7 80 24 69.3 24 56zM86.7 341.2c-6.5-7.4-18.3-6.9-24 1.2L51.5 357.9c-7.7 10.8-22.7 13.3-33.5 5.6s-13.3-22.7-5.6-33.5l11.1-15.6c23.7-33.2 72.3-35.6 99.2-4.9c21.3 24.4 20.8 60.9-1.1 84.7L86.8 432l33.2 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-88 0c-9.5 0-18.2-5.6-22-14.4s-2.1-18.9 4.3-25.9l72-78c5.3-5.8 5.4-14.6 .3-20.5zM224 64l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},SY={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},kY={prefix:"fas",iconName:"arrow-up-right-from-square",icon:[512,512,["external-link"],"f08e","M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l82.7 0L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3l0 82.7c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160c0-17.7-14.3-32-32-32L320 0zM80 32C35.8 32 0 67.8 0 112L0 432c0 44.2 35.8 80 80 80l320 0c44.2 0 80-35.8 80-80l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 112c0 8.8-7.2 16-16 16L80 448c-8.8 0-16-7.2-16-16l0-320c0-8.8 7.2-16 16-16l112 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 32z"]},DY={prefix:"fas",iconName:"pen",
icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},TY={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},AY={prefix:"fas",iconName:"align-left",icon:[448,512,[],"f036","M288 64c0 17.7-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32L32 352c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},NY={prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"]},OY={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"]},jY={prefix:"fas",iconName:"diagram-next",icon:[512,512,[],"e476","M512 160c0 35.3-28.7 64-64 64l-168 0 0 64 46.1 0c21.4 0 32.1 25.9 17 41L273 399c-9.4 9.4-24.6 9.4-33.9 0L169 329c-15.1-15.1-4.4-41 17-41l46.1 0 0-64L64 224c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l384 0c35.3 0 64 28.7 64 64l0 64zM448 416l0-64-82.7 0 .4-.4c18.4-18.4 20.4-43.7 11-63.6l71.3 0c35.3 0 64 28.7 64 64l0 64c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64l0-64c0-35.3 28.7-64 64-64l71.3 0c-9.4 19.9-7.4 45.2 11 63.6l.4 .4L64 352l0 64 146.7 0 5.7 5.7c21.9 21.9 57.3 21.9 79.2 0l5.7-5.7L448 416z"]},MY={prefix:"fas",iconName:"align-center",icon:[448,512,[],"f037","M352 64c0-17.7-14.3-32-32-32L128 32c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32zm96 128c0-17.7-14.3-32-32-32L32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32zM0 448c0 17.7 14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 416c-17.7 0-32 14.3-32 32zM352 320c0-17.7-14.3-32-32-32l-192 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32z"]},RY={prefix:"fas",iconName:"rotate-right",icon:[512,512,["redo-alt","rotate-forward"],"f2f9","M463.5 224l8.5 0c13.3 0 24-10.7 24-24l0-128c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1c-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8l119.5 0z"]},FY={prefix:"fas",iconName:"superscript",icon:[512,512,[],"f12b","M480 32c0-11.1-5.7-21.4-15.2-27.2s-21.2-6.4-31.1-1.4l-32 16c-15.8 7.9-22.2 27.1-14.3 42.9C393 73.5 404.3 80 416 80l0 80c-17.7 0-32 14.3-32 32s14.3 32 32 32l32 0 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-128zM32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l15.3 0 89.6 128L47.3 384 32 384c-17.7 0-32 14.3-32 32s14.3 32 32 32l32 0c10.4 0 20.2-5.1 26.2-13.6L176 311.8l85.8 122.6c6 8.6 15.8 13.6 26.2 13.6l32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-15.3 0L215.1 256l89.6-128 15.3 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0c-10.4 0-20.2 5.1-26.2 13.6L176 200.2 90.2 77.6C84.2 69.1 74.4 64 64 64L32 64z"]},LY={prefix:"fas",iconName:"droplet",icon:[384,512,[128167,"tint"],"f043","M192 512C86 512 0 426 0 320C0 228.8 130.2 57.7 166.6 11.7C172.6 4.2 181.5 0 191.1 0l1.8 0c9.6 0 18.5 4.2 24.5 11.7C253.8 57.7 384 228.8 384 320c0 106-86 192-192 192zM96 336c0-8.8-7.2-16-16-16s-16 7.2-16 16c0 61.9 50.1 112 112 112c8.8 0 16-7.2 16-16s-7.2-16-16-16c-44.2 0-80-35.8-80-80z"]},PY={prefix:"fas",iconName:"paragraph",icon:[448,512,[182],"f1dd","M192 32l64 0 160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0 0 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-352-32 0 0 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-96-32 0c-88.4 0-160-71.6-160-160s71.6-160 160-160z"]},IY={prefix:"fas",iconName:"link",icon:[640,512,[128279,"chain"],"f0c1","M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"]},$Y={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"]},zY={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},BY={prefix:"fas",iconName:"list-ul",icon:[512,512,["list-dots"],"f0ca","M64 144a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM64 464a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm48-208a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"]},UY={prefix:"fas",iconName:"list-check",icon:[512,512,["tasks"],"f0ae","M152.1 38.2c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 113C-2.3 103.6-2.3 88.4 7 79s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zm0 160c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 273c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zM224 96c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zm0 160c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zM160 416c0-17.7 14.3-32 32-32l288 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-288 0c-17.7 0-32-14.3-32-32zM48 368a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},HY={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},WY={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},KY={prefix:"fas",iconName:"quote-left",icon:[448,512,[8220,"quote-left-alt"],"f10d","M0 216C0 149.7 53.7 96 120 96l8 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-8 0c-30.9 0-56 25.1-56 56l0 8 64 0c35.3 0 64 28.7 64 64l0 64c0 35.3-28.7 64-64 64l-64 0c-35.3 0-64-28.7-64-64l0-32 0-32 0-72zm256 0c0-66.3 53.7-120 120-120l8 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-8 0c-30.9 0-56 25.1-56 56l0 8 64 0c35.3 0 64 28.7 64 64l0 64c0 35.3-28.7 64-64 64l-64 0c-35.3 0-64-28.7-64-64l0-32 0-32 0-72z"]},qY={prefix:"fas",iconName:"link-slash",icon:[640,512,["chain-broken","chain-slash","unlink"],"f127","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L489.3 358.2l90.5-90.5c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114l-96 96-31.9-25C430.9 239.6 420.1 175.1 377 132c-52.2-52.3-134.5-56.2-191.3-11.7L38.8 5.1zM239 162c30.1-14.9 67.7-9.9 92.8 15.3c20 20 27.5 48.3 21.7 74.5L239 162zM406.6 416.4L220.9 270c-2.1 39.8 12.2 80.1 42.2 110c38.9 38.9 94.4 51 143.6 36.3zm-290-228.5L60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5l61.8-61.8-50.6-39.9z"]},VY={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},YY={prefix:"fas",iconName:"align-right",icon:[448,512,[],"f038","M448 64c0 17.7-14.3 32-32 32L192 96c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},JY={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]},GY={prefix:"fas",iconName:"print",icon:[512,512,[128424,128438,9113],"f02f","M128 0C92.7 0 64 28.7 64 64l0 96 64 0 0-96 226.7 0L384 93.3l0 66.7 64 0 0-66.7c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0L128 0zM384 352l0 32 0 64-256 0 0-64 0-16 0-16 256 0zm64 32l32 0c17.7 0 32-14.3 32-32l0-96c0-35.3-28.7-64-64-64L64 192c-35.3 0-64 28.7-64 64l0 96c0 17.7 14.3 32 32 32l32 0 0 64c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-64zM432 248a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},XY={prefix:"fas",iconName:"video",icon:[576,512,["video-camera"],"f03d","M0 128C0 92.7 28.7 64 64 64l256 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64L64 448c-35.3 0-64-28.7-64-64L0 128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2l0 256c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1l0-17.1 0-128 0-17.1 14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z"]},QY={prefix:"far",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M384 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l320 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"]},ZY=(e,t,n)=>(t=t||0===t?t:e,e>(n=n||0===n?n:e)?n:e<t?t:e),eJ=(e,t)=>{var n,r;if((null==t?void 0:t.boundary)&&e){const r=null===(n=null==t?void 0:t.boundary)||void 0===n?void 0:n.getBoundingClientRect(),i=e.getBoundingClientRect(),o={left:i.left+((null==r?void 0:r.left)||0),bottom:i.bottom+((null==r?void 0:r.bottom)||0),right:i.right+((null==r?void 0:r.right)||0),top:i.top+((null==r?void 0:r.top)||0),x:i.x+((null==r?void 0:r.x)||0),y:i.y+((null==r?void 0:r.y)||0),width:i.width,height:i.height};return Object.assign(Object.assign({},o),{toJSON:()=>{JSON.stringify(o)}})}return(null===(r=null==e?void 0:e.getBoundingClientRect)||void 0===r?void 0:r.call(e))||{}},tJ=(e,t)=>function(){try{return e(...arguments)}catch(e){t(e)}},nJ=e=>{if("#"===e)return!0;try{const t=new URL(e);return["http:","https:","ftp:","mailto:","tel:","data:"].includes(t.protocol)}catch(e){return!1}},rJ=e=>{const t=document.createElement("div");return t.style.cssText=e,t.style},iJ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return Math.random().toString(36).substring(2,e+2)},oJ=()=>MS.createElement("div",{style:{display:"flex",alignItems:"center",gap:2}},MS.createElement(xJ,null),MS.createElement(FJ,null)),sJ=()=>MS.createElement("div",{style:{display:"flex",alignItems:"center",position:"relative",gap:2}},MS.createElement(iY,{icon:lY,style:{fontSize:14,rotate:"90deg"}}),MS.createElement(iY,{style:{position:"absolute",fontSize:8,top:"50%",left:"calc(50% + 1px)",transform:"translate(-50%, -50%)"},icon:$Y})),aJ=()=>MS.createElement("div",{style:{display:"flex",alignItems:"center",gap:2}},MS.createElement(NJ,null),MS.createElement(FJ,null)),lJ=()=>MS.createElement(LJ,{rotation:180}),cJ=()=>MS.createElement("div",{style:{display:"flex",alignItems:"center",gap:4}},MS.createElement(LJ,null),MS.createElement(OJ,{style:{fontSize:10}})),uJ=()=>MS.createElement("div",{style:{display:"flex",alignItems:"center",gap:4}},MS.createElement(LJ,{transform:{rotate:-90}}),MS.createElement(OJ,{style:{fontSize:10}})),dJ=()=>MS.createElement(LJ,{transform:{rotate:-90}}),fJ=()=>MS.createElement(LJ,{transform:{rotate:90}}),hJ=()=>MS.createElement("div",{style:{display:"flex",alignItems:"center",gap:2}},MS.createElement(xJ,null),MS.createElement(OJ,{style:{fontSize:10}})),pJ=()=>MS.createElement("div",{style:{display:"flex",alignItems:"center",gap:1}},MS.createElement(NJ,null),MS.createElement(jJ,{style:{fontSize:10}})),mJ=e=>{var t,n,r,i,o,s;const[a,l]=(0,MS.useState)("rtl"===(null===(n=null===(t=null==e?void 0:e.actionParams)||void 0===t?void 0:t.hsoubEditorProps)||void 0===n?void 0:n.direction)?"rtl":"ltr"),c=null===(o=null===(i=null===(r=null==e?void 0:e.actionParams)||void 0===r?void 0:r.toolbar)||void 0===i?void 0:i.selection)||void 0===o?void 0:o.parentNode,u=null===(s=null==e?void 0:e.actionParams)||void 0===s?void 0:s.lexicalEditor;return(0,MS.useEffect)((()=>{e.actionParams.lexicalEditor.getEditorState().read((()=>{var t,n;if(HP(c)){const r=rJ(c.getStyle());l(r.direction?"rtl"===r.direction?"rtl":"ltr":"rtl"===(null===(n=null===(t=null==e?void 0:e.actionParams)||void 0===t?void 0:t.hsoubEditorProps)||void 0===n?void 0:n.direction)?"rtl":"ltr")}}))}),[c,u]),MS.createElement("div",{style:{display:"flex",alignItems:"center",gap:1}},MS.createElement(xJ,null),"rtl"===a?MS.createElement(iY,Object.assign({style:{fontSize:12}},e,{icon:aY})):MS.createElement(iY,Object.assign({style:{fontSize:12}},e,{icon:dY})))},gJ=()=>MS.createElement(MJ,null),vJ=()=>MS.createElement("div",{style:{display:"flex",alignItems:"center",gap:2}},MS.createElement(DJ,null),MS.createElement(OJ,{style:{fontSize:10}})),yJ=()=>MS.createElement("div",{style:{display:"flex",alignItems:"center",gap:2}},MS.createElement("div",{style:{display:"flex",alignItems:"flex-start"}},MS.createElement(NJ,null),MS.createElement(wJ,{style:{fontSize:10}})),MS.createElement(OJ,{style:{fontSize:10}})),bJ=()=>MS.createElement("div",{style:{display:"flex",alignItems:"center",gap:2}},MS.createElement("div",{style:{display:"flex",alignItems:"flex-end",gap:1}},MS.createElement(NJ,null),MS.createElement("span",{style:{fontSize:14,textTransform:"none",fontWeight:"bold",lineHeight:.8}},"a")),MS.createElement(OJ,{style:{fontSize:10}})),_J=()=>MS.createElement(RJ,null),wJ=e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:HY})),CJ=e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:WY})),xJ=e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:PY})),EJ=e=>MS.createElement(iY,Object.assign({style:{fontSize:14},transform:"down-1"},e,{icon:mY})),SJ=e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:TY})),kJ=e=>MS.createElement("div",{style:{display:"flex",alignItems:"center",gap:2}},MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:uY})),MS.createElement(OJ,{style:{fontSize:10}})),DJ=e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:MY})),TJ=e=>MS.createElement("svg",Object.assign({},e,{fill:"#444546",width:"14px",height:"14px",viewBox:"0 0 1920 1920",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(180)"}),MS.createElement("path",{d:"M1694.118 0C1818.692 0 1920 101.308 1920 225.882v1468.236c0 124.574-101.308 225.882-225.882 225.882H225.882C101.308 1920 0 1818.692 0 1694.118V225.882C0 101.308 101.308 0 225.882 0h1468.236Zm-903.53 564.706h338.824V225.882H790.588v338.824Zm-564.706 0h338.824V225.882H225.882v338.824Zm0 564.706h338.824V790.588H225.882v338.824Zm0 564.706h338.824v-338.824H225.882v338.824Zm564.349.47h904v-904h-904v904Zm565.063-1129.882h338.824V225.882h-338.824v338.824Z",fillRule:"evenodd"})),AJ=e=>MS.createElement("svg",Object.assign({},e,{fill:"#444546",width:"14px",height:"14px",viewBox:"0 0 1920 1920",xmlns:"http://www.w3.org/2000/svg",transform:"rotate(180)"}),MS.createElement("path",{d:"M1694.118 0C1818.692 0 1920 101.308 1920 225.882v1468.236c0 124.574-101.308 225.882-225.882 225.882H225.882C101.308 1920 0 1818.692 0 1694.118V225.882C0 101.308 101.308 0 225.882 0Zm.113 790.588h-904v904h904v-904ZM564.706 1355.294H225.882v338.824h338.824v-338.824Zm0-564.706H225.882v338.824h338.824V790.588Zm564.706-564.706H790.588v338.824h338.824V225.882Zm-564.706 0H225.882v338.824h338.824V225.882Zm1129.412 0h-338.824v338.824h338.824V225.882ZM1442.178 849l-203.224 203.225L1035.914 849 839 1045.822l203.225 203.224L839 1452.178 1035.915 1649l203.039-203.225L1442.178 1649 1639 1452.178l-203.132-203.132L1639 1045.822 1442.178 849Z",fillRule:"evenodd"})),NJ=e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:xY})),OJ=e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:zY})),jJ=e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:LY})),MJ=e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:pY})),RJ=e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:fY})),FJ=e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:OY})),LJ=e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:jY}));var PJ=Object.freeze({__proto__:null,A:NJ,Align:vJ,AlignCenter:DJ,AlignJustify:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:hY})),AlignLeft:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:AY})),AlignRight:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:YY})),ArrowUpRightFromSquare:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:kY})),ArrowsRotate:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:wY})),Autoplay:sJ,BackgroundColor:gJ,BlockType:hJ,Bold:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:gY})),Check:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:VY})),ChevronDown:OJ,CircleXmark:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:JY})),Close:CJ,Code:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:SY})),CodeLanguage:kJ,Color:pJ,Columns:uJ,Copy:e=>MS.createElement("div",{style:{position:"relative"}},MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:QY})),MS.createElement(iY,Object.assign({style:{fontSize:14,position:"absolute",transform:"translate(4px, 3px)",background:"white",top:0,left:0}},e,{icon:QY}))),DiagramNext:LJ,Direction:mJ,Droplet:jJ,EllipsisVertical:FJ,FontFamily:bJ,FontSize:yJ,Heading:RJ,HeadingType:_J,Highlighter:MJ,Image:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:vY})),InsertColumnAfter:dJ,InsertColumnBefore:fJ,InsertRowAfter:lJ,Italic:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:CY})),Link:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:IY})),LinkSlash:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:qY})),ListCheck:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:UY})),ListOl:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:EY})),ListUl:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:BY})),MergeCells:TJ,Minus:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:NY})),MoreParagraph:oJ,MoreText:aJ,Paragraph:xJ,Pen:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:DY})),Plus:wJ,Print:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:GY})),QuoteLeft:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:KY})),RotateLeft:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:yY})),RotateRight:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:RY})),Rows:cJ,Strikethrough:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:sY})),Subscript:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:bY})),Superscript:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:FY})),Table:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:cY})),TextSlash:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:_Y})),Trash:SJ,Underline:EJ,UnmergeCells:AJ,Video:e=>MS.createElement(iY,Object.assign({style:{fontSize:14}},e,{icon:XY}))});const IJ=e=>({fontFamily:["Arial","Courier New","Georgia","Times New Roman","Trebuchet MS","Verdana"],lazyExtend:!0,fontSize:["10px","12px","14px","16px","18px","24px","30px","36px","48px","60px","72px","96px"],defaultColors:["#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8","#000000","#ffffff"],quickInsert:{enable:!0,buttons:["ul","ol","insertImage","insertVideo","insertTable","insertHR"]},table:{enable:!0,tableInsertMaxSize:15,buttons:["rows","columns","mergeCells","unmergeCells","align","backgroundColor","removeTable"]},link:{enable:!0,linkTarget:!0,buttons:["openLink","editLink","removeLink"]},code:{enable:!0,buttons:["copyCode"]},video:{enable:!0,buttons:["replaceVideo","autoplay","removeVideo"]},image:{enable:!0,buttons:["replaceImage","align","insertLink","removeLink","openLink","editLink","removeImage"]},toolbar:{floating:!1,items:[{category:"text",buttons:["bold","underline","strikethrough","italic","fontSize","color","backgroundColor","clearFormat"],buttonsVisible:3},{category:"paragraph",buttons:["blockType","ol","ul","direction","justify"].concat("rtl"===e?["alignRight","alignCenter","alignLeft"]:["alignLeft","alignCenter","alignRight"]),buttonsVisible:3},{category:"misc",buttons:["insertLink","removeLink","insertImage","insertVideo","insertTable","insertHR","undo","redo"],buttonsVisible:5}]}}),$J={stateStyleAccessors:[{accessor:"font-size",defaultValue:"16px"},{accessor:"text-align",defaultValue:"left"},{accessor:"color",defaultValue:"#000"},{accessor:"background-color",defaultValue:"#fff"},{accessor:"font-family",defaultValue:"Arial"}],table:{nesting:!1},defaultLink:"https://",formatTypes:["bold","italic","underline","subscript","superscript","strikethrough","code"],categoryInfo:{paragraph:{title:"moreParagraph",icon:{component:oJ}},text:{title:"moreText",icon:{component:aJ}},misc:{title:"miscellaneous",icon:{name:"fa-ellipsis-vertical"}}}};var zJ={direction:"rtl",lang:"ar",debounceDelay:500,namespace:"hsoubEditor",onChange:()=>{},onConfirm:e=>window.confirm(e),onError:e=>alert(e),editable:!0,config:IJ("rtl"),portalStrategy:"inline",excludeHistoryChanges:!1,getBoundingClientRect:e=>null==e?void 0:e.getBoundingClientRect(),features:{dragDrop:!0}},BJ={toolbar:{activeBlockType:"hsoub-paragraph",format:{},link:{},style:{}}};const UJ=(e,t)=>"TOOLBAR"===t.type?Object.assign(Object.assign({},e),{toolbar:Object.assign(Object.assign({},e.toolbar),t.toolbar)}):e,HJ=new Set(["inline","contents"]),WJ=new Set(["table","td","th"]),KJ=[":popover-open",":modal"],qJ=["transform","translate","scale","rotate","perspective"],VJ=["transform","translate","scale","rotate","perspective","filter"],YJ=["paint","layout","strict","content"],JJ=new Set(["html","body","#document"]),GJ=["top","right","bottom","left"],XJ=Math.min,QJ=Math.max,ZJ=Math.round,eG=Math.floor,tG=e=>({x:e,y:e}),nG={left:"right",right:"left",bottom:"top",top:"bottom"},rG={start:"end",end:"start"},iG=new Set(["top","bottom"]),oG=["left","right"],sG=["right","left"],aG=["top","bottom"],lG=["bottom","top"];var cG=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"].join(","),uG="undefined"==typeof Element,dG=uG?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,fG=!uG&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},hG=function e(t,n){var r;void 0===n&&(n=!0);var i=null==t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===i||"true"===i||n&&t&&e(t.parentNode)},pG=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var s=o.shift();if(!hG(s,!1))if("SLOT"===s.tagName){var a=s.assignedElements(),l=e(a.length?a:s.children,!0,r);r.flatten?i.push.apply(i,l):i.push({scopeParent:s,candidates:l})}else{dG.call(s,cG)&&r.filter(s)&&(n||!t.includes(s))&&i.push(s);var c=s.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(s),u=!hG(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(c&&u){var d=e(!0===c?s.children:c.children,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:s,candidates:d})}else o.unshift.apply(o,s.children)}}return i},mG=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},gG=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!mG(e)?0:e.tabIndex},vG=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},yG=function(e){return"INPUT"===e.tagName},bG=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},_G=function(e,t){return!(t.disabled||hG(t)||function(e){return yG(e)&&"hidden"===e.type}(t)||function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=dG.call(e,"details>summary:first-of-type")?e.parentElement:e;if(dG.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return bG(e)}else{if("function"==typeof r){for(var o=e;e;){var s=e.parentElement,a=fG(e);if(s&&!s.shadowRoot&&!0===r(s))return bG(e);e=e.assignedSlot?e.assignedSlot:s||a===e.ownerDocument?s:a.host}e=o}if(function(e){var t,n,r,i,o=e&&fG(e),s=null===(t=o)||void 0===t?void 0:t.host,a=!1;if(o&&o!==e)for(a=!!(null!==(n=s)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(s)||null!=e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!a&&s;){var l,c,u;a=!(null===(c=s=null===(l=o=fG(s))||void 0===l?void 0:l.host)||void 0===c||null===(u=c.ownerDocument)||void 0===u||!u.contains(s))}return a}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!dG.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},wG=function(e,t){return!(function(e){return function(e){return yG(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||fG(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)}(t)||gG(t)<0||!_G(e,t))},CG=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},xG=function e(t){var n=[],r=[];return t.forEach((function(t,i){var o=!!t.scopeParent,s=o?t.scopeParent:t,a=function(e,t){var n=gG(e);return n<0&&t&&!mG(e)?0:n}(s,o),l=o?e(t.candidates):s;0===a?o?n.push.apply(n,l):n.push(s):r.push({documentOrder:i,tabIndex:a,item:t,isScope:o,content:l})})),r.sort(vG).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},EG=function(e,t){var n;return n=(t=t||{}).getShadowRoot?pG([e],t.includeContainer,{filter:wG.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:CG}):function(e,t,n){if(hG(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(cG));return t&&dG.call(e,cG)&&r.unshift(e),r.filter(n)}(e,t.includeContainer,wG.bind(null,t)),xG(n)};const SG=new Set(["left","top"]),kG=tG(0),DG=new Set(["absolute","fixed"]),TG={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o="fixed"===i,s=Hy(r),a=!!t&&Gy(t.floating);if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=tG(1);const u=tG(0),d=qy(r);if((d||!d&&!o)&&(("body"!==By(r)||Yy(s))&&(l=tb(r)),qy(r))){const e=Pb(r);c=Fb(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const f=!s||d||o?tG(0):$b(s,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}},getDocumentElement:Hy,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o="clippingAncestors"===n?Gy(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=ib(e,[],!1).filter((e=>Ky(e)&&"body"!==By(e))),i=null;const o="fixed"===eb(e).position;let s=o?nb(e):e;for(;Ky(s)&&!Zy(s);){const t=eb(s),n=Xy(s);n||"fixed"!==t.position||(i=null),(o?!n&&!i:!n&&"static"===t.position&&i&&DG.has(i.position)||Yy(s)&&!n&&Bb(e,s))?r=r.filter((e=>e!==s)):i=t,s=nb(s)}return t.set(e,r),r}(t,this._c):[].concat(n),s=[...o,r],a=s[0],l=s.reduce(((e,n)=>{const r=zb(t,n,i);return e.top=QJ(r.top,e.top),e.right=XJ(r.right,e.right),e.bottom=XJ(r.bottom,e.bottom),e.left=QJ(r.left,e.left),e}),zb(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:Kb,getElementRects:async function(e){const t=this.getOffsetParent||Kb,n=this.getDimensions,r=await n(e.floating);return{reference:Ub(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Mb(e);return{width:t,height:n}},getScale:Fb,isElement:Ky,isRTL:function(e){return"rtl"===eb(e).direction}},AG=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,o=await(null==r.isRTL?void 0:r.isRTL(i.floating)),s=bb(n),a=_b(n),l="y"===xb(n),c=SG.has(s)?-1:1,u=o&&l?-1:1,d=yb(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:p}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&"number"==typeof p&&(h="end"===a?-1*p:p),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}(t,e);return s===(null==(n=a.offset)?void 0:n.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},NG=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=yb(e,t),c={x:n,y:r},u=await Nb(t,l),d=xb(bb(i)),f=wb(d);let h=c[f],p=c[d];if(o){const e="y"===f?"bottom":"right";h=vb(h+u["y"===f?"top":"left"],h,h-u[e])}if(s){const e="y"===d?"bottom":"right";p=vb(p+u["y"===d?"top":"left"],p,p-u[e])}const m=a.fn({...t,[f]:h,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:o,[d]:s}}}}}},OG=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r
;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=yb(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const v=bb(i),y=xb(a),b=bb(a)===a,_=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=f||(b||!m?[kb(a)]:function(e){const t=kb(e);return[Sb(e),t,Sb(t)]}(a)),C="none"!==p;!f&&C&&w.push(...function(e,t,n,r){const i=_b(e);let o=function(e,t,n){switch(e){case"top":case"bottom":return n?t?sG:oG:t?oG:sG;case"left":case"right":return t?aG:lG;default:return[]}}(bb(e),"start"===n,r);return i&&(o=o.map((e=>e+"-"+i)),t&&(o=o.concat(o.map(Sb)))),o}(a,m,p,_));const x=[a,...w],E=await Nb(t,g),S=[];let k=(null==(r=o.flip)?void 0:r.overflows)||[];if(u&&S.push(E[v]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=_b(e),i=Eb(e),o=Cb(i);let s="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=kb(s)),[s,kb(s)]}(i,s,_);S.push(E[e[0]],E[e[1]])}if(k=[...k,{placement:i,overflows:S}],!S.every((e=>e<=0))){var D,T;const e=((null==(D=o.flip)?void 0:D.index)||0)+1,t=x[e];if(t&&("alignment"!==d||y===xb(t)||k.every((e=>xb(e.placement)!==y||e.overflows[0]>0))))return{data:{index:e,overflows:k},reset:{placement:t}};let n=null==(T=k.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:T.placement;if(!n)switch(h){case"bestFit":{var A;const e=null==(A=k.filter((e=>{if(C){const t=xb(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:A[0];e&&(n=e);break}case"initialPlacement":n=a}if(i!==n)return{reset:{placement:n}}}return{}}}},jG=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:l=(()=>{}),...c}=yb(e,t),u=await Nb(t,c),d=bb(i),f=_b(i),h="y"===xb(i),{width:p,height:m}=o.floating;let g,v;"top"===d||"bottom"===d?(g=d,v=f===(await(null==s.isRTL?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,g="end"===f?"top":"bottom");const y=m-u.top-u.bottom,b=p-u.left-u.right,_=XJ(m-u[g],y),w=XJ(p-u[v],b),C=!t.middlewareData.shift;let x=_,E=w;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(E=b),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(x=y),C&&!f){const e=QJ(u.left,0),t=QJ(u.right,0),n=QJ(u.top,0),r=QJ(u.bottom,0);h?E=p-2*(0!==e||0!==t?e+t:QJ(u.left,u.right)):x=m-2*(0!==n||0!==r?n+r:QJ(u.top,u.bottom))}await l({...t,availableWidth:E,availableHeight:x});const S=await s.getDimensions(a.floating);return p!==S.width||m!==S.height?{reset:{rects:!0}}:{}}}},MG=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=yb(e,t);switch(r){case"referenceHidden":{const e=Ob(await Nb(t,{...i,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:jb(e)}}}case"escaped":{const e=Ob(await Nb(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:jb(e)}}}default:return{}}}}},RG=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=yb(e,t)||{};if(null==c)return{};const d=Db(u),f={x:n,y:r},h=Eb(i),p=Cb(h),m=await s.getDimensions(c),g="y"===h,v=g?"top":"left",y=g?"bottom":"right",b=g?"clientHeight":"clientWidth",_=o.reference[p]+o.reference[h]-f[h]-o.floating[p],w=f[h]-o.reference[h],C=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c));let x=C?C[b]:0;x&&await(null==s.isElement?void 0:s.isElement(C))||(x=a.floating[b]||o.floating[p]);const E=_/2-w/2,S=x/2-m[p]/2-1,k=XJ(d[v],S),D=XJ(d[y],S),T=k,A=x-m[p]-D,N=x/2-m[p]/2+E,O=vb(T,N,A),j=!l.arrow&&null!=_b(i)&&N!==O&&o.reference[p]/2-(N<T?k:D)-m[p]/2<0,M=j?N<T?N-T:N-A:0;return{[h]:f[h]+M,data:{[h]:O,centerOffset:N-O-M,...j&&{alignmentOffset:M}},reset:j}}}),FG=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=yb(e,t),u={x:n,y:r},d=xb(i),f=wb(d);let h=u[f],p=u[d];const m=yb(a,t),g="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const e="y"===f?"height":"width",t=o.reference[f]-o.floating[e]+g.mainAxis,n=o.reference[f]+o.reference[e]-g.mainAxis;h<t?h=t:h>n&&(h=n)}if(c){var v,y;const e="y"===f?"width":"height",t=SG.has(bb(i)),n=o.reference[d]-o.floating[e]+(t&&(null==(v=s.offset)?void 0:v[d])||0)+(t?0:g.crossAxis),r=o.reference[d]+o.reference[e]+(t?0:(null==(y=s.offset)?void 0:y[d])||0)-(t?g.crossAxis:0);p<n?p=n:p>r&&(p=r)}return{[f]:h,[d]:p}}}};var LG="undefined"!=typeof document?MS.useLayoutEffect:function(){};const PG=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"==typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?RG({element:n.current,padding:r}).fn(t):{}:n?RG({element:n,padding:r}).fn(t):{};var i}}),IG=(e,t)=>({...AG(e),options:[e,t]}),$G=(e,t)=>({...NG(e),options:[e,t]}),zG=(e,t)=>({...OG(e),options:[e,t]}),BG=(e,t)=>({...jG(e),options:[e,t]}),UG=(e,t)=>({...MG(e),options:[e,t]}),HG=(e,t)=>({...PG(e),options:[e,t]}),WG={...RS},KG=WG.useInsertionEffect||(e=>e());var qG="undefined"!=typeof document?MS.useLayoutEffect:MS.useEffect;let VG=!1,YG=0;const JG=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+YG++,GG=WG.useId||function(){const[e,t]=MS.useState((()=>VG?JG():void 0));return qG((()=>{null==e&&t(JG())}),[]),MS.useEffect((()=>{VG=!0}),[]),e},XG=MS.createContext(null),QG=MS.createContext(null),ZG=()=>{var e;return(null==(e=MS.useContext(XG))?void 0:e.id)||null},eX=()=>MS.useContext(QG),tX=r_("safe-polygon"),nX=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"}),rX={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},iX=MS.forwardRef((function(e,t){const[n,r]=MS.useState();qG((()=>(ub()&&r("button"),document.addEventListener("keydown",f_),()=>{document.removeEventListener("keydown",f_)})),[]);const i={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[r_("focus-guard")]:"",style:rX};return MS.createElement("span",Qb({},e,i))})),oX=MS.createContext(null),sX=r_("portal"),aX=()=>MS.useContext(oX),lX="data-floating-ui-focusable",cX={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},uX={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},dX=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}},fX="active",hX="selected",pX=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,((e,t)=>(t?"-":"")+e.toLowerCase())),mX=e=>{const{children:t,containerRef:n}=e,r=kv(e,["children","containerRef"]),[i,o]=(0,MS.useReducer)(UJ,BJ),s=(0,MS.useCallback)(o,[]),a=(e=>{const[t,n]=(0,MS.useState)(void 0);return(0,MS.useEffect)((()=>{setTimeout((()=>{(null==e?void 0:e.current)&&n(ib(e.current)[0])}))}),[]),t})(n),l=(0,MS.useMemo)((()=>{var t;return Object.assign(Object.assign({},i),{dispatch:s,defaultBoundary:a,hsoubEditorProps:Object.assign(Object.assign(Object.assign({},zJ),{defaultDetectOverflowOptions:{padding:0,boundary:a},boundaries:Object.assign(Object.assign({},e.boundaries),{boundary:(null===(t=e.boundaries)||void 0===t?void 0:t.boundary)||a})}),r)})}),[r]);return MS.createElement(FK.Provider,{value:l},t)},gX="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?MS.useLayoutEffect:MS.useEffect;Object.freeze({__proto__:null,useLexicalEditable:function(){return function(e){const[t]=kK(),n=(0,MS.useMemo)((()=>e(t)),[t,e]),[r,i]=(0,MS.useState)((()=>n.initialValueFn())),o=(0,MS.useRef)(r);return gX((()=>{const{initialValueFn:e,subscribe:t}=n,r=e();return o.current!==r&&(o.current=r,i(r)),t((e=>{o.current=e,i(e)}))}),[n,e]),r}(C_)}});const vX="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?MS.useLayoutEffect:MS.useEffect;var yX=Object.freeze({__proto__:null,useLexicalEditable:function(){return function(e){const[t]=kK(),n=(0,MS.useMemo)((()=>e(t)),[t,e]),[r,i]=(0,MS.useState)((()=>n.initialValueFn())),o=(0,MS.useRef)(r);return vX((()=>{const{initialValueFn:e,subscribe:t}=n,r=e();return o.current!==r&&(o.current=r,i(r)),t((e=>{o.current=e,i(e)}))}),[n,e]),r}(x_)}});const bX=yX.useLexicalEditable;Object.freeze({__proto__:null,$canShowPlaceholder:k_,$canShowPlaceholderCurry:function(e){return()=>k_(e)},$findTextIntersectionFromCharacters:function(e,t){let n=e.getFirstChild(),r=0;e:for(;null!==n;){if(HP(n)){const e=n.getFirstChild();if(null!==e){n=e;continue}}else if(tI(n)){const e=n.getTextContentSize();if(r+e>t)return{node:n,offset:t-r};r+=e}const e=n.getNextSibling();if(null!==e){n=e;continue}let i=n.getParent();for(;null!==i;){const e=i.getNextSibling();if(null!==e){n=e;continue e}i=i.getParent()}break}return null},$isRootTextContentEmpty:S_,$isRootTextContentEmptyCurry:function(e,t){return()=>S_(e,t)},$rootTextContent:E_,registerLexicalTextEntity:function(e,t,n,r){const i=e=>e instanceof n,o=e=>{const t=bP(e.getTextContent());t.setFormat(e.getFormat()),e.replace(t)};return[e.registerNodeTransform(b$,(e=>{if(!e.isSimpleText())return;let n,s=e.getPreviousSibling(),a=e.getTextContent(),l=e;if(tI(s)){const n=s.getTextContent(),r=t(n+a);if(i(s)){if(null===r||0!==(e=>e.getLatest().__mode)(s))return void o(s);{const t=r.end-n.length;if(t>0){const r=n+a.slice(0,t);if(s.select(),s.setTextContent(r),t===a.length)e.remove();else{const n=a.slice(t);e.setTextContent(n)}return}}}else if(null===r||r.start<n.length)return}let c=0;for(;;){n=t(a);let e,u=null===n?"":a.slice(n.end);if(a=u,""===u){const e=l.getNextSibling();if(tI(e)){u=l.getTextContent()+e.getTextContent();const n=t(u);if(null===n)return void(i(e)?o(e):e.markDirty());if(0!==n.start)return}}if(null===n)return;if(0===n.start&&tI(s)&&s.isTextEntity()){c+=n.end;continue}0===n.start?[e,l]=l.splitText(n.end):[,e,l]=l.splitText(n.start+c,n.end+c),void 0===e&&D_("nodeToReplace should not be undefined. You may want to check splitOffsets passed to the splitText.");const d=r(e);if(d.setFormat(e.getFormat()),e.replace(d),null==l)return;c=0,s=d}})),e.registerNodeTransform(n,(e=>{const n=e.getTextContent(),r=t(n);if(null===r||0!==r.start)return void o(e);if(n.length>r.end)return void e.splitText(r.end);const s=e.getPreviousSibling();tI(s)&&s.isTextEntity()&&(o(s),o(e));const a=e.getNextSibling();tI(a)&&a.isTextEntity()&&(o(a),i(e)&&o(e))}))]}});var _X=Object.freeze({__proto__:null,$canShowPlaceholder:N_,$canShowPlaceholderCurry:function(e){return()=>N_(e)},$findTextIntersectionFromCharacters:function(e,t){let n=e.getFirstChild(),r=0;e:for(;null!==n;){if(HP(n)){const e=n.getFirstChild();if(null!==e){n=e;continue}}else if(tI(n)){const e=n.getTextContentSize();if(r+e>t)return{node:n,offset:t-r};r+=e}const e=n.getNextSibling();if(null!==e){n=e;continue}let i=n.getParent();for(;null!==i;){const e=i.getNextSibling();if(null!==e){n=e;continue e}i=i.getParent()}break}return null},$isRootTextContentEmpty:A_,$isRootTextContentEmptyCurry:function(e,t){return()=>A_(e,t)},$rootTextContent:T_,registerLexicalTextEntity:function(e,t,n,r){const i=e=>e instanceof n,o=e=>{const t=bP(e.getTextContent());t.setFormat(e.getFormat()),e.replace(t)};return[e.registerNodeTransform(b$,(e=>{if(!e.isSimpleText())return;let n,s=e.getPreviousSibling(),a=e.getTextContent(),l=e;if(tI(s)){const n=s.getTextContent(),r=t(n+a);if(i(s)){if(null===r||0!==(e=>e.getLatest().__mode)(s))return void o(s);{const t=r.end-n.length;if(t>0){const r=n+a.slice(0,t);if(s.select(),s.setTextContent(r),t===a.length)e.remove();else{const n=a.slice(t);e.setTextContent(n)}return}}}else if(null===r||r.start<n.length)return}let c=0;for(;;){n=t(a);let e,u=null===n?"":a.slice(n.end);if(a=u,""===u){const e=l.getNextSibling();if(tI(e)){u=l.getTextContent()+e.getTextContent();const n=t(u);if(null===n)return void(i(e)?o(e):e.markDirty());if(0!==n.start)return}}if(null===n)return;if(0===n.start&&tI(s)&&s.isTextEntity()){c+=n.end;continue}0===n.start?[e,l]=l.splitText(n.end):[,e,l]=l.splitText(n.start+c,n.end+c),void 0===e&&O_(165,"nodeToReplace");const d=r(e);if(d.setFormat(e.getFormat()),e.replace(d),null==l)return;c=0,s=d}})),e.registerNodeTransform(n,(e=>{const n=e.getTextContent(),r=t(n);if(null===r||0!==r.start)return void o(e);if(n.length>r.end)return void e.splitText(r.end);const s=e.getPreviousSibling();tI(s)&&s.isTextEntity()&&(o(s),o(e));const a=e.getNextSibling();tI(a)&&a.isTextEntity()&&(o(a),i(e)&&o(e))}))]}});const wX=_X,CX=wX.$canShowPlaceholder,xX=wX.$canShowPlaceholderCurry,EX=wX.$isRootTextContentEmpty;Object.freeze({__proto__:null,registerDragonSupport:function(e){const t=window.location.origin,n=n=>{if(n.origin!==t)return;const r=e.getRootElement();if(document.activeElement!==r)return;const i=n.data;if("string"==typeof i){let t;try{t=JSON.parse(i)}catch(e){return}if(t&&"nuanria_messaging"===t.protocol&&"request"===t.type){const r=t.payload;if(r&&"makeChanges"===r.functionId){const t=r.args;if(t){const[r,i,o,s,a,l]=t;e.update((()=>{const e=RP();if(GP(e)){const t=e.anchor;let l=t.getNode(),c=0,u=0;if(tI(l)&&r>=0&&i>=0&&(c=r,u=r+i,e.setTextNodeRange(l,c,l,u)),c===u&&""===o||(e.insertRawText(o),l=t.getNode()),tI(l)){c=s,u=s+a;const t=l.getTextContentSize();c=c>t?t:c,u=u>t?t:u,e.setTextNodeRange(l,c,l,u)}n.stopImmediatePropagation()}}))}}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}}});var SX=Object.freeze({__proto__:null,registerDragonSupport:function(e){const t=window.location.origin,n=n=>{if(n.origin!==t)return;const r=e.getRootElement();if(document.activeElement!==r)return;const i=n.data;if("string"==typeof i){let t;try{t=JSON.parse(i)}catch(e){return}if(t&&"nuanria_messaging"===t.protocol&&"request"===t.type){const r=t.payload;if(r&&"makeChanges"===r.functionId){const t=r.args;if(t){const[r,i,o,s,a,l]=t;e.update((()=>{const e=RP();if(GP(e)){const t=e.anchor;let l=t.getNode(),c=0,u=0;if(tI(l)&&r>=0&&i>=0&&(c=r,u=r+i,e.setTextNodeRange(l,c,l,u)),c===u&&""===o||(e.insertRawText(o),l=t.getNode()),tI(l)){c=s,u=s+a;const t=l.getTextContentSize();c=c>t?t:c,u=u>t?t:u,e.setTextNodeRange(l,c,l,u)}n.stopImmediatePropagation()}}))}}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}}});const kX=SX.registerDragonSupport,DX="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?MS.useLayoutEffect:MS.useEffect;Object.freeze({__proto__:null,RichTextPlugin:function(e){let{contentEditable:t,placeholder:n=null,ErrorBoundary:r}=e;const[i]=kK(),o=function(e,t){const[n,r]=(0,MS.useState)((()=>e.getDecorators()));return DX((()=>e.registerDecoratorListener((e=>{(0,FS.flushSync)((()=>{r(e)}))}))),[e]),(0,MS.useEffect)((()=>{r(e.getDecorators())}),[e]),(0,MS.useMemo)((()=>{const r=[],i=Object.keys(n);for(let o=0;o<i.length;o++){const s=i[o],a=(0,ND.jsx)(t,{onError:t=>e._onError(t),children:(0,ND.jsx)(MS.Suspense,{fallback:null,children:n[s]})}),l=e.getElementByKey(s);null!==l&&r.push((0,FS.createPortal)(a,l,s))}return r}),[t,n,e])}(i,r);return function(e){DX((()=>pB(fU(e),kX(e))),[e])}(i),(0,ND.jsxs)(ND.Fragment,{children:[t,(0,ND.jsx)(M_,{content:n}),o]})}});const TX="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?MS.useLayoutEffect:MS.useEffect;var AX=Object.freeze({__proto__:null,RichTextPlugin:function(e){let{contentEditable:t,placeholder:n=null,ErrorBoundary:r}=e;const[i]=kK(),o=function(e,t){const[n,r]=(0,MS.useState)((()=>e.getDecorators()));return TX((()=>e.registerDecoratorListener((e=>{(0,FS.flushSync)((()=>{r(e)}))}))),[e]),(0,MS.useEffect)((()=>{r(e.getDecorators())}),[e]),(0,MS.useMemo)((()=>{const r=[],i=Object.keys(n);for(let o=0;o<i.length;o++){const s=i[o],a=(0,ND.jsx)(t,{onError:t=>e._onError(t),children:(0,ND.jsx)(MS.Suspense,{fallback:null,children:n[s]})}),l=e.getElementByKey(s);null!==l&&r.push((0,FS.createPortal)(a,l,s))}return r}),[t,n,e])}(i,r);return function(e){TX((()=>pB(fU(e),kX(e))),[e])}(i),(0,ND.jsxs)(ND.Fragment,{children:[t,(0,ND.jsx)(F_,{content:n}),o]})}});const NX=AX.RichTextPlugin,OX="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?MS.useLayoutEffect:MS.useEffect,jX=(0,MS.forwardRef)((function(e,t){let{editor:n,ariaActiveDescendant:r,ariaAutoComplete:i,ariaControls:o,ariaDescribedBy:s,ariaErrorMessage:a,ariaExpanded:l,ariaInvalid:c,ariaLabel:u,ariaLabelledBy:d,ariaMultiline:f,ariaOwns:h,ariaRequired:p,autoCapitalize:m,className:g,id:v,role:y="textbox",spellCheck:b=!0,style:_,tabIndex:w,"data-testid":C,...x}=e;const[E,S]=(0,MS.useState)(n.isEditable()),k=(0,MS.useCallback)((e=>{e&&e.ownerDocument&&e.ownerDocument.defaultView?n.setRootElement(e):n.setRootElement(null)}),[n]),D=(0,MS.useMemo)((()=>function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)}))}}(t,k)),[k,t]);return OX((()=>(S(n.isEditable()),n.registerEditableListener((e=>{S(e)})))),[n]),(0,ND.jsx)("div",{"aria-activedescendant":E?r:void 0,"aria-autocomplete":E?i:"none","aria-controls":E?o:void 0,"aria-describedby":s,...null!=a?{"aria-errormessage":a}:{},"aria-expanded":E&&"combobox"===y?!!l:void 0,...null!=c?{"aria-invalid":c}:{},"aria-label":u,"aria-labelledby":d,"aria-multiline":f,"aria-owns":E?h:void 0,"aria-readonly":!E||void 0,"aria-required":p,autoCapitalize:m,className:g,contentEditable:E,"data-testid":C,id:v,ref:D,role:E?y:void 0,spellCheck:b,style:_,tabIndex:w,...x})})),MX=(0,MS.forwardRef)((function(e,t){const{placeholder:n,...r}=e,[i]=kK();return(0,ND.jsxs)(ND.Fragment,{children:[(0,ND.jsx)(jX,{editor:i,...r,ref:t}),null!=n&&(0,ND.jsx)(P_,{editor:i,content:n})]})}));Object.freeze({__proto__:null,ContentEditable:MX,ContentEditableElement:jX});const RX="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?MS.useLayoutEffect:MS.useEffect,FX=(0,MS.forwardRef)((function(e,t){let{editor:n,ariaActiveDescendant:r,ariaAutoComplete:i,ariaControls:o,ariaDescribedBy:s,ariaErrorMessage:a,ariaExpanded:l,ariaInvalid:c,ariaLabel:u,ariaLabelledBy:d,ariaMultiline:f,ariaOwns:h,ariaRequired:p,autoCapitalize:m,className:g,id:v,role:y="textbox",spellCheck:b=!0,style:_,tabIndex:w,"data-testid":C,...x}=e;const[E,S]=(0,MS.useState)(n.isEditable()),k=(0,MS.useCallback)((e=>{e&&e.ownerDocument&&e.ownerDocument.defaultView?n.setRootElement(e):n.setRootElement(null)}),[n]),D=(0,MS.useMemo)((()=>function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)}))}}(t,k)),[k,t]);return RX((()=>(S(n.isEditable()),n.registerEditableListener((e=>{S(e)})))),[n]),(0,ND.jsx)("div",{"aria-activedescendant":E?r:void 0,"aria-autocomplete":E?i:"none","aria-controls":E?o:void 0,"aria-describedby":s,...null!=a?{"aria-errormessage":a}:{},"aria-expanded":E&&"combobox"===y?!!l:void 0,...null!=c?{"aria-invalid":c}:{},"aria-label":u,"aria-labelledby":d,"aria-multiline":f,"aria-owns":E?h:void 0,"aria-readonly":!E||void 0,"aria-required":p,autoCapitalize:m,className:g,contentEditable:E,"data-testid":C,id:v,ref:D,role:E?y:void 0,spellCheck:b,style:_,tabIndex:w,...x})})),LX=(0,MS.forwardRef)((function(e,t){const{placeholder:n,...r}=e,[i]=kK();return(0,ND.jsxs)(ND.Fragment,{children:[(0,ND.jsx)(FX,{editor:i,...r,ref:t}),null!=n&&(0,ND.jsx)($_,{editor:i,content:n})]})})),PX=Object.freeze({__proto__:null,ContentEditable:LX,ContentEditableElement:FX}).ContentEditable;Object.freeze({__proto__:null,createEmptyHistoryState:function(){return{current:null,redoStack:[],undoStack:[]}},registerHistory:function(e,t,n){const r=z_(e,n);return pB(e.registerCommand(_$,(()=>(function(e,t){const n=t.redoStack,r=t.undoStack;if(0!==r.length){const i=t.current,o=r.pop();null!==i&&(n.push(i),e.dispatchCommand(vI,!0)),0===r.length&&e.dispatchCommand(yI,!1),t.current=o||null,o&&o.editor.setEditorState(o.editorState,{tag:BI})}}(e,t),!0)),EI),e.registerCommand(f$,(()=>(function(e,t){const n=t.redoStack,r=t.undoStack;if(0!==n.length){const i=t.current;null!==i&&(r.push(i),e.dispatchCommand(yI,!0));const o=n.pop();0===n.length&&e.dispatchCommand(vI,!1),t.current=o||null,o&&o.editor.setEditorState(o.editorState,{tag:BI})}}(e,t),!0)),EI),e.registerCommand(bI,(()=>(B_(t),!1)),EI),e.registerCommand(_I,(()=>(B_(t),e.dispatchCommand(vI,!1),e.dispatchCommand(yI,!1),!0)),EI),e.registerUpdateListener((n=>{let{editorState:i,prevEditorState:o,dirtyLeaves:s,dirtyElements:a,tags:l}=n;const c=t.current,u=t.redoStack,d=t.undoStack,f=null===c?null:c.editorState;if(null!==c&&i===f)return;const h=r(o,i,c,s,a,l);if(1===h)0!==u.length&&(t.redoStack=[],e.dispatchCommand(vI,!1)),null!==c&&(d.push({...c}),e.dispatchCommand(yI,!0));else if(2===h)return;t.current={editor:e,editorState:i}})))}});var IX=Object.freeze({__proto__:null,createEmptyHistoryState:function(){return{current:null,redoStack:[],undoStack:[]}},registerHistory:function(e,t,n){const r=function(e,t){let n=Date.now(),r=0;return(i,o,s,a,l,c)=>{const u=Date.now();if(c.has(BI))return r=0,n=u,2;const d=function(e,t,n,r,i){if(null===e||0===n.size&&0===r.size&&!i)return 0;const o=t._selection,s=e._selection;if(i)return 1;if(!(GP(o)&&GP(s)&&s.isCollapsed()&&o.isCollapsed()))return 0;const a=function(e,t,n){const r=e._nodeMap,i=[];for(const e of t){const t=r.get(e);void 0!==t&&i.push(t)}for(const[e,t]of n){if(!t)continue;const n=r.get(e);void 0===n||XP(n)||i.push(n)}return i}(t,n,r);if(0===a.length)return 0;if(a.length>1){const n=t._nodeMap,r=n.get(o.anchor.key),i=n.get(s.anchor.key);return r&&i&&!e._nodeMap.has(r.__key)&&tI(r)&&1===r.__text.length&&1===o.anchor.offset?2:0}const l=a[0],c=e._nodeMap.get(l.__key);if(!tI(c)||!tI(l)||c.__mode!==l.__mode)return 0;const u=c.__text,d=l.__text;if(u===d)return 0;const f=o.anchor,h=s.anchor;if(f.key!==h.key||"text"!==f.type)return 0;const p=f.offset,m=h.offset,g=d.length-u.length;return 1===g&&m===p-1?2:-1===g&&m===p+1?3:-1===g&&m===p?4:0}(i,o,a,l,e.isComposing()),f=(()=>{const f=null===s||s.editor===e,h=c.has(HI);if(!h&&f&&c.has(UI))return 0;if(null===i)return 1;const p=o._selection;return a.size>0||l.size>0?!1===h&&0!==d&&d===r&&u<n+t&&f||1===a.size&&function(e,t,n){const r=t._nodeMap.get(e),i=n._nodeMap.get(e),o=t._selection,s=n._selection;return!(GP(o)&&GP(s)&&"element"===o.anchor.type&&"element"===o.focus.type&&"text"===s.anchor.type&&"text"===s.focus.type||!tI(r)||!tI(i)||r.__parent!==i.__parent)&&JSON.stringify(t.read((()=>r.exportJSON())))===JSON.stringify(n.read((()=>i.exportJSON())))}(Array.from(a)[0],i,o)?0:1:null!==p?0:2})();return n=u,r=d,f}}(e,n),i=pB(e.registerCommand(_$,(()=>(function(e,t){const n=t.redoStack,r=t.undoStack;if(0!==r.length){const i=t.current,o=r.pop();null!==i&&(n.push(i),e.dispatchCommand(vI,!0)),0===r.length&&e.dispatchCommand(yI,!1),t.current=o||null,o&&o.editor.setEditorState(o.editorState,{tag:BI})}}(e,t),!0)),EI),e.registerCommand(f$,(()=>(function(e,t){const n=t.redoStack,r=t.undoStack;if(0!==n.length){const i=t.current;null!==i&&(r.push(i),e.dispatchCommand(yI,!0));const o=n.pop();0===n.length&&e.dispatchCommand(vI,!1),t.current=o||null,o&&o.editor.setEditorState(o.editorState,{tag:BI})}}(e,t),!0)),EI),e.registerCommand(bI,(()=>(U_(t),!1)),EI),e.registerCommand(_I,(()=>(U_(t),e.dispatchCommand(vI,!1),e.dispatchCommand(yI,!1),!0)),EI),e.registerUpdateListener((n=>{let{editorState:i,prevEditorState:o,dirtyLeaves:s,dirtyElements:a,tags:l}=n;const c=t.current,u=t.redoStack,d=t.undoStack,f=null===c?null:c.editorState;if(null!==c&&i===f)return;const h=r(o,i,c,s,a,l);if(1===h)0!==u.length&&(t.redoStack=[],e.dispatchCommand(vI,!1)),null!==c&&(d.push({...c}),e.dispatchCommand(yI,!0));else if(2===h)return;t.current={editor:e,editorState:i}})));return i}});const $X=IX,zX=$X.createEmptyHistoryState,BX=$X.registerHistory;Object.freeze({__proto__:null,HistoryPlugin:function(e){let{delay:t,externalHistoryState:n}=e;const[r]=kK();return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;const r=(0,MS.useMemo)((()=>t||zX()),[t]);(0,MS.useEffect)((()=>BX(e,r,n)),[n,e,r])}(r,n,t),null},createEmptyHistoryState:zX});var UX=Object.freeze({__proto__:null,HistoryPlugin:function(e){let{delay:t,externalHistoryState:n}=e;const[r]=kK();return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;const r=(0,MS.useMemo)((()=>t||zX()),[t]);(0,MS.useEffect)((()=>BX(e,r,n)),[n,e,r])}(r,n,t),null},createEmptyHistoryState:zX});const HX=UX.HistoryPlugin;Object.freeze({__proto__:null,LinkPlugin:function(e){let{validateUrl:t,attributes:n}=e;const[r]=kK();return(0,MS.useEffect)((()=>{if(!r.hasNodes([KH]))throw new Error("LinkPlugin: LinkNode not registered on editor");return pB(r.registerCommand(qH,(e=>{if(null===e)return HH(e),!0;if("string"==typeof e)return!(void 0!==t&&!t(e)||(HH(e,n),0));{const{url:t,target:r,rel:i,title:o}=e;return HH(t,{...n,rel:i,target:r,title:o}),!0}}),kI),void 0!==t?r.registerCommand(c$,(e=>{const i=RP();if(!GP(i)||i.isCollapsed()||!mB(e,ClipboardEvent))return!1;if(null===e.clipboardData)return!1;const o=e.clipboardData.getData("text");return!!t(o)&&!i.getNodes().some((e=>HP(e)))&&(r.dispatchCommand(qH,{...n,url:o}),e.preventDefault(),!0)}),kI):()=>{})}),[r,t,n]),null}});var WX=Object.freeze({__proto__:null,LinkPlugin:function(e){let{validateUrl:t,attributes:n}=e;const[r]=kK();return(0,MS.useEffect)((()=>{if(!r.hasNodes([KH]))throw new Error("LinkPlugin: LinkNode not registered on editor");return pB(r.registerCommand(qH,(e=>{if(null===e)return HH(e),!0;if("string"==typeof e)return!(void 0!==t&&!t(e)||(HH(e,n),0));{const{url:t,target:r,rel:i,title:o}=e;return HH(t,{...n,rel:i,target:r,title:o}),!0}}),kI),void 0!==t?r.registerCommand(c$,(e=>{const i=RP();if(!GP(i)||i.isCollapsed()||!mB(e,ClipboardEvent))return!1;if(null===e.clipboardData)return!1;const o=e.clipboardData.getData("text");return!!t(o)&&!i.getNodes().some((e=>HP(e)))&&(r.dispatchCommand(qH,{...n,url:o}),e.preventDefault(),!0)}),kI):()=>{})}),[r,t,n]),null}});const KX=WX.LinkPlugin;Object.freeze({__proto__:null,ListPlugin:function(e){let{hasStrictIndent:t=!1}=e;const[n]=kK();return(0,MS.useEffect)((()=>{if(!n.hasNodes([xH,CH]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")}),[n]),(0,MS.useEffect)((()=>{if(t)return DH(n)}),[n,t]),function(e){(0,MS.useEffect)((()=>kH(e)),[e])}(n),null}});var qX=Object.freeze({__proto__:null,ListPlugin:function(e){let{hasStrictIndent:t=!1}=e;const[n]=kK();return(0,MS.useEffect)((()=>{if(!n.hasNodes([xH,CH]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")}),[n]),(0,MS.useEffect)((()=>{if(t)return DH(n)}),[n,t]),function(e){(0,MS.useEffect)((()=>kH(e)),[e])}(n),null}});const VX=qX.ListPlugin;Object.freeze({__proto__:null,CheckListPlugin:function(){const[e]=kK();return(0,MS.useEffect)((()=>SH(e)),[e]),null}});var YX=Object.freeze({__proto__:null,CheckListPlugin:function(){const[e]=kK();return(0,MS.useEffect)((()=>SH(e)),[e]),null}});const JX=YX.CheckListPlugin;var GX={error:null},XX=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state=GX,t.resetErrorBoundary=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,H_(n,r),t.getDerivedStateFromError=function(e){return{error:e}};var i=t.prototype;return i.reset=function(){this.setState(GX)},i.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},i.componentDidUpdate=function(e,t){var n,r,i=this.state.error,o=this.props.resetKeys;null!==i&&null!==t.error&&function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,n){return!Object.is(e,t[n])}))}(e.resetKeys,o)&&(null==(n=(r=this.props).onResetKeysChange)||n.call(r,e.resetKeys,o),this.reset())},i.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,r=t.FallbackComponent,i=t.fallback;if(null!==e){var o={error:e,resetErrorBoundary:this.resetErrorBoundary};if(MS.isValidElement(i))return i;if("function"==typeof n)return n(o);if(r)return MS.createElement(r,o);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(MS.Component);Object.freeze({__proto__:null,LexicalErrorBoundary:function(e){let{children:t,onError:n}=e;return(0,ND.jsx)(XX,{fallback:(0,ND.jsx)("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:n,children:t})}});var QX={error:null},ZX=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state=QX,t.resetErrorBoundary=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,W_(n,r),t.getDerivedStateFromError=function(e){return{error:e}};var i=t.prototype;return i.reset=function(){this.setState(QX)},i.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},i.componentDidUpdate=function(e,t){var n,r,i,o,s=this.state.error,a=this.props.resetKeys;null!==s&&null!==t.error&&(void 0===(i=e.resetKeys)&&(i=[]),void 0===(o=a)&&(o=[]),i.length!==o.length||i.some((function(e,t){return!Object.is(e,o[t])})))&&(null==(n=(r=this.props).onResetKeysChange)||n.call(r,e.resetKeys,a),this.reset())},i.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,r=t.FallbackComponent,i=t.fallback;if(null!==e){var o={error:e,resetErrorBoundary:this.resetErrorBoundary};if(MS.isValidElement(i))return i;if("function"==typeof n)return n(o);if(r)return MS.createElement(r,o);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(MS.Component),eQ=Object.freeze({__proto__:null,LexicalErrorBoundary:function(e){let{children:t,onError:n}=e;return(0,ND.jsx)(ZX,{fallback:(0,ND.jsx)("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:n,children:t})}});const tQ=eQ.LexicalErrorBoundary,nQ="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,rQ=nQ&&"documentMode"in document?document.documentMode:null,iQ=!(!nQ||!("InputEvent"in window)||rQ)&&"getTargetRanges"in new window.InputEvent("input"),oQ=nQ&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),sQ=nQ&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,aQ=nQ&&/^(?=.*Chrome).*/i.test(navigator.userAgent),lQ=nQ&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!aQ;Object.freeze({__proto__:null,registerPlainText:function(e){return pB(e.registerCommand(NI,(e=>{const t=RP();return!!GP(t)&&(t.deleteCharacter(e),!0)}),EI),e.registerCommand(jI,(e=>{const t=RP();return!!GP(t)&&(t.deleteWord(e),!0)}),EI),e.registerCommand(OI,(e=>{const t=RP();return!!GP(t)&&(t.deleteLine(e),!0)}),EI),e.registerCommand(DI,(e=>{const t=RP();if(!GP(t))return!1;if("string"==typeof e)t.insertText(e);else{const n=e.dataTransfer;if(null!=n)jB(n,t);else{const n=e.data;n&&t.insertText(n)}}return!0}),EI),e.registerCommand(h$,(()=>{const e=RP();return!!GP(e)&&(e.removeText(),!0)}),EI),e.registerCommand(KI,(e=>{const t=RP();return!!GP(t)&&(t.insertLineBreak(e),!0)}),EI),e.registerCommand(qI,(()=>{const e=RP();return!!GP(e)&&(e.insertLineBreak(),!0)}),EI),e.registerCommand(GI,(e=>{const t=RP();if(!GP(t))return!1;const n=e,r=n.shiftKey;return!!G$(t,!0)&&(n.preventDefault(),Y$(t,r,!0),!0)}),EI),e.registerCommand(XI,(e=>{const t=RP();if(!GP(t))return!1;const n=e,r=n.shiftKey;return!!G$(t,!1)&&(n.preventDefault(),Y$(t,r,!1),!0)}),EI),e.registerCommand(ZI,(t=>{const n=RP();return!!GP(n)&&(!sQ||"ko-KR"!==navigator.language)&&(t.preventDefault(),e.dispatchCommand(NI,!0))}),EI),e.registerCommand(e$,(t=>{const n=RP();return!!GP(n)&&(t.preventDefault(),e.dispatchCommand(NI,!1))}),EI),e.registerCommand(n$,(t=>{const n=RP();if(!GP(n))return!1;if(null!==t){if((sQ||oQ||lQ)&&iQ)return!1;t.preventDefault()}
return e.dispatchCommand(KI,!1)}),EI),e.registerCommand(g$,(()=>(lI(),!0)),EI),e.registerCommand(TI,(t=>{const n=RP();return!!GP(n)&&(K_(t,e),!0)}),EI),e.registerCommand(AI,(t=>{const n=RP();return!!GP(n)&&(function(e,t){K_(e,t),t.update((()=>{const e=RP();GP(e)&&e.removeText()}))}(t,e),!0)}),EI),e.registerCommand(c$,(t=>{const n=RP();return!!GP(n)&&(function(e,t){e.preventDefault(),t.update((()=>{const t=RP(),n=mB(e,ClipboardEvent)?e.clipboardData:null;null!=n&&GP(t)&&jB(n,t)}),{tag:u$})}(t,e),!0)}),EI),e.registerCommand(FI,(e=>{const t=RP();return!!GP(t)&&(e.preventDefault(),!0)}),EI),e.registerCommand(RI,(e=>{const t=RP();return!!GP(t)&&(e.preventDefault(),!0)}),EI))}});const cQ="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,uQ=cQ&&"documentMode"in document?document.documentMode:null,dQ=!(!cQ||!("InputEvent"in window)||uQ)&&"getTargetRanges"in new window.InputEvent("input"),fQ=cQ&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),hQ=cQ&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,pQ=cQ&&/^(?=.*Chrome).*/i.test(navigator.userAgent),mQ=cQ&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!pQ;var gQ=Object.freeze({__proto__:null,registerPlainText:function(e){return pB(e.registerCommand(NI,(e=>{const t=RP();return!!GP(t)&&(t.deleteCharacter(e),!0)}),EI),e.registerCommand(jI,(e=>{const t=RP();return!!GP(t)&&(t.deleteWord(e),!0)}),EI),e.registerCommand(OI,(e=>{const t=RP();return!!GP(t)&&(t.deleteLine(e),!0)}),EI),e.registerCommand(DI,(e=>{const t=RP();if(!GP(t))return!1;if("string"==typeof e)t.insertText(e);else{const n=e.dataTransfer;if(null!=n)jB(n,t);else{const n=e.data;n&&t.insertText(n)}}return!0}),EI),e.registerCommand(h$,(()=>{const e=RP();return!!GP(e)&&(e.removeText(),!0)}),EI),e.registerCommand(KI,(e=>{const t=RP();return!!GP(t)&&(t.insertLineBreak(e),!0)}),EI),e.registerCommand(qI,(()=>{const e=RP();return!!GP(e)&&(e.insertLineBreak(),!0)}),EI),e.registerCommand(GI,(e=>{const t=RP();if(!GP(t))return!1;const n=e,r=n.shiftKey;return!!G$(t,!0)&&(n.preventDefault(),Y$(t,r,!0),!0)}),EI),e.registerCommand(XI,(e=>{const t=RP();if(!GP(t))return!1;const n=e,r=n.shiftKey;return!!G$(t,!1)&&(n.preventDefault(),Y$(t,r,!1),!0)}),EI),e.registerCommand(ZI,(t=>{const n=RP();return!!GP(n)&&(!hQ||"ko-KR"!==navigator.language)&&(t.preventDefault(),e.dispatchCommand(NI,!0))}),EI),e.registerCommand(e$,(t=>{const n=RP();return!!GP(n)&&(t.preventDefault(),e.dispatchCommand(NI,!1))}),EI),e.registerCommand(n$,(t=>{const n=RP();if(!GP(n))return!1;if(null!==t){if((hQ||fQ||mQ)&&dQ)return!1;t.preventDefault()}return e.dispatchCommand(KI,!1)}),EI),e.registerCommand(g$,(()=>(lI(),!0)),EI),e.registerCommand(TI,(t=>{const n=RP();return!!GP(n)&&(q_(t,e),!0)}),EI),e.registerCommand(AI,(t=>{const n=RP();return!!GP(n)&&(function(e,t){q_(e,t),t.update((()=>{const e=RP();GP(e)&&e.removeText()}))}(t,e),!0)}),EI),e.registerCommand(c$,(t=>{const n=RP();return!!GP(n)&&(function(e,t){e.preventDefault(),t.update((()=>{const t=RP(),n=mB(e,ClipboardEvent)?e.clipboardData:null;null!=n&&GP(t)&&jB(n,t)}),{tag:u$})}(t,e),!0)}),EI),e.registerCommand(FI,(e=>{const t=RP();return!!GP(t)&&(e.preventDefault(),!0)}),EI),e.registerCommand(RI,(e=>{const t=RP();return!!GP(t)&&(e.preventDefault(),!0)}),EI))}});const vQ=gQ.registerPlainText,yQ="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?MS.useLayoutEffect:MS.useEffect;Object.freeze({__proto__:null,PlainTextPlugin:function(e){let{contentEditable:t,placeholder:n=null,ErrorBoundary:r}=e;const[i]=kK(),o=function(e,t){const[n,r]=(0,MS.useState)((()=>e.getDecorators()));return yQ((()=>e.registerDecoratorListener((e=>{(0,FS.flushSync)((()=>{r(e)}))}))),[e]),(0,MS.useEffect)((()=>{r(e.getDecorators())}),[e]),(0,MS.useMemo)((()=>{const r=[],i=Object.keys(n);for(let o=0;o<i.length;o++){const s=i[o],a=(0,ND.jsx)(t,{onError:t=>e._onError(t),children:(0,ND.jsx)(MS.Suspense,{fallback:null,children:n[s]})}),l=e.getElementByKey(s);null!==l&&r.push((0,FS.createPortal)(a,l,s))}return r}),[t,n,e])}(i,r);return function(e){yQ((()=>pB(vQ(e),kX(e))),[e])}(i),(0,ND.jsxs)(ND.Fragment,{children:[t,(0,ND.jsx)(Y_,{content:n}),o]})}});const bQ="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?MS.useLayoutEffect:MS.useEffect;var _Q=Object.freeze({__proto__:null,PlainTextPlugin:function(e){let{contentEditable:t,placeholder:n=null,ErrorBoundary:r}=e;const[i]=kK(),o=function(e,t){const[n,r]=(0,MS.useState)((()=>e.getDecorators()));return bQ((()=>e.registerDecoratorListener((e=>{(0,FS.flushSync)((()=>{r(e)}))}))),[e]),(0,MS.useEffect)((()=>{r(e.getDecorators())}),[e]),(0,MS.useMemo)((()=>{const r=[],i=Object.keys(n);for(let o=0;o<i.length;o++){const s=i[o],a=(0,ND.jsx)(t,{onError:t=>e._onError(t),children:(0,ND.jsx)(MS.Suspense,{fallback:null,children:n[s]})}),l=e.getElementByKey(s);null!==l&&r.push((0,FS.createPortal)(a,l,s))}return r}),[t,n,e])}(i,r);return function(e){bQ((()=>pB(vQ(e),kX(e))),[e])}(i),(0,ND.jsxs)(ND.Fragment,{children:[t,(0,ND.jsx)(G_,{content:n}),o]})}});const wQ=_Q.PlainTextPlugin,CQ=/[!-/:-@[-`{-~\s]/,xQ=/^\s{0,3}$/,EQ=/^\+?[0-9\s()-]{5,}$/,SQ=/^(\s*)(\d{1,})\.\s/,kQ=/^(\s*)[-*+]\s/,DQ=/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,TQ=/^(#{1,6})\s/,AQ=/^>\s/,NQ=/^[ \t]*```(\w+)?/,OQ=/[ \t]*```$/,jQ=/^[ \t]*```[^`]+(?:(?:`{1,2}|`{4,})[^`]+)*```(?:[^`]|$)/,MQ=/^(?:\|)(.+)(?:\|)\s?$/,RQ=/^(\| ?:?-*:? ?)+\|\s?$/,FQ=e=>(t,n,r)=>{const i=e(r);i.append(...n),t.replace(i),i.select(0,0)},LQ=e=>(t,n,r)=>{const i=t.getPreviousSibling(),o=t.getNextSibling(),s=mH("check"===e?"x"===r[3]:void 0);if(yH(o)&&o.getListType()===e){const e=o.getFirstChild();null!==e?e.insertBefore(s):o.append(s),t.remove()}else if(yH(i)&&i.getListType()===e)i.append(s),t.remove();else{const n=gH(e,"number"===e?Number(r[2]):void 0);n.append(s),t.replace(n)}s.append(...n),s.select(0,0);const a=function(e){const t=e.match(/\t/g),n=e.match(/ /g);let r=0;return t&&(r+=t.length),n&&(r+=Math.floor(n.length/4)),r}(r[1]);a&&s.setIndent(a)},PQ=(e,t,n)=>{const r=[],i=e.getChildren();let o=0;for(const s of i)if(vH(s)){if(1===s.getChildrenSize()){const e=s.getFirstChild();if(yH(e)){r.push(PQ(e,t,n+1));continue}}const i=" ".repeat(4*n),a=e.getListType(),l="number"===a?`${e.getStart()+o}. `:"check"===a?`- [${s.getChecked()?"x":" "}] `:"- ";r.push(i+l+t(s)),o++}return r.join("\n")},IQ={dependencies:[cU],export:(e,t)=>{if(!sU(e))return null;const n=Number(e.getTag().slice(1));return"#".repeat(n)+" "+t(e)},regExp:TQ,replace:FQ((e=>{const t="h"+e[1].length;return iU(t)})),type:"element"},$Q={dependencies:[uU],export:(e,t)=>{if(!aU(e))return null;const n=t(e).split("\n"),r=[];for(const e of n)r.push("> "+e);return r.join("\n")},regExp:AQ,replace:(e,t,n,r)=>{if(r){const n=e.getPreviousSibling();if(aU(n))return n.splice(n.getChildrenSize(),0,[fP(),...t]),n.select(0,0),void e.remove()}const i=oU();i.append(...t),e.replace(i),i.select(0,0)},type:"element"},zQ={dependencies:[XU],export:e=>{if(!YU(e))return null;const t=e.getTextContent();return"```"+(e.getLanguage()||"")+(t?"\n"+t:"")+"\n```"},regExpEnd:{optional:!0,regExp:OQ},regExpStart:NQ,replace:(e,t,n,r,i,o)=>{let s,a;if(!t&&i){if(1===i.length)r?(s=qU(),a=n[1]+i[0]):(s=qU(n[1]),a=i[0].startsWith(" ")?i[0].slice(1):i[0]);else{if(s=qU(n[1]),0===i[0].trim().length)for(;i.length>0&&!i[0].length;)i.shift();else i[0]=i[0].startsWith(" ")?i[0].slice(1):i[0];for(;i.length>0&&!i[i.length-1].length;)i.pop();a=i.join("\n")}const t=bP(a);s.append(t),e.append(s)}else t&&FQ((e=>qU(e?e[1]:void 0)))(e,t,n,o)},type:"multiline-element"},BQ={dependencies:[xH,CH],export:(e,t)=>yH(e)?PQ(e,t,0):null,regExp:kQ,replace:LQ("bullet"),type:"element"},UQ={dependencies:[xH,CH],export:(e,t)=>yH(e)?PQ(e,t,0):null,regExp:DQ,replace:LQ("check"),type:"element"},HQ={dependencies:[xH,CH],export:(e,t)=>yH(e)?PQ(e,t,0):null,regExp:SQ,replace:LQ("number"),type:"element"},WQ={format:["code"],tag:"`",type:"text-format"},KQ={format:["highlight"],tag:"==",type:"text-format"},qQ={format:["bold","italic"],tag:"***",type:"text-format"},VQ={format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},YQ={format:["bold"],tag:"**",type:"text-format"},JQ={format:["bold"],intraword:!1,tag:"__",type:"text-format"},GQ={format:["strikethrough"],tag:"~~",type:"text-format"},XQ={format:["italic"],tag:"*",type:"text-format"},QQ={format:["italic"],intraword:!1,tag:"_",type:"text-format"},ZQ={dependencies:[KH],export:(e,t)=>{if(!UH(e)||BH(e))return null;const n=e.getTitle(),r=t(e);return n?`[${r}](${e.getURL()} "${n}")`:`[${r}](${e.getURL()})`},importRegExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(e,t)=>{const[,n,r,i]=t,o=(s=r).match(/^[a-z][a-z0-9+.-]*:/i)||s.match(/^[/#.]/)?s:s.includes("@")?`mailto:${s}`:EQ.test(s)?`tel:${s}`:`https://${s}`;var s;const a=zH(o,{title:i}),l=bP(n);return l.setFormat(e.getFormat()),a.append(l),e.replace(a),l},trigger:")",type:"text-match"},eZ=[IQ,$Q,BQ,HQ],tZ=[zQ],nZ=[WQ,qQ,VQ,YQ,JQ,KQ,XQ,QQ,GQ],rZ=[ZQ],iZ=[...eZ,...tZ,...nZ,...rZ];Object.freeze({__proto__:null,$convertFromMarkdownString:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iZ,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=r?e:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.split("\n");let r=!1;const i=[];for(let e=0;e<n.length;e++){const o=n[e],s=i[i.length-1];jQ.test(o)?i.push(o):NQ.test(o)||OQ.test(o)?(r=!r,i.push(o)):r||""===o||""===s||!s||TQ.test(s)||TQ.test(o)||AQ.test(o)||SQ.test(o)||kQ.test(o)||DQ.test(o)||MQ.test(o)||RQ.test(o)||!t?i.push(o):i[i.length-1]=s+o}return i.join("\n")}(e,arguments.length>4&&void 0!==arguments[4]&&arguments[4]);return function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Q_(e),r=function(e){const t={},n={},r=[];for(const i of e){const{tag:e}=i;t[e]=i;const o=e.replace(/(\*|\^|\+)/g,"\\$1");r.push(o),1===e.length?n[e]=new RegExp(`(?<![\\\\${o}])(${o})((\\\\${o})?.*?[^${o}\\s](\\\\${o})?)((?<!\\\\)|(?<=\\\\\\\\))(${o})(?![\\\\${o}])`):n[e]=new RegExp(`(?<!\\\\)(${o})((\\\\${o})?.*?[^\\s](\\\\${o})?)((?<!\\\\)|(?<=\\\\\\\\))(${o})(?!\\\\)`)}return{fullMatchRegExpByTag:n,openTagsRegExp:new RegExp(`(?<![\\\\])(${r.join("|")})`,"g"),transformersByTag:t}}(n.textFormat);return(e,i)=>{const o=e.split("\n"),s=o.length,a=i||MP();a.clear();for(let e=0;e<s;e++){const i=o[e],[s,l]=aw(o,e,n.multilineElement,a);s?e=l:lw(i,a,n.element,r,n.textMatch,t)}const l=a.getChildren();for(const e of l)!t&&Z_(e)&&a.getChildrenSize()>1&&e.remove();null!==RP()&&a.selectStart()}}(t,r)(i,n)},$convertToMarkdownString:function(){let e=arguments.length>1?arguments[1]:void 0;const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Q_(e),r=[...n.multilineElement,...n.element],i=!t,o=n.textFormat.filter((e=>1===e.format.length)).sort(((e,t)=>Number(e.format.includes("code"))-Number(t.format.includes("code"))));return e=>{const t=[],s=(e||MP()).getChildren();for(let e=0;e<s.length;e++){const a=s[e],l=ew(a,r,o,n.textMatch);null!=l&&t.push(i&&e>0&&!Z_(a)&&!Z_(s[e-1])?"\n".concat(l):l)}return t.join("\n")}}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:iZ,arguments.length>2&&void 0!==arguments[2]&&arguments[2]);return t(e)},BOLD_ITALIC_STAR:qQ,BOLD_ITALIC_UNDERSCORE:VQ,BOLD_STAR:YQ,BOLD_UNDERSCORE:JQ,CHECK_LIST:UQ,CODE:zQ,ELEMENT_TRANSFORMERS:eZ,HEADING:IQ,HIGHLIGHT:KQ,INLINE_CODE:WQ,ITALIC_STAR:XQ,ITALIC_UNDERSCORE:QQ,LINK:ZQ,MULTILINE_ELEMENT_TRANSFORMERS:tZ,ORDERED_LIST:HQ,QUOTE:$Q,STRIKETHROUGH:GQ,TEXT_FORMAT_TRANSFORMERS:nZ,TEXT_MATCH_TRANSFORMERS:rZ,TRANSFORMERS:iZ,UNORDERED_LIST:BQ,registerMarkdownShortcuts:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iZ;const n=Q_(t),r=X_(n.textFormat,(e=>{let{tag:t}=e;return t[t.length-1]})),i=X_(n.textMatch,(e=>{let{trigger:t}=e;return t}));for(const n of t){const t=n.type;if("element"===t||"text-match"===t||"multiline-element"===t){const t=n.dependencies;for(const n of t)e.hasNode(n)||cw(`MarkdownShortcuts: missing dependency ${n.getType()} for transformer. Ensure node dependency is included in editor initial config.`)}}const o=(e,t,o)=>{(function(e,t,n,r){const i=e.getParent();if(!QP(i)||e.getFirstChild()!==t)return!1;const o=t.getTextContent();if(" "!==o[n-1])return!1;for(const{regExp:i,replace:s}of r){const r=o.match(i);if(r&&r[0].length===(r[0].endsWith(" ")?n:n-1)){const i=t.getNextSiblings(),[o,a]=t.splitText(n);if(o.remove(),!1!==s(e,a?[a,...i]:i,r,!1))return!0}}return!1})(e,t,o,n.element)||function(e,t,n,r){const i=e.getParent();if(!QP(i)||e.getFirstChild()!==t)return!1;const o=t.getTextContent();if(" "!==o[n-1])return!1;for(const{regExpStart:i,replace:s,regExpEnd:a}of r){if(a&&!("optional"in a)||a&&"optional"in a&&!a.optional)continue;const r=o.match(i);if(r&&r[0].length===(r[0].endsWith(" ")?n:n-1)){const i=t.getNextSiblings(),[o,a]=t.splitText(n);if(o.remove(),!1!==s(e,a?[a,...i]:i,r,null,null,!1))return!0}}return!1}(e,t,o,n.multilineElement)||function(e,t,n){let r=e.getTextContent();const i=n[r[t-1]];if(null==i)return!1;t<r.length&&(r=r.slice(0,t));for(const t of i){if(!t.replace||!t.regExp)continue;const n=r.match(t.regExp);if(null===n)continue;const i=n.index||0,o=i+n[0].length;let s;return 0===i?[s]=e.splitText(o):[,s]=e.splitText(i,o),s.selectNext(0,0),t.replace(s,n),!0}return!1}(t,o,i)||function(e,t,n){const r=e.getTextContent(),i=t-1,o=r[i],s=n[o];if(!s)return!1;for(const t of s){const{tag:n}=t,s=n.length,a=i-s+1;if(s>1&&!dw(r,a,n,0,s))continue;if(" "===r[a-1])continue;const l=r[i+1];if(!1===t.intraword&&l&&!CQ.test(l))continue;const c=e;let u=c,d=uw(r,a,n),f=u;for(;d<0&&(f=f.getPreviousSibling())&&!VP(f);)if(tI(f)){if(f.hasFormat("code"))continue;const e=f.getTextContent();u=f,d=uw(e,e.length,n)}if(d<0)continue;if(u===c&&d+s===a)continue;const h=u.getTextContent();if(d>0&&h[d-1]===o)continue;const p=h[d-1];if(!1===t.intraword&&p&&!CQ.test(p))continue;const m=c.getTextContent(),g=m.slice(0,a)+m.slice(i+1);c.setTextContent(g);const v=u===c?g:h;u.setTextContent(v.slice(0,d)+v.slice(d+s));const y=RP(),b=gP();uI(b);const _=i-s*(u===c?2:1)+1;b.anchor.set(u.__key,d,"text"),b.focus.set(c.__key,_,"text");for(const e of t.format)b.hasFormat(e)||b.formatText(e);b.anchor.set(b.focus.key,b.focus.offset,b.focus.type);for(const e of t.format)b.hasFormat(e)&&b.toggleFormat(e);return GP(y)&&(b.format=y.format),!0}}(t,o,r)};return e.registerUpdateListener((t=>{let{tags:n,dirtyLeaves:r,editorState:i,prevEditorState:s}=t;if(n.has(CI)||n.has(BI))return;if(e.isComposing())return;const a=i.read(RP),l=s.read(RP);if(!GP(l)||!GP(a)||!a.isCollapsed()||a.is(l))return;const c=a.anchor.key,u=a.anchor.offset,d=i._nodeMap.get(c);!tI(d)||!r.has(c)||1!==u&&u>l.anchor.offset+1||e.update((()=>{if(!ow(d))return;const e=d.getParent();null===e||YU(e)||o(e,d,a.anchor.offset)}))}))}});const oZ=/[!-/:-@[-`{-~\s]/,sZ=/^\s{0,3}$/,aZ=/^\+?[0-9\s()-]{5,}$/,lZ=/^(\s*)(\d{1,})\.\s/,cZ=/^(\s*)[-*+]\s/,uZ=/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,dZ=/^(#{1,6})\s/,fZ=/^>\s/,hZ=/^[ \t]*```(\w+)?/,pZ=/[ \t]*```$/,mZ=/^[ \t]*```[^`]+(?:(?:`{1,2}|`{4,})[^`]+)*```(?:[^`]|$)/,gZ=/^(?:\|)(.+)(?:\|)\s?$/,vZ=/^(\| ?:?-*:? ?)+\|\s?$/,yZ=e=>(t,n,r)=>{const i=e(r);i.append(...n),t.replace(i),i.select(0,0)},bZ=e=>(t,n,r)=>{const i=t.getPreviousSibling(),o=t.getNextSibling(),s=mH("check"===e?"x"===r[3]:void 0);if(yH(o)&&o.getListType()===e){const e=o.getFirstChild();null!==e?e.insertBefore(s):o.append(s),t.remove()}else if(yH(i)&&i.getListType()===e)i.append(s),t.remove();else{const n=gH(e,"number"===e?Number(r[2]):void 0);n.append(s),t.replace(n)}s.append(...n),s.select(0,0);const a=function(e){const t=e.match(/\t/g),n=e.match(/ /g);let r=0;return t&&(r+=t.length),n&&(r+=Math.floor(n.length/4)),r}(r[1]);a&&s.setIndent(a)},_Z=(e,t,n)=>{const r=[],i=e.getChildren();let o=0;for(const s of i)if(vH(s)){if(1===s.getChildrenSize()){const e=s.getFirstChild();if(yH(e)){r.push(_Z(e,t,n+1));continue}}const i=" ".repeat(4*n),a=e.getListType(),l="number"===a?`${e.getStart()+o}. `:"check"===a?`- [${s.getChecked()?"x":" "}] `:"- ";r.push(i+l+t(s)),o++}return r.join("\n")},wZ={dependencies:[cU],export:(e,t)=>{if(!sU(e))return null;const n=Number(e.getTag().slice(1));return"#".repeat(n)+" "+t(e)},regExp:dZ,replace:yZ((e=>{const t="h"+e[1].length;return iU(t)})),type:"element"},CZ={dependencies:[uU],export:(e,t)=>{if(!aU(e))return null;const n=t(e).split("\n"),r=[];for(const e of n)r.push("> "+e);return r.join("\n")},regExp:fZ,replace:(e,t,n,r)=>{if(r){const n=e.getPreviousSibling();if(aU(n))return n.splice(n.getChildrenSize(),0,[fP(),...t]),n.select(0,0),void e.remove()}const i=oU();i.append(...t),e.replace(i),i.select(0,0)},type:"element"},xZ={dependencies:[XU],export:e=>{if(!YU(e))return null;const t=e.getTextContent();return"```"+(e.getLanguage()||"")+(t?"\n"+t:"")+"\n```"},regExpEnd:{optional:!0,regExp:pZ},regExpStart:hZ,replace:(e,t,n,r,i,o)=>{let s,a;if(!t&&i){if(1===i.length)r?(s=qU(),a=n[1]+i[0]):(s=qU(n[1]),a=i[0].startsWith(" ")?i[0].slice(1):i[0]);else{if(s=qU(n[1]),0===i[0].trim().length)for(;i.length>0&&!i[0].length;)i.shift();else i[0]=i[0].startsWith(" ")?i[0].slice(1):i[0];for(;i.length>0&&!i[i.length-1].length;)i.pop();a=i.join("\n")}const t=bP(a);s.append(t),e.append(s)}else t&&yZ((e=>qU(e?e[1]:void 0)))(e,t,n,o)},type:"multiline-element"},EZ={dependencies:[xH,CH],export:(e,t)=>yH(e)?_Z(e,t,0):null,regExp:cZ,replace:bZ("bullet"),type:"element"},SZ={dependencies:[xH,CH],export:(e,t)=>yH(e)?_Z(e,t,0):null,regExp:uZ,replace:bZ("check"),type:"element"},kZ={dependencies:[xH,CH],export:(e,t)=>yH(e)?_Z(e,t,0):null,regExp:lZ,replace:bZ("number"),type:"element"},DZ={format:["code"],tag:"`",type:"text-format"},TZ={format:["highlight"],tag:"==",type:"text-format"},AZ={format:["bold","italic"],tag:"***",type:"text-format"},NZ={format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},OZ={format:["bold"],tag:"**",type:"text-format"},jZ={format:["bold"],intraword:!1,tag:"__",type:"text-format"},MZ={format:["strikethrough"],tag:"~~",type:"text-format"},RZ={format:["italic"],tag:"*",type:"text-format"},FZ={format:["italic"],intraword:!1,tag:"_",type:"text-format"},LZ={dependencies:[KH],export:(e,t)=>{if(!UH(e)||BH(e))return null;const n=e.getTitle(),r=t(e);return n?`[${r}](${e.getURL()} "${n}")`:`[${r}](${e.getURL()})`},importRegExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(e,t)=>{const[,n,r,i]=t,o=(s=r).match(/^[a-z][a-z0-9+.-]*:/i)||s.match(/^[/#.]/)?s:s.includes("@")?`mailto:${s}`:aZ.test(s)?`tel:${s}`:`https://${s}`;var s;const a=zH(o,{title:i}),l=bP(n);return l.setFormat(e.getFormat()),a.append(l),e.replace(a),l},trigger:")",type:"text-match"},PZ=[wZ,CZ,EZ,kZ],IZ=[xZ],$Z=[DZ,AZ,NZ,OZ,jZ,TZ,RZ,FZ,MZ],zZ=[LZ],BZ=[...PZ,...IZ,...$Z,...zZ];var UZ=Object.freeze({__proto__:null,$convertFromMarkdownString:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:BZ,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=r?e:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.split("\n");let r=!1;const i=[];for(let e=0;e<n.length;e++){const o=n[e],s=i[i.length-1];mZ.test(o)?i.push(o):hZ.test(o)||pZ.test(o)?(r=!r,i.push(o)):r||""===o||""===s||!s||dZ.test(s)||dZ.test(o)||fZ.test(o)||lZ.test(o)||cZ.test(o)||uZ.test(o)||gZ.test(o)||vZ.test(o)||!t?i.push(o):i[i.length-1]=s+o}return i.join("\n")}(e,arguments.length>4&&void 0!==arguments[4]&&arguments[4]);return function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=hw(e),r=function(e){const t={},n={},r=[];for(const i of e){const{tag:e}=i;t[e]=i;const o=e.replace(/(\*|\^|\+)/g,"\\$1");r.push(o),1===e.length?n[e]=new RegExp(`(?<![\\\\${o}])(${o})((\\\\${o})?.*?[^${o}\\s](\\\\${o})?)((?<!\\\\)|(?<=\\\\\\\\))(${o})(?![\\\\${o}])`):n[e]=new RegExp(`(?<!\\\\)(${o})((\\\\${o})?.*?[^\\s](\\\\${o})?)((?<!\\\\)|(?<=\\\\\\\\))(${o})(?!\\\\)`)}return{fullMatchRegExpByTag:n,openTagsRegExp:new RegExp(`(?<![\\\\])(${r.join("|")})`,"g"),transformersByTag:t}}(n.textFormat);return(e,i)=>{const o=e.split("\n"),s=o.length,a=i||MP();a.clear();for(let e=0;e<s;e++){const i=o[e],[s,l]=Cw(o,e,n.multilineElement,a);s?e=l:xw(i,a,n.element,r,n.textMatch,t)}const l=a.getChildren();for(const e of l)!t&&pw(e)&&a.getChildrenSize()>1&&e.remove();null!==RP()&&a.selectStart()}}(t,r)(i,n)},$convertToMarkdownString:function(){let e=arguments.length>1?arguments[1]:void 0;const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=hw(e),r=[...n.multilineElement,...n.element],i=!t,o=n.textFormat.filter((e=>1===e.format.length)).sort(((e,t)=>Number(e.format.includes("code"))-Number(t.format.includes("code"))));return e=>{const t=[],s=(e||MP()).getChildren();for(let e=0;e<s.length;e++){const a=s[e],l=mw(a,r,o,n.textMatch);null!=l&&t.push(i&&e>0&&!pw(a)&&!pw(s[e-1])?"\n".concat(l):l)}return t.join("\n")}}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:BZ,arguments.length>2&&void 0!==arguments[2]&&arguments[2]);return t(e)},BOLD_ITALIC_STAR:AZ,BOLD_ITALIC_UNDERSCORE:NZ,BOLD_STAR:OZ,BOLD_UNDERSCORE:jZ,CHECK_LIST:SZ,CODE:xZ,ELEMENT_TRANSFORMERS:PZ,HEADING:wZ,HIGHLIGHT:TZ,INLINE_CODE:DZ,ITALIC_STAR:RZ,ITALIC_UNDERSCORE:FZ,LINK:LZ,MULTILINE_ELEMENT_TRANSFORMERS:IZ,ORDERED_LIST:kZ,QUOTE:CZ,STRIKETHROUGH:MZ,TEXT_FORMAT_TRANSFORMERS:$Z,TEXT_MATCH_TRANSFORMERS:zZ,TRANSFORMERS:BZ,UNORDERED_LIST:EZ,registerMarkdownShortcuts:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:BZ;const n=hw(t),r=fw(n.textFormat,(e=>{let{tag:t}=e;return t[t.length-1]})),i=fw(n.textMatch,(e=>{let{trigger:t}=e;return t}));for(const n of t){const t=n.type;if("element"===t||"text-match"===t||"multiline-element"===t){const t=n.dependencies;for(const n of t)e.hasNode(n)||Ew(173,n.getType())}}const o=(e,t,o)=>{(function(e,t,n,r){const i=e.getParent();if(!QP(i)||e.getFirstChild()!==t)return!1;const o=t.getTextContent();if(" "!==o[n-1])return!1;for(const{regExp:i,replace:s}of r){const r=o.match(i);if(r&&r[0].length===(r[0].endsWith(" ")?n:n-1)){const i=t.getNextSiblings(),[o,a]=t.splitText(n);if(o.remove(),!1!==s(e,a?[a,...i]:i,r,!1))return!0}}return!1})(e,t,o,n.element)||function(e,t,n,r){const i=e.getParent();if(!QP(i)||e.getFirstChild()!==t)return!1;const o=t.getTextContent();if(" "!==o[n-1])return!1;for(const{regExpStart:i,replace:s,regExpEnd:a}of r){if(a&&!("optional"in a)||a&&"optional"in a&&!a.optional)continue;const r=o.match(i);if(r&&r[0].length===(r[0].endsWith(" ")?n:n-1)){const i=t.getNextSiblings(),[o,a]=t.splitText(n);if(o.remove(),!1!==s(e,a?[a,...i]:i,r,null,null,!1))return!0}}return!1}(e,t,o,n.multilineElement)||function(e,t,n){let r=e.getTextContent();const i=n[r[t-1]];if(null==i)return!1;t<r.length&&(r=r.slice(0,t));for(const t of i){if(!t.replace||!t.regExp)continue;const n=r.match(t.regExp);if(null===n)continue;const i=n.index||0,o=i+n[0].length;let s;return 0===i?[s]=e.splitText(o):[,s]=e.splitText(i,o),s.selectNext(0,0),t.replace(s,n),!0}return!1}(t,o,i)||function(e,t,n){const r=e.getTextContent(),i=t-1,o=r[i],s=n[o];if(!s)return!1;for(const t of s){const{tag:n}=t,s=n.length,a=i-s+1;if(s>1&&!kw(r,a,n,0,s))continue;if(" "===r[a-1])continue;const l=r[i+1];if(!1===t.intraword&&l&&!oZ.test(l))continue;const c=e;let u=c,d=Sw(r,a,n),f=u;for(;d<0&&(f=f.getPreviousSibling())&&!VP(f);)if(tI(f)){if(f.hasFormat("code"))continue;const e=f.getTextContent();u=f,d=Sw(e,e.length,n)}if(d<0)continue;if(u===c&&d+s===a)continue;const h=u.getTextContent();if(d>0&&h[d-1]===o)continue;const p=h[d-1];if(!1===t.intraword&&p&&!oZ.test(p))continue;const m=c.getTextContent(),g=m.slice(0,a)+m.slice(i+1);c.setTextContent(g);const v=u===c?g:h;u.setTextContent(v.slice(0,d)+v.slice(d+s));const y=RP(),b=gP();uI(b);const _=i-s*(u===c?2:1)+1;b.anchor.set(u.__key,d,"text"),b.focus.set(c.__key,_,"text");for(const e of t.format)b.hasFormat(e)||b.formatText(e);b.anchor.set(b.focus.key,b.focus.offset,b.focus.type);for(const e of t.format)b.hasFormat(e)&&b.toggleFormat(e);return GP(y)&&(b.format=y.format),!0}}(t,o,r)};return e.registerUpdateListener((t=>{let{tags:n,dirtyLeaves:r,editorState:i,prevEditorState:s}=t;if(n.has(CI)||n.has(BI))return;if(e.isComposing())return;const a=i.read(RP),l=s.read(RP);if(!GP(l)||!GP(a)||!a.isCollapsed()||a.is(l))return;const c=a.anchor.key,u=a.anchor.offset,d=i._nodeMap.get(c);!tI(d)||!r.has(c)||1!==u&&u>l.anchor.offset+1||e.update((()=>{if(!_w(d))return;const e=d.getParent();null===e||YU(e)||o(e,d,a.anchor.offset)}))}))}});const HZ=UZ,WZ=HZ.TRANSFORMERS,KZ=HZ.registerMarkdownShortcuts;Object.freeze({__proto__:null,useLexicalNodeSelection:function(e){const[t]=kK(),[n,r]=(0,MS.useState)((()=>Dw(t,e)));return(0,MS.useEffect)((()=>{let n=!0;const i=t.registerUpdateListener((()=>{n&&r(Dw(t,e))}));return()=>{n=!1,i()}}),[t,e]),[n,(0,MS.useCallback)((n=>{t.update((()=>{let t=RP();YP(t)||(t=hP(),uI(t)),YP(t)&&(n?t.add(e):t.delete(e))}))}),[t,e]),(0,MS.useCallback)((()=>{t.update((()=>{const e=RP();YP(e)&&e.clear()}))}),[t])]}});var qZ=Object.freeze({__proto__:null,useLexicalNodeSelection:function(e){const[t]=kK(),[n,r]=(0,MS.useState)((()=>Tw(t,e)));return(0,MS.useEffect)((()=>{let n=!0;const i=t.registerUpdateListener((()=>{n&&r(Tw(t,e))}));return()=>{n=!1,i()}}),[t,e]),[n,(0,MS.useCallback)((n=>{t.update((()=>{let t=RP();YP(t)||(t=hP(),uI(t)),YP(t)&&(n?t.add(e):t.delete(e))}))}),[t,e]),(0,MS.useCallback)((()=>{t.update((()=>{const e=RP();YP(e)&&e.clear()}))}),[t])]}});const VZ=qZ.useLexicalNodeSelection,YZ=w$("INSERT_HORIZONTAL_RULE_COMMAND");let JZ=class e extends LI{static getType(){return"horizontalrule"}static clone(t){return new e(t.__key)}static importJSON(e){return Ow().updateFromJSON(e)}static importDOM(){return{hr:()=>({conversion:Nw,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(e){const t=document.createElement("hr");return cB(t,e.theme.hr),t}getTextContent(){return"\n"}isInline(){return!1}updateDOM(){return!1}decorate(){return(0,ND.jsx)(Aw,{nodeKey:this.__key})}};Object.freeze({__proto__:null,$createHorizontalRuleNode:Ow,$isHorizontalRuleNode:function(e){return e instanceof JZ},HorizontalRuleNode:JZ,INSERT_HORIZONTAL_RULE_COMMAND:YZ});const GZ=w$("INSERT_HORIZONTAL_RULE_COMMAND");let XZ=class e extends LI{static getType(){return"horizontalrule"}static clone(t){return new e(t.__key)}static importJSON(e){return Rw().updateFromJSON(e)}static importDOM(){return{hr:()=>({conversion:Mw,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(e){const t=document.createElement("hr");return cB(t,e.theme.hr),t}getTextContent(){return"\n"}isInline(){return!1}updateDOM(){return!1}decorate(){return(0,ND.jsx)(jw,{nodeKey:this.__key})}};var QZ=Object.freeze({__proto__:null,$createHorizontalRuleNode:Rw,$isHorizontalRuleNode:function(e){return e instanceof XZ},HorizontalRuleNode:XZ,INSERT_HORIZONTAL_RULE_COMMAND:GZ});const ZZ=QZ,e0=ZZ.$createHorizontalRuleNode,t0=ZZ.$isHorizontalRuleNode,n0=ZZ.HorizontalRuleNode,r0=ZZ.INSERT_HORIZONTAL_RULE_COMMAND,i0=[{dependencies:[n0],export:e=>t0(e)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(e,t,n,r)=>{const i=e0();r||null!=e.getNextSibling()?e.replace(i):e.insertBefore(i),i.selectNext()},type:"element"},...WZ];Object.freeze({__proto__:null,DEFAULT_TRANSFORMERS:i0,MarkdownShortcutPlugin:function(e){let{transformers:t=i0}=e;const[n]=kK();return(0,MS.useEffect)((()=>KZ(n,t)),[n,t]),null}});const o0=[{dependencies:[n0],export:e=>t0(e)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(e,t,n,r)=>{const i=e0();r||null!=e.getNextSibling()?e.replace(i):e.insertBefore(i),i.selectNext()},type:"element"},...WZ];var s0=Object.freeze({__proto__:null,DEFAULT_TRANSFORMERS:o0,MarkdownShortcutPlugin:function(e){let{transformers:t=o0}=e;const[n]=kK();return(0,MS.useEffect)((()=>KZ(n,t)),[n,t]),null}});const a0=s0.MarkdownShortcutPlugin,l0=/[.,;\s]/;Object.freeze({__proto__:null,AutoLinkPlugin:function(e){let{matchers:t,onChange:n}=e;const[r]=kK();return function(e,t,n){(0,MS.useEffect)((()=>{e.hasNodes([WH])||function(){throw new Error("LexicalAutoLinkPlugin: AutoLinkNode not registered on editor")}();const r=(e,t)=>{n&&n(e,t)};return pB(e.registerNodeTransform(b$,(e=>{const n=e.getParentOrThrow(),i=e.getPreviousSibling();if(BH(n)&&!n.getIsUnlinked())Ww(n,t,r);else if(!UH(n)){if(e.isSimpleText()&&(Iw(e.getTextContent())||!BH(i))){const n=function(e){const t=[e];let n=e.getNextSibling();for(;null!==n&&tI(n)&&n.isSimpleText()&&(t.push(n),!/[\s]/.test(n.getTextContent()));)n=n.getNextSibling();return t}(e);!function(e,t,n){let r=[...e];const i=r.map((e=>e.getTextContent())).join("");let o,s=i,a=0;for(;(o=Fw(s,t))&&null!==o;){const e=o.index,t=e+o.length;if(Bw(a+e,a+t,i,r)){const[i,,s,l]=Uw(r,a+e,a+t),c=Hw(s,a+e-i,a+t-i,o);r=c?[c,...l]:l,n(o.url,null),a=0}else a+=t;s=s.substring(t)}}(n,t,r)}!function(e,t,n){const r=e.getPreviousSibling(),i=e.getNextSibling(),o=e.getTextContent();var s;!BH(r)||r.getIsUnlinked()||Iw(o)&&(s=o,!(r.isEmailURI()?/^\.[a-zA-Z]{2,}/.test(s):/^\.[a-zA-Z0-9]{1,}/.test(s)))||(r.append(e),Ww(r,t,n),n(null,r.getURL())),!BH(i)||i.getIsUnlinked()||Pw(o)||(Kw(i),Ww(i,t,n),n(null,i.getURL()))}(e,t,r)}})),e.registerCommand(qH,(e=>{const t=RP();return!(null!==e||!GP(t)||(t.extract().forEach((e=>{const t=e.getParent();if(BH(t))return t.setIsUnlinked(!t.getIsUnlinked()),t.markDirty(),!0})),1))}),kI))}),[e,t,n])}(r,t,n),null},createLinkMatcherWithRegExp:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return n=>{const r=e.exec(n);return null===r?null:{index:r.index,length:r[0].length,text:r[0],url:t(r[0])}}}});const c0=/[.,;\s]/;var u0=Object.freeze({__proto__:null,AutoLinkPlugin:function(e){let{matchers:t,onChange:n}=e;const[r]=kK();return function(e,t,n){(0,MS.useEffect)((()=>{e.hasNodes([WH])||function(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(const e of i)n.append("v",e);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(77);const r=(e,t)=>{n&&n(e,t)};return pB(e.registerNodeTransform(b$,(e=>{const n=e.getParentOrThrow(),i=e.getPreviousSibling();if(BH(n)&&!n.getIsUnlinked())tC(n,t,r);else if(!UH(n)){if(e.isSimpleText()&&(Jw(e.getTextContent())||!BH(i))){const n=function(e){const t=[e];let n=e.getNextSibling();for(;null!==n&&tI(n)&&n.isSimpleText()&&(t.push(n),!/[\s]/.test(n.getTextContent()));)n=n.getNextSibling();return t}(e);!function(e,t,n){let r=[...e];const i=r.map((e=>e.getTextContent())).join("");let o,s=i,a=0;for(;(o=qw(s,t))&&null!==o;){const e=o.index,t=e+o.length;if(Qw(a+e,a+t,i,r)){const[i,,s,l]=Zw(r,a+e,a+t),c=eC(s,a+e-i,a+t-i,o);r=c?[c,...l]:l,n(o.url,null),a=0}else a+=t;s=s.substring(t)}}(n,t,r)}!function(e,t,n){const r=e.getPreviousSibling(),i=e.getNextSibling(),o=e.getTextContent();var s;!BH(r)||r.getIsUnlinked()||Jw(o)&&(s=o,!(r.isEmailURI()?/^\.[a-zA-Z]{2,}/.test(s):/^\.[a-zA-Z0-9]{1,}/.test(s)))||(r.append(e),tC(r,t,n),n(null,r.getURL())),!BH(i)||i.getIsUnlinked()||Yw(o)||(nC(i),tC(i,t,n),n(null,i.getURL()))}(e,t,r)}})),e.registerCommand(qH,(e=>{const t=RP();return!(null!==e||!GP(t)||(t.extract().forEach((e=>{const t=e.getParent();if(BH(t))return t.setIsUnlinked(!t.getIsUnlinked()),t.markDirty(),!0})),1))}),kI))}),[e,t,n])}(r,t,n),null},createLinkMatcherWithRegExp:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return n=>{const r=e.exec(n);return null===r?null:{index:r.index,length:r[0].length,text:r[0],url:t(r[0])}}}});const d0=u0,f0=d0.AutoLinkPlugin,h0=d0.createLinkMatcherWithRegExp,p0=/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,m0=/((https?:\/\/(www\.)?)|(www\.))[\w\-@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-\w()@:%_+,.~#?&/=]*[\u0600-\u06FF\w\-()@:%_+,~#?&/=]*)?/u,g0=[h0(m0,(e=>e.startsWith("http")?e:`https://${e}`)),h0(p0,(e=>`mailto:${e}`))],v0=()=>(0,MS.useContext)(FK),y0=e=>{let{initialOpen:t=!1,hideOnEscape:n=!0,placement:r="top",offsetOptions:i=5,strategy:o="absolute",transitionOptions:s,autoUpdateOptions:a,middlewares:l,onOpenChange:c,interactionHooks:u,boundaries:d,defaultDetectOverflowOptions:f}=e;var h,p,m,g,v;const[y,b]=(0,MS.useState)(t),_=(0,MS.useMemo)((()=>[IG(i),zG(d),$G(d),UG(Object.assign(Object.assign({
strategy:"referenceHidden"},f),{padding:{left:-1/0,right:-1/0}})),n&&UG(Object.assign({strategy:"escaped"},f))].filter((e=>Boolean(e)))),[i,d]),w=y_({placement:r,open:y,strategy:o,onOpenChange:(e,t,n)=>{null==c||c(e,t,n),b(e)},whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=Rb(e),u=i||o?[...c?ib(c):[],...ib(t)]:[];u.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)}));const d=c&&a?function(e,t){function n(){var e;clearTimeout(r),null==(e=i)||e.disconnect(),i=null}let r,i=null;const o=Hy(e);return function s(a,l){function c(t){const n=t[0].intersectionRatio;if(n!==l){if(!g)return s();n?s(!1,n):r=setTimeout((()=>{s(!1,1e-7)}),1e3)}1!==n||qb(u,e.getBoundingClientRect())||s(),g=!1}void 0===a&&(a=!1),void 0===l&&(l=1),n();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(a||t(),!h||!p)return;const m={rootMargin:-eG(f)+"px "+-eG(o.clientWidth-(d+h))+"px "+-eG(o.clientHeight-(f+p))+"px "+-eG(d)+"px",threshold:QJ(0,XJ(1,l))||1};let g=!0;try{i=new IntersectionObserver(c,{...m,root:o.ownerDocument})}catch(e){i=new IntersectionObserver(c,m)}i.observe(e)}(!0),n}(c,n):null;let f,h=-1,p=null;s&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),c&&!l&&p.observe(c),p.observe(t));let m=l?Pb(e):null;return l&&function t(){const r=Pb(e);m&&!qb(m,r)&&n(),m=r,f=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(f)}}(...t,a)},middleware:(l?"function"==typeof l?l(_):l:_).map((e=>e?Object.assign(Object.assign({},e),e.options.boundary?{}:d||{}):e))}),C=w.context;let x;x=u&&"function"==typeof u?null==u?void 0:u(C):[s_(C,{move:!1,restMs:150}),b_(C),v_(C,{referencePress:!1,capture:{escapeKey:!0,outsidePress:!1}})];const E=function(e){void 0===e&&(e=[]);const t=e.map((e=>null==e?void 0:e.reference)),n=e.map((e=>null==e?void 0:e.floating)),r=e.map((e=>null==e?void 0:e.item)),i=MS.useCallback((t=>__(t,e,"reference")),t),o=MS.useCallback((t=>__(t,e,"floating")),n),s=MS.useCallback((t=>__(t,e,"item")),r);return MS.useMemo((()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s})),[i,o,s])}(x),S=function(e,t){void 0===t&&(t={});const{initial:n={opacity:0},open:r,close:i,common:o,duration:s=250}=t,a=e.placement,l=a.split("-")[0],c=MS.useMemo((()=>({side:l,placement:a})),[l,a]),u="number"==typeof s,d=(u?s:s.open)||0,f=(u?s:s.close)||0,[h,p]=MS.useState((()=>({...w_(o,c),...w_(n,c)}))),{isMounted:m,status:g}=function(e,t){void 0===t&&(t={});const{open:n,elements:{floating:r}}=e,{duration:i=250}=t,o=("number"==typeof i?i:i.close)||0,[s,a]=MS.useState("unmounted"),l=function(e,t){const[n,r]=MS.useState(e);return e&&!n&&r(!0),MS.useEffect((()=>{if(!e&&n){const e=setTimeout((()=>r(!1)),t);return()=>clearTimeout(e)}}),[e,n,t]),n}(n,o);return l||"close"!==s||a("unmounted"),qG((()=>{if(r){if(n){a("initial");const e=requestAnimationFrame((()=>{a("open")}));return()=>{cancelAnimationFrame(e)}}a("close")}}),[n,r]),{isMounted:l,status:s}}(e,{duration:s}),v=i_(n),y=i_(r),b=i_(i),_=i_(o);return qG((()=>{const e=w_(v.current,c),t=w_(b.current,c),n=w_(_.current,c),r=w_(y.current,c)||Object.keys(e).reduce(((e,t)=>(e[t]="",e)),{});if("initial"===g&&p((t=>({transitionProperty:t.transitionProperty,...n,...e}))),"open"===g&&p({transitionProperty:Object.keys(r).map(pX).join(","),transitionDuration:d+"ms",...n,...r}),"close"===g){const r=t||e;p({transitionProperty:Object.keys(r).map(pX).join(","),transitionDuration:f+"ms",...n,...r})}}),[f,b,v,y,_,d,g,c]),{isMounted:m,styles:h}}(w.context,s||{initial:{transform:"scale(0.75,0.65)",opacity:0},common:e=>{let{side:t}=e;return{transformOrigin:{top:"bottom",bottom:"top",left:"right",right:"left"}[t]}},duration:{open:50,close:30}});return(null===(p=null===(h=null==w?void 0:w.refs)||void 0===h?void 0:h.domReference)||void 0===p?void 0:p.current)&&!(null===(v=null===(g=null===(m=null==w?void 0:w.refs)||void 0===m?void 0:m.domReference)||void 0===g?void 0:g.current)||void 0===v?void 0:v.isConnected)&&!0===y&&b(!1),(0,MS.useMemo)((()=>Object.assign(Object.assign(Object.assign({open:y,setOpen:b},E),w),{transition:S})),[y,b,E,S,w])},b0=e=>{let{initialOpen:t=!1,hideOnEscape:n=!0,placement:r="top",offsetOptions:i=5,strategy:o="absolute",transitionOptions:s,autoUpdateOptions:a,middlewares:l,onOpenChange:c,interactionHooks:u}=e;const{hsoubEditorProps:d}=v0();return y0({initialOpen:t,hideOnEscape:n,placement:r,offsetOptions:i,strategy:o,transitionOptions:s,autoUpdateOptions:a,middlewares:l,onOpenChange:c,interactionHooks:u,boundaries:d.boundaries,defaultDetectOverflowOptions:d.defaultDetectOverflowOptions})},_0=MS.forwardRef((function(e,t){var{children:n,state:r,asChild:i}=e,o=kv(e,["children","state","asChild"]);const s=null==n?void 0:n.ref,a=(l=[r.refs.setReference,t,s],MS.useMemo((()=>l.every((e=>null==e))?null:e=>{l.forEach((t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)}))}),l));var l;return i&&MS.isValidElement(n)?MS.cloneElement(n,r.getReferenceProps(Object.assign(Object.assign({ref:a},o),n.props instanceof Object?n.props:{}))):MS.createElement("div",Object.assign({ref:a},r.getReferenceProps(o)),n)})),w0=(0,MS.forwardRef)((function(e,t){var n,r,{state:i,shouldPosition:o=!0,openStrategy:s="render",direction:a,portalStrategy:l,portalId:c,getEditorParent:u,children:d}=e,f=kv(e,["state","shouldPosition","openStrategy","direction","portalStrategy","portalId","getEditorParent","children"]);const[h,p]=(0,MS.useState)(null),m=(0,MS.useMemo)((()=>{return e=[i.refs.setFloating,t],t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))};var e}),[i.refs.setFloating,t]),g=o?{top:i.y,left:i.x}:{},v=()=>{i.setOpen(!1)};(0,MS.useEffect)((()=>{const e=u();if(!e)return;const t=null==e?void 0:e.querySelector('[id="editor-portal"]');p(t)}),[]),(0,MS.useEffect)((()=>{var e,t,n;return null===(n=null===(t=null===(e=i.elements)||void 0===e?void 0:e.floating)||void 0===t?void 0:t.parentElement)||void 0===n||n.addEventListener("close_toolbar",v),()=>{var e,t,n;return null===(n=null===(t=null===(e=i.elements)||void 0===e?void 0:e.floating)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.removeEventListener("close_toolbar",v)}}),[i.elements.floating]);const y=(0,MS.useMemo)((()=>"inline"===l?{root:h}:{id:c||"editor"}),[l,h]);return i.open||"display"===s?MS.createElement(h_,Object.assign({},y),MS.createElement("div",Object.assign({dir:f.dir||a||zJ.direction,ref:m},i.getFloatingProps(Object.assign(Object.assign({},f),{style:Object.assign(Object.assign(Object.assign({position:i.strategy},g),{visibility:(null===(n=i.middlewareData.hide)||void 0===n?void 0:n.referenceHidden)||(null===(r=i.middlewareData.hide)||void 0===r?void 0:r.escaped)?"hidden":"visible",display:i.open?"":"none"}),f.style)}))),d)):null})),C0=(0,MS.forwardRef)((function(e,t){const{hsoubEditorProps:n}=v0(),[r]=kK();return MS.createElement(w0,Object.assign({},e,{ref:t,direction:n.direction,portalStrategy:n.portalStrategy,getEditorParent:()=>{var e,t,n;return null===(n=null===(t=null===(e=null==r?void 0:r.getRootElement)||void 0===e?void 0:e.call(r))||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.parentElement}}))})),x0=()=>{const{hsoubEditorProps:{config:e={},direction:t}={}}=v0();return(0,MS.useMemo)((()=>Py(IJ(t),e)),[e])},E0=w$("HSOUB_CLEAR_FORMATING"),S0=w$("HSOUB_INSERT_LINK"),k0=w$("HSOUB_TABLE_SELECTOR"),D0=w$("HSOUB_VIDEO_CHOOSER"),T0=w$("HSOUB_IMAGE_CHOOSER"),A0=w$("HSOUB_LINK_EDITOR"),N0=w$("HSOUB_TABLE_ACTION"),O0=w$("HSOUB_TABLE_ACTION"),j0=w$("HSOUB_TABLE_ACTION"),M0=w$("HSOUB_IMAGE_ACTION"),R0=w$("CHANGE_TOOLBAR_VISIBILITY"),F0=(0,MS.lazy)((()=>Promise.resolve().then((function(){return M4}))));class L0 extends LI{static getType(){return"image"}static clone(e){return new L0(e.__src,e.__oldSrc,e.__altText,e.__maxWidth,e.__className,e.__loading,e.__width,e.__key)}static importJSON(e){const{altText:t,width:n,maxWidth:r="100%",src:i,oldSrc:o}=e;return oC({altText:t,maxWidth:r,src:i,oldSrc:o,width:n})}exportDOM(){const e=document.createElement("img");return e.setAttribute("src",this.getLatest().__src),e.setAttribute("alt",this.__altText),this.__width&&(e.style.width=this.getLatest().__width),{element:e}}static importDOM(){return{img:()=>({conversion:iC,priority:0})}}constructor(e,t,n,r,i,o,s,a){super(a),this.__src=e,this.__oldSrc=t,this.__altText=n,this.__loading=o,this.__maxWidth=r,this.__className=i,this.__width=s||""}exportJSON(){return{altText:this.getAltText(),maxWidth:this.__maxWidth||"100%",className:this.__className||"",src:this.getSrc(),oldSrc:this.getOldSrc(),type:"image",version:1,width:this.__width}}setWidth(e){this.getWritable().__width=e}setShowCaption(e){this.getWritable().setShowCaption(e)}createDOM(e){const t=document.createElement("span"),n=e.theme.image;return t.style.textAlign="inherit",t.style.width=this.getLatest().__width||"fit-content",void 0!==n&&(t.className=n),t}updateDOM(e){return!1}getAltText(){return this.getLatest().__altText}setAltText(e){this.getWritable().__altText=e}getSrc(){return this.getLatest().__src}setSrc(e){this.getWritable().__src=e}getLoading(){return this.getLatest().__loading}setLoading(e){this.getWritable().__loading=e}getOldSrc(){return this.getLatest().__oldSrc}setOldSrc(e){this.getWritable().__oldSrc=e}decorate(){return MS.createElement(MS.Suspense,{fallback:null},MS.createElement(F0,{src:this.__src,altText:this.__altText,width:this.__width,loading:this.__loading,maxWidth:this.__maxWidth,className:this.__className,nodeKey:this.getKey(),showCaption:this.__showCaption,caption:this.__caption,captionsEnabled:this.__captionsEnabled,resizable:!0}))}}const P0=/^(https?:\/\/)?((www\.)?(youtube(-nocookie)?|youtube.googleapis)\.com.*(v\/|v=|vi=|vi\/|e\/|embed\/|user\/.*\/u\/\d+\/)|youtu\.be\/)([_0-9a-z-]+)/i,I0=/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?/i,$0=e=>K0(e),z0=e=>H0(e)?{videoID:q0(e),videoType:"youtube"}:W0(e)?{videoID:V0(e),videoType:"vimeo"}:null,B0=e=>{let{videoID:t,videoType:n}=e;return t&&n?"youtube"===n?`https://youtube.com/watch?v=${t}`:`https://vimeo.com/${t}`:null},U0=e=>"youtube"===e.videoType?`https://www.youtube-nocookie.com/embed/${e.videoID}?playlist=${e.videoID}&enablejsapi=1&modestbranding=1&rel=0&autoplay=${+e.autoplay}&showinfo=0&theme=light&hd=1`:"vimeo"===e.videoType?`https://player.vimeo.com/video/${e.videoID}?title=0&autoplay=${+e.autoplay}&byline=0&portrait=0&sidedock=0`:null,H0=e=>e.match(P0),W0=e=>e.match(I0),K0=e=>Boolean(H0(e)||W0(e)),q0=e=>{let t;const n=e.match(P0);return n&&n[7]&&(t=n[7]),t},V0=e=>{const t=e.match(I0);if(t)return t[1]},Y0=(e,t,n)=>{e.update((()=>{let e=RP();YP(e)||(e=hP(),uI(e)),YP(e)&&(n?e.add(t):e.delete(t))}))},J0=e=>{e.update((()=>{const e=RP();YP(e)&&e.clear()}))},G0=e=>null==e?void 0:e.replace(/>\s+</g,"><"),X0=e=>{var t,n,r;const{videoID:i,videoType:o,autoplay:s,nodeKey:a}=e,l=U0({videoID:i,videoType:o,autoplay:s}),{hsoubEditorProps:c,toolbar:u}=v0(),d=(0,MS.useRef)(null),f=(0,MS.useRef)(null),[h]=kK(),p=(0,MS.useRef)(null),m=(null===(r=null===(n=null===(t=u.video)||void 0===t?void 0:t.selection)||void 0===n?void 0:n.node)||void 0===r?void 0:r.__key)===a;(0,MS.useEffect)((()=>{if(c.editable)return pB(h.registerCommand(p$,((e,t)=>(p.current=t,!1)),kI),h.registerCommand(wI,(e=>{const t=e;return t.target===f.current&&(t.shiftKey?Y0(h,a,!m):(J0(h),Y0(h,a,!0)),!0)}),kI))}),[h,m,a]);const g=m;return l?MS.createElement(MS.Fragment,null,MS.createElement("iframe",{ref:d,width:"320",height:"220",src:l,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Video",className:g?"focused":""}),MS.createElement("div",{ref:f,style:{position:"absolute",width:"100%",height:"100%",top:0,left:0,right:0,bottom:0,cursor:"pointer",display:"block",background:"transparent",pointerEvents:m?"none":"initial"}})):null};class Q0 extends LI{static getType(){return"video"}static clone(e){return new Q0(e.__videoID,e.__videoType,e.__autoplay,e.__width,e.__height,e.__key)}static importJSON(e){const{height:t,width:n,videoID:r,autoplay:i,videoType:o}=e;return uC({videoID:r,videoType:o,autoplay:i,width:n||"",height:t||""})}exportDOM(e){const t=document.createElement("iframe"),n=U0({autoplay:Boolean(this.getLatest().__autoplay),videoID:this.getLatest().__videoID,videoType:this.getLatest().__videoType});if(!n)return{element:null};t.setAttribute("src",n),t.setAttribute("allowfullscreen",""),t.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture");const r=document.createElement("span"),i=e._config.theme.video;return void 0!==i&&(r.className=i),r.append(t),{element:r}}static importDOM(){return{iframe:()=>({conversion:cC,priority:0})}}constructor(e,t,n,r,i,o){super(o),this.__videoID=e,this.__videoType=t,this.__autoplay=n,this.__width=r,this.__height=i}exportJSON(){return{height:this.getLatest().__height,videoID:this.getLatest().__videoID,autoplay:this.getLatest().__autoplay,videoType:this.getLatest().__videoType,type:"video",version:1,width:this.__width}}setWidthAndHeight(e,t){const n=this.getWritable();n.__width=e,n.__height=t}createDOM(e){const t=document.createElement("span"),n=e.theme.video;return void 0!==n&&(t.className=n),t}updateDOM(e){return e.__videoID!==this.getLatest().__videoID||e.__autoplay!==this.getLatest().__autoplay}getVideoID(){return this.getLatest().__videoID}getVideoType(){return this.getLatest().__videoType}setVideoID(e){this.getWritable().__videoID=e}setVideoType(e){this.getWritable().__videoType=e}getAutoplay(){return this.getLatest().__autoplay}setAutoplay(e){this.getWritable().__autoplay=e}decorate(){return MS.createElement(X0,{width:this.__width,autoplay:this.__autoplay,height:this.__height,videoID:this.__videoID,videoType:this.__videoType,nodeKey:this.getKey()})}}const Z0=e=>{let{image:t,config:n,showError:r,onImage:i,onDoneImageUpload:o}=e;var s,a,l,c,u,d,f,h,p,m,g;if(n.image.enable&&!(null===(a=null===(s=n.image.upload)||void 0===s?void 0:s.allowedTypes)||void 0===a?void 0:a.includes(t.type.split("/").pop()||"")))return r("TYPE_NOT_ALLOWED"),null;if(n.image.enable&&(null===(l=n.image.upload)||void 0===l?void 0:l.maxSize)&&t.size>(null===(c=n.image.upload)||void 0===c?void 0:c.maxSize))return r("MAX_FILE_SIZE"),null;if(!n.image.enable)return null;const v=URL.createObjectURL(t);i(v);const y=new FormData;y.append(null===(u=n.image.upload)||void 0===u?void 0:u.param,t);const b=null===(f=null===(d=null==n?void 0:n.image)||void 0===d?void 0:d.upload)||void 0===f?void 0:f.formDataParams;b&&Object.keys(b).map((e=>{y.append(e,b[e])}));const _=new Headers;null===(p=null===(h=n.image.upload)||void 0===h?void 0:h.headers)||void 0===p||p.forEach((e=>{_.append(e.name,e.value)})),fetch(null===(m=n.image.upload)||void 0===m?void 0:m.URL,Object.assign(Object.assign({},n.image.upload.additionalFetchOptions),{method:null===(g=n.image.upload)||void 0===g?void 0:g.method,body:y,headers:_})).then((e=>e.json())).then((e=>{var t,r,i;if(n.image.enable&&!(null===(t=n.image.upload)||void 0===t?void 0:t.dataKey)||n.image.enable&&!Fy(e,null===(r=n.image.upload)||void 0===r?void 0:r.dataKey))throw new Error("Error getting link from data response");if(!n.image.enable)throw new Error("image is not enabled");o(Fy(e,null===(i=n.image.upload)||void 0===i?void 0:i.dataKey),v)})).catch((e=>{console.log("error uploadind image",e),r("ERROR_UPLOADING")}))},e1=(e,t)=>{const n=NP(t);sC(n)&&(null==n||n.setOldSrc(e),null==n||n.setSrc(e),null==n||n.setLoading(!1))},t1=e=>{var t,n,r,i,o;if(!e.config.image.enable)return null;const s=oC({altText:"",src:e.blobURL,oldSrc:null,width:null===(t=e.config)||void 0===t?void 0:t.image.defaultWidth,loading:!0}),a=RP();if(null===a){const t=pP().append(s);return MP().append(t),(null===(n=e.config)||void 0===n?void 0:n.image.defaultAlign)&&t&&t.setFormat(null===(r=e.config)||void 0===r?void 0:r.image.defaultAlign),s.getKey()}if(!GP(a))return null;const l=a.focus,c=l.getNode();if(XP(c)){const e=c.getChildAtIndex(l.offset);null!==e?e.insertBefore(s):c.append(s)}else{const e=c.getTopLevelElementOrThrow();e.isEmpty()?XP(e)?e.append(s):e.replace(s):e.insertAfter(s)}const u=sB(s,pP);return u.append(s),(null===(i=e.config)||void 0===i?void 0:i.image.defaultAlign)&&u&&u.setFormat(null===(o=e.config)||void 0===o?void 0:o.image.defaultAlign),s.getKey()},n1=e=>{var t,n;if((t=document.createElement("canvas")).height=1,t.width=1,!(n=t.getContext("2d")))return e;n.fillStyle=e,n.fillRect(0,0,1,1);const r=n.getImageData(0,0,1,1).data;return"#"+[0,1,2].map((function(e){return("0"+r[e].toString(16)).slice(-2)})).join("")},r1=e=>{const t=eX(),n=e_(),r=ZG();return(0,MS.useEffect)((()=>{null==t||t.events.emit("sub_item",{open:e.open,nodeId:n,parentId:r})}),[e.open,null==t?void 0:t.events,n,r]),{nodeId:n,parentId:r,tree:t}},i1=()=>{const e=x0(),{toolbar:t,hsoubEditorProps:n}=v0(),[r]=kK();return(0,MS.useMemo)((()=>({config:e,toolbar:t,lexicalEditor:r,hsoubEditorProps:n})),[e,t,r])},o1=e=>{var t,n;const[r]=kK(),{toolbar:i,hsoubEditorProps:o}=v0(),s=x0(),a=i1(),l=(0,MS.useRef)(null),[c,u]=(0,MS.useState)("#000000"),d=b0({placement:"bottom-start",strategy:"fixed",hideOnEscape:!1,autoUpdateOptions:{animationFrame:!0},offsetOptions:10,interactionHooks:e=>[g_(e),v_(e,{referencePress:!1,capture:{escapeKey:!0,outsidePress:!1}})],middlewares:e=>[...e,HG({element:l})]}),{nodeId:f}=r1(d);return(0,MS.useEffect)((()=>{r.getEditorState().read((()=>{var t;const n=null===(t=null==e?void 0:e.getDefaultColor)||void 0===t?void 0:t.call(e,a);u(n)}))}),[i,r,s]),MS.createElement(t_,{id:f},MS.createElement(_0,{asChild:!0,state:d},e.children),MS.createElement(C0,{state:d,dir:"ltr",style:Object.assign({zIndex:2},d.transition.styles)},MS.createElement(dC,{color:c,onChange:(t,n)=>{tJ((()=>{e.onDone(Object.assign({color:t},a))}),(e=>{var r,s;null===(r=o.onCatchError)||void 0===r||r.call(o,e,{place:"onUpdate color",info:{html:null===(s=o.state)||void 0===s?void 0:s.html,toolbar:i,color:t,computedColor:n}})}))(),u(n)},onDelete:()=>{r.update((()=>{tJ((()=>{e.onDone(Object.assign({color:null},a))}),(e=>{var t,n;null===(t=o.onCatchError)||void 0===t||t.call(o,e,{place:"onDelete color",info:{html:null===(n=o.state)||void 0===n?void 0:n.html,toolbar:i}})}))()})),u("black")}}),MS.createElement("div",{ref:l,style:{left:null!==(n=null===(t=d.middlewareData.arrow)||void 0===t?void 0:t.x)&&void 0!==n?n:"",background:d.placement.includes("bottom")?c:"white",zIndex:2},"data-placement":d.placement,className:"editor__tooltip-arrow"})))},s1="data-lexical-mention",a1="data-mentioner-id",l1="data-mentioned-id";class c1 extends LI{constructor(e,t,n,r,i){super(i),this.__mentionerId=e,this.__mentionedId=t,this.__mention=n.startsWith("@")?n:`@${n}`,this.__fontSize=r}static getType(){return"mention"}static clone(e){return new c1(e.__mentionerId,e.__mentionedId,e.__mention,e.__fontSize,e.__key)}static importDOM(){return{span:e=>e.hasAttribute(s1)?{conversion:c1.__convertMentionElement,priority:1}:null}}static importJSON(e){return fC(e.mentionerId,e.mentionedId,e.mention,e.fontSize)}createDOM(e){const t=document.createElement("span");return t.setAttribute(s1,"true"),t.setAttribute(a1,this.__mentionerId),t.setAttribute(l1,this.__mentionedId),t.className="editor__mention",t.contentEditable="false",t.spellcheck=!1,this.__fontSize&&(t.style.fontSize=this.__fontSize),t}updateDOM(){return!1}exportDOM(){const e=document.createElement("span");return e.setAttribute(s1,"true"),e.setAttribute(a1,this.__mentionerId),e.setAttribute(l1,this.__mentionedId),e.setAttribute("class","editor__mention"),e.textContent=this.__mention,this.__fontSize&&(e.style.fontSize=this.__fontSize),{element:e}}exportJSON(){return{type:"mention",version:1,mentionerId:this.__mentionerId,mentionedId:this.__mentionedId,mention:this.__mention,fontSize:this.__fontSize}}decorate(){return MS.createElement(MS.Fragment,null,this.__mention)}isInline(){return!0}static __convertMentionElement(e){const t=e.getAttribute(a1),n=e.getAttribute(l1),r=e.textContent,i=e.style.fontSize;return null!==r?{node:fC(t,n,r,i)}:null}}const u1=e=>{function t(e){if("mention"===e.type&&"string"==typeof e.mentionerId&&"string"==typeof e.mentionedId&&r.push({mentioner_user_id:e.mentionerId,mentioned_user_id:e.mentionedId}),Array.isArray(e.children))for(const n of e.children)t(n)}var n;const r=[];if(null===(n=null==e?void 0:e.root)||void 0===n?void 0:n.children)for(const n of e.root.children)t(n);return r},d1={title:"undo",command:_$,disabled:e=>{var t;return!(null===(t=e.toolbar.timeTravel)||void 0===t?void 0:t.canUndo)},icon:{name:"fa-rotate-left"}},f1={title:"redo",command:f$,disabled:e=>{var t;return!(null===(t=e.toolbar.timeTravel)||void 0===t?void 0:t.canRedo)},icon:{name:"fa-rotate-right"}},h1={icon:{name:"fa-bold"},active:e=>{var t;return Boolean(null===(t=e.toolbar.format)||void 0===t?void 0:t.bold)},disabled:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.image)||void 0===n?void 0:n.show)||(null===(i=null===(r=e.toolbar)||void 0===r?void 0:r.video)||void 0===i?void 0:i.show))},command:zI,name:"bold",title:"bold"},p1={icon:{name:"fa-italic"},active:e=>{var t;return Boolean(null===(t=e.toolbar.format)||void 0===t?void 0:t.italic)},command:zI,disabled:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.image)||void 0===n?void 0:n.show)||(null===(i=null===(r=e.toolbar)||void 0===r?void 0:r.video)||void 0===i?void 0:i.show))},name:"italic",title:"italic"},m1={icon:{component:EJ},active:e=>{var t;return Boolean(null===(t=e.toolbar.format)||void 0===t?void 0:t.underline)},command:zI,disabled:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.image)||void 0===n?void 0:n.show)||(null===(i=null===(r=e.toolbar)||void 0===r?void 0:r.video)||void 0===i?void 0:i.show))},name:"underline",title:"underline"},g1={icon:{name:"fa-strikethrough"},active:e=>{var t;return Boolean(null===(t=e.toolbar.format)||void 0===t?void 0:t.strikethrough)},command:zI,disabled:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.image)||void 0===n?void 0:n.show)||(null===(i=null===(r=e.toolbar)||void 0===r?void 0:r.video)||void 0===i?void 0:i.show))},name:"strikethrough",title:"strikethrough"},v1={icon:{name:"fa-subscript"},active:e=>{var t;return Boolean(null===(t=e.toolbar.format)||void 0===t?void 0:t.subscript)},command:zI,disabled:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.image)||void 0===n?void 0:n.show)||(null===(i=null===(r=e.toolbar)||void 0===r?void 0:r.video)||void 0===i?void 0:i.show))},name:"subscript",title:"subscript"},y1={icon:{name:"fa-superscript"},active:e=>{var t;return Boolean(null===(t=e.toolbar.format)||void 0===t?void 0:t.superscript)},command:zI,disabled:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.image)||void 0===n?void 0:n.show)||(null===(i=null===(r=e.toolbar)||void 0===r?void 0:r.video)||void 0===i?void 0:i.show))},name:"superscript",title:"superscript"},b1={icon:{name:"fa-code"},active:e=>{var t;return Boolean(null===(t=e.toolbar.format)||void 0===t?void 0:t.code)},command:zI,disabled:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.image)||void 0===n?void 0:n.show)||(null===(i=null===(r=e.toolbar)||void 0===r?void 0:r.video)||void 0===i?void 0:i.show))},name:"code",title:"code"},_1={icon:{name:"fa-text-slash"},title:"clearFormat",command:E0,disabled:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.image)||void 0===n?void 0:n.show)||(null===(i=null===(r=e.toolbar)||void 0===r?void 0:r.video)||void 0===i?void 0:i.show))},name:void 0},w1={icon:{name:"fa-align-left"},command:e=>{let{lexicalEditor:t,toolbar:n}=e;t.dispatchCommand($I,"left"),setTimeout((()=>{n.update()}))},active:e=>{var t,n;return Boolean((null===(t=e.toolbar.style)||void 0===t?void 0:t["text-align"])&&["left","start"].includes(null===(n=e.toolbar.style)||void 0===n?void 0:n["text-align"]))},title:"alignLeft"},C1={icon:{name:"fa-align-right"},command:e=>{let{lexicalEditor:t,toolbar:n}=e;t.dispatchCommand($I,"right"),setTimeout((()=>{n.update()}))},active:e=>{var t,n;return Boolean((null===(t=e.toolbar.style)||void 0===t?void 0:t["text-align"])&&["right","end"].includes(null===(n=e.toolbar.style)||void 0===n?void 0:n["text-align"]))},title:"alignRight"},x1={icon:{name:"fa-align-center"},command:e=>{let{lexicalEditor:t,toolbar:n}=e;t.dispatchCommand($I,"center"),setTimeout((()=>{n.update()}))},active:e=>{var t;return"center"===(null===(t=e.toolbar.style)||void 0===t?void 0:t["text-align"])},title:"alignCenter"},E1={icon:{name:"fa-align-justify"},command:e=>{let{lexicalEditor:t,toolbar:n}=e;t.dispatchCommand($I,"justify"),setTimeout((()=>{n.update()}))},active:e=>{var t;return"justify"===(null===(t=e.toolbar.style)||void 0===t?void 0:t["text-align"])},title:"justify"},S1={command:e=>{e.lexicalEditor.update((()=>{var t,n,r;const i=null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.selection)||void 0===n?void 0:n.parentNode;if(i&&HP(i)){const t=rJ(i.getStyle()),n=t.direction?"rtl"===t.direction?"ltr":"rtl":"rtl"===(null===(r=e.hsoubEditorProps)||void 0===r?void 0:r.direction)?"ltr":"rtl";i.setStyle(`direction:${n} !important;text-align:initial;`)}}))},icon:{component:mJ},title:e=>{var t,n,r,i;const o=null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.selection)||void 0===n?void 0:n.parentNode;if(o&&o instanceof PI){const t=rJ(o.__style);return t.direction?"rtl"===t.direction?"ltr":"rtl":"rtl"===(null===(r=e.hsoubEditorProps)||void 0===r?void 0:r.direction)?"ltr":"rtl"}return(null===(i=e.toolbar)||void 0===i?void 0:i.rtl)?"rtl":"ltr"}},k1={icon:{component:pJ},command:()=>{},disabled:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.image)||void 0===n?void 0:n.show)||(null===(i=null===(r=e.toolbar)||void 0===r?void 0:r.video)||void 0===i?void 0:i.show))},Wrapper:e=>MS.createElement(o1,{getDefaultColor:e=>{var t,n;return(null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.style)||void 0===n?void 0:n.color)||""},onDone:e=>{e.lexicalEditor.update((()=>{var t;const n=RP();null!==n&&J$(n,{color:null!==(t=e.color)&&void 0!==t?t:""})}))}},e.children),title:"color"},D1={icon:{component:gJ},command:()=>{},disabled:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.image)||void 0===n?void 0:n.show)||(null===(i=null===(r=e.toolbar)||void 0===r?void 0:r.video)||void 0===i?void 0:i.show))},Wrapper:e=>MS.createElement(o1,{getDefaultColor:e=>{var t,n;return(null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.style)||void 0===n?void 0:n["background-color"])||"#ffffff"},onDone:e=>{e.lexicalEditor.update((()=>{var t;const n=RP();GP(n)&&J$(n,{"background-color":null!==(t=e.color)&&void 0!==t?t:""})}))}},e.children),title:"backgroundColor"},T1={active:e=>"hsoub-paragraph"===e.toolbar.activeBlockType,command:e=>{"hsoub-paragraph"!==e.toolbar.activeBlockType&&e.lexicalEditor.update((()=>{const e=RP();GP(e)&&(J$(e,{"font-size":""}),Q$(e,pP))}))},icon:{name:"fa-paragraph"},label:"paragraph"},A1={active:e=>"h1"===e.toolbar.activeBlockType,command:e=>{"h1"!==e.toolbar.activeBlockType&&e.lexicalEditor.update((()=>{const e=RP();GP(e)&&(J$(e,{"font-size":""}),Q$(e,(()=>iU("h1"))))}))},icon:{component:_J,iconProps:{headingSize:1}},label:"h1"},N1={active:e=>"h2"===e.toolbar.activeBlockType,command:e=>{"h2"!==e.toolbar.activeBlockType&&e.lexicalEditor.update((()=>{const e=RP();GP(e)&&(J$(e,{"font-size":""}),Q$(e,(()=>iU("h2"))))}))},icon:{component:_J,iconProps:{headingSize:2}},label:"h2"},O1={active:e=>"h3"===e.toolbar.activeBlockType,command:e=>{"h3"!==e.toolbar.activeBlockType&&e.lexicalEditor.update((()=>{const e=RP();GP(e)&&(J$(e,{"font-size":""}),Q$(e,(()=>iU("h3"))))}))},icon:{component:_J,iconProps:{headingSize:3}},label:"h3"},j1={active:e=>"h4"===e.toolbar.activeBlockType,command:e=>{"h4"!==e.toolbar.activeBlockType&&e.lexicalEditor.update((()=>{const e=RP();GP(e)&&(J$(e,{"font-size":""}),Q$(e,(()=>iU("h4"))))}))},icon:{component:_J,iconProps:{headingSize:4}},label:"h4"},M1={active:e=>"h5"===e.toolbar.activeBlockType,command:e=>{"h5"!==e.toolbar.activeBlockType&&e.lexicalEditor.update((()=>{const e=RP();GP(e)&&(J$(e,{"font-size":""}),Q$(e,(()=>iU("h5"))))}))},icon:{component:_J,iconProps:{headingSize:5}},label:"h5"},R1={active:e=>"quote"===e.toolbar.activeBlockType,command:e=>{"quote"!==e.toolbar.activeBlockType&&e.lexicalEditor.update((()=>{const e=RP();GP(e)&&(J$(e,{"font-size":""}),Q$(e,oU))}))},icon:{name:"fa-quote-left"},label:"quote"},F1={active:e=>"hsoub-code"===e.toolbar.activeBlockType,command:e=>{"hsoub-code"!==e.toolbar.activeBlockType&&e.lexicalEditor.update((()=>{const e=RP();GP(e)&&(J$(e,{"font-size":""}),Q$(e,(()=>qU("md"))))}))},icon:{name:"fa-code"},label:"codeBlock"},L1={title:"ol",active:e=>"number"===e.toolbar.activeBlockType,command:e=>{var t;"number"!==(null===(t=e.toolbar)||void 0===t?void 0:t.activeBlockType)?e.lexicalEditor.dispatchCommand(_H,void 0):e.lexicalEditor.dispatchCommand(EH,void 0)},disabled:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.image)||void 0===n?void 0:n.show)||(null===(i=null===(r=e.toolbar)||void 0===r?void 0:r.video)||void 0===i?void 0:i.show))},icon:{name:"fa-list-ol"}},P1={title:"ul",active:e=>"bullet"===e.toolbar.activeBlockType,command:e=>{var t;"bullet"!==(null===(t=e.toolbar)||void 0===t?void 0:t.activeBlockType)?e.lexicalEditor.dispatchCommand(wH,void 0):e.lexicalEditor.dispatchCommand(EH,void 0)},disabled:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.image)||void 0===n?void 0:n.show)||(null===(i=null===(r=e.toolbar)||void 0===r?void 0:r.video)||void 0===i?void 0:i.show))},icon:{name:"fa-list-ul"}},I1={title:"checkList",active:e=>"check"===e.toolbar.activeBlockType,command:e=>{var t;"check"!==(null===(t=e.toolbar)||void 0===t?void 0:t.activeBlockType)?e.lexicalEditor.dispatchCommand(bH,void 0):e.lexicalEditor.dispatchCommand(EH,void 0)},disabled:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.image)||void 0===n?void 0:n.show)||(null===(i=null===(r=e.toolbar)||void 0===r?void 0:r.video)||void 0===i?void 0:i.show))},icon:{name:"fa-list-check"}},$1={icon:{name:"fa-link"},title:"insertLink",command:S0,show:e=>{var t,n,r,i,o,s,a;return Boolean((null===(t=e.config.link)||void 0===t?void 0:t.enable)&&!((null===(r=null===(n=e.toolbar)||void 0===n?void 0:n.link)||void 0===r?void 0:r.isLink)||(null===(o=null===(i=e.toolbar)||void 0===i?void 0:i.image)||void 0===o?void 0:o.show)||(null===(a=null===(s=e.toolbar)||void 0===s?void 0:s.video)||void 0===a?void 0:a.show)))},active:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.link)||void 0===n?void 0:n.isLink)||(null===(i=null===(r=e.toolbar)||void 0===r?void 0:r.link)||void 0===i?void 0:i.isAutoLink))},name:""},z1={icon:{name:"fa-link-slash"},title:"removeLink",command:e=>{e.lexicalEditor.dispatchCommand(qH,null)},show:e=>{var t,n,r,i,o;return Boolean((null===(t=e.config.link)||void 0===t?void 0:t.enable)&&(null===(r=null===(n=e.toolbar)||void 0===n?void 0:n.link)||void 0===r?void 0:r.isLink)&&!(null===(o=null===(i=e.toolbar)||void 0===i?void 0:i.link)||void 0===o?void 0:o.isAutoLink))}},B1={icon:{name:"fa-minus"},title:"insertHR",command:r0,disabled:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.image)||void 0===n?void 0:n.show)||(null===(i=null===(r=e.toolbar)||void 0===r?void 0:r.video)||void 0===i?void 0:i.show))}},U1={icon:{name:"fa-table"},title:"insertTable",command:k0,show:e=>{var t;return Boolean(null===(t=e.config.table)||void 0===t?void 0:t.enable)},disabled:e=>{var t,n,r,i,o;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.image)||void 0===n?void 0:n.show)||(null===(r=e.toolbar.table)||void 0===r?void 0:r.selection)||(null===(o=null===(i=e.toolbar)||void 0===i?void 0:i.video)||void 0===o?void 0:o.show))},payload:{onDone:e=>{e.lexicalEditor.dispatchCommand(nK,{columns:String(e.tableSize.cols),rows:String(e.tableSize.rows),includeHeaders:!1})}}},H1={icon:{name:"fa-image"},title:"insertImage",command:T0,
show:e=>Boolean(e.config.image.enable),disabled:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.image)||void 0===n?void 0:n.show)||(null===(i=null===(r=e.toolbar)||void 0===r?void 0:r.video)||void 0===i?void 0:i.show))},payload:{onDone:e=>e.src?t1({config:e.config,blobURL:e.src}):null,getDefaultImageParams:()=>{},onUploaded:e=>{var t;if(e.uploadData.src&&e.nodeKey&&(e1(e.uploadData.src,e.nodeKey),e.nodeKey)){const n=null===(t=e.lexicalEditor.getElementByKey(e.nodeKey))||void 0===t?void 0:t.querySelector("img");null==n||n.click()}},onError:e=>{if(e.nodeKey){const t=NP(e.nodeKey);t&&sC(t)&&(null==t||t.remove())}}}},W1={icon:{name:"fa-video"},title:"insertVideo",command:D0,show:e=>{var t;return Boolean(null===(t=e.config.video)||void 0===t?void 0:t.enable)},disabled:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.image)||void 0===n?void 0:n.show)||(null===(i=null===(r=e.toolbar)||void 0===r?void 0:r.video)||void 0===i?void 0:i.show))},payload:{onDone:e=>{var t,n,r,i;if(!e.src)return null;const o=z0(e.src);if(!o)return;const{videoID:s,videoType:a}=o,l=uC({videoID:s,videoType:a,width:"100%",height:"100%",autoplay:e.autoplay});null==l||l.setVideoID(s),null==l||l.setVideoType(a),null==l||l.setAutoplay(Boolean(e.autoplay));const c=RP();if(null===c){$P([l]);const e=pP().append(l);return MP().append(e),l.getKey()}if(!GP(c))return null;const u=c.focus,d=u.getNode();if(XP(d)){const e=d.getChildAtIndex(u.offset);null!==e?e.insertBefore(l):d.append(l)}else{const e=d.getTopLevelElementOrThrow();e.isEmpty()?XP(e)?e.append(l):e.replace(l):e.insertAfter(l)}const f=sB(l,pP);return f.append(l),(null===(n=null===(t=e.config)||void 0===t?void 0:t.image)||void 0===n?void 0:n.enable)&&(null===(r=e.config)||void 0===r?void 0:r.image.defaultAlign)&&f&&f.setFormat(null===(i=e.config)||void 0===i?void 0:i.image.defaultAlign),l.getKey()},getDefaultVideoParams:()=>{}}},K1={name:"font_size",title:"fontSize",select:!0,options:e=>{var t,n;return null===(n=null===(t=e.config)||void 0===t?void 0:t.fontSize)||void 0===n?void 0:n.map((e=>({label:e,active:t=>{var n;return e===(null===(n=t.toolbar.style)||void 0===n?void 0:n["font-size"])},command:t=>{t.lexicalEditor.update((()=>{const t=RP();if(GP(t)){J$(t,{"font-size":e});const n=t.getNodes();for(const t of n)if(hC(t)){if(!t.getParent())continue;const n=fC(t.__mentionerId,t.__mentionedId,t.__mention,e);t.replace(n)}}}))},value:e,icon:{name:""}})))},disabled:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.image)||void 0===n?void 0:n.show)||(null===(i=null===(r=e.toolbar)||void 0===r?void 0:r.video)||void 0===i?void 0:i.show))},icon:{component:yJ}},q1={name:"block_type",title:"blockType",select:!0,options:[T1,A1,N1,O1,j1,M1,R1,F1].map((e=>Object.assign(Object.assign({},e),{title:void 0}))),disabled:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.image)||void 0===n?void 0:n.show)||(null===(i=null===(r=e.toolbar)||void 0===r?void 0:r.video)||void 0===i?void 0:i.show))},icon:{component:hJ}},V1={name:"font-family",select:!0,options:e=>{var t,n;return null===(n=null===(t=e.config)||void 0===t?void 0:t.fontFamily)||void 0===n?void 0:n.map((e=>({label:e,active:t=>{var n;return e===(null===(n=t.toolbar.style)||void 0===n?void 0:n["font-family"])},command:t=>{t.lexicalEditor.update((()=>{const t=RP();GP(t)&&J$(t,{"font-family":e})}))},value:e,icon:{name:""}})))},title:"fontFamily",disabled:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.image)||void 0===n?void 0:n.show)||(null===(i=null===(r=e.toolbar)||void 0===r?void 0:r.video)||void 0===i?void 0:i.show))},icon:{component:bJ}};var Y1=Object.freeze({__proto__:null,alignCenter:x1,alignLeft:w1,alignRight:C1,backgroundColor:D1,blockType:q1,bold:h1,checkList:I1,clearFormat:_1,code:b1,codeBlock:F1,color:k1,direction:S1,fontFamily:V1,fontSize:K1,h1:A1,h2:N1,h3:O1,h4:j1,h5:M1,insertHR:B1,insertImage:H1,insertLink:$1,insertTable:U1,insertVideo:W1,italic:p1,justify:E1,ol:L1,paragraph:T1,print:{command:()=>{},icon:{name:"fa-print"},title:"print"},quote:R1,redo:f1,removeLink:z1,strikethrough:g1,subscript:v1,superscript:y1,ul:P1,underline:m1,undo:d1});const J1=e=>{const{anchor:t,options:n,onSelect:r=(()=>{}),defaultSelected:i,disabled:o}=e,s=(0,MS.useRef)(null),a=b0({placement:"bottom-start",autoUpdateOptions:{animationFrame:!0},hideOnEscape:!1,strategy:"fixed",interactionHooks:e=>[g_(e,{enabled:!o}),v_(e,{referencePress:!1,capture:{escapeKey:!0,outsidePress:!1}})],middlewares:e=>[IG(10),$G(),zG({padding:8}),BG({apply(e){let{availableHeight:t,elements:n}=e;Object.assign(n.floating.style,{maxHeight:`${t}px`})},padding:30}),...e.filter((e=>e.name="hide"))]}),{nodeId:l}=r1(a);return MS.createElement(t_,{id:l},MS.createElement(_0,{className:"editor__select-anchor",state:a},t),MS.createElement(C0,{state:a,style:Object.assign({overflow:"auto"},a.transition.styles),className:"editor__select",onKeyDown:e=>{"Tab"===e.key&&a.setOpen(!1)}},n.map(((e,t)=>{var n;return MS.createElement("div",Object.assign({ref:s,key:t},a.getItemProps({onClick:()=>(e=>{r(e),a.setOpen(!1)})(e)}),{className:"editor__select-item "+(i&&i.item&&i.item[i.accessorID]===e[i.accessorID]?"editor__select-item--active":"")}),null!==(n=e.component)&&void 0!==n?n:MS.createElement("span",null,e.label))}))))},G1=()=>null,X1=e=>{const{icon:t}=e,n=t&&t.component?t.component:G1,r=i1(),i=(null==t?void 0:t.name)?PJ[(o=((null==t?void 0:t.name)||"").replace("fa-",""),o.replace(/(^\w|-\w)/g,pC))]:null;var o;return MS.createElement(MS.Fragment,null,(null==t?void 0:t.component)?MS.createElement(n,Object.assign({},t.iconProps||{},{actionParams:r})):i&&MS.createElement(i,Object.assign({},(null==t?void 0:t.iconProps)||{})))};var Q1={en:{tooltips:{undo:"undo",redo:"redo",bold:"bold",italic:"italic",underline:"underline",strikethrough:"strikethrough",subscript:"subscript",superscript:"superscript",code:"code",clearFormat:"clear format",alignLeft:"align left",alignRight:"align right",alignCenter:"align center",justify:"justify",rtl:"right to left",ltr:"left to right",ol:"ordered list",ul:"unordered list",checkList:"check list",fontSize:"font size",blockType:"block type",fontFamily:"font family",insertLink:"insert link",insertHR:"insert horizontal rule",insertTable:"insert table",insertImage:"insert image",replaceImage:"replace image",print:"print",removeTable:"remove table",columns:"columns",rows:"rows",align:"align",changeLanguage:"change language",copyCode:"copy code",mergeCells:"merge cells",unmergeCells:"unmerge cells",removeImage:"remove image",insertVideo:"Insert video",autoplay:"Autoplay",removeVideo:"Delete video",replaceVideo:"Replace video",caption:"caption",display:"display",removeLink:"remove link",openLink:"open link",update:"update",editLink:"edit link",moreText:"more text",color:"color",backgroundColor:"background color",quickInsert:"quick insert",miscellaneous:"miscellaneous",moreParagraph:"more paragraph"},labels:{paragraph:"normal",h1:"heading 1",h2:"heading 2",h3:"heading 3",h4:"heading 4",h5:"heading 5",h6:"heading 6",quote:"quote",codeBlock:"code block",removeRow:"remove row",insertRowAfter:"insert row bellow",insertRowBefore:"insert row above",removeColumn:"remove column",insertColumnAfter:"insert column after",insertColumnBefore:"insert column before",rowToHeader:"Set row as header",openLink:"open link",rowNoHeader:"Unset row as header",columnToHeader:"Set column as header",columnNoHeader:"Unset column as header",url:"URL",text:"Text",autoplay:"Autoplay"},actions:{update:"update",insert:"insert"},helpers:{dragDropFiles:"Drag and Drop files here (or click)",chooseFromUrl:"Choose from URL",confirm:"Are you sure ?",editorPlaceholder:"Type something",videoURL:"A link to youtube or vimeo"}},ar:{tooltips:{undo:"\u062a\u0631\u0627\u062c\u0639",redo:"\u0625\u0639\u0627\u062f\u0629",bold:"\u063a\u0627\u0645\u0642",italic:"\u0645\u0627\u0626\u0644",underline:"\u062e\u0637 \u0633\u0641\u0644\u064a",strikethrough:"\u062e\u0637 \u0628\u0627\u0644\u0645\u0646\u062a\u0635\u0641",subscript:"\u062a\u0646\u0633\u064a\u0642 \u0645\u0646\u062e\u0641\u0636",superscript:"\u062a\u0646\u0633\u064a\u0642 \u0645\u0631\u062a\u0641\u0639",code:"\u0643\u0648\u062f",clearFormat:"\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u062a\u0646\u0633\u064a\u0642",alignLeft:"\u0645\u062d\u0627\u0630\u0627\u0629  \u0644\u0644\u064a\u0633\u0627\u0631",alignRight:"\u0645\u062d\u0627\u0630\u0627\u0629 \u0644\u0644\u064a\u0645\u064a\u0646",alignCenter:"\u062a\u0648\u0633\u064a\u0637",justify:"\u0645\u062d\u0627\u0630\u0627\u0629 \u0627\u0644\u0623\u0637\u0631\u0627\u0641",rtl:"\u0645\u0646 \u0627\u0644\u064a\u0645\u064a\u0646 \u0625\u0644\u0649 \u0627\u0644\u0634\u0645\u0627\u0644",ltr:"\u0645\u0646 \u0627\u0644\u0634\u0645\u0627\u0644 \u0625\u0644\u0649 \u0627\u0644\u064a\u0645\u064a\u0646",ol:"\u0642\u0627\u0626\u0645\u0629 \u0645\u0631\u062a\u0628\u0629",ul:"\u0642\u0627\u0626\u0645\u0629 \u063a\u064a\u0631 \u0645\u0631\u062a\u0628\u0629",checkList:"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062a\u062d\u0642\u0642",fontSize:"\u062d\u062c\u0645 \u0627\u0644\u062e\u0637",blockType:"\u062a\u0646\u0633\u064a\u0642 \u0627\u0644\u0641\u0642\u0631\u0629",fontFamily:"\u0646\u0648\u0639 \u0627\u0644\u062e\u0637",insertLink:"\u0625\u062f\u0631\u0627\u062c \u0631\u0627\u0628\u0637",insertHR:"\u0625\u062f\u0631\u0627\u062c \u062e\u0637 \u0623\u0641\u0642\u064a",insertTable:"\u0625\u062f\u0631\u0627\u062c \u062c\u062f\u0648\u0644",insertImage:"\u0625\u062f\u0631\u0627\u062c \u0635\u0648\u0631\u0629",replaceImage:"\u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0635\u0648\u0631\u0629",print:"\u0637\u0628\u0627\u0639\u0629",removeTable:"\u062d\u0630\u0641 \u0627\u0644\u062c\u062f\u0648\u0644",columns:"\u0627\u0644\u0623\u0639\u0645\u062f\u0629",rows:"\u0627\u0644\u0635\u0641\u0648\u0641",align:"\u0627\u0644\u0645\u062d\u0627\u0630\u0627\u0629",changeLanguage:"\u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0644\u063a\u0629",copyCode:"\u0646\u0633\u062e \u0627\u0644\u0643\u0648\u062f",mergeCells:"\u062f\u0645\u062c \u0627\u0644\u062e\u0644\u0627\u064a\u0627",unmergeCells:"\u0641\u0635\u0644 \u0627\u0644\u062e\u0644\u0627\u064a\u0627",removeImage:"\u062d\u0630\u0641 \u0627\u0644\u0635\u0648\u0631\u0629",insertVideo:"\u0625\u062f\u0631\u0627\u062c \u0641\u064a\u062f\u064a\u0648",autoplay:"\u062a\u0634\u063a\u064a\u0644 \u062a\u0644\u0642\u0627\u0626\u064a",removeVideo:"\u062d\u0630\u0641 \u0627\u0644\u0641\u064a\u062f\u064a\u0648",replaceVideo:"\u0627\u0633\u062a\u0628\u062f\u0627\u0644 \u0627\u0644\u0641\u064a\u062f\u064a\u0648",caption:"\u062a\u0639\u0644\u064a\u0642 \u0639\u0644\u0649 \u0627\u0644\u0635\u0648\u0631\u0629",display:"\u0627\u0644\u0639\u0631\u0636",removeLink:"\u062d\u0630\u0641 \u0627\u0644\u0631\u0627\u0628\u0637",openLink:"\u0641\u062a\u062d \u0627\u0644\u0631\u0627\u0628\u0637",update:"\u062a\u062d\u062f\u064a\u062b",editLink:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0631\u0627\u0628\u0637",moreText:"\u0627\u0644\u0645\u0632\u064a\u062f \u0645\u0646 \u0627\u0644\u0646\u0635",color:"\u0644\u0648\u0646 \u0627\u0644\u0646\u0635",backgroundColor:"\u0644\u0648\u0646 \u0627\u0644\u062e\u0644\u0641\u064a\u0629",quickInsert:"\u0625\u062f\u0631\u0627\u062c \u0633\u0631\u064a\u0639",miscellaneous:"\u0645\u062a\u0641\u0631\u0642\u0627\u062a",moreParagraph:"\u0627\u0644\u0645\u0632\u064a\u062f \u0645\u0646 \u0627\u0644\u0641\u0642\u0631\u0629"},labels:{paragraph:"\u0637\u0628\u064a\u0639\u064a",h1:"\u0639\u0646\u0648\u0627\u0646 1",h2:"\u0639\u0646\u0648\u0627\u0646 2",h3:"\u0639\u0646\u0648\u0627\u0646 3",h4:"\u0639\u0646\u0648\u0627\u0646 4",h5:"\u0639\u0646\u0648\u0627\u0646 5",h6:"\u0639\u0646\u0648\u0627\u0646 6",quote:"\u0627\u0642\u062a\u0628\u0627\u0633",codeBlock:"\u0643\u0648\u062f",removeRow:"\u062d\u0630\u0641 \u0627\u0644\u0635\u0641",insertRowAfter:"\u0625\u0636\u0627\u0641\u0629 \u0635\u0641 \u0644\u0644\u0623\u0633\u0641\u0644",insertRowBefore:"\u0625\u0636\u0627\u0641\u0629 \u0635\u0641 \u0644\u0644\u0623\u0639\u0644\u0649",removeColumn:"\u062d\u0630\u0641 \u0627\u0644\u0639\u0645\u0648\u062f",insertColumnAfter:"\u0625\u0635\u0627\u0641\u0629 \u0639\u0645\u0648\u062f \u0642\u0628\u0644",insertColumnBefore:"\u0625\u0636\u0627\u0641\u0629 \u0639\u0645\u0648\u062f \u0628\u0639\u062f",openLink:"\u0641\u062a\u062d \u0627\u0644\u0631\u0627\u0628\u0637",rowToHeader:"\u062c\u0639\u0644 \u0627\u0644\u0635\u0641 \u062a\u0631\u0648\u064a\u0633\u0629",rowNoHeader:"\u062d\u0630\u0641 \u0627\u0644\u062a\u0631\u0648\u064a\u0633\u0629",columnToHeader:"\u062c\u0639\u0644 \u0627\u0644\u0639\u0645\u0648\u062f \u062a\u0631\u0648\u064a\u0633\u0629",columnNoHeader:"\u062d\u0630\u0641 \u0627\u0644\u062a\u0631\u0648\u064a\u0633\u0629",url:"\u0627\u0644\u0631\u0627\u0628\u0637",text:"\u0627\u0644\u0646\u0635",autoplay:"\u062a\u0634\u063a\u064a\u0644 \u062a\u0644\u0642\u0627\u0626\u064a"},actions:{update:"\u062a\u062d\u062f\u064a\u062b",insert:"\u0625\u062f\u0631\u0627\u062c"},helpers:{dragDropFiles:"\u0623\u0641\u0644\u062a \u0635\u0648\u0631\u0629 \u0647\u0646\u0627 ( \u0623\u0648 \u0627\u0646\u0642\u0631 )",chooseFromUrl:"\u0623\u0636\u0641 \u0639\u0628\u0631 \u0631\u0627\u0628\u0637",confirm:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0647\u0630\u0647 \u0627\u0644\u062e\u0637\u0648\u0629\u061f",editorPlaceholder:"\u0627\u0628\u062f\u0623 \u0628\u0627\u0644\u0643\u062a\u0627\u0628\u0629",videoURL:"\u0631\u0627\u0628\u0637 youtube \u0623\u0648 vimeo"}}};const Z1=()=>{const{hsoubEditorProps:{lang:e="ar",locales:t}}=v0();return{translate:(0,MS.useCallback)((n=>{try{const r=Fy(Py(Q1,t||{}),`${e}.${null==n?void 0:n.trim()}`);if(r)return r;{const e=n.match(/\.[^\.]+$/g);return e?e[0].replace(".",""):n}}catch(e){return console.warn("error translating ",n),n}}),[e,t]),lang:e}},e2=e=>{const{translate:t}=Z1(),n=b0({hideOnEscape:!1,placement:"top"});return e.title?MS.createElement(MS.Fragment,null,MS.createElement(_0,{state:n,className:"editor__tooltip-anchor"},e.children),MS.createElement(C0,{state:n,style:Object.assign({},n.transition.styles),className:"editor__tooltip"},t("tooltips."+e.title),MS.createElement("div",{"data-placement":n.placement,className:"editor__tooltip-arrow"}))):e.children},t2=e=>e.children,n2=e=>{const{disabled:t=!1,title:n,label:r,onClick:i=(()=>{}),active:o=!1,show:s=!0,icon:a,open:l=!1,Wrapper:c=t2}=e,u=kv(e,["disabled","title","label","onClick","active","show","icon","open","Wrapper"]),d=(0,MS.useRef)(null),{translate:f}=Z1(),h=i1(),[p,m]=(0,MS.useState)({isActive:!1,isShown:!0,isOpened:!1,isDisabled:!1});return(0,MS.useEffect)((()=>{let e=!0;return Dv(void 0,void 0,void 0,(function*(){yield $y();const i="function"==typeof o?yield o(h):o,a="function"==typeof s?yield s(h):s,c="function"==typeof l?yield l(h):l,u="function"==typeof r?yield r(h):r,d="function"==typeof n?yield n(h):n,f="function"==typeof t?yield t(h):t;e&&m({isActive:i,isShown:a,isOpened:c,effectiveLabel:u,effectiveTitle:d,isDisabled:f})})),()=>{e=!1}}),[h,o,s,l,n,r,t]),(0,MS.useEffect)((()=>{p.isOpened&&d.current&&i(d.current)}),[h,p.isOpened]),p.isShown?MS.createElement(e2,{title:p.effectiveTitle},MS.createElement(c,{actionParams:h},MS.createElement("button",Object.assign({ref:d,disabled:p.isDisabled,onClick:()=>{!p.isDisabled&&d.current&&i(d.current)},className:"editor__toolbar-item "+(p.isActive?"editor__toolbar-item--active":"")},u),a&&MS.createElement(X1,{icon:a}),p.effectiveLabel&&MS.createElement("span",{className:"editor__toolbar-item-label"},f("labels."+p.effectiveLabel))))):null},r2=e=>{const{toolbar:t,hsoubEditorProps:n}=v0(),[r,i]=(0,MS.useState)(e),o=i1(),{name:s,icon:a,command:l,payload:c}=r,u=kv(r,["name","icon","command","payload"]),[d]=kK();return MS.createElement(n2,Object.assign({},u,{onClick:a=>{var u,f;try{"function"==typeof l?l(Object.assign(Object.assign({},o),{factoryState:r,setFactoryState:i})):d.dispatchCommand(l,"function"==typeof s?s(o):void 0===s?Object.assign(Object.assign({},c),{anchor:a}):s)}catch(a){null===(u=null==n?void 0:n.onCatchError)||void 0===u||u.call(n,a,{place:"dispatchCommand",info:{html:null===(f=n.state)||void 0===f?void 0:f.html,toolbar:t,props:e,lexicalEditor:d}})}},icon:a}))},i2=e=>{var t;const n=i1(),r=e.action,{select:i,options:o}=r,s=kv(r,["select","options"]),{action:a}=e,l="function"==typeof o?o(n):o;return i&&l?MS.createElement(J1,{disabled:"boolean"==typeof(null==a?void 0:a.disabled)?null==a?void 0:a.disabled:null===(t=null==a?void 0:a.disabled)||void 0===t?void 0:t.call(a,n),anchor:MS.createElement(n2,Object.assign({},s)),options:l.map((e=>Object.assign({component:MS.createElement(r2,Object.assign({},e))},e)))}):MS.createElement(r2,Object.assign({},s))},o2=e=>{const{listItems:t,children:n}=e;return MS.createElement("div",{className:"editor__toolbar-group"},t.map(((e,t)=>{const n=Y1[e];return n?MS.createElement(i2,{key:e+t,action:n}):null})),n)},s2=e=>{const{listItems:t,category:n}=e,r=b0({placement:"bottom-start",hideOnEscape:!1,autoUpdateOptions:{animationFrame:!0},interactionHooks:e=>[g_(e),v_(e,{capture:{escapeKey:!0,outsidePress:!1}})]}),i=e_();return MS.createElement(t_,{id:i},MS.createElement(_0,{className:"editor__toolbar-item--extended",state:r},MS.createElement(n2,Object.assign({},$J.categoryInfo[n]))),MS.createElement(C0,{className:"editor__toolbar editor__toolbar--floating",style:Object.assign({gap:5},r.transition.styles),state:r},MS.createElement("div",{className:"editor__toolbar-group"},t.map(((e,t)=>{const n=Y1[e];return n?MS.createElement(i2,{key:e+t,action:n}):null})))))},a2=e=>{const{group:t}=e,n=t.buttons.slice(0,t.buttonsVisible),r=t.buttons.slice(t.buttonsVisible);return MS.createElement(n_,null,n.length?MS.createElement(o2,{listItems:n,group:t},r.length?MS.createElement(s2,{listItems:r,category:t.category}):null):null)},l2={icon:{name:"fa-link-slash"},title:"removeLink",command:O0,payload:{name:"removeLink"}},c2={icon:{name:"fa-pen"},title:"editLink",command:A0,open:e=>{var t;return Boolean(null===(t=e.toolbar.link)||void 0===t?void 0:t.isNew)},payload:{onDone:e=>{e.lexicalEditor.dispatchCommand(qH,{url:e.href,rel:e.rel,target:e.target,title:e.title}),e.toolbar.update(),e.lexicalEditor.update((()=>{var t,n;e.text&&tI(e.toolbar.selection.node)&&(null===(t=e.toolbar.selection.node)||void 0===t?void 0:t.__text)!==e.text&&(null===(n=e.toolbar.selection.node)||void 0===n||n.setTextContent(e.text),e.toolbar.update())}))},getDefaultLinkParams:e=>{var t;return null===(t=e.toolbar.link)||void 0===t?void 0:t.linkParams}}},u2={icon:{name:"fa-arrow-up-right-from-square"},title:"openLink",Wrapper(e){let{actionParams:t,children:n}=e;var r,i;return MS.createElement("a",{href:null===(i=null===(r=t.toolbar.link)||void 0===r?void 0:r.linkParams)||void 0===i?void 0:i.href,rel:"noopener noreferrer",style:{display:"flex"},target:"_blank"},n)},command:void 0,disabled:e=>{var t,n,r,i;return!(null===(n=null===(t=e.toolbar.link)||void 0===t?void 0:t.linkParams)||void 0===n?void 0:n.href)||!nJ(null===(i=null===(r=e.toolbar.link)||void 0===r?void 0:r.linkParams)||void 0===i?void 0:i.href)}};var d2=Object.freeze({__proto__:null,editLink:c2,openLink:u2,removeLink:l2});const f2=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const[i]=kK();(0,MS.useEffect)((()=>i.registerCommand(e,t,n)),[i,...r])},h2=e=>{const{linkParams:t,hideText:n,onDone:r=(()=>{}),onClose:i,children:o}=e,s=kv(e,["linkParams","hideText","onDone","onClose","children"]),{translate:a}=Z1(),[l,c]=(0,MS.useState)((null==t?void 0:t.href)||""),[u,d]=(0,MS.useState)((null==t?void 0:t.text)||"");return MS.createElement(MS.Fragment,null,MS.createElement("div",Object.assign({className:"editor__settings"},s),o,MS.createElement("div",{className:"editor__settings-body"},MS.createElement("div",{className:"editor__settings-item"},MS.createElement("div",{className:"",style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},MS.createElement("label",{className:""},a("labels.url")),MS.createElement(iY,{icon:WY,onClick:i})),MS.createElement("input",{dir:"ltr",style:{border:l===(null==t?void 0:t.href)||nJ(l)?"":"2px solid red"},value:l,onChange:e=>{c(null==e?void 0:e.target.value)},placeholder:"https://example.com",className:""})),(null==t?void 0:t.text)&&!n&&MS.createElement("div",{className:"editor__settings-item"},MS.createElement("label",{className:""},a("labels.text")),MS.createElement("input",{dir:"auto",value:u,onChange:e=>{d(null==e?void 0:e.target.value)},className:""})),MS.createElement("div",{className:"editor__settings-item"},MS.createElement("button",{disabled:!nJ(l)||l===(null==t?void 0:t.href)&&u==(null==t?void 0:t.text),onClick:()=>{var e;""!==l&&nJ(l)&&r({href:(e=l,nJ(e)?e:"https://"),text:u})},className:"editor__settings-action"},MS.createElement("span",null,a("actions.update")))))))},p2=()=>{var e,t,n;const[r]=kK(),{toolbar:i,hsoubEditorProps:o}=v0(),s=i1(),a=x0(),[l,c]=(0,MS.useState)({onDone:()=>{}}),[u,d]=(0,MS.useState)(!1),f=(0,MS.useRef)(null),[h,p]=(0,MS.useState)({href:""}),m=b0({placement:"bottom-start",hideOnEscape:!1,autoUpdateOptions:{animationFrame:!0},offsetOptions:10,interactionHooks:e=>[v_(e,{referencePress:!1,capture:{escapeKey:!0,outsidePress:!1}})],middlewares:e=>[...e,HG({element:f})]});f2(A0,(e=>{var t;if(m.open)return m.setOpen(!1),!0;(null==e?void 0:e.onDone)&&c({onDone:e.onDone});const n=null===(t=null==e?void 0:e.getDefaultLinkParams)||void 0===t?void 0:t.call(e,s);return n&&p(n),d(!!e.isNewLink),e.anchor&&(m.refs.setReference(e.anchor),m.setOpen(!0)),!0}),kI,[i,r,m.open,c]);const g=(0,MS.useMemo)((()=>{var e,t;return null!==(t=null===(e=a.link)||void 0===e?void 0:e.EditModal)&&void 0!==t?t:h2}),[null===(e=a.link)||void 0===e?void 0:e.EditModal]);return MS.createElement(C0,{state:m,portalId:o.editModalPortalId,className:o.editModalContainerClassName||"",style:Object.assign({zIndex:2},m.transition.styles)},MS.createElement(g,{onPointerDown:e=>{e.stopPropagation()},onClose:()=>{m.setOpen(!1)},linkParams:Object.assign(Object.assign({},h),{editor:r}),hideText:u,onDone:(e,t)=>{r.update((()=>{tJ((()=>{if(l.onDone(Object.assign(Object.assign(Object.assign({},h),e),s)),u){const e=RP();if(GP(e)){const t=e.focus,n=t.getNode();tI(n)&&e.setTextNodeRange(n,t.offset,n,t.offset)}}}),(t=>{var n,r;null===(n=o.onCatchError)||void 0===n||n.call(o,t,{place:"on update link",info:Object.assign({html:null===(r=o.state)||void 0===r?void 0:r.html,toolbar:i},e)})}))()})),m.setOpen(Boolean(t))}},MS.createElement("div",{ref:f,style:{left:null!==(n=null===(t=m.middlewareData.arrow)||void 0===t?void 0:t.x)&&void 0!==n?n:"",zIndex:-1},"data-placement":m.placement,className:"editor__tooltip-arrow"})))},m2=()=>{var e,t,n;const{toolbar:r,hsoubEditorProps:i}=v0(),o=x0(),s="auto"===i.direction?r.rtl:"rtl"===i.direction,a=b0({placement:s?"left-start":"right-start",middlewares:[IG({mainAxis:10,crossAxis:-5}),!(null===(e=o.quickInsert)||void 0===e?void 0:e.disableHiding)&&UG(),!(null===(t=o.quickInsert)||void 0===t?void 0:t.disableHiding)&&UG({strategy:"escaped"})],interactionHooks:e=>[v_(e,{capture:{escapeKey:!0,outsidePress:!1}})]});return MS.useEffect((()=>{a.refs.setReference({getBoundingClientRect:()=>{var e;const{top:t,left:n,bottom:i,right:o,width:a,x:l,y:c,height:u}=(null===(e=r.selection)||void 0===e?void 0:e.pointRect)||{top:0,left:0,bottom:0,right:0,width:0,height:0,x:0,y:0};return{top:t,left:s?n+a:n,bottom:i,right:o,width:0,height:u,x:l,y:c}},contextElement:r.selection.element}),r.selection.pointRect&&a.setOpen(!0)}),[null===(n=r.selection)||void 0===n?void 0:n.pointRect,r.selection.element,s]),(0,MS.useEffect)((()=>{}),[]),MS.createElement(MS.Fragment,null,MS.createElement(C0,{style:{left:a.x?a.x:0,top:a.y?a.y:0},onPointerDown:e=>{e.stopPropagation()},state:a},MS.createElement(g2,null)))},g2=()=>{var e,t;const{toolbar:n,hsoubEditorProps:r}=v0(),i="auto"===r.direction?n.rtl:"rtl"===r.direction,o=x0(),s=b0({placement:i?"left":"right",autoUpdateOptions:{animationFrame:!0},middlewares:e=>[...e.filter((e=>"shift"!==e.name)).filter((e=>{var t;return!(null===(t=o.quickInsert)||void 0===t?void 0:t.disableHiding)||"hide"!==e.name})),BG({apply(e){let{availableWidth:t,elements:n}=e;Object.assign(n.floating.style,{maxWidth:`${t}px`,overflowX:"auto"})}})],offsetOptions:{mainAxis:10},interactionHooks:e=>[g_(e),v_(e,{capture:{escapeKey:!0,outsidePress:!1}})]});return MS.createElement(MS.Fragment,null,MS.createElement(_0,{state:s},MS.createElement(e2,{title:"quickInsert"},MS.createElement("button",{className:"editor__qi-action"},s.open?MS.createElement(CJ,{style:{fontSize:16}}):MS.createElement(wJ,{style:{fontSize:16}})))),MS.createElement(C0,{state:s,className:"editor__toolbar editor__toolbar--floating"},MS.createElement("div",{className:"editor__toolbar-group"},null===(t=null===(e=o.quickInsert)||void 0===e?void 0:e.buttons)||void 0===t?void 0:t.map(((e,t)=>{const n=Y1[e];return n?MS.createElement(i2,{key:t,action:n}):null})))))};class v2 extends iK{static getType(){return"hsoub-table-cell"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rK.NO_STATUS,t=arguments.length>2?arguments[2]:void 0;super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,void 0,arguments.length>3?arguments[3]:void 0),this.__style=t||""}static clone(e){return new v2(e.__headerState,e.__colSpan,e.__style,e.__key)}createDOM(e){const t=super.createDOM(e);return t.setAttribute("style",this.getStyle()),t}getRowSpan(){return this.getLatest().__rowSpan}getColSpan(){return super.getLatest().__colSpan}setStyle(e){return this.getWritable().__style=e,this}getStyle(){return this.getLatest().__style||""}static importDOM(){return{td:()=>({conversion:vC,priority:1}),th:()=>({conversion:vC,priority:1})}}exportJSON(){return Object.assign(Object.assign({},super.exportJSON()),{rowSpan:this.__rowSpan,style:this.__style,type:"hsoub-table-cell"})}updateDOM(e){return super.updateDOM(e)||e.__style!==this.__style}exportDOM(e){const{element:t}=super.exportDOM(e);return t instanceof HTMLElement&&(null==t||t.setAttribute("style",this.getStyle())),{element:t}}static importJSON(e){return yC(e.headerState,e.colSpan,e.style||void 0)}}const y2=()=>{var e,t,n,r,i;const[o]=kK(),{toolbar:s,hsoubEditorProps:a}=v0(),l=x0(),c=b0({placement:"bottom-start",middlewares:e=>[...e.filter((e=>{var t;return!(null===(t=l.toolbar)||void 0===t?void 0:t.disableHiding)||"hide"!==e.name})),BG(Object.assign({apply(e){let{availableWidth:t,elements:n}=e;Object.assign(n.floating.style,{maxWidth:`${t}px`,overflowX:"auto"})}},a.boundaries))],onOpenChange:e=>{var t,n,r,i,o,l,c;(null===(t=s.link)||void 0===t?void 0:t.isLink)&&(e?null===(i=null===(r=null===(n=a.events)||void 0===n?void 0:n.toolbar)||void 0===r?void 0:r.show)||void 0===i||i.call(r):null===(c=null===(l=null===(o=a.events)||void 0===o?void 0:o.toolbar)||void 0===l?void 0:l.hide)||void 0===c||c.call(l))},interactionHooks:e=>[v_(e,{capture:{escapeKey:!0,outsidePress:!1}})]});return(0,MS.useEffect)((()=>{var e,t,n;(null===(e=s.selection)||void 0===e?void 0:e.rangeRect)&&!(null===(t=s.code)||void 0===t?void 0:t.node)?(c.setOpen(!0),c.refs.setReference({getBoundingClientRect:()=>{var e;const{top:t,left:n,bottom:r,right:i,width:o,x:a,y:l,height:c}=(null===(e=s.selection)||void 0===e?void 0:e.rangeRect)||{top:0,left:0,bottom:0,right:0,width:0,height:0,x:0,y:0};return{top:t,left:n,bottom:r,right:i,width:o,height:c,x:a,y:l}},contextElement:null===(n=s.selection)||void 0===n?void 0:n.element})):c.setOpen(!1)}),[null===(e=s.selection)||void 0===e?void 0:e.rangeRect,null===(t=s.code)||void 0===t?void 0:t.node,null===(n=s.selection)||void 0===n?void 0:n.element]),(0,MS.useEffect)((()=>o.registerCommand(R0,(e=>{let{open:t}=e;return c.setOpen(t),!0}),EI)),[o]),MS.createElement(MS.Fragment,null,MS.createElement(C0,{state:c,style:Object.assign({},c.transition.styles),className:"editor__toolbar editor__toolbar--floating"},null===(i=null===(r=l.toolbar)||void 0===r?void 0:r.items)||void 0===i?void 0:i.map(((e,t)=>MS.createElement(a2,{group:e,key:t})))))},b2=()=>{var e,t,n;(()=>{const[e]=kK(),[t,n]=(0,MS.useState)(e),{toolbar:r,dispatch:i,hsoubEditorProps:o}=v0(),s=(0,MS.useRef)(r);s.current=r;const a=(0,MS.useCallback)((()=>{var n,s,c;const u={link:{},format:{},code:{},style:{},selection:{},video:{},table:{},editable:t.isEditable()};try{const s=RP();if(!s)return r;if(GP(s)){const n=s.anchor.getNode();let r="root"===n.getKey()?n:Zz(n,(e=>{const t=e.getParent();return null!==t&&QP(t)}));null===r&&(r=n.getTopLevelElementOrThrow()),u.selection.parentNode=r;const i=r.getKey(),a=t.getElementByKey(i);if(u.format=$J.formatTypes.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:s.hasFormat(t)})),{}),YU(r)){const e=r.getLanguage();u.code={node:r,element:a,language:e?QU(e)||e:""}}u.rtl=EX(e.isComposing(),!1)?"ar"===o.lang:V$(s);const c=lC(s);u.selection.node=c,u.selection.element=t.getElementByKey(c.getKey())||void 0;const d=Zz(c,UH),f=Zz(c,BH);if(null===d||sC(d.getChildAtIndex(0))||(u.link.isLink=null!=d,u.link.isAutoLink=null!=f,u.link.linkParams={href:d.getURL(),text:d.getTextContent(),target:d.getTarget(),title:d.getTitle(),rel:d.getRel(),node:d,element:t.getElementByKey(d.getKey())}),null!==a){if(u.elementKey=i,yH(r)){const e=nB(n,xH),t=e?e.getListType():r.getListType();u.activeBlockType=t}else{const e=sU(r)?r.getTag():r.getType();u.activeBlockType=e}l(u,c)}}const c=(null===(n=null==e?void 0:e._window)||void 0===n?void 0:n.getSelection())||null,d=t.getRootElement();if(null!==c&&null!==d&&d.contains(c.anchorNode)&&(u.selection.pointRect=Iy(c,d)),GP(s)||tK(s)){const e=KW(s.anchor.getNode()),n=KW(s.focus.getNode());if(e){const r=VW(e),i=t.getElementByKey(e.getKey()),o=n&&t.getElementByKey(n.getKey()),s=lK(r,t.getElementByKey(r.getKey()));let a,l;e&&n&&i&&o&&(a=function(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=Math.min(n.left,r.left),o=Math.min(n.top,r.top),s=Math.max(n.left+n.width,r.left+r.width)-i,a=Math.max(n.top+n.height,r.top+r.height)-o;return{left:i,top:o,width:s,height:a,right:i+s,bottom:o+a,x:i,y:o}}(i,o)),u.table.selection={element:i||void 0,isGrid:l,parent:{element:s||void 0,node:r},node:e,rect:a}}else u.table.selection=void 0}if(null!==s&&null!==c&&!c.isCollapsed&&null!==d&&d.contains(c.anchorNode)&&GP(s)){const e=Iy(c,d);u.selection.rangeRect=e}if(u.update=()=>{e.getEditorState().read((()=>{a()}))},YP(s)){const e=s.getNodes()[0];if(l(u,e),sC(e)){const n=Zz(e,UH),r=t.getElementByKey(e.getKey()),i=null==r?void 0:r.querySelector("img");u.image={show:!0,selection:{node:e,element:t.getElementByKey(e.getKey())||void 0,rect:i?eJ(i,o.boundaries):void 0}},n&&(u.image.link={href:null==n?void 0:n.getURL(),node:n})}else u.image={};if(function(e){return e instanceof Q0}(e)){const n=t.getElementByKey(e.getKey());u.video={show:!0,autoplay:e.getAutoplay(),selection:{node:e,element:t.getElementByKey(e.getKey())||void 0,rect:n?eJ(n,o.boundaries):void 0}}}else u.video={}}else u.image=Object.assign(Object.assign({},r.image),{show:!1});return u.selection.lexicalSelection=s,i({type:"TOOLBAR",toolbar:Object.assign(Object.assign({},r),u)}),Object.assign(Object.assign({},r),u)}catch(t){null===(s=null==o?void 0:o.onCatchError)||void 0===s||s.call(o,t,{place:"updateToolbarState",info:{toolbar:r,html:null===(c=o.state)||void 0===c?void 0:c.html,lexicalEditor:e}})}}),[e,o.boundaries,i,r]),l=(n,r)=>{var i;if(!r)return;const o=t.getElementByKey(null==r?void 0:r.getKey());if(!o)return;const s=null===(i=e._window)||void 0===i?void 0:i.getComputedStyle(o);s&&$J.stateStyleAccessors.forEach((e=>{n.style&&(n.style[e.accessor]=s[e.accessor]||e.defaultValue)}))},c=e=>{i({type:"TOOLBAR",toolbar:Object.assign(Object.assign({},s.current),{focused:e})})},u=(e,t)=>{setTimeout((()=>{i({type:"TOOLBAR",toolbar:Object.assign(Object.assign({},s.current),{timeTravel:Object.assign(Object.assign({},r.timeTravel),{[e]:t})})})}),100)},d=function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t).getEditorState().read((()=>{a()}))},f=()=>{d()};(0,MS.useEffect)((()=>{d()}),[o.direction]),(0,MS.useEffect)((()=>{let t=[];return setTimeout((()=>{const n=e.getRootElement();n&&(t=ib(n),t.forEach((e=>{e.addEventListener("scroll",f,{passive:!0})})))})),()=>{t.forEach((e=>{e.removeEventListener("scroll",f)}))}}),[]),(0,MS.useEffect)((()=>{var e;const n=null===(e=t._window)||void 0===e?void 0:e.document,r=()=>Dv(void 0,void 0,void 0,(function*(){var e,n,r,i,o;yield $y()
;const s=null===(e=t._window)||void 0===e?void 0:e.getSelection(),a=null===(r=null===(n=null==s?void 0:s.anchorNode)||void 0===n?void 0:n.parentElement)||void 0===r?void 0:r.closest("#editor"),l=!(null===(o=null===(i=null==s?void 0:s.anchorNode)||void 0===i?void 0:i.parentElement)||void 0===o?void 0:o.closest('[data-lexical-editor="true"]'));a&&l||d()}));return null==n||n.addEventListener("selectionchange",r),()=>{null==n||n.removeEventListener("selectionchange",r)}}),[e]),(0,MS.useEffect)((()=>pB(t.registerEditableListener((e=>{(e=>{i({type:"TOOLBAR",toolbar:Object.assign(Object.assign({},s.current),{editable:e})})})(e)})),t.registerUpdateListener((()=>Dv(void 0,void 0,void 0,(function*(){yield $y(),d()})))),e.registerCommand(p$,((e,t)=>(Dv(void 0,void 0,void 0,(function*(){yield $y(),n(t),d(t)})),!1)),kI),e.registerCommand(gI,(()=>(Dv(void 0,void 0,void 0,(function*(){yield $y(),c(!1)})),!1)),kI),e.registerCommand(II,(()=>(Dv(void 0,void 0,void 0,(function*(){yield $y(),c(!0)})),!1)),kI),e.registerMutationListener(iK,(t=>Dv(void 0,void 0,void 0,(function*(){var n,o,a,l,c;yield $y(),(null===(o=null===(n=r.table)||void 0===n?void 0:n.selection)||void 0===o?void 0:o.node)&&"updated"===t.get(null===(c=null===(l=null===(a=r.table)||void 0===a?void 0:a.selection)||void 0===l?void 0:l.node)||void 0===c?void 0:c.getKey())&&e.getEditorState().read((()=>{(()=>{var e,t,n,o;i({type:"TOOLBAR",toolbar:Object.assign(Object.assign({},s.current),{table:Object.assign(Object.assign({},r.table||{show:!1}),{selection:Object.assign(Object.assign({},null===(e=r.table)||void 0===e?void 0:e.selection),{node:null===(o=null===(n=null===(t=r.table)||void 0===t?void 0:t.selection)||void 0===n?void 0:n.node)||void 0===o?void 0:o.getLatest()})})})})})()}))})))),e.registerCommand(yI,(e=>(u("canUndo",e),!1)),EI),e.registerCommand(vI,(e=>(u("canRedo",e),!1)),EI))),[t,r,e,a])})(),(()=>{const{toolbar:e}=v0();kK(),f2(E0,(()=>{const e=RP();return GP(e)&&e.getNodes().forEach((e=>{tI(e)&&(e.setFormat(0),e.setStyle(""))})),!1}),kI,[e]),f2(S0,((e,t)=>{t.dispatchCommand(qH,{url:e,target:"_blank"});const n=RP();return GP(n)&&t.dispatchCommand(O0,{name:"openEditor",subAction:"hideText"}),!0}),kI,[e]),f2(r0,(()=>{const e=RP();if(!GP(e))return!1;if(null!==e.focus.getNode()){const t=e0();e.insertParagraph(),e.focus.getNode().getTopLevelElementOrThrow().insertBefore(t)}return!0}),EI,[e])})();const r=x0(),{hsoubEditorProps:i}=v0();return(null===(e=r.toolbar)||void 0===e?void 0:e.floating)?MS.createElement(y2,null):MS.createElement("div",{className:"editor__toolbar editor__toolbar--fixed",dir:i.direction},null===(n=null===(t=r.toolbar)||void 0===t?void 0:t.items)||void 0===n?void 0:n.map(((e,t)=>MS.createElement(a2,{group:e,key:t}))))},_2=e=>{var t,n,r,i;const o=x0(),s=(0,MS.useRef)(null),a=(0,MS.useRef)(null),{onDone:l=(()=>{}),onClose:c=(()=>{})}=e,u=kv(e,["onDone","onClose"]),d={rows:null!==(n=null===(t=o.table)||void 0===t?void 0:t.tableInsertMaxSize)&&void 0!==n?n:15,cols:null!==(i=null===(r=o.table)||void 0===r?void 0:r.tableInsertMaxSize)&&void 0!==i?i:15},[f,h]=(0,MS.useState)({tableSize:{rows:2,cols:10},selectedTableSize:{rows:1,cols:1}});let p={width:25*f.tableSize.cols+1,height:17*f.tableSize.rows+1},m={width:25*f.selectedTableSize.cols,height:17*f.selectedTableSize.rows};const g=w2((e=>{let{clientX:t,clientY:n}=e;if(!a.current)return;let{top:r,left:i}=a.current.getBoundingClientRect(),o=t-i,s=n-r,l=Math.ceil(o/25),c=Math.ceil(s/17),u=Math.min(Math.max(l,10),d.cols),p=Math.min(Math.max(c,2),d.rows);h(Object.assign(Object.assign({},f),{tableSize:{rows:ZY(p+1,void 0,d.rows),cols:ZY(u+1,void 0,d.cols)},selectedTableSize:{rows:Math.max(1,Math.min(c,d.rows)),cols:Math.max(1,Math.min(l,d.cols))}}))}),50,50);return MS.createElement("div",Object.assign({className:"editor__settings"},u),MS.createElement("div",{className:"editor__settings-body"},MS.createElement("div",{className:"editor__table-size",onMouseDown:e=>{e.target!==s.current&&e.stopPropagation()}},MS.createElement("div",{className:"editor__table-size-footer"},`${f.selectedTableSize.cols} x ${f.selectedTableSize.rows}`),MS.createElement("div",{className:"table-bg",ref:a,style:p,onMouseDown:()=>{l(f.selectedTableSize)},onMouseMove:g},MS.createElement("div",{ref:s,className:"table-selected",style:m})))))};let w2=(e,t,n)=>{let r,i;return function(){let o=this,s=arguments,a=+new Date;clearTimeout(r),i||(i=a),a-i>=n?(e.apply(o,s),i=a):r=setTimeout((function(){e.apply(o,s)}),t)}};const C2=()=>{var e,t;const{toolbar:n,hsoubEditorProps:r}=v0(),[i]=kK(),o=(0,MS.useRef)(null),[s,a]=(0,MS.useState)(null),l=i1(),[c,u]=(0,MS.useState)({onDone:()=>{}}),d=b0({placement:s||"bottom-end",strategy:"fixed",hideOnEscape:!1,autoUpdateOptions:{animationFrame:!0},middlewares:e=>[...e.filter((e=>"flip"!==(null==e?void 0:e.name))),!s&&zG(Object.assign({flipAlignment:!1,crossAxis:!1},r.boundaries)),IG(5),HG({element:o})],interactionHooks:e=>[v_(e,{referencePress:!1,capture:{escapeKey:!0,outsidePress:!1}})]});d.isPositioned?s||a(d.placement):null!==s&&a(null),f2(k0,(e=>d.open?(d.setOpen(!1),!0):((null==e?void 0:e.onDone)&&u({onDone:e.onDone}),e.anchor&&(d.refs.setReference(e.anchor),d.setOpen(!0)),!0)),kI,[n,i,d.open]);const f=()=>{d.setOpen(!1)};return MS.createElement(MS.Fragment,null,MS.createElement(C0,{state:d,style:Object.assign({zIndex:2},d.transition.styles),dir:"ltr"},MS.createElement(_2,{onPointerDown:e=>{e.stopPropagation()},onClose:f,onDone:e=>{i.update((()=>{tJ((()=>{c.onDone(Object.assign({tableSize:e},l))}),(t=>{var i,o;null===(i=r.onCatchError)||void 0===i||i.call(r,t,{place:"on update table size selector",info:{html:null===(o=r.state)||void 0===o?void 0:o.html,toolbar:n,tableSize:e}})}))()})),f()}}),MS.createElement("div",{ref:o,style:{left:isNaN(null===(e=d.middlewareData.arrow)||void 0===e?void 0:e.x)?"":null===(t=d.middlewareData.arrow)||void 0===t?void 0:t.x,zIndex:2},"data-placement":d.placement,className:"editor__tooltip-arrow"})))},x2={icon:{name:"fa-trash"},title:"removeTable",command:N0,payload:{name:"removeTable"}},E2={label:e=>{var t,n,r;const i=null===(r=null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.table)||void 0===n?void 0:n.selection)||void 0===r?void 0:r.node;return i?1&~i.__headerState?"rowToHeader":"rowNoHeader":"rowToHeader"},icon:{name:"fa-table"},command:N0,payload:{name:"rows",subAction:"header"}},S2={title:"rows",select:!0,options:[{label:"insertRowBefore",icon:{component:lJ},command:N0,payload:{name:"rows",subAction:"insertBefore"}},{label:"insertRowAfter",icon:{name:"fa-diagram-next"},command:N0,payload:{name:"rows",subAction:"insertAfter"}},E2,{label:"removeRow",icon:{name:"fa-trash"},command:N0,payload:{name:"rows",subAction:"remove"}}].map((e=>Object.assign(Object.assign({},e),{title:void 0}))),icon:{component:cJ}},k2={label:e=>{var t,n,r;const i=null===(r=null===(n=null===(t=e.toolbar)||void 0===t?void 0:t.table)||void 0===n?void 0:n.selection)||void 0===r?void 0:r.node;return i?2&~i.__headerState?"columnToHeader":"columnNoHeader":"columnToHeader"},icon:{name:"fa-table"},command:N0,payload:{name:"columns",subAction:"header"}},D2={title:"mergeCells",icon:{component:TJ},show:e=>Dv(void 0,void 0,void 0,(function*(){return new Promise((t=>{e.lexicalEditor.getEditorState().read((()=>{const e=RP();if(tK(e)){const n=_C(e);t(n.columns>1||n.rows>1)}t(!1)}))}))})),command:e=>{e.lexicalEditor.update((()=>{(()=>{const e=RP();if(tK(e)){const{columns:t,rows:n}=_C(e),r=e.getNodes();let i=null;for(let e=0;e<r.length;e++){const o=r[e];if(bC(o))if(null===i){let e;o.setColSpan(t).setRowSpan(n),i=o,wC(o)&&JP(e=o.getFirstChild())&&e.remove()}else bC(i)&&(wC(o)||i.append(...o.getChildren()),o.remove())}null!==i&&(0===i.getChildrenSize()&&i.append(pP()),function(e){const t=e.getLastDescendant();tI(t)?t.select():HP(t)?t.selectEnd():null!==t&&t.selectNext()}(i))}})()}))}},T2={title:"unmergeCells",icon:{component:AJ},show:e=>Dv(void 0,void 0,void 0,(function*(){return new Promise((t=>{e.lexicalEditor.getEditorState().read((()=>{const e=RP();if(GP(e)&&!e.isCollapsed()||tK(e)&&!e.anchor.is(e.focus)||!GP(e)&&!tK(e))t(!1);else try{const[n]=WW(null==e?void 0:e.anchor);t(n.__colSpan>1||n.__rowSpan>1)}catch(e){t(!1)}}))}))})),command:e=>{e.lexicalEditor.update((()=>{!function(){const e=RP();if(!GP(e)&&!tK(e))return;const t=e.anchor.getNode(),[n,r,i]=WW(t),o=n.__colSpan,s=n.__rowSpan;if(o>1){for(let e=1;e<o;e++)n.insertAfter(yC(rK.NO_STATUS));n.setColSpan(1)}if(s>1){const[e,t]=zW(i,n,n),{startColumn:a,startRow:l}=t;let c;for(let t=1;t<s;t++){const n=l+t,i=e[n];if(c=r.getNextSibling(),!eK(c))return;let s=null;for(let e=0;e<a;e++){const t=i[e],r=t.cell;t.startRow===n&&(s=r),r.__colSpan>1&&(e+=r.__colSpan-1)}if(null===s)for(let e=0;e<o;e++)CC(c,yC(rK.NO_STATUS));else for(let e=0;e<o;e++)s.insertAfter(yC(rK.NO_STATUS))}n.setRowSpan(1)}}()}))}},A2={title:"columns",select:!0,options:[{label:"insertColumnBefore",icon:{component:fJ},command:N0,payload:{name:"columns",subAction:"insertBefore"}},{label:"insertColumnAfter",icon:{component:dJ},command:N0,payload:{name:"columns",subAction:"insertAfter"}},k2,{label:"removeColumn",icon:{name:"fa-trash"},command:N0,payload:{name:"columns",subAction:"remove"}}].map((e=>Object.assign(Object.assign({},e),{title:void 0}))),icon:{component:uJ}},N2={title:"align",select:!0,options:[{name:"left",includes:["left","start"],title:"alignLeft"},{name:"right",includes:["right","end"],title:"alignRight"},{name:"center",includes:["center"],title:"alignCenter"},{name:"justify",includes:["justify"],title:"justify"}].map((e=>({icon:{name:"fa-align-"+e.name},command:t=>{t.lexicalEditor.update((()=>{var n,r,i,o;const s=n=>{var r,i,o;const s=rJ(n.getStyle());s.textAlign=e.name,n.setStyle(s.cssText),(null===(o=null===(i=null===(r=t.toolbar)||void 0===r?void 0:r.table)||void 0===i?void 0:i.selection)||void 0===o?void 0:o.element)&&(t.toolbar.table.selection.element.style.textAlign=e.name)},a=RP(),l=null==a?void 0:a.getNodes();((null==l?void 0:l.length)||1)<=1&&(null===(r=null===(n=t.toolbar.table)||void 0===n?void 0:n.selection)||void 0===r?void 0:r.node)&&s(null===(o=null===(i=t.toolbar.table)||void 0===i?void 0:i.selection)||void 0===o?void 0:o.node),null==l||l.map((e=>{bC(e)&&s(e)}))}))},active:t=>{var n,r;return Boolean((null===(n=t.toolbar.style)||void 0===n?void 0:n["text-align"])&&e.includes.includes(null===(r=t.toolbar.style)||void 0===r?void 0:r["text-align"]))},name:e.name,title:e.title}))),icon:{component:vJ}},O2={icon:{component:gJ},command:()=>{},Wrapper:e=>MS.createElement(o1,{getDefaultColor:e=>{var t,n;const r=null===(n=null===(t=e.toolbar.table)||void 0===t?void 0:t.selection)||void 0===n?void 0:n.node;return r&&r.__style&&rJ(r.__style).backgroundColor||"#ffffff"},onDone:e=>{e.lexicalEditor.update((()=>{var t,n,r,i;const o=t=>{const n=rJ(t.getStyle());n.backgroundColor=e.color||"",t.setStyle(n.cssText)},s=RP(),a=null==s?void 0:s.getNodes();((null==a?void 0:a.length)||1)<=1&&(null===(n=null===(t=e.toolbar.table)||void 0===t?void 0:t.selection)||void 0===n?void 0:n.node)&&o(null===(i=null===(r=e.toolbar.table)||void 0===r?void 0:r.selection)||void 0===i?void 0:i.node),null==a||a.map((e=>{bC(e)&&o(e)})),null==a||a.map((e=>{bC(e)&&o(e)}))}))}},e.children),title:"backgroundColor"};var j2=Object.freeze({__proto__:null,align:N2,backgroundColor:O2,columns:A2,mergeCells:D2,removeTable:x2,rows:S2,unmergeCells:T2});const M2=()=>{var e,t,n,r,i,o;const{toolbar:s}=v0(),a=x0(),l=b0({placement:"bottom-start",middlewares:e=>[...e.filter((e=>{var t;return!(null===(t=a.table)||void 0===t?void 0:t.disableHiding)||"hide"!==e.name}))],interactionHooks:e=>[v_(e,{referencePress:!1,capture:{escapeKey:!0,outsidePress:!1}})]});MS.useEffect((()=>{var e,t;(null===(t=null===(e=s.table)||void 0===e?void 0:e.selection)||void 0===t?void 0:t.rect)&&(l.refs.setReference({getBoundingClientRect:()=>{var e,t;const{top:n,left:r,bottom:i,right:o,width:a,x:l,y:c,height:u}=(null===(t=null===(e=s.table)||void 0===e?void 0:e.selection)||void 0===t?void 0:t.rect)||{top:0,left:0,bottom:0,right:0,width:0,height:0,x:0,y:0};return{top:n,left:r,bottom:i,right:o,width:a,height:u,x:l,y:c}}}),l.setOpen(!0))}),[JSON.stringify(null===(t=null===(e=s.table)||void 0===e?void 0:e.selection)||void 0===t?void 0:t.rect)]),(0,MS.useEffect)((()=>{l.setOpen(!0)}),[]);const c=null===(r=null===(n=s.table)||void 0===n?void 0:n.selection)||void 0===r?void 0:r.node;return MS.createElement(MS.Fragment,null,MS.createElement(C0,{style:Object.assign({left:null!==(i=l.x)&&void 0!==i?i:0,top:null!==(o=l.y)&&void 0!==o?o:0},l.transition.styles),state:l},c&&MS.createElement(R2,{tableCellNode:c})))},R2=e=>{var t,n;const{tableCellNode:r}=e,[i]=kK(),o=x0(),{hsoubEditorProps:s,toolbar:a}=v0(),l=(0,MS.useCallback)((()=>{i.update(tJ((()=>{if(r.isAttached()){const e=VW(r),t=lK(e,i.getElementByKey(e.getKey()));if(null===t)return;const n=cK(t);null!==n&&n.$clearHighlight(),e.markDirty()}uI(null)}),(e=>{var t,n;null===(t=s.onCatchError)||void 0===t||t.call(s,e,{place:"clearTableSelection",info:{html:null===(n=s.state)||void 0===n?void 0:n.html,toolbar:a}})})))}),[i,r]),c=()=>{i.update(tJ((()=>{VW(r).remove(),l()}),(e=>{var t,n;null===(t=s.onCatchError)||void 0===t||t.call(s,e,{place:"removeTable",info:{html:null===(n=s.state)||void 0===n?void 0:n.html,toolbar:a}})})))};return f2(N0,(e=>{let{name:t,subAction:n}=e;return tJ((()=>{switch(t){case"removeTable":return c(),!0;case"rows":return"remove"===n&&UW(),"header"===n&&i.update(tJ((()=>{const e=VW(r),t=YW(r),n=e.getChildren();if(t>=n.length||t<0)throw new Error("Expected table cell to be inside of table row.");const i=n[t];if(!eK(i))throw new Error("Expected table row");i.getChildren().forEach((e=>{if(!QW(e))throw new Error("Expected table cell");e.toggleHeaderStyle(rK.ROW)})),l()}),(e=>{var t,n;null===(t=s.onCatchError)||void 0===t||t.call(s,e,{place:"rowToHeader",info:{html:null===(n=s.state)||void 0===n?void 0:n.html,toolbar:a}})}))),"insertAfter"!==n&&"insertBefore"!==n||GW("insertAfter"===n),!0;case"columns":return"remove"===n&&BW(),"header"===n&&i.update(tJ((()=>{const e=VW(r),t=qW(r),n=e.getChildren();for(let e=0;e<n.length;e++){const r=n[e];if(!eK(r))throw new Error("Expected table row");const i=r.getChildren();if(t>=i.length||t<0)throw new Error("Expected table cell to be inside of table row.");const o=i[t];if(!QW(o))throw new Error("Expected table cell");o.toggleHeaderStyle(rK.COLUMN)}l()}),(e=>{var t,n;null===(t=s.onCatchError)||void 0===t||t.call(s,e,{place:"columnToHeader",info:{html:null===(n=s.state)||void 0===n?void 0:n.html,toolbar:a}})}))),"insertAfter"!==n&&"insertBefore"!==n||JW("insertAfter"===n),!0}return!0}),(e=>{var r,i;null===(r=s.onCatchError)||void 0===r||r.call(s,e,{place:"HSOUB_TABLE_ACTION",info:{html:null===(i=s.state)||void 0===i?void 0:i.html,toolbar:a,name:t,subAction:n}})}))()}),xI,[i,r,c]),MS.createElement("div",{className:"editor__toolbar editor__toolbar--floating"},MS.createElement("div",{className:"editor__toolbar-group"},null===(n=null===(t=o.table)||void 0===t?void 0:t.buttons)||void 0===n?void 0:n.map(((e,t)=>{const n=j2[e];return n?MS.createElement(i2,{key:t,action:n}):null}))))},F2=e=>{const{translate:t}=Z1(),{dropZoneText:n=t("helpers.dragDropFiles"),accept:r="*",onDone:i=(()=>{})}=e,o=(0,MS.useRef)(null),[s,a]=(0,MS.useState)(Math.random()),{ref:l,setFiles:c}=(e=>{const t=(0,MS.useRef)(null),[n,r]=(0,MS.useState)(!1),[i,o]=(0,MS.useState)([]),s=e=>{e.preventDefault()},a=t=>{var n,i,s;t.preventDefault(),r(!1),(null===(n=null==t?void 0:t.dataTransfer)||void 0===n?void 0:n.files)&&t.dataTransfer.files.length>0&&(o(null===(i=null==t?void 0:t.dataTransfer)||void 0===i?void 0:i.files),e.onDrop(null===(s=null==t?void 0:t.dataTransfer)||void 0===s?void 0:s.files))};return(0,MS.useEffect)((()=>{let e=0;const n=t=>{var n;e++,t.preventDefault(),(null===(n=null==t?void 0:t.dataTransfer)||void 0===n?void 0:n.items)&&t.dataTransfer.items.length>0&&r(!0)},i=t=>{var n;e--,e>0||(t.preventDefault(),r(!1),null===(n=null==t?void 0:t.dataTransfer)||void 0===n||n.clearData())},o=()=>{t.current&&(r(!1),e=0)};if(t&&t.current){const e=t.current;e.addEventListener("dragenter",n),e.addEventListener("dragleave",i),e.addEventListener("dragover",s),e.addEventListener("drop",a),window.addEventListener("blur",o)}return()=>{if(t&&t.current){const e=t.current;e.removeEventListener("dragenter",n),e.removeEventListener("dragleave",i),e.removeEventListener("dragover",s),e.removeEventListener("drop",a),window.removeEventListener("blur",o)}}}),[]),{ref:t,isDragging:n,files:i,setFiles:o}})({onDrop:e=>{e&&(c(e),i(e))}});return MS.createElement("div",{ref:l,className:"editor__file",onClick:()=>{var e;null===(e=o.current)||void 0===e||e.click()}},MS.createElement("div",{className:"editor__file-drop-zone"},MS.createElement("span",null,n)),MS.createElement("input",{key:s,ref:o,type:"file",accept:r,onChange:e=>{const{target:{files:t}}=e;a(Math.random()),t&&(c(t),i(t))}}))},L2=e=>{var t,n;const{onUploaded:r=(()=>{}),onDone:i=(()=>{}),onClose:o=(()=>{}),onError:s=(()=>{}),children:a,imageParams:l}=e,c=kv(e,["onUploaded","onDone","onClose","onError","children","imageParams"]),u=x0(),{hsoubEditorProps:d}=v0(),{translate:f}=Z1(),[h,p]=(0,MS.useState)((null==l?void 0:l.src)||""),[m,g]=(0,MS.useState)(!0),[v,y]=(0,MS.useState)(u.image.enable&&!u.image.upload.enable),b=u.image.enable?null===(n=null===(t=u.image.upload)||void 0===t?void 0:t.allowedTypes)||void 0===n?void 0:n.reduce(((e,t)=>e+`image/${t}, `),""):"image/*",_=e=>{s(e),(null==d?void 0:d.onError)?null==d||d.onError(e):alert(f("errors."+e))},w=xC((e=>{(e=>new Promise(((t,n)=>{const r=new Image;r.addEventListener("load",(()=>{t(!0)})),r.addEventListener("error",(e=>{n(e)})),r.src=e})))(e).then((()=>{g(!1)})).catch((()=>{g(!0)}))}));return(0,MS.useEffect)((()=>{w(h)}),[]),MS.createElement("div",Object.assign({className:"editor__settings"},c),a,MS.createElement("div",{className:"editor__settings-body"},u.image.enable&&u.image.upload.enable&&MS.createElement("div",{className:"editor__img-chooser"},MS.createElement(F2,{accept:b,onDone:e=>{Z0({showError:_,image:e[0],config:u,onImage:e=>i({src:e,alt:""}),onDoneImageUpload:(e,t)=>{r({src:e,blobURL:t})}})}})),!v&&MS.createElement("div",{style:{color:"var(--editor-primary)",cursor:"pointer"},onClick:e=>{e.preventDefault(),y(!0)}},f("helpers.chooseFromUrl")),v&&MS.createElement(MS.Fragment,null,MS.createElement("div",{className:"editor__settings-item"},MS.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},MS.createElement("label",{className:""},f("labels.url")),MS.createElement(iY,{icon:WY,onClick:o})),MS.createElement("input",{dir:"ltr",style:{border:m&&h?"2px solid red":""},placeholder:"https://example.com/image.jpg",value:h,onChange:e=>{g(!0),p(null==e?void 0:e.target.value),w(null==e?void 0:e.target.value)},className:""})),MS.createElement("div",{className:"editor__settings-item"},MS.createElement("button",{disabled:m||(null==l?void 0:l.src)===h,onClick:()=>{!m&&h&&(i({src:h,alt:""}),r({src:h,blobURL:h}),y(!1))},className:"editor__settings-action"},MS.createElement("span",null,f("actions."+((null==l?void 0:l.src)?"update":"insert"))))))))},P2=()=>{var e,t,n;const{toolbar:r,hsoubEditorProps:i}=v0(),[o]=kK(),s=x0(),a=i1(),l=(0,MS.useRef)(null),[c,u]=(0,MS.useState)({onDone:()=>null,onUploaded:()=>{},onError:()=>{}}),d=(0,MS.useRef)(null),[f,h]=(0,MS.useState)({src:""}),p=b0({placement:"bottom-start",hideOnEscape:!1,autoUpdateOptions:{animationFrame:!0},strategy:"fixed",middlewares:e=>[...e,HG({element:l})],interactionHooks:e=>[v_(e,{referencePress:!1,capture:{escapeKey:!0,outsidePress:!1}})]});f2(T0,(e=>{var t;if(p.open)return p.setOpen(!1),!0;const n=null===(t=null==e?void 0:e.getDefaultImageParams)||void 0===t?void 0:t.call(e,Object.assign({},a));return n&&h(n),(null==e?void 0:e.onDone)&&u({onDone:e.onDone,onUploaded:e.onUploaded,onError:e.onError}),e.anchor&&(p.refs.setReference(e.anchor),p.setOpen(!0)),!0}),kI,[r,o,p.open]);const m=(0,MS.useMemo)((()=>{var e,t;return null!==(t=null===(e=s.image)||void 0===e?void 0:e.EditModal)&&void 0!==t?t:L2}),[null===(e=s.image)||void 0===e?void 0:e.EditModal]);return MS.createElement(MS.Fragment,null,MS.createElement(C0,{portalId:i.editModalPortalId,className:i.editModalContainerClassName||"",state:p,style:{zIndex:2}},MS.createElement(m,{onPointerDown:e=>{e.stopPropagation()},key:null==f?void 0:f.src,onDone:(e,t)=>{null==o||o.update((()=>{const t=c.onDone(Object.assign(Object.assign(Object.assign({},a),f),e));d.current=t})),p.setOpen(Boolean(t))},imageParams:Object.assign(Object.assign({},f),{editor:o}),onUploaded:e=>{null==o||o.update((()=>{c.onUploaded(Object.assign({uploadData:e,nodeKey:null==d?void 0:d.current},a))}))},onError:e=>{null==o||o.update((()=>{c.onError({error:e,nodeKey:d.current,toolbar:r,lexicalEditor:o,config:s})})),p.setOpen(!1)},onClose:()=>{p.setOpen(!1)}},MS.createElement("div",{ref:l,style:{left:isNaN(null===(t=p.middlewareData.arrow)||void 0===t?void 0:t.x)?"":null===(n=p.middlewareData.arrow)||void 0===n?void 0:n.x,zIndex:-1},"data-placement":p.placement,className:"editor__tooltip-arrow"}))))},I2=e=>{const{onDone:t=(()=>{}),children:n,videoParams:r,onClose:i}=e,o=kv(e,["onDone","children","videoParams","onClose"]),{translate:s}=Z1(),[a,l]=(0,MS.useState)((null==r?void 0:r.src)||""),[c,u]=(0,MS.useState)(Boolean(null==r?void 0:r.autoplay));return MS.createElement(MS.Fragment,null,MS.createElement("div",Object.assign({className:"editor__settings"},o),n,MS.createElement("div",{className:"editor__settings-body"},MS.createElement("div",{className:"editor__settings-item"},MS.createElement("div",{className:"",style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},MS.createElement("label",{className:""},s("labels.url")),MS.createElement(iY,{icon:WY,onClick:i})),MS.createElement("input",{style:{border:!$0(a)&&a?"2px solid red":""},value:a,onChange:e=>{l(null==e?void 0:e.target.value)},placeholder:s("helpers.videoURL"),tabIndex:-1,className:""})),MS.createElement("div",{className:"editor__settings-item editor__settings-item--row"},MS.createElement("label",{className:""},s("labels.autoplay")),MS.createElement("input",{type:"checkbox",checked:Boolean(c),onChange:e=>{u(null==e?void 0:e.target.checked)},className:""})),MS.createElement("div",{className:"editor__settings-item"},MS.createElement("button",{disabled:!$0(a)||a===(null==r?void 0:r.src)&&r.autoplay===c,onClick:()=>{var e;""!==a&&$0(a)&&t({src:(e=a,$0(e)?e:"https://"),autoplay:c})},className:"editor__settings-action"},MS.createElement("span",null,(null==r?void 0:r.src)?s("actions.update"):s("actions.insert")))))))},$2=()=>{var e,t,n;const{toolbar:r,hsoubEditorProps:i}=v0(),[o]=kK(),s=(0,MS.useRef)(null),a=i1(),l=x0(),[c,u]=(0,MS.useState)({onDone:()=>null}),[d,f]=(0,MS.useState)({src:""}),h=b0({placement:"bottom-start",strategy:"fixed",hideOnEscape:!1,autoUpdateOptions:{animationFrame:!0},middlewares:e=>[...e,HG({element:s})],interactionHooks:e=>[v_(e,{referencePress:!1,capture:{escapeKey:!0,outsidePress:!1}})]});f2(D0,(e=>{var t;if(h.open)return h.setOpen(!1),!0;const n=null===(t=null==e?void 0:e.getDefaultVideoParams)||void 0===t?void 0:t.call(e,a);return n&&f(n),(null==e?void 0:e.onDone)&&u({onDone:e.onDone}),e.anchor&&(h.refs.setReference(e.anchor),h.setOpen(!0)),!0}),kI,[r,o,h.open]);const p=(0,MS.useMemo)((()=>{var e,t;return null!==(t=null===(e=l.video)||void 0===e?void 0:e.EditModal)&&void 0!==t?t:I2}),[null===(e=l.video)||void 0===e?void 0:e.EditModal]);return MS.createElement(MS.Fragment,null,MS.createElement(C0,{state:h,style:{zIndex:2},portalId:i.editModalPortalId,className:i.editModalContainerClassName||""},MS.createElement(p,{onPointerDown:e=>{e.stopPropagation()},key:null==d?void 0:d.src,onDone:(e,t)=>{null==o||o.update((()=>{tJ((()=>{c.onDone(Object.assign(Object.assign(Object.assign({},a),d),e))}),(t=>{var n,o;null===(n=i.onCatchError)||void 0===n||n.call(i,t,{place:"on update video",info:{html:null===(o=i.state)||void 0===o?void 0:o.html,toolbar:r,src:e.src,autoplay:Boolean(e.autoplay)}})}))()})),h.setOpen(Boolean(t))},videoParams:Object.assign(Object.assign({},d),{editor:o}),onClose:()=>{h.setOpen(!1)}},MS.createElement("div",{ref:s,style:{left:isNaN(null===(t=h.middlewareData.arrow)||void 0===t?void 0:t.x)?"":null===(n=h.middlewareData.arrow)||void 0===n?void 0:n.x,zIndex:-1},"data-placement":h.placement,className:"editor__tooltip-arrow"}))))},z2={icon:{name:"fa-trash"},title:"removeImage",command:M0,payload:{name:"removeImage"}},B2={title:"align",select:!0,options:[w1,x1,C1],icon:{component:vJ}},U2={icon:{name:"fa-pen"},title:"replaceImage",command:T0,payload:{onDone:e=>{var t,n,r;if(e.src){const i=null===(n=null===(t=e.toolbar.image)||void 0===t?void 0:t.selection)||void 0===n?void 0:n.node;if(null==i||i.setSrc(e.src),null==i||i.setLoading(!0),null==i?void 0:i.__key){const t=null===(r=e.lexicalEditor.getElementByKey(null==i?void 0:i.__key))||void 0===r?void 0:r.querySelector("img");null==t||t.click()}return(null==i?void 0:i.getKey())||null}return null},getDefaultImageParams:e=>{var t,n;const r=null===(n=null===(t=e.toolbar.image)||void 0===t?void 0:t.selection)||void 0===n?void 0:n.node;return{src:(null==r?void 0:r.getSrc())||"",alt:null==r?void 0:r.getAltText(),node:r}},onUploaded:e=>{var t,n,r,i,o;if(e.uploadData.src&&((null===(n=null===(t=e.toolbar.image)||void 0===t?void 0:t.selection)||void 0===n?void 0:n.node)||e.nodeKey)){const t=(null===(i=null===(r=e.toolbar.image)||void 0===r?void 0:r.selection)||void 0===i?void 0:i.node)||NP(null!==(o=e.nodeKey)&&void 0!==o?o:"");sC(t)&&(null==t||t.setOldSrc(t.getSrc()),null==t||t.setSrc(e.uploadData.src),null==t||t.setLoading(!1))}},onError:e=>{if(e.nodeKey){const t=NP(e.nodeKey);if(t&&sC(t)&&(null==t||t.setLoading(!1),(null==t?void 0:t.getOldSrc())!==(null==t?void 0:t.getSrc())&&"ERROR_UPLOADING"===e.error)){const e=null==t?void 0:t.getOldSrc();e&&(null==t||t.setSrc(e))}}}}},H2={icon:{name:"fa-link"},title:"insertLink",command:M0,show:e=>{var t,n;return!Boolean(null===(n=null===(t=e.toolbar.image)||void 0===t?void 0:t.link)||void 0===n?void 0:n.node)},payload:{name:"insertLink"}},W2={icon:{name:"fa-link-slash"},title:"removeLink",command:M0,show:e=>{var t,n;return Boolean(null===(n=null===(t=e.toolbar.image)||void 0===t?void 0:t.link)||void 0===n?void 0:n.node)},payload:{name:"removeLink"}},K2={icon:{name:"fa-pen"},title:"editLink",command:A0,show:e=>{var t,n;return Boolean(null===(n=null===(t=e.toolbar.image)||void 0===t?void 0:t.link)||void 0===n?void 0:n.node)},payload:{onDone:e=>{var t,n,r,i;null===(i=null===(r=null===(n=null===(t=e.toolbar.image)||void 0===t?void 0:t.link)||void 0===n?void 0:n.node)||void 0===r?void 0:r.setURL)||void 0===i||i.call(r,e.href),setTimeout((()=>{var t,n,r,i,o,s;null===(s=null===(o=null===(i=null===(r=null===(n=null===(t=e.toolbar.image)||void 0===t?void 0:t.selection)||void 0===n?void 0:n.element)||void 0===r?void 0:r.querySelector)||void 0===i?void 0:i.call(r,"img"))||void 0===o?void 0:o.click)||void 0===s||s.call(o)}),0)},getDefaultLinkParams:e=>{var t,n,r,i,o,s;return{href:(null===(n=null===(t=e.toolbar.image)||void 0===t?void 0:t.link)||void 0===n?void 0:n.href)||"",node:null===(i=null===(r=e.toolbar.image)||void 0===r?void 0:r.link)||void 0===i?void 0:i.node,element:null===(s=null===(o=e.toolbar.image)||void 0===o?void 0:o.selection)||void 0===s?void 0:s.element}}}},q2={icon:{name:"fa-arrow-up-right-from-square"},title:"openLink",Wrapper(e){let{actionParams:t,children:n}=e;var r,i,o;const s=null===(o=null===(i=null===(r=null==t?void 0:t.toolbar)||void 0===r?void 0:r.image)||void 0===i?void 0:i.link)||void 0===o?void 0:o.node;return MS.createElement("a",{href:null==s?void 0:s.__url,style:{display:"flex"},rel:"noopener noreferrer",target:"_blank"},n)},command:void 0,disabled:e=>{var t,n,r,i;return Boolean((null===(n=null===(t=e.toolbar.image)||void 0===t?void 0:t.link)||void 0===n?void 0:n.href)&&!nJ(null===(i=null===(r=e.toolbar.image)||void 0===r?void 0:r.link)||void 0===i?void 0:i.href))},show:e=>{var t,n;return Boolean(null===(n=null===(t=e.toolbar.image)||void 0===t?void 0:t.link)||void 0===n?void 0:n.node)}};var V2=Object.freeze({__proto__:null,align:B2,editLink:K2,insertLink:H2,openLink:q2,removeImage:z2,removeLink:W2,replaceImage:U2});const Y2=e=>{var t,n,r,i;const{onClose:o=(()=>{})}=e,{toolbar:s}=v0(),a=b0({placement:"top-start",offsetOptions:10,interactionHooks:e=>[v_(e,{referencePress:!1,capture:{escapeKey:!0,outsidePress:!1}})]});MS.useEffect((()=>{var e,t,n,r;(null===(t=null===(e=s.image)||void 0===e?void 0:e.selection)||void 0===t?void 0:t.element)&&(a.refs.setReference(null===(r=null===(n=s.image)||void 0===n?void 0:n.selection)||void 0===r?void 0:r.element),a.setOpen(!0))}),[null===(n=null===(t=s.image)||void 0===t?void 0:t.selection)||void 0===n?void 0:n.element]),(0,MS.useEffect)((()=>{a.setOpen(!0)}),[]);const l=null===(i=null===(r=s.image)||void 0===r?void 0:r.selection)||void 0===i?void 0:i.node;return MS.createElement(MS.Fragment,null,MS.createElement(C0,{state:a,style:Object.assign({},a.transition.styles)},l&&MS.createElement(J2,{onClose:()=>o(),imageNode:l})))},J2=e=>{var t,n,r;const{imageNode:i,onClose:o=(()=>{})}=e,[s]=kK(),{toolbar:a,hsoubEditorProps:l}=v0(),{translate:c}=Z1(),u=null===(n=null===(t=a.image)||void 0===t?void 0:t.link)||void 0===n?void 0:n.node,d=x0();return f2(M0,(e=>{let{name:t,subAction:n}=e;switch(t){case"removeImage":return(()=>{var e;(null===(e=l.onConfirm)||void 0===e?void 0:e.call(l,c("helpers.confirm")))&&(i.remove(),o())})(),!0;case"insertLink":return sB(i,zH.bind(null,i.__src)).setTarget("_blank"),!0;case"removeLink":return null==u||u.replace(i),!0}return!0}),xI,[s,i,u]),MS.createElement("div",{className:"editor__toolbar editor__toolbar--floating"},MS.createElement("div",{className:"editor__toolbar-group"},d.image.enable&&(null===(r=d.image.buttons)||void 0===r?void 0:r.map((e=>{const t=V2[e];return t?MS.createElement(i2,{key:e,action:t}):null})))))},G2={title:"changeLanguage",select:!0,options:function(){const e=[];for(const[t,n]of Object.entries(JU))e.push([t,n]);return e}().map((e=>{let[t,n]=e;return{label:n,active(e){var t;return(null===(t=e.toolbar.code)||void 0===t?void 0:t.language)===n},command:e=>{var n;(null===(n=e.toolbar.code)||void 0===n?void 0:n.node)&&e.lexicalEditor.update((()=>{var n,r;null===(r=null===(n=e.toolbar.code)||void 0===n?void 0:n.node)||void 0===r||r.setLanguage(t)}))}}})),icon:{component:kJ}},X2={icon:{name:"fa-copy"},disabled(e){var t;return!Boolean(null===(t=e.toolbar.code)||void 0===t?void 0:t.node)},command:e=>Dv(void 0,void 0,void 0,(function*(){var t;if(!(null===(t=e.toolbar.code)||void 0===t?void 0:t.node))return;let n="";e.lexicalEditor.update((()=>{var t,r;n=(null===(r=null===(t=e.toolbar.code)||void 0===t?void 0:t.node)||void 0===r?void 0:r.getTextContent())||""}));try{yield navigator.clipboard.writeText(n),e.setFactoryState((e=>Object.assign(Object.assign({},e),{icon:{name:"fa-check",iconProps:{bounce:!0}}})))}catch(t){console.error("Failed to copy: ",t),e.setFactoryState((e=>Object.assign(Object.assign({},e),{icon:{name:"fa-circle-xmark",iconProps:{beatFade:!0,color:"red"}}})))}setTimeout((()=>{e.setFactoryState((e=>Object.assign(Object.assign({},e),{icon:{name:"fa-copy"}})))}),1e3)})),title:"copyCode"};var Q2=Object.freeze({__proto__:null,changeLanguage:G2,copyCode:X2});const Z2={icon:{name:"fa-trash"},title:"removeVideo",command:j0,payload:{name:"removeVideo"}},e3={icon:{name:"fa-pen"},title:"replaceVideo",command:D0,payload:{onDone:e=>{var t,n;if(e.src){const r=null===(n=null===(t=e.toolbar.video)||void 0===t?void 0:t.selection)||void 0===n?void 0:n.node;if(!r)return;const i=z0(e.src);if(!i)return;const{videoID:o,videoType:s}=i;null==r||r.setVideoID(o),null==r||r.setVideoType(s),null==r||r.setAutoplay(Boolean(e.autoplay))}return null},getDefaultVideoParams:e=>{var t,n,r,i;const o=null===(n=null===(t=e.toolbar.video)||void 0===t?void 0:t.selection)||void 0===n?void 0:n.node,s=null===(i=null===(r=e.toolbar.video)||void 0===r?void 0:r.selection)||void 0===i?void 0:i.element;return o?{src:B0({videoID:null==o?void 0:o.getVideoID(),videoType:null==o?void 0:o.getVideoType()})||"",autoplay:o.getAutoplay(),node:o,element:s}:{src:"",autoplay:!1,element:s}}}},t3={icon:{component:sJ},title:"autoplay",command:j0,active:e=>{var t;return Boolean(null===(t=e.toolbar.video)||void 0===t?void 0:t.autoplay)},payload:{name:"autoplay"}};var n3=Object.freeze({__proto__:null,autoplay:t3,removeVideo:Z2,replaceVideo:e3});const r3=e=>{let{children:t,element:n}=e;const r=function(e){let{threshold:t=0,root:n=null,rootMargin:r="0%",freezeOnceVisible:i=!1}={};const[o,s]=(0,MS.useState)(),a=(null==o?void 0:o.isIntersecting)&&i,l=e=>{let[t]=e;s(t)};return(0,MS.useEffect)((()=>{
const i=null==e?void 0:e.current;if(!window.IntersectionObserver||a||!i)return;const o=new IntersectionObserver(l,{threshold:t,root:n,rootMargin:r});return o.observe(i),()=>o.disconnect()}),[null==e?void 0:e.current,JSON.stringify(t),n,r,a]),o}((0,MS.useRef)(n));return MS.createElement(MS.Fragment,null,(null==r?void 0:r.isIntersecting)?t:null)},i3=e=>{const[t]=kK(),n=(0,MS.useMemo)((()=>t.getElementByKey(e.nodeKey)),[e.nodeKey,t]);return MS.createElement(r3,{element:n},e.children)},o3=()=>MS.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},MS.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),MS.createElement("path",{d:"M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.41L5.83 13H21V7z"})),s3=[L0,oK,Q0,XU],a3=e=>t=>Dv(void 0,[t],void 0,(function(t){let{elements:n,platform:r,rects:i,placement:o,strategy:s}=t;return function*(){const t=yield r.getElementRects({reference:e.current.elementToInsertLineBreaker,floating:n.floating,strategy:s}),a=yield r.getElementRects({reference:e.current.element,floating:n.floating,strategy:s});Object.assign(n.floating.style,{width:`${t.reference.width}px`,left:`${t.reference.x}px`,top:`${a.reference.y+("bottom"===o?a.reference.height+(e.current.isLast?-20:ZW(e.current.node)?10:0):-i.floating.height)}px`})}()})),l3=e=>{const[t]=kK(),{hsoubEditorProps:n,toolbar:r}=v0(),i=(0,MS.useRef)({}),o=b0({placement:"top",middlewares:[IG(-10),BG(Object.assign({apply:a3(i)},n.boundaries)),UG(Object.assign(Object.assign({strategy:"escaped"},n.defaultDetectOverflowOptions),{padding:{top:-40}})),UG(Object.assign({strategy:"referenceHidden"},n.defaultDetectOverflowOptions))],interactionHooks:()=>[]}),s=b0({autoUpdateOptions:{animationFrame:!0},placement:"bottom",middlewares:[IG(10),BG(Object.assign({apply:a3(i)},n.boundaries)),UG(Object.assign(Object.assign({strategy:"escaped"},n.defaultDetectOverflowOptions),{padding:{bottom:-40}})),UG(Object.assign({strategy:"referenceHidden"},n.defaultDetectOverflowOptions))],interactionHooks:()=>[]});(0,MS.useEffect)((()=>{i.current.element&&(o.refs.setReference(i.current.element),s.refs.setReference(i.current.element))}),[i.current.element]),(0,MS.useEffect)((()=>{o.setOpen(Boolean(null==i?void 0:i.current.shouldBreakTop)),s.setOpen(Boolean(null==i?void 0:i.current.shouldBreakBottom))}),[null==i?void 0:i.current.shouldBreakTop,i.current.shouldBreakBottom]);const a=e=>s3.some((t=>e instanceof t)),l=()=>{t.getEditorState().read(tJ((()=>{var n,r,o,s;const l=NP(e.nodeKey),c=null==l?void 0:l.getParent(),u=c&&nB(c,oK),d=t.getElementByKey(e.nodeKey),f=JP(c),h=f?c:l,p=(null==h?void 0:h.getKey())&&t.getElementByKey(null==h?void 0:h.getKey())||void 0;if(d&&l&&c&&h){const e=null==h?void 0:h.getNextSibling(),t=null==h?void 0:h.getPreviousSibling(),m=HP(t)&&(null===(r=null===(n=null==t?void 0:t.getChildren)||void 0===n?void 0:n.call(t))||void 0===r?void 0:r[0]),g=HP(e)&&(null===(s=null===(o=null==e?void 0:e.getChildren)||void 0===o?void 0:o.call(e))||void 0===s?void 0:s[0]),v=(null===t||[t,m].some((e=>e&&a(e))))&&!u,y=null===e&&[e,g].every((e=>!e||!a(e)))&&!u,b=null===e;i.current={node:l,parent:c,hasParent:f,element:d,nodeToInsertLineBreaker:h,elementToInsertLineBreaker:p,shouldBreakTop:v,shouldBreakBottom:y,isLast:b}}}),(e=>{var t,o;null===(t=n.onCatchError)||void 0===t||t.call(n,e,{place:"update line break info",info:{html:null===(o=n.state)||void 0===o?void 0:o.html,toolbar:r,nodeInfo:i.current}})})))},c=e=>{var o;const s=null===(o=null==i?void 0:i.current)||void 0===o?void 0:o.nodeToInsertLineBreaker;s&&t.update(tJ((()=>{var t,n;const r=pP();"bottom"===e&&(null===(t=null==s?void 0:s.insertAfter)||void 0===t||t.call(s,r)),"top"===e&&(null===(n=null==s?void 0:s.insertBefore)||void 0===n||n.call(s,r)),r.select(),setTimeout((()=>{l()}))}),(e=>{var t,o;null===(t=n.onCatchError)||void 0===t||t.call(n,e,{place:"on add line break",info:{html:null===(o=n.state)||void 0===o?void 0:o.html,toolbar:r,nodeInfo:i.current}})})))};return(0,MS.useEffect)((()=>{l()}),[]),(0,MS.useEffect)((()=>(l(),t.registerUpdateListener((e=>Dv(void 0,[e],void 0,(function(e){let{dirtyLeaves:t,dirtyElements:n,prevEditorState:r}=e;return function*(){0===n.size&&0===t.size||r.isEmpty()||(l(),yield $y())}()})))))),[t]),MS.createElement(MS.Fragment,null,MS.createElement(C0,{state:o,shouldPosition:!1,style:Object.assign({},o.transition.styles),className:"editor__lineBreaker",onClick:()=>c("top"),"data-position":"top"},MS.createElement("div",{className:t._config.theme.lineBreaker.button},MS.createElement(o3,null))),MS.createElement(C0,{state:s,shouldPosition:!1,style:Object.assign({},s.transition.styles),onClick:()=>c("bottom"),"data-position":"bottom",className:"editor__lineBreaker"},MS.createElement("div",{"data-position":"bottom",className:t._config.theme.lineBreaker.button},MS.createElement(o3,null))))};Object.freeze({__proto__:null,TablePlugin:function(e){let{hasCellMerge:t=!0,hasCellBackgroundColor:n=!0,hasTabHandler:r=!0,hasHorizontalScroll:i=!1}=e;const[o]=kK();return(0,MS.useEffect)((()=>{XW(o)!==i&&(hK(o,i),o.registerNodeTransform(oK,(()=>{}))())}),[o,i]),(0,MS.useEffect)((()=>dK(o)),[o]),(0,MS.useEffect)((()=>fK(o,r)),[o,r]),(0,MS.useEffect)((()=>{if(!t)return uK(o)}),[o,t]),(0,MS.useEffect)((()=>{if(!n)return o.registerNodeTransform(iK,(e=>{null!==e.getBackgroundColor()&&e.setBackgroundColor(null)}))}),[o,n,t]),null}});var c3=Object.freeze({__proto__:null,TablePlugin:function(e){let{hasCellMerge:t=!0,hasCellBackgroundColor:n=!0,hasTabHandler:r=!0,hasHorizontalScroll:i=!1}=e;const[o]=kK();return(0,MS.useEffect)((()=>{XW(o)!==i&&(hK(o,i),o.registerNodeTransform(oK,(()=>{}))())}),[o,i]),(0,MS.useEffect)((()=>dK(o)),[o]),(0,MS.useEffect)((()=>fK(o,r)),[o,r]),(0,MS.useEffect)((()=>{if(!t)return uK(o)}),[o,t]),(0,MS.useEffect)((()=>{if(!n)return o.registerNodeTransform(iK,(e=>{null!==e.getBackgroundColor()&&e.setBackgroundColor(null)}))}),[o,n,t]),null}});const u3=c3.TablePlugin,d3=e=>t=>Dv(void 0,[t],void 0,(function(t){let{elements:n,platform:r,strategy:i,rects:o}=t;return function*(){var t,s,a;if(!(null===(t=e.current.tableRect)||void 0===t?void 0:t.y))return;const l=yield r.getElementRects({reference:e.current.cellElement,floating:n.floating,strategy:i});Object.assign(n.floating.style,{height:`${l.reference.height}px`,left:(null===(s=o.reference)||void 0===s?void 0:s.x)-5+"px",top:`${null===(a=o.reference)||void 0===a?void 0:a.y}px`})}()})),f3=e=>{const[t]=kK(),{hsoubEditorProps:n,toolbar:r}=v0(),i="ltr"===n.direction,o=(0,MS.useRef)({}),s=b0({placement:"ltr"===n.direction?"right":"left",strategy:"fixed",autoUpdateOptions:{animationFrame:!0},middlewares:[BG(Object.assign({apply:d3(o)},n.boundaries)),UG(Object.assign(Object.assign({strategy:"escaped"},n.defaultDetectOverflowOptions),{padding:0})),UG(Object.assign(Object.assign({strategy:"referenceHidden"},n.defaultDetectOverflowOptions),{padding:0}))],interactionHooks:()=>[]}),a=(0,MS.useCallback)(((e,n,r)=>{var i;if((null==e?void 0:e.cell)&&!bC(null==e?void 0:e.cell))return;const o=null===(i=e.table)||void 0===i?void 0:i.getChildren();if(o&&null!=e.tableColumnIndex)for(let i=0;i<o.length;i++){const s=o[i];if(!eK(s))continue;const a=s.getChildren();if(e.tableColumnIndex>=a.length||e.tableColumnIndex<0)continue;const l=a[e.tableColumnIndex];if(!QW(l))continue;if(r){const e=t.getElementByKey(l.getKey());e&&(e.style.width=n+"%",e.style.minWidth="100px");continue}const c=rJ(l.getStyle());c.width=n+"%",c.minWidth="100px",l.setStyle(c.cssText)}}),[]),l=e=>{var t,n,r,i;if(o.current.cell&&(null===(t=o.current.tableRect)||void 0===t?void 0:t.width)&&o.current.widthPercent&&(null===(n=o.current.next)||void 0===n?void 0:n.widthPercent)){const t=1e4/(null===(r=o.current.tableRect)||void 0===r?void 0:r.width),n=o.current.widthPercent+o.current.next.widthPercent-t,s=100*e/(null===(i=o.current.tableRect)||void 0===i?void 0:i.width);return{cellWidth:ZY(o.current.widthPercent-s,t,n),nextCellWidth:ZY(o.current.next.widthPercent+s,t,n)}}return null},{isDragging:c}=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};const a=(0,MS.useRef)({value:null,executing:!1}),l=(0,MS.useRef)(!0),[c,u]=(0,MS.useState)(!1),d=(0,MS.useRef)({dx:0,dy:0,direction:{},startX:0,startY:0}),f=()=>{d.current=Object.assign(Object.assign({},d.current),{dx:0,dy:0,direction:{}})},h=[document],p=(e,t,n)=>{d.current=Object.assign(Object.assign({},d.current),{dx:e,dy:t,event:n,direction:{v:t<d.current.dy?"up":"down",h:e<d.current.dx?"right":"left"}}),o(e,t,d)},m=e=>{var t;if(u(!0),e.preventDefault(),function(e){return e&&"touches"in e}(e)&&e.touches){const n=e.touches[0];if(!(null===(t=a.current)||void 0===t?void 0:t.value)&&0!==r)return;const i=n.pageX-d.current.startX,o=n.pageY-d.current.startY;p(i,o,n)}else if(function(e){return e&&"screenX"in e}(e)){const t=e.pageX-d.current.startX,n=e.pageY-d.current.startY;p(t,n,e)}},g=()=>{var e,t;u(!1),h.forEach((e=>{e.removeEventListener("mousemove",m),e.removeEventListener("touchmove",m)})),(null===(e=null==a?void 0:a.current)||void 0===e?void 0:e.value)&&clearTimeout(null===(t=null==a?void 0:a.current)||void 0===t?void 0:t.value),a.current.value=null,a.current.executing=!1,s(d.current),f()},v=()=>{i(),h.forEach((e=>{e.addEventListener("touchmove",m,{passive:!1}),e.addEventListener("mousemove",m),e.addEventListener("mouseup",g,{once:!0}),e.addEventListener("touchend",g,{once:!0})}))},y=e=>{var n;if(null===(n=a.current)||void 0===n?void 0:n.value)return;const{dx:i=0,dy:o=0}={};if(e.target.hasAttribute(t)||e.target.closest(`[${t}]`))return;let s=e;if(e.touches&&(s=e.touches[0]),d.current=Object.assign(Object.assign({},d.current),{startX:s.pageX-i,startY:s.pageY-o}),e.touches)if(0===r)v();else{const e=setTimeout((()=>{a.current.executing=!0,v()}),r);a.current.value=Number(e)}else v()};return(0,MS.useEffect)((()=>{const t=()=>{a.current.value&&!a.current.executing&&(u(!1),clearTimeout(a.current.value),a.current.value=null,a.current.executing=!1)};if(e.current)return e.current.addEventListener("mousedown",y),e.current.addEventListener("touchstart",y,{passive:!0}),e.current.addEventListener("touchend",t),e.current.addEventListener("touchmove",t,{passive:!0}),()=>{e.current&&(e.current.removeEventListener("mousedown",y),e.current.removeEventListener("touchstart",y),e.current.removeEventListener("touchend",t),e.current.removeEventListener("touchmove",t))}}),[...n]),(0,MS.useEffect)((()=>()=>{l.current=!1}),[]),{dx:d.current.dx,dy:d.current.dx,dragState:d,reset:f,isDragging:c}}(s.refs.floating,void 0,[s.open,s.elements.floating,a],void 0,(()=>{e.onDragStart(),u()}),(e=>{const r=l(e);r&&t.getEditorState().read(tJ((()=>{a(o.current,r.cellWidth,!0),o.current.next&&a(o.current.next,r.nextCellWidth,!0)}),(e=>{var t,r;null===(t=null==n?void 0:n.onCatchError)||void 0===t||t.call(n,e,{place:"update column width with markup only",info:{html:null===(r=n.state)||void 0===r?void 0:r.html,nodeInfo:o.current}})})))}),(r=>{let{dx:i}=r;e.onDragEnd();const s=l(i);u(),s&&t.update(tJ((()=>{a(o.current,s.cellWidth),o.current.next&&a(o.current.next,s.nextCellWidth)}),(e=>{var t,r;null===(t=null==n?void 0:n.onCatchError)||void 0===t||t.call(n,e,{place:"update column width without markup",info:{html:null===(r=n.state)||void 0===r?void 0:r.html,nodeInfo:o.current}})})))}));o.current.isDragging=c,(0,MS.useEffect)((()=>{o.current.cellElement&&!o.current.last&&(s.refs.setReference(o.current.cellElement),s.setOpen(!0))}),[o.current.cellElement]),(0,MS.useEffect)((()=>{s.update()}),[n.direction]);const u=()=>{t.getEditorState().read(tJ((()=>{const n=NP(e.nodeKey);if(!n)return;const r=e=>{if(!e)return null;const n=VW(e),r=t.getElementByKey(e.getKey())||void 0,o=lK(n,t.getElementByKey(n.getKey()));t.getElementByKey(n.getKey());const s=qW(e),a=function(e){const t=cK(e),n=null==t?void 0:t.getTable();return null==n?void 0:n.domRows.reduce(((e,t)=>t?Math.max(e,t.length):e),0)}(o)||s+2,l=null==o?void 0:o.getBoundingClientRect(),c=null==r?void 0:r.getBoundingClientRect();return{table:n,cellElement:r,tableElement:o,cellRect:c,tableRect:l,tableColumnIndex:s,widthPercent:(null==c?void 0:c.width)?(null==c?void 0:c.width)/((null==l?void 0:l.width)||1)*100:void 0,last:i?0===s:s===a-1}},s=n.getNextSibling(),a=n.getPreviousSibling();o.current=Object.assign(Object.assign({cell:n},r(n)),{next:Object.assign({cell:s},r(i?a:s)),previous:Object.assign({cell:a},r(i?s:a))})}),(e=>{var t,i;null===(t=n.onCatchError)||void 0===t||t.call(n,e,{place:"update cell resizer info",info:{html:null===(i=n.state)||void 0===i?void 0:i.html,toolbar:r,nodeInfo:o.current}})})))};return(0,MS.useEffect)((()=>(u(),t.registerUpdateListener((e=>Dv(void 0,[e],void 0,(function(e){let{dirtyLeaves:t,dirtyElements:n,prevEditorState:r}=e;return function*(){0===n.size&&0===t.size||r.isEmpty()||(u(),yield $y())}()})))))),[t,e.nodeKey,n.direction]),MS.createElement(C0,{state:s,shouldPosition:!1,className:"editor__table-resizer editor__table-resizer--horizontal","data-position":"top",style:{backgroundColor:c?"var(--editor-primary)":""},"data-id":"resizer",onPointerDown:e=>{e.stopPropagation()}})},h3=()=>{const[e]=kK(),{translate:t}=Z1(),n=(0,MS.useRef)(null);return(0,MS.useEffect)((()=>{const r=e.registerUpdateListener((r=>{let{editorState:i}=r;var o;const s=null===(o=e._window)||void 0===o?void 0:o.getSelection();i.read((()=>{(null==n?void 0:n.current)&&(n.current.removeAttribute("data-placeholder"),n.current.classList.remove("preserved-heading"),n.current=null);const e=1===MP().getChildrenSize(),r=RP();if(!s||!r||!GP(r))return;const i=r.anchor.getNode();if(!sU(i)||!i.isEmpty()||!e)return;const o=s.anchorNode;o&&o instanceof HTMLHeadingElement&&(n.current=o,n.current.setAttribute("data-placeholder",t("labels."+i.getTag())),n.current.classList.add("preserved-heading"))}))}));return()=>{r()}}),[e]),null},p3="startTransition",m3="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,g3=m3?MS.useLayoutEffect:MS.useEffect,v3=e=>{const t=document.getElementById("typeahead-menu");if(!t)return;const n=t.getBoundingClientRect();n.top+n.height>window.innerHeight&&t.scrollIntoView({block:"center"}),n.top<0&&t.scrollIntoView({block:"center"}),e.scrollIntoView({block:"nearest"})},y3=w$("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND"),b3="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;",_3=w$("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");Object.freeze({__proto__:null,LexicalTypeaheadMenuPlugin:function(e){let{options:t,onQueryChange:n,onSelectOption:r,onOpen:i,onClose:o,menuRenderFn:s,triggerFn:a,anchorClassName:l,commandPriority:c=kI,parent:u,preselectFirstItem:d=!0,ignoreEntityBoundary:f=!1}=e;const[h]=kK(),[p,m]=(0,MS.useState)(null),g=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m3?document.body:void 0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const[o]=kK(),s=(0,MS.useRef)(m3?document.createElement("div"):null),a=(0,MS.useCallback)((()=>{if(null===s.current||void 0===r)return;s.current.style.top=s.current.style.bottom;const t=o.getRootElement(),a=s.current,l=a.firstChild;if(null!==t&&null!==e){const{left:o,top:c,width:u,height:d}=e.getRect(),f=s.current.offsetHeight;if(a.style.top=`${c+f+3+(i?window.pageYOffset:0)}px`,a.style.left=`${o+window.pageXOffset}px`,a.style.height=`${d}px`,a.style.width=`${u}px`,null!==l){l.style.top=`${c}`;const e=l.getBoundingClientRect(),n=e.height,r=e.width,s=t.getBoundingClientRect();o+r>s.right&&(a.style.left=`${s.right-r+window.pageXOffset}px`),(c+n>window.innerHeight||c+n>s.bottom)&&c-s.top>n+d&&(a.style.top=`${c-n-d+(i?window.pageYOffset:0)}px`)}a.isConnected||(RC(a,n),r.append(a)),a.setAttribute("id","typeahead-menu"),s.current=a,t.setAttribute("aria-controls","typeahead-menu")}}),[o,e,i,n,r]);(0,MS.useEffect)((()=>{const t=o.getRootElement();return null!==e&&a(),()=>{null!==t&&t.removeAttribute("aria-controls");const e=s.current;null!==e&&e.isConnected&&(e.remove(),e.removeAttribute("id"))}}),[o,a,e]);const l=(0,MS.useCallback)((n=>{null!==e&&(n||t(null))}),[e,t]);jC(e,s.current,a,l);const c=s.current;return null!=c&&(RC(c,n),null!=r&&r.append(c)),s}(p,m,l,u),v=(0,MS.useCallback)((()=>{m(null),null!=o&&null!==p&&o()}),[o,p]),y=(0,MS.useCallback)((e=>{m(e),null!=i&&null===p&&i(e)}),[i,p]);return(0,MS.useEffect)((()=>{const e=h.registerUpdateListener((()=>{h.getEditorState().read((()=>{if(!h.isEditable())return void v();const e=h._window||window,t=e.document.createRange(),r=RP(),i=function(e){let t=null;return e.getEditorState().read((()=>{const e=RP();GP(e)&&(t=function(e){const t=e.anchor;if("text"!==t.type)return null;const n=t.getNode();if(!n.isSimpleText())return null;const r=t.offset;return n.getTextContent().slice(0,r)}(e))})),t}(h);if(!GP(r)||!r.isCollapsed()||null===i||null===t)return void v();const o=a(i,h);if(n(o?o.matchingString:null),null!==o&&(f||!function(e,t){return 0===t&&e.getEditorState().read((()=>{const e=RP();if(GP(e)){const t=e.anchor.getNode().getPreviousSibling();return tI(t)&&t.isTextEntity()}return!1}))}(h,o.leadOffset))){const n=function(e,t,n){const r=x$(n);if(null===r||!r.isCollapsed)return!1;const i=r.anchorNode,o=e,s=r.anchorOffset;if(null==i||null==s)return!1;try{t.setStart(i,o),t.setEnd(i,s)}catch(e){return!1}return!0}(o.leadOffset,t,e);if(null!==n)return s=()=>y({getRect:()=>t.getBoundingClientRect(),match:o}),void(p3 in MS?MS[p3](s):s())}var s;v()}))}));return()=>{e()}}),[h,a,n,p,v,y,f]),(0,MS.useEffect)((()=>h.registerEditableListener((e=>{e||v()}))),[h,v]),null===p||null===h||null===g.current?null:(0,ND.jsx)(MC,{close:v,resolution:p,editor:h,anchorElementRef:g,options:t,menuRenderFn:s,shouldSplitNodeWithQuery:!0,onSelectOption:r,commandPriority:c,preselectFirstItem:d})},MenuOption:class{constructor(e){this.key=e,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(e){this.ref={current:e}}},PUNCTUATION:b3,SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND:_3,getScrollParent:function(e,t){let n=getComputedStyle(e);const r="absolute"===n.position,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===n.position)return document.body;for(let t=e;t=t.parentElement;)if(n=getComputedStyle(t),(!r||"static"!==n.position)&&i.test(n.overflow+n.overflowY+n.overflowX))return t;return document.body},useBasicTypeaheadTriggerMatch:function(e,t){let{minLength:n=1,maxLength:r=75,punctuation:i=b3}=t;return(0,MS.useCallback)((t=>{const o=new RegExp("(^|\\s|\\()(["+e+"]((?:[^"+e+i+"\\s]){0,"+r+"}))$").exec(t);if(null!==o){const e=o[1],t=o[3];if(t.length>=n)return{leadOffset:o.index+e.length,matchingString:t,replaceableString:o[2]}}return null}),[r,n,e,i])},useDynamicPositioning:jC});const w3="startTransition",C3="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,x3=C3?MS.useLayoutEffect:MS.useEffect,E3=e=>{const t=document.getElementById("typeahead-menu");if(!t)return;const n=t.getBoundingClientRect();n.top+n.height>window.innerHeight&&t.scrollIntoView({block:"center"}),n.top<0&&t.scrollIntoView({block:"center"}),e.scrollIntoView({block:"nearest"})},S3=w$("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND"),k3="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;",D3=w$("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");var T3=Object.freeze({__proto__:null,LexicalTypeaheadMenuPlugin:function(e){let{options:t,onQueryChange:n,onSelectOption:r,onOpen:i,onClose:o,menuRenderFn:s,triggerFn:a,anchorClassName:l,commandPriority:c=kI,parent:u,preselectFirstItem:d=!0,ignoreEntityBoundary:f=!1}=e;const[h]=kK(),[p,m]=(0,MS.useState)(null),g=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:C3?document.body:void 0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const[o]=kK(),s=(0,MS.useRef)(C3?document.createElement("div"):null),a=(0,MS.useCallback)((()=>{if(null===s.current||void 0===r)return;s.current.style.top=s.current.style.bottom;const t=o.getRootElement(),a=s.current,l=a.firstChild;if(null!==t&&null!==e){const{left:o,top:c,width:u,height:d}=e.getRect(),f=s.current.offsetHeight;if(a.style.top=`${c+f+3+(i?window.pageYOffset:0)}px`,a.style.left=`${o+window.pageXOffset}px`,a.style.height=`${d}px`,a.style.width=`${u}px`,null!==l){l.style.top=`${c}`;const e=l.getBoundingClientRect(),n=e.height,r=e.width,s=t.getBoundingClientRect();o+r>s.right&&(a.style.left=`${s.right-r+window.pageXOffset}px`),(c+n>window.innerHeight||c+n>s.bottom)&&c-s.top>n+d&&(a.style.top=`${c-n-d+(i?window.pageYOffset:0)}px`)}a.isConnected||(IC(a,n),r.append(a)),a.setAttribute("id","typeahead-menu"),s.current=a,t.setAttribute("aria-controls","typeahead-menu")}}),[o,e,i,n,r]);(0,MS.useEffect)((()=>{const t=o.getRootElement();return null!==e&&a(),()=>{null!==t&&t.removeAttribute("aria-controls");const e=s.current;null!==e&&e.isConnected&&(e.remove(),e.removeAttribute("id"))}}),[o,a,e]);const l=(0,MS.useCallback)((n=>{null!==e&&(n||t(null))}),[e,t]);LC(e,s.current,a,l);const c=s.current;return null!=c&&(IC(c,n),null!=r&&r.append(c)),s}(p,m,l,u),v=(0,MS.useCallback)((()=>{m(null),null!=o&&null!==p&&o()}),[o,p]),y=(0,MS.useCallback)((e=>{m(e),null!=i&&null===p&&i(e)}),[i,p]);return(0,MS.useEffect)((()=>{const e=h.registerUpdateListener((()=>{h.getEditorState().read((()=>{if(!h.isEditable())return void v();const e=h._window||window,t=e.document.createRange(),r=RP(),i=function(e){let t=null;return e.getEditorState().read((()=>{const e=RP();GP(e)&&(t=function(e){const t=e.anchor;if("text"!==t.type)return null;const n=t.getNode();if(!n.isSimpleText())return null;const r=t.offset;return n.getTextContent().slice(0,r)}(e))})),t}(h);if(!GP(r)||!r.isCollapsed()||null===i||null===t)return void v();const o=a(i,h);if(n(o?o.matchingString:null),null!==o&&(f||!function(e,t){return 0===t&&e.getEditorState().read((()=>{const e=RP();if(GP(e)){const t=e.anchor.getNode().getPreviousSibling();return tI(t)&&t.isTextEntity()}return!1}))}(h,o.leadOffset))){const n=function(e,t,n){const r=x$(n);if(null===r||!r.isCollapsed)return!1;const i=r.anchorNode,o=e,s=r.anchorOffset;if(null==i||null==s)return!1;try{t.setStart(i,o),t.setEnd(i,s)}catch(e){return!1}return!0}(o.leadOffset,t,e);if(null!==n)return s=()=>y({getRect:()=>t.getBoundingClientRect(),match:o}),void(w3 in MS?MS[w3](s):s())}var s;v()}))}));return()=>{e()}}),[h,a,n,p,v,y,f]),(0,MS.useEffect)((()=>h.registerEditableListener((e=>{e||v()}))),[h,v]),null===p||null===h||null===g.current?null:(0,ND.jsx)(PC,{close:v,resolution:p,editor:h,anchorElementRef:g,options:t,menuRenderFn:s,shouldSplitNodeWithQuery:!0,onSelectOption:r,commandPriority:c,preselectFirstItem:d})},MenuOption:class{constructor(e){this.key=e,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(e){this.ref={current:e}}},PUNCTUATION:k3,SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND:D3,getScrollParent:function(e,t){let n=getComputedStyle(e);const r="absolute"===n.position,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===n.position)return document.body;for(let t=e;t=t.parentElement;)if(n=getComputedStyle(t),(!r||"static"!==n.position)&&i.test(n.overflow+n.overflowY+n.overflowX))return t;return document.body},useBasicTypeaheadTriggerMatch:function(e,t){let{minLength:n=1,maxLength:r=75,punctuation:i=k3}=t;return(0,MS.useCallback)((t=>{const o=new RegExp("(^|\\s|\\()(["+e+"]((?:[^"+e+i+"\\s]){0,"+r+"}))$").exec(t);if(null!==o){const e=o[1],t=o[3];if(t.length>=n)return{leadOffset:o.index+e.length,matchingString:t,replaceableString:o[2]}}return null}),[r,n,e,i])},useDynamicPositioning:LC});const A3=T3,N3=A3.LexicalTypeaheadMenuPlugin,O3=A3.MenuOption,j3=A3.useBasicTypeaheadTriggerMatch;class M3 extends O3{constructor(e,t,n){super(t),this.userId=e,this.name=t,this.avatar=n}}const R3=e=>{let{options:t,direction:n="ltr",parentDirection:r="rtl",selectedIndex:i,referenceElement:o,setHighlightedIndex:s,selectOptionAndCleanUp:a}=e;const[l,c]=(0,MS.useState)(null),[u,d]=(0,MS.useState)(null),[f]=kK(),h=b0({initialOpen:!0,placement:"auto"===n&&"rtl"===r?"bottom-end":"bottom-start",offsetOptions:-28,middlewares:e=>[...e.filter((e=>{let{name:t}=e;return"offset"!==t&&"hide"!==t})),IG((e=>{let{placement:t}=e;return t.startsWith("top")?28:-28}))],interactionHooks:()=>[]}),[p,m]=(0,MS.useState)(h),g=0===p.x&&0===p.y,v=xC((e=>{$C(p,h)||m(e)}),100);return(0,MS.useEffect)((()=>{h.refs.setReference(o),h.setOpen(!0)}),[o]),(0,MS.useEffect)((()=>{v(h)}),[h]),(0,MS.useEffect)((()=>{const e=pB(f.registerCommand(JI,(e=>{e.preventDefault(),e.stopImmediatePropagation();const n=null===i?0:i<t.length-1?i+1:null;return null!==n&&(s(n),d(n),c("keyboard")),!0}),xI),f.registerCommand(QI,(e=>{e.preventDefault(),e.stopImmediatePropagation();const t=null===i?0:i>0?i-1:null;return null!==t&&(s(t),d(t),c("keyboard")),!0}),xI));return()=>{e()}}),[f,i,s]),(0,MS.useEffect)((()=>{0!==t.length&&("keyboard"===l&&d(0),s(0))}),[t.length]),MS.createElement(C0,{state:p},MS.createElement("div",{className:"editor__mentions__menu",dir:n,style:{visibility:g?"hidden":"visible"},onMouseDown:e=>{e.preventDefault()}},MS.createElement("ul",{className:"number"==typeof i&&i>=0?"always-scrollbar":void 0},t.map(((e,t)=>MS.createElement(zC,{key:e.key,index:t,isSelected:i===t,option:e,onMouseDown:n=>{n.preventDefault(),s(t),a(e)},onMouseEnter:()=>{s(t),c("mouse")},onMouseLeave:()=>{s("number"==typeof u&&u>=0&&"keyboard"===l?u:null)}}))))))},F3=e=>{let{name:t,avatar:n,email:r,referenceElement:i,boundaries:o,displayEmail:s=!0,direction:a="ltr",parentDirection:l="rtl",modalRef:c,defaultDetectOverflowOptions:u={},portalStrategy:d="inline",getEditorParent:f=(()=>null)}=e;const[h,p]=(0,MS.useState)(!0),m=y0({initialOpen:!0,placement:"rtl"===a||"auto"===a&&"rtl"===l?"left-start":"right-start",offsetOptions:10,boundaries:o,defaultDetectOverflowOptions:u,middlewares:e=>[...e.filter((e=>{let{name:t}=e;return"hide"!==t}))],interactionHooks:e=>[v_(e,{referencePress:!1,capture:{escapeKey:!0,outsidePress:!1}})]}),g=()=>p(!1);return(0,MS.useEffect)((()=>{m.refs.setReference(i),m.setOpen(!0)}),[i,m.refs]),MS.createElement(w0,{state:m,direction:a,portalStrategy:d,getEditorParent:f},MS.createElement("div",{className:"editor__user__details",style:{visibility:h?"hidden":"visible"},ref:c},MS.createElement("div",{className:"editor__user__details__modal"},MS.createElement("div",{className:"editor__user__details__image"},MS.createElement("img",{src:n,alt:t,onLoad:g,onError:g})),MS.createElement("div",{className:"editor__user__details__info"},MS.createElement("p",null,t),s&&r&&MS.createElement("p",{className:"editor__user__details__info_email"},r)))))},L3="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;",P3=["@"].join(""),I3="[^"+P3+L3+"\\s]",$3=new RegExp("(^|\\s|\\()(["+P3+"]((?:"+I3+"(?:\\.[ |$]| |["+L3+"]|)){0,75}))$"),z3=new RegExp("(^|\\s|\\()(["+P3+"]((?:"+I3+"){0,50}))$"),B3=()=>{var e,t,n;const[r]=kK(),{hsoubEditorProps:{config:{mentions:i},direction:o,editable:s,boundaries:a,defaultDetectOverflowOptions:l,portalStrategy:c}}=(0,MS.useContext)(FK),u=(0,MS.useRef)(null),[d,f]=(0,MS.useState)("rtl"),h=(null==i?void 0:i.enable)?i.lookup:()=>{},p=(null==i?void 0:i.enable)?i.userId:"",m=(null==i?void 0:i.enable)&&(null===(e=i.preview)||void 0===e?void 0:e.enable)?i.preview.getUserById:()=>null,[g,v]=(0,MS.useState)(null),y=((e,t)=>{const[n,r]=(0,MS.useState)([]);return(0,MS.useEffect)((()=>{null!=e?t(e,(e=>{r(e)})):r([])}),[e,t]),n})(g,h),b=(0,MS.useMemo)((()=>y.map((e=>new M3(e.id,e.name,e.avatar)))),[y]),[_,w]=(0,MS.useState)(null),C=!(!(null==i?void 0:i.enable)||!(null===(t=i.preview)||void 0===t?void 0:t.enable))&&(i.preview.displayMentionedEmail||i.preview.userEmail===(null==_?void 0:_.email)),[x,E]=(0,MS.useState)(null),S=(0,MS.useCallback)(((e,t,n)=>{r.update((()=>{const r=RP();let i=null;if(GP(r)){const e=r.anchor.getNode().__style.match(/font-size:\s*(\d+)px/);i=e?Number(e[1]):null}const o=fC(p,e.userId,e.name,"number"==typeof i?.85*i+"px":void 0),s=bP(" ");t&&(t.replace(o),o.insertAfter(s)),n()}))}),[r]),k=j3("/",{minLength:0}),D=(0,MS.useCallback)((e=>{if(null!==k(e,r))return null;let t=!1;return r.getEditorState().read((()=>{const e=RP();if(GP(e)){const n=e.anchor.getNode().getParent();(null==n?void 0:n.__dir)&&f(n.__dir),n&&(YU(n)||VU(n))&&(t=!0)}})),t?null:(e=>(e=>{let t=$3.exec(e);if(null===t&&(t=z3.exec(e)),null!==t){const e=t[1],n=t[3];if(n.length>=1)return{leadOffset:t.index+e.length,matchingString:n,replaceableString:t[2]}}return null})(e))(e)}),[k,r]),T=(0,MS.useCallback)(((e,t)=>{let{selectedIndex:n,selectOptionAndCleanUp:r,setHighlightedIndex:i}=t;return e.current&&y.length?MS.createElement(R3,{options:b,direction:o,parentDirection:d,selectedIndex:n,referenceElement:e.current,setHighlightedIndex:i,selectOptionAndCleanUp:r}):null}),[y,o]);(0,MS.useEffect)((()=>{var e;if((null==i?void 0:i.enable)&&!(null===(e=i.preview)||void 0===e?void 0:e.enable))return;const t=r.registerCommand(wI,(e=>{const t=e.target;if(!t)return!1;const n=t.parentElement;(null==n?void 0:n.dir)&&f(n.dir);const r=AP(t);return hC(r)?(w((e=>{if(e&&e.userId===r.__mentionedId)return E(null),null;{const n=m(r.__mentionedId);return n?(E(t),Object.assign(Object.assign({},n),{userId:r.__mentionedId})):e}})),!0):(w(null),E(null),!1)}),SI),n=e=>{const t=e.target,n=r.getRootElement(),i=u.current,o=null==n?void 0:n.contains(t),s=null==i?void 0:i.contains(t);o||s||(w(null),E(null))};return document.addEventListener("mousedown",n),()=>{t(),document.removeEventListener("mousedown",n)}}),[r,m]);const[A,N]=(0,MS.useState)(!1);return(0,MS.useEffect)((()=>{if(!s)return;const e=r.registerCommand(II,(()=>(N(!0),!1)),kI),t=r.registerCommand(gI,(()=>(N(!1),!1)),kI);return()=>{e(),t()}}),[r]),(0,MS.useEffect)((()=>{if(!s)return;const e=r.registerCommand(GI,(()=>{const e=RP();if(!GP(e)||!e.isCollapsed())return!1;const{anchor:t}=e,n=t.getNode(),i=t.offset;if(0===i&&hC(n.getPreviousSibling())){const e=new KeyboardEvent("keydown",{key:"ArrowRight"});return r.dispatchCommand(XI,e),!0}if(HP(n)&&hC(n.getChildAtIndex(i))){const e=n.getChildAtIndex(i),t=e.getParent();if(!HP(t))return!1;const r=t.getChildren().indexOf(e),o=gP();return o.anchor.set(t.getKey(),r,"element"),o.focus.set(t.getKey(),r,"element"),uI(o),!0}return!1}),kI),t=r.registerCommand(XI,(()=>{var e;const t=RP();if(!GP(t)||!t.isCollapsed())return!1;const{anchor:n}=t,i=n.getNode(),o=n.offset;if(o===((null===(e=i.getTextContent)||void 0===e?void 0:e.call(i))||"").length&&hC(i.getNextSibling())){const e=new KeyboardEvent("keydown",{key:"ArrowLeft"});return r.dispatchCommand(GI,e),!0}if(HP(i)&&hC(i.getChildAtIndex(o))){const e=i.getChildAtIndex(o),t=i,n=t.getChildren().indexOf(e),r=gP();return r.anchor.set(t.getKey(),n,"element"),r.focus.set(t.getKey(),n,"element"),uI(r),!0}return!1}),kI);return()=>{e(),t()}}),[r]),(null==i?void 0:i.enable)?MS.createElement(MS.Fragment,null,s&&A&&MS.createElement(N3,{preselectFirstItem:!1,options:b,onQueryChange:v,onSelectOption:S,triggerFn:D,menuRenderFn:T}),(null===(n=i.preview)||void 0===n?void 0:n.enable)&&_&&x&&MS.createElement(F3,Object.assign({},_,{displayEmail:C,referenceElement:x,direction:o,parentDirection:d,modalRef:u,boundaries:a,defaultDetectOverflowOptions:l,portalStrategy:c,getEditorParent:()=>{var e,t,n;return null===(n=null===(t=null===(e=null==r?void 0:r.getRootElement)||void 0===e?void 0:e.call(r))||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.parentElement}}))):null};class U3{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._offsetMap=e,this._firstNode=t,this._blockOffsetSize=n}createSelectionFromOffsets(e,t,n){const r=this._firstNode;if(null===r)return null;let i=e,o=t,s=WC(r,i,this._blockOffsetSize),a=WC(r,o,this._blockOffsetSize);if(void 0!==n&&(i=HC(i,s,n,this,this._blockOffsetSize),s=WC(r,i,this._blockOffsetSize),o=HC(o,a,n,this,this._blockOffsetSize),a=WC(r,o,this._blockOffsetSize)),null===s||null===a)return null;let l=s.key,c=a.key;const u=NP(l),d=NP(c);if(null===u||null===d)return null;let f=0,h=0,p="element",m="element";if("text"===s.type){f=i-s.start,p="text";const e=u.getNextSibling();i!==o&&f===u.getTextContentSize()&&tI(e)&&(f=0,l=e.__key)}else"inline"===s.type&&(l=u.getParentOrThrow().getKey(),f=o>s.start?s.end:s.start);"text"===a.type?(h=o-a.start,m="text"):"inline"===a.type&&(c=d.getParentOrThrow().getKey(),h=o>a.start?a.end:a.start);const g=gP();return null===g?null:(g.anchor.set(l,f,p),g.focus.set(c,h,m),g)}getOffsetsFromSelection(e){const t=e.anchor,n=e.focus,r=this._offsetMap,i=t.offset,o=n.offset;let s=-1,a=-1;if("text"===t.type){const e=r.get(t.key);void 0!==e&&(s=e.start+i)}else{
const e=t.getNode().getDescendantByIndex(i);if(null!==e){const t=r.get(e.getKey());void 0!==t&&(s=e.getIndexWithinParent()!==i?t.end:t.start)}}if("text"===n.type){const e=r.get(n.key);void 0!==e&&(a=e.start+n.offset)}else{const e=n.getNode().getDescendantByIndex(o);if(null!==e){const t=r.get(e.getKey());void 0!==t&&(a=e.getIndexWithinParent()!==o?t.end:t.start)}}return[s,a]}}const H3=YC;Object.freeze({__proto__:null,$createChildrenArray:YC,$createOffsetView:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=((arguments.length>2?arguments[2]:void 0)||e._pendingEditorState||e._editorState)._nodeMap,r=n.get("root"),i=new Map,o=VC({offset:0,prevIsBlock:!1},YC(r,n),null,n,i,t);return new U3(i,o,t)},OffsetView:U3,createChildrenArray:H3});class W3{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._offsetMap=e,this._firstNode=t,this._blockOffsetSize=n}createSelectionFromOffsets(e,t,n){const r=this._firstNode;if(null===r)return null;let i=e,o=t,s=XC(r,i,this._blockOffsetSize),a=XC(r,o,this._blockOffsetSize);if(void 0!==n&&(i=GC(i,s,n,this,this._blockOffsetSize),s=XC(r,i,this._blockOffsetSize),o=GC(o,a,n,this,this._blockOffsetSize),a=XC(r,o,this._blockOffsetSize)),null===s||null===a)return null;let l=s.key,c=a.key;const u=NP(l),d=NP(c);if(null===u||null===d)return null;let f=0,h=0,p="element",m="element";if("text"===s.type){f=i-s.start,p="text";const e=u.getNextSibling();i!==o&&f===u.getTextContentSize()&&tI(e)&&(f=0,l=e.__key)}else"inline"===s.type&&(l=u.getParentOrThrow().getKey(),f=o>s.start?s.end:s.start);"text"===a.type?(h=o-a.start,m="text"):"inline"===a.type&&(c=d.getParentOrThrow().getKey(),h=o>a.start?a.end:a.start);const g=gP();return null===g?null:(g.anchor.set(l,f,p),g.focus.set(c,h,m),g)}getOffsetsFromSelection(e){const t=e.anchor,n=e.focus,r=this._offsetMap,i=t.offset,o=n.offset;let s=-1,a=-1;if("text"===t.type){const e=r.get(t.key);void 0!==e&&(s=e.start+i)}else{const e=t.getNode().getDescendantByIndex(i);if(null!==e){const t=r.get(e.getKey());void 0!==t&&(s=e.getIndexWithinParent()!==i?t.end:t.start)}}if("text"===n.type){const e=r.get(n.key);void 0!==e&&(a=e.start+n.offset)}else{const e=n.getNode().getDescendantByIndex(o);if(null!==e){const t=r.get(e.getKey());void 0!==t&&(a=e.getIndexWithinParent()!==o?t.end:t.start)}}return[s,a]}}const K3=tx;var q3=Object.freeze({__proto__:null,$createChildrenArray:tx,$createOffsetView:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=((arguments.length>2?arguments[2]:void 0)||e._pendingEditorState||e._editorState)._nodeMap,r=n.get("root"),i=new Map,o=ex({offset:0,prevIsBlock:!1},tx(r,n),null,n,i,t);return new W3(i,o,t)},OffsetView:W3,createChildrenArray:K3});const V3=q3.$createChildrenArray;class Y3{constructor(e,t){this._key="",this._map=e,this._parent=t,this._type="linebreak"}getNode(){const e=NP(this._key);return VP(e)?e:null}getKey(){return this._key}getSharedType(){return this._map}getType(){return this._type}getSize(){return 1}getOffset(){return this._parent.getChildOffset(this)}destroy(e){const t=e.collabNodeMap;t.get(this._key)===this&&t.delete(this._key)}}class J3{constructor(e,t,n,r){this._key="",this._map=e,this._parent=n,this._text=t,this._type=r,this._normalized=!1}getPrevNode(e){if(null===e)return null;const t=e.get(this._key);return tI(t)?t:null}getNode(){const e=NP(this._key);return tI(e)?e:null}getSharedType(){return this._map}getType(){return this._type}getKey(){return this._key}getSize(){return this._text.length+(this._normalized?0:1)}getOffset(){return this._parent.getChildOffset(this)}spliceText(e,t,n){const r=this._parent._xmlText,i=this.getOffset()+1+e;0!==t&&r.delete(i,t),""!==n&&r.insert(i,n)}syncPropertiesAndTextFromLexical(e,t,n){const r=this.getPrevNode(n),i=t.__text;if(px(e,this._map,r,t),null!==r){const e=r.__text;e!==i&&(function(e,t,n,r){const i=RP();let o=r.length;if(GP(i)&&i.isCollapsed()){const e=i.anchor;e.key===t&&(o=e.offset)}const s=function(e,t,n){const r=e.length,i=t.length;let o=0,s=0;for(;o<r&&o<i&&e[o]===t[o]&&o<n;)o++;for(;s+o<r&&s+o<i&&e[r-s-1]===t[i-s-1];)s++;for(;s+o<r&&s+o<i&&e[o]===t[o];)o++;return{index:o,insert:t.slice(o,i-s),remove:r-o-s}}(n,r,o);e.spliceText(s.index,s.remove,s.insert)}(this,t.__key,e,i),this._text=i)}}syncPropertiesAndTextFromYjs(e,t){const n=this.getNode();null===n&&nx("syncPropertiesAndTextFromYjs: could not find decorator node"),ux(e,this._map,n,t);const r=this._text;n.__text!==r&&(n.getWritable().__text=r)}destroy(e){const t=e.collabNodeMap;t.get(this._key)===this&&t.delete(this._key)}}const G3=new Set(["__key","__parent","__next","__prev","__state"]),X3=new Set(["__first","__last","__size","__dir"]),Q3=new Set(["__cachedText"]),Z3=new Set(["__text"]);class e4{constructor(e,t,n){this._key="",this._xmlElem=e,this._parent=t,this._type=n}getPrevNode(e){if(null===e)return null;const t=e.get(this._key);return UP(t)?t:null}getNode(){const e=NP(this._key);return UP(e)?e:null}getSharedType(){return this._xmlElem}getType(){return this._type}getKey(){return this._key}getSize(){return 1}getOffset(){return this._parent.getChildOffset(this)}syncPropertiesFromLexical(e,t,n){const r=this.getPrevNode(n);px(e,this._xmlElem,r,t)}syncPropertiesFromYjs(e,t){const n=this.getNode();null===n&&nx("syncPropertiesFromYjs: could not find decorator node"),ux(e,this._xmlElem,n,t)}destroy(e){const t=e.collabNodeMap;t.get(this._key)===this&&t.delete(this._key)}}class t4{constructor(e,t,n){this._key="",this._children=[],this._xmlText=e,this._type=n,this._parent=t}getPrevNode(e){if(null===e)return null;const t=e.get(this._key);return HP(t)?t:null}getNode(){const e=NP(this._key);return HP(e)?e:null}getSharedType(){return this._xmlText}getType(){return this._type}getKey(){return this._key}isEmpty(){return 0===this._children.length}getSize(){return 1}getOffset(){const e=this._parent;return null===e&&nx("getOffset: could not find collab element node"),e.getChildOffset(this)}syncPropertiesFromYjs(e,t){const n=this.getNode();null===n&&nx("syncPropertiesFromYjs: could not find element node"),ux(e,this._xmlText,n,t)}applyChildrenYjsDelta(e,t){const n=this._children;let r=0,i=null;for(let o=0;o<t.length;o++){const s=t[o],a=s.insert,l=s.delete;if(null!=s.retain)r+=s.retain;else if("number"==typeof l){let e=l;for(;e>0;){const{node:t,nodeIndex:i,offset:o,length:s}=gx(this,r,!1);if(t instanceof t4||t instanceof Y3||t instanceof e4)n.splice(i,1),e-=1;else{if(!(t instanceof J3))break;{const r=Math.min(e,s),a=0!==i?n[i-1]:null,l=t.getSize();if(0===o&&s===l){n.splice(i,1);const e=mx(t._text,o,r-1,"");e.length>0&&(a instanceof J3?a._text+=e:this._xmlText.delete(o,e.length))}else t._text=mx(t._text,o,r,"");e-=r}}}}else{if(null==a)throw new Error("Unexpected delta format");if("string"==typeof a){const{node:e,offset:t}=gx(this,r,!0);e instanceof J3?e._text=mx(e._text,t,0,a):this._xmlText.delete(t,a.length),r+=a.length}else{const t=a,{node:o,nodeIndex:s,length:l}=gx(this,r,!1),c=lx(e,t,this);if(o instanceof J3&&l>0&&l<o._text.length){const e=o._text,t=e.length-l;o._text=mx(e,t,l,""),n.splice(s+1,0,c),i=mx(e,0,t,"")}else n.splice(s,0,c);null!==i&&c instanceof J3&&(c._text=i+c._text,i=null),r+=1}}}}syncChildrenFromYjs(e){const t=this.getNode();null===t&&nx("syncChildrenFromYjs: could not find element node");const n=t.__key,r=V3(t,null),i=r.length,o=this._children,s=o.length,a=e.collabNodeMap,l=new Set;let c,u,d=0,f=null;s!==i&&(u=t.getWritable());for(let i=0;i<s;i++){const h=r[d],p=o[i],m=p.getNode(),g=p._key;if(null!==m&&h===g){const t=tI(m);if(l.add(h),t)if(p._key=h,p instanceof t4){const t=p._xmlText;p.syncPropertiesFromYjs(e,null),p.applyChildrenYjsDelta(e,t.toDelta()),p.syncChildrenFromYjs(e)}else p instanceof J3?p.syncPropertiesAndTextFromYjs(e,null):p instanceof e4?p.syncPropertiesFromYjs(e,null):p instanceof Y3||nx("syncChildrenFromYjs: expected text, element, decorator, or linebreak collab node");f=m,d++}else{if(void 0===c){c=new Set;for(let e=0;e<s;e++){const t=o[e]._key;""!==t&&c.add(t)}}if(null!==m&&void 0!==h&&!c.has(h)){const e=OP(h);L$(e),i--,d++;continue}u=t.getWritable();const r=cx(e,p,n),l=r.__key;if(a.set(l,p),null===f){const e=u.getFirstChild();if(u.__first=l,null!==e){const t=e.getWritable();t.__prev=l,r.__next=t.__key}}else{const e=f.getWritable(),t=f.getNextSibling();if(e.__next=l,r.__prev=f.__key,null!==t){const e=t.getWritable();e.__prev=l,r.__next=e.__key}}i===s-1&&(u.__last=l),u.__size++,f=r}}for(let t=0;t<i;t++){const n=r[t];if(!l.has(n)){const t=OP(n),r=e.collabNodeMap.get(n);void 0!==r&&r.destroy(e),L$(t)}}}syncPropertiesFromLexical(e,t,n){px(e,this._xmlText,this.getPrevNode(n),t)}_syncChildFromLexical(e,t,n,r,i,o){const s=this._children[t],a=OP(n);s instanceof t4&&HP(a)?(s.syncPropertiesFromLexical(e,a,r),s.syncChildrenFromLexical(e,a,r,i,o)):s instanceof J3&&tI(a)?s.syncPropertiesAndTextFromLexical(e,a,r):s instanceof e4&&UP(a)&&s.syncPropertiesFromLexical(e,a,r)}syncChildrenFromLexical(e,t,n,r,i){const o=this.getPrevNode(n),s=null===o?[]:V3(o,n),a=V3(t,null),l=s.length-1,c=a.length-1,u=e.collabNodeMap;let d,f,h=0,p=0;for(;h<=l&&p<=c;){const t=s[h],o=a[p];if(t===o)this._syncChildFromLexical(e,p,o,n,r,i),h++,p++;else{void 0===d&&(d=new Set(s)),void 0===f&&(f=new Set(a));const n=f.has(t),r=d.has(o);if(n){const t=sx(e,OP(o),this);u.set(o,t),r?(this.splice(e,p,1,t),h++,p++):(this.splice(e,p,0,t),p++)}else this.splice(e,p,1),h++}}const m=h>l,g=p>c;if(m&&!g)for(;p<=c;++p){const t=a[p],n=sx(e,OP(t),this);this.append(n),u.set(t,n)}else if(g&&!m)for(let t=this._children.length-1;t>=p;t--)this.splice(e,t,1)}append(e){const t=this._xmlText,n=this._children,r=n[n.length-1],i=void 0!==r?r.getOffset()+r.getSize():0;if(e instanceof t4)t.insertEmbed(i,e._xmlText);else if(e instanceof J3){const n=e._map;null===n.parent&&t.insertEmbed(i,n),t.insert(i+1,e._text)}else e instanceof Y3?t.insertEmbed(i,e._map):e instanceof e4&&t.insertEmbed(i,e._xmlElem);this._children.push(e)}splice(e,t,n,r){const i=this._children,o=i[t];if(void 0===o)return void 0===r&&nx("splice: could not find collab element node"),void this.append(r);const s=o.getOffset();-1===s&&nx("splice: expected offset to be greater than zero");const a=this._xmlText;if(0!==n&&a.delete(s,o.getSize()),r instanceof t4)a.insertEmbed(s,r._xmlText);else if(r instanceof J3){const e=r._map;null===e.parent&&a.insertEmbed(s,e),a.insert(s+1,r._text)}else r instanceof Y3?a.insertEmbed(s,r._map):r instanceof e4&&a.insertEmbed(s,r._xmlElem);if(0!==n){const r=i.slice(t,t+n);for(let t=0;t<r.length;t++)r[t].destroy(e)}void 0!==r?i.splice(t,n,r):i.splice(t,n)}getChildOffset(e){let t=0;const n=this._children;for(let r=0;r<n.length;r++){const i=n[r];if(i===e)return t;t+=i.getSize()}return-1}destroy(e){const t=e.collabNodeMap,n=this._children;for(let t=0;t<n.length;t++)n[t].destroy(e);t.get(this._key)===this&&t.delete(this._key)}}const n4=w$("CONNECTED_COMMAND"),r4=w$("TOGGLE_CONNECT_COMMAND");Object.freeze({__proto__:null,CONNECTED_COMMAND:n4,TOGGLE_CONNECT_COMMAND:r4,createBinding:function(e,t,n,r,i,o){null==r&&nx("createBinding: doc is null or undefined");const s=_x(r.get("root",tO.XmlText),null,"root");return s._key="root",{clientID:r.clientID,collabNodeMap:new Map,cursors:new Map,cursorsContainer:null,doc:r,docMap:i,editor:e,excludedProperties:o||new Map,id:n,nodeProperties:new Map,root:s}},createUndoManager:function(e,t){return new tO.UndoManager(t,{trackedOrigins:new Set([e,null])})},getAnchorAndFocusCollabNodesForUserState:Ax,initLocalState:function(e,t,n,r,i){e.awareness.setLocalState({anchorPos:null,awarenessData:i,color:n,focusPos:null,focusing:r,name:t})},setLocalStateFocus:function(e,t,n,r,i){const{awareness:o}=e;let s=o.getLocalState();null===s&&(s={anchorPos:null,awarenessData:i,color:n,focusPos:null,focusing:r,name:t}),s.focusing=r,o.setLocalState(s)},syncCursorPositions:Rx,syncLexicalUpdateToYjs:function(e,t,n,r,i,o,s,a){!function(e,t){e.doc.transact(t,e)}(e,(()=>{r.read((()=>{if(a.has(CI)||a.has(BI))return void(s.size>0&&function(e,t){const n=Array.from(t),r=e.collabNodeMap,i=[],o=[];for(let e=0;e<n.length;e++){const t=n[e],s=NP(t),a=r.get(t);if(a instanceof J3)if(tI(s))i.push([a,s.__text]);else{const e=a.getOffset();if(-1===e)continue;const t=a._parent;a._normalized=!0,t._xmlText.delete(e,1),o.push(a)}}for(let e=0;e<o.length;e++){const t=o[e],n=t.getKey();r.delete(n);const i=t._parent._children,s=i.indexOf(t);i.splice(s,1)}for(let e=0;e<i.length;e++){const[t,n]=i[e];t._text=n}}(e,s));if(i.has("root")){const t=n._nodeMap,r=MP(),s=e.root;s.syncPropertiesFromLexical(e,r,t),s.syncChildrenFromLexical(e,r,t,i,o)}const r=RP(),l=n._selection;Fx(e,t,l,r)}))}))},syncYjsChangesToLexical:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Rx;const o=e.editor,s=o._editorState;n.forEach((e=>e.delta)),o.update((()=>{for(let t=0;t<n.length;t++){const r=n[t];Lx(e,r)}const i=RP();if(GP(i))if(vx(i)){const n=s._selection;GP(n)&&(Nx(e,t),vx(i))&&yx(i.anchor.key,s),Fx(e,t,n,RP())}else Nx(e,t);r||aP(v$)}),{onUpdate:()=>{i(e,t),o.update((()=>{0===MP().getChildrenSize()&&MP().append(pP())}))},skipTransforms:!0,tag:r?BI:CI})}});class i4{constructor(e,t){this._key="",this._map=e,this._parent=t,this._type="linebreak"}getNode(){const e=NP(this._key);return VP(e)?e:null}getKey(){return this._key}getSharedType(){return this._map}getType(){return this._type}getSize(){return 1}getOffset(){return this._parent.getChildOffset(this)}destroy(e){const t=e.collabNodeMap;t.get(this._key)===this&&t.delete(this._key)}}class o4{constructor(e,t,n,r){this._key="",this._map=e,this._parent=n,this._text=t,this._type=r,this._normalized=!1}getPrevNode(e){if(null===e)return null;const t=e.get(this._key);return tI(t)?t:null}getNode(){const e=NP(this._key);return tI(e)?e:null}getSharedType(){return this._map}getType(){return this._type}getKey(){return this._key}getSize(){return this._text.length+(this._normalized?0:1)}getOffset(){return this._parent.getChildOffset(this)}spliceText(e,t,n){const r=this._parent._xmlText,i=this.getOffset()+1+e;0!==t&&r.delete(i,t),""!==n&&r.insert(i,n)}syncPropertiesAndTextFromLexical(e,t,n){const r=this.getPrevNode(n),i=t.__text;if(Jx(e,this._map,r,t),null!==r){const e=r.__text;e!==i&&(function(e,t,n,r){const i=RP();let o=r.length;if(GP(i)&&i.isCollapsed()){const e=i.anchor;e.key===t&&(o=e.offset)}const s=function(e,t,n){const r=e.length,i=t.length;let o=0,s=0;for(;o<r&&o<i&&e[o]===t[o]&&o<n;)o++;for(;s+o<r&&s+o<i&&e[r-s-1]===t[i-s-1];)s++;for(;s+o<r&&s+o<i&&e[o]===t[o];)o++;return{index:o,insert:t.slice(o,i-s),remove:r-o-s}}(n,r,o);e.spliceText(s.index,s.remove,s.insert)}(this,t.__key,e,i),this._text=i)}}syncPropertiesAndTextFromYjs(e,t){const n=this.getNode();null===n&&Px(84),Kx(e,this._map,n,t);const r=this._text;n.__text!==r&&(n.getWritable().__text=r)}destroy(e){const t=e.collabNodeMap;t.get(this._key)===this&&t.delete(this._key)}}const s4=new Set(["__key","__parent","__next","__prev","__state"]),a4=new Set(["__first","__last","__size","__dir"]),l4=new Set(["__cachedText"]),c4=new Set(["__text"]);class u4{constructor(e,t,n){this._key="",this._xmlElem=e,this._parent=t,this._type=n}getPrevNode(e){if(null===e)return null;const t=e.get(this._key);return UP(t)?t:null}getNode(){const e=NP(this._key);return UP(e)?e:null}getSharedType(){return this._xmlElem}getType(){return this._type}getKey(){return this._key}getSize(){return 1}getOffset(){return this._parent.getChildOffset(this)}syncPropertiesFromLexical(e,t,n){const r=this.getPrevNode(n);Jx(e,this._xmlElem,r,t)}syncPropertiesFromYjs(e,t){const n=this.getNode();null===n&&Px(83),Kx(e,this._xmlElem,n,t)}destroy(e){const t=e.collabNodeMap;t.get(this._key)===this&&t.delete(this._key)}}class d4{constructor(e,t,n){this._key="",this._children=[],this._xmlText=e,this._type=n,this._parent=t}getPrevNode(e){if(null===e)return null;const t=e.get(this._key);return HP(t)?t:null}getNode(){const e=NP(this._key);return HP(e)?e:null}getSharedType(){return this._xmlText}getType(){return this._type}getKey(){return this._key}isEmpty(){return 0===this._children.length}getSize(){return 1}getOffset(){const e=this._parent;return null===e&&Px(90),e.getChildOffset(this)}syncPropertiesFromYjs(e,t){const n=this.getNode();null===n&&Px(91),Kx(e,this._xmlText,n,t)}applyChildrenYjsDelta(e,t){const n=this._children;let r=0,i=null;for(let o=0;o<t.length;o++){const s=t[o],a=s.insert,l=s.delete;if(null!=s.retain)r+=s.retain;else if("number"==typeof l){let e=l;for(;e>0;){const{node:t,nodeIndex:i,offset:o,length:s}=Xx(this,r,!1);if(t instanceof d4||t instanceof i4||t instanceof u4)n.splice(i,1),e-=1;else{if(!(t instanceof o4))break;{const r=Math.min(e,s),a=0!==i?n[i-1]:null,l=t.getSize();if(0===o&&s===l){n.splice(i,1);const e=Gx(t._text,o,r-1,"");e.length>0&&(a instanceof o4?a._text+=e:this._xmlText.delete(o,e.length))}else t._text=Gx(t._text,o,r,"");e-=r}}}}else{if(null==a)throw new Error("Unexpected delta format");if("string"==typeof a){const{node:e,offset:t}=Xx(this,r,!0);e instanceof o4?e._text=Gx(e._text,t,0,a):this._xmlText.delete(t,a.length),r+=a.length}else{const t=a,{node:o,nodeIndex:s,length:l}=Xx(this,r,!1),c=Hx(e,t,this);if(o instanceof o4&&l>0&&l<o._text.length){const e=o._text,t=e.length-l;o._text=Gx(e,t,l,""),n.splice(s+1,0,c),i=Gx(e,0,t,"")}else n.splice(s,0,c);null!==i&&c instanceof o4&&(c._text=i+c._text,i=null),r+=1}}}}syncChildrenFromYjs(e){const t=this.getNode();null===t&&Px(92);const n=t.__key,r=V3(t,null),i=r.length,o=this._children,s=o.length,a=e.collabNodeMap,l=new Set;let c,u,d=0,f=null;s!==i&&(u=t.getWritable());for(let i=0;i<s;i++){const h=r[d],p=o[i],m=p.getNode(),g=p._key;if(null!==m&&h===g){const t=tI(m);if(l.add(h),t)if(p._key=h,p instanceof d4){const t=p._xmlText;p.syncPropertiesFromYjs(e,null),p.applyChildrenYjsDelta(e,t.toDelta()),p.syncChildrenFromYjs(e)}else p instanceof o4?p.syncPropertiesAndTextFromYjs(e,null):p instanceof u4?p.syncPropertiesFromYjs(e,null):p instanceof i4||Px(93);f=m,d++}else{if(void 0===c){c=new Set;for(let e=0;e<s;e++){const t=o[e]._key;""!==t&&c.add(t)}}if(null!==m&&void 0!==h&&!c.has(h)){const e=OP(h);L$(e),i--,d++;continue}u=t.getWritable();const r=Wx(e,p,n),l=r.__key;if(a.set(l,p),null===f){const e=u.getFirstChild();if(u.__first=l,null!==e){const t=e.getWritable();t.__prev=l,r.__next=t.__key}}else{const e=f.getWritable(),t=f.getNextSibling();if(e.__next=l,r.__prev=f.__key,null!==t){const e=t.getWritable();e.__prev=l,r.__next=e.__key}}i===s-1&&(u.__last=l),u.__size++,f=r}}for(let t=0;t<i;t++){const n=r[t];if(!l.has(n)){const t=OP(n),r=e.collabNodeMap.get(n);void 0!==r&&r.destroy(e),L$(t)}}}syncPropertiesFromLexical(e,t,n){Jx(e,this._xmlText,this.getPrevNode(n),t)}_syncChildFromLexical(e,t,n,r,i,o){const s=this._children[t],a=OP(n);s instanceof d4&&HP(a)?(s.syncPropertiesFromLexical(e,a,r),s.syncChildrenFromLexical(e,a,r,i,o)):s instanceof o4&&tI(a)?s.syncPropertiesAndTextFromLexical(e,a,r):s instanceof u4&&UP(a)&&s.syncPropertiesFromLexical(e,a,r)}syncChildrenFromLexical(e,t,n,r,i){const o=this.getPrevNode(n),s=null===o?[]:V3(o,n),a=V3(t,null),l=s.length-1,c=a.length-1,u=e.collabNodeMap;let d,f,h=0,p=0;for(;h<=l&&p<=c;){const t=s[h],o=a[p];if(t===o)this._syncChildFromLexical(e,p,o,n,r,i),h++,p++;else{void 0===d&&(d=new Set(s)),void 0===f&&(f=new Set(a));const n=f.has(t),r=d.has(o);if(n){const t=Bx(e,OP(o),this);u.set(o,t),r?(this.splice(e,p,1,t),h++,p++):(this.splice(e,p,0,t),p++)}else this.splice(e,p,1),h++}}const m=h>l,g=p>c;if(m&&!g)for(;p<=c;++p){const t=a[p],n=Bx(e,OP(t),this);this.append(n),u.set(t,n)}else if(g&&!m)for(let t=this._children.length-1;t>=p;t--)this.splice(e,t,1)}append(e){const t=this._xmlText,n=this._children,r=n[n.length-1],i=void 0!==r?r.getOffset()+r.getSize():0;if(e instanceof d4)t.insertEmbed(i,e._xmlText);else if(e instanceof o4){const n=e._map;null===n.parent&&t.insertEmbed(i,n),t.insert(i+1,e._text)}else e instanceof i4?t.insertEmbed(i,e._map):e instanceof u4&&t.insertEmbed(i,e._xmlElem);this._children.push(e)}splice(e,t,n,r){const i=this._children,o=i[t];if(void 0===o)return void 0===r&&Px(94),void this.append(r);const s=o.getOffset();-1===s&&Px(95);const a=this._xmlText;if(0!==n&&a.delete(s,o.getSize()),r instanceof d4)a.insertEmbed(s,r._xmlText);else if(r instanceof o4){const e=r._map;null===e.parent&&a.insertEmbed(s,e),a.insert(s+1,r._text)}else r instanceof i4?a.insertEmbed(s,r._map):r instanceof u4&&a.insertEmbed(s,r._xmlElem);if(0!==n){const r=i.slice(t,t+n);for(let t=0;t<r.length;t++)r[t].destroy(e)}void 0!==r?i.splice(t,n,r):i.splice(t,n)}getChildOffset(e){let t=0;const n=this._children;for(let r=0;r<n.length;r++){const i=n[r];if(i===e)return t;t+=i.getSize()}return-1}destroy(e){const t=e.collabNodeMap,n=this._children;for(let t=0;t<n.length;t++)n[t].destroy(e);t.get(this._key)===this&&t.delete(this._key)}}const f4=w$("CONNECTED_COMMAND"),h4=w$("TOGGLE_CONNECT_COMMAND");var p4=Object.freeze({__proto__:null,CONNECTED_COMMAND:f4,TOGGLE_CONNECT_COMMAND:h4,createBinding:function(e,t,n,r,i,o){null==r&&Px(81);const s=tE(r.get("root",tO.XmlText),null,"root");return s._key="root",{clientID:r.clientID,collabNodeMap:new Map,cursors:new Map,cursorsContainer:null,doc:r,docMap:i,editor:e,excludedProperties:o||new Map,id:n,nodeProperties:new Map,root:s}},createUndoManager:function(e,t){return new tO.UndoManager(t,{trackedOrigins:new Set([e,null])})},getAnchorAndFocusCollabNodesForUserState:uE,initLocalState:function(e,t,n,r,i){e.awareness.setLocalState({anchorPos:null,awarenessData:i,color:n,focusPos:null,focusing:r,name:t})},setLocalStateFocus:function(e,t,n,r,i){const{awareness:o}=e;let s=o.getLocalState();null===s&&(s={anchorPos:null,awarenessData:i,color:n,focusPos:null,focusing:r,name:t}),s.focusing=r,o.setLocalState(s)},syncCursorPositions:mE,syncLexicalUpdateToYjs:function(e,t,n,r,i,o,s,a){!function(e,t){e.doc.transact(t,e)}(e,(()=>{r.read((()=>{if(a.has(CI)||a.has(BI))return void(s.size>0&&function(e,t){const n=Array.from(t),r=e.collabNodeMap,i=[],o=[];for(let e=0;e<n.length;e++){const t=n[e],s=NP(t),a=r.get(t);if(a instanceof o4)if(tI(s))i.push([a,s.__text]);else{const e=a.getOffset();if(-1===e)continue;const t=a._parent;a._normalized=!0,t._xmlText.delete(e,1),o.push(a)}}for(let e=0;e<o.length;e++){const t=o[e],n=t.getKey();r.delete(n);const i=t._parent._children,s=i.indexOf(t);i.splice(s,1)}for(let e=0;e<i.length;e++){const[t,n]=i[e];t._text=n}}(e,s));if(i.has("root")){const t=n._nodeMap,r=MP(),s=e.root;s.syncPropertiesFromLexical(e,r,t),s.syncChildrenFromLexical(e,r,t,i,o)}const r=RP(),l=n._selection;gE(e,t,l,r)}))}))},syncYjsChangesToLexical:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:mE;const o=e.editor,s=o._editorState;n.forEach((e=>e.delta)),o.update((()=>{for(let t=0;t<n.length;t++){const r=n[t];vE(e,r)}const i=RP();if(GP(i))if(Qx(i)){const n=s._selection;GP(n)&&(dE(e,t),Qx(i))&&Zx(i.anchor.key,s),gE(e,t,n,RP())}else dE(e,t);r||aP(v$)}),{onUpdate:()=>{i(e,t),o.update((()=>{0===MP().getChildrenSize()&&MP().append(pP())}))},skipTransforms:!0,tag:r?BI:CI})}});const m4=p4,g4=m4.CONNECTED_COMMAND,v4=m4.TOGGLE_CONNECT_COMMAND,y4=m4.createBinding,b4=m4.createUndoManager,_4=m4.initLocalState,w4=m4.setLocalStateFocus,C4=m4.syncCursorPositions,x4=m4.syncLexicalUpdateToYjs,E4=m4.syncYjsChangesToLexical,S4=e=>{const t=(0,MS.useRef)(null),{selectionRect:n,isLast:r,color:i,name:o,cursor:s}=e,a=n.isCollapsed?2:n.width;return MS.createElement(MS.Fragment,null,MS.createElement("div",{ref:t,className:"selection-rects__item","data-name":o,style:{backgroundColor:i,width:a+"px",height:n.height+"px",top:n.top+"px",left:n.left+"px"}}),s&&r&&MS.createElement(k4,{color:i,collapsed:n.isCollapsed,name:o,selectionRectRef:t}))},k4=e=>{var t,n;const{color:r,name:i,collapsed:o,selectionRectRef:s}=e,{hsoubEditorProps:a,toolbar:l}=v0(),c="auto"===a.direction?l.rtl:"rtl"===a.direction,[u]=kK(),d=b0({placement:c?"left-start":"right-start",strategy:"fixed",autoUpdateOptions:{animationFrame:!0,ancestorResize:!0,elementResize:!0,ancestorScroll:!0},interactionHooks:()=>[],middlewares:()=>{return[IG({mainAxis:o?-2:0}),$G({crossAxis:!0,mainAxis:!0,limiter:{...FG(e),options:[e,void 0]},boundary:u._rootElement||void 0,padding:0})];var e}});return MS.useEffect((()=>{d.refs.setReference(s.current),d.setOpen(!0)}),[]),MS.createElement("div",Object.assign({ref:d.refs.setFloating},d.getFloatingProps({style:{display:(null===(t=d.middlewareData.hide)||void 0===t?void 0:t.referenceHidden)||(null===(n=d.middlewareData.hide)||void 0===n?void 0:n.escaped)?"none":"",position:d.strategy,backgroundColor:r,left:d.x?d.x:0,top:d.y?d.y:0}}),{className:"selection-rects__name"}),i)},D4=()=>{var e,t,n,r,i,o,s,a,l,c;const{hsoubEditorProps:u}=v0(),[d]=kK(),f=x0();return function(){var e,t,n;const[r]=kK(),{hsoubEditorProps:i,toolbar:o}=v0(),s=(0,MS.useRef)({}),a=(0,MS.useRef)("inside"),l=xC((e=>{e.read(tJ((()=>Dv(this,void 0,void 0,(function*(){var t,n;const o=wB(r);if(o===(null===(t=i.state)||void 0===t?void 0:t.html))return;const a=CX(r.isComposing());yield $y();const l={json:e.toJSON(),html:a?"":o};s.current=l,yield $y(),null===(n=null==i?void 0:i.onChange)||void 0===n||n.call(i,l)}))),(e=>{var t;null===(t=null==i?void 0:i.onCatchError)||void 0===t||t.call(i,e,{place:"handleOnChange",info:{html:"unknown",toolbar:o,lexicalEditor:r}})})))}),0===i.debounceDelay?0:i.debounceDelay||500);(0,MS.useEffect)((()=>()=>{l.flush()}),[l]),(0,MS.useEffect)((()=>{i.editable||l.flush()}),[i.editable]),(0,MS.useEffect)((()=>{r.update(tJ((()=>{var e,t,n,o;if(null==(null===(e=i.state)||void 0===e?void 0:e.html)||(null===(t=i.state)||void 0===t?void 0:t.html)===(null===(n=s.current)||void 0===n?void 0:n.html)||i.collaboration)return;const l=wB(r);(null===(o=i.state)||void 0===o?void 0:o.html)!==l&&(a.current="outside",aC(r,i.state))}),(e=>{var t;null===(t=null==i?void 0:i.onCatchError)||void 0===t||t.call(i,e,{place:"load html state",info:{html:"unknown",toolbar:o,lexicalEditor:r}})})))}),[null===(e=i.state)||void 0===e?void 0:e.html,i.collaboration,r]),(0,MS.useEffect)((()=>{r.update(tJ((()=>{var e,t,n,o;if((null==i?void 0:i.state)&&!("json"in(null==i?void 0:i.state))||i.collaboration||!(null===(e=i.state)||void 0===e?void 0:e.json))return;const l=r.getEditorState().toJSON();JSON.stringify(null===(t=i.state)||void 0===t?void 0:t.json)!==JSON.stringify(l)&&JSON.stringify(null===(n=i.state)||void 0===n?void 0:n.json)!==JSON.stringify(null===(o=s.current)||void 0===o?void 0:o.json)&&(a.current="outside",aC(r,i.state))}),(e=>{var t;null===(t=null==i?void 0:i.onCatchError)||void 0===t||t.call(i,e,{place:"load json state",info:{html:"unknown",toolbar:o}})})))}),[null===(t=i.state)||void 0===t?void 0:t.json,i.collaboration,r]),(0,MS.useEffect)((()=>r.registerUpdateListener((e=>{let{editorState:t,dirtyElements:n,dirtyLeaves:r,prevEditorState:s,tags:c}=e;c.has("history-merge")&&(a.current="inside"),c.has("historic")&&i.excludeHistoryChanges||0===n.size&&0===r.size||c.has("history-merge")||s.isEmpty()||("outside"!==a.current?tJ((()=>{var e;null===(e=null==i?void 0:i.onTyping)||void 0===e||e.call(i),l(t)}),(e=>{var a;null===(a=null==i?void 0:i.onCatchError)||void 0===a||a.call(i,e,{place:"generateHtmlFromNodes before handleOnchange",info:{html:"unknown",toolbar:o,editorState:t,dirtyElements:n,dirtyLeaves:r,prevEditorState:s,tags:c}})}))():a.current="inside")}))),[r,null===(n=i.state)||void 0===n?void 0:n.html,i.excludeHistoryChanges])}(),(()=>{const{hsoubEditorProps:e}=v0(),t=x0(),{translate:n}=Z1(),[r]=kK();f2(o$,(e=>{const t=RP();return!!GP(t)&&(e.preventDefault(),r.dispatchCommand(e.shiftKey?l$:WI,void 0))}),EI,[r]),f2(lU,(i=>{if(!t.image.enable)return!1;let o;return Z0({showError:t=>{(null==e?void 0:e.onError)?null==e||e.onError(t):alert(n("errors."+t)),r.update((()=>{if(o){const e=NP(o);e&&sC(e)&&(null==e||e.remove())}}))},image:i[0],config:t,onImage:e=>{r.update((()=>{o=t1({blobURL:e,config:t})}))},onDoneImageUpload:e=>{r.update((()=>{o&&e1(e,o)}))}}),!0}),EI,[r]),f2(c$,((t,n)=>{var r;const[,i,o]=dU(t);if(i.length>0&&!o)return n.dispatchCommand(lU,i),!0;if(M$(t.target))return!1;const s=RP();if(null!==s){if(e.isPlainText){t.preventDefault();const e=null===(r=t.clipboardData)||void 0===r?void 0:r.getData("text/plain");e&&n.update((()=>{var t;s.insertRawText?s.insertRawText(e):null===(t=s.insertText)||void 0===t||t.call(s,e)}),{tag:"paste"})}else((e,t)=>{e.preventDefault(),t.update((()=>{const n=RP(),r=t._window&&(e instanceof t._window.InputEvent||e instanceof t._window.KeyboardEvent)?null:e.clipboardData;null!=r&&null!==n&&((e,t,n)=>{const r=null==e?void 0:e.getData("application/x-lexical-editor");if(r){try{const e=JSON.parse(r);if(e.namespace===n._config.namespace&&Array.isArray(e.nodes)){e.nodes=e.nodes.map((e=>{var t;return"list"===e.type?Object.assign(Object.assign({},e),{children:null===(t=e.children)||void 0===t?void 0:t.filter((e=>e.children.length))}):e})).filter((e=>!("list"===e.type&&!e.children.length)));const r=AB(e.nodes);return RB(n,r,t)}}catch(e){}e.clearData("application/x-lexical-editor")}MB(e,t,n)})(r,n,t)}),{tag:"paste"})})(t,n);return!0}return!1}),xI)})(),function(){const{hsoubEditorProps:{editorApiRef:e}}=v0(),[t]=kK(),n=(0,MS.useRef)({focus:()=>{const e=null==t?void 0:t.getRootElement();e&&e.focus(),null==t||t.focus()},blur:()=>{var e;const n=null==t?void 0:t.getRootElement();n&&n.blur(),null===(e=null==t?void 0:t.blur)||void 0===e||e.call(t)},insertTextAtCaret:e=>{null==t||t.update((()=>{const t=RP();GP(t)&&t.insertText(e)}))},moveCaretToEnd:()=>{null==t||t.update((()=>{let e=MP().getLastChild();for(;HP(e)&&e.getLastChild();)e=e.getLastChild();if(tI(e)){const n=e.getTextContentSize(),r=gP();r.setTextNodeRange(e,n,e,n),uI(r);const i=t.getRootElement();null==i||i.focus()}}))},clear:()=>{null==t||t.update((()=>{MP().clear()}))},setContent:e=>{null==t||t.update((()=>{MP().clear();const n=t.parseEditorState(JSON.stringify(e));t.setEditorState(n,{tag:"history-merge"})}))},contains:e=>{if(!e||!t)return!1;const n=t.getRootElement();return!!n&&n.contains(e)},isEmpty:()=>{if(!t)return!0;let e=!0;return t.getEditorState().read((()=>{const t=MP();e=0===t.getTextContent().trim().length})),e}});(0,MS.useEffect)((()=>{e&&(e.current=n.current)}),[e])}(),(0,MS.useEffect)((()=>{const e=null==u.editable?zJ.editable:u.editable;d.setEditable(Boolean(e))}),[d,u.editable]),MS.createElement(MS.Fragment,null,!u.isPlainText&&MS.createElement(MS.Fragment,null,u.editable&&MS.createElement(MS.Fragment,null,MS.createElement(b2,null),MS.createElement(TC,null),MS.createElement(a0,null)),(null===(e=f.link)||void 0===e?void 0:e.enable)&&MS.createElement(MS.Fragment,null,MS.createElement(KX,null),MS.createElement(rC,null),u.editable&&MS.createElement(MS.Fragment,null,MS.createElement(p2,null),MS.createElement(mC,null),f.link.linkTarget&&MS.createElement(BC,null))),(null===(t=f.code)||void 0===t?void 0:t.enable)&&MS.createElement(MS.Fragment,null,u.editable&&MS.createElement(kC,null)),MS.createElement(JX,null),MS.createElement(VX,{hasStrictIndent:!0}),(null===(n=f.table)||void 0===n?void 0:n.enable)&&u.editable&&MS.createElement(MS.Fragment,null,MS.createElement(C2,null),MS.createElement(EC,null),MS.createElement(AC,null),MS.createElement(NC,null)),(null===(r=f.image)||void 0===r?void 0:r.enable)&&u.editable&&MS.createElement(MS.Fragment,null,MS.createElement(P2,null),MS.createElement(SC,null)),(null===(i=f.video)||void 0===i?void 0:i.enable)&&u.editable&&MS.createElement(MS.Fragment,null,MS.createElement($2,null),MS.createElement(DC,null)),(null===(o=f.quickInsert)||void 0===o?void 0:o.enable)&&u.editable&&MS.createElement(gC,null)),MS.createElement("div",{className:"editor__inner",dir:u.direction||"auto"},u.isPlainText?MS.createElement(MS.Fragment,null,MS.createElement(wQ,{contentEditable:MS.createElement(PX,{ref:u.editorRef,dir:"auto",className:"editor__input"}),placeholder:e=>e?MS.createElement(wE,null):null,ErrorBoundary:tQ}),MS.createElement(_E,null)):MS.createElement(NX,{contentEditable:MS.createElement(PX,{ref:u.editorRef,dir:"auto",className:"editor__input"}),placeholder:e=>e?MS.createElement(wE,null):null,ErrorBoundary:tQ})),(null===(s=u.collaboration)||void 0===s?void 0:s.enable)?MS.createElement(yE,null):MS.createElement(HX,null),(null===(a=u.config.heading)||void 0===a?void 0:a.preserve)&&MS.createElement(h3,null),(null===(l=f.mentions)||void 0===l?void 0:l.enable)&&MS.createElement(MS.Fragment,null,MS.createElement(B3,null),u.isPlainText&&(null===(c=f.link)||void 0===c?void 0:c.enable)&&MS.createElement(MS.Fragment,null,MS.createElement(KX,null),MS.createElement(rC,null),u.editable&&MS.createElement(BC,null))),MS.createElement("div",{id:"editor-portal"}))};class T4 extends uU{static getType(){return"hsoub-quote"}static clone(e){return new T4(e.__key)}constructor(e){super(e)}createDOM(e){const t=super.createDOM(e)
;return t.style.cssText+=this.getStyle(),t}updateDOM(e){return this.__style!==e.__style}static importDOM(){return super.importDOM()}static importJSON(e){const t=new T4;return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return Object.assign(Object.assign({},super.exportJSON()),{type:"hsoub-quote"})}}class A4 extends cU{static getType(){return"hsoub-heading"}static clone(e){return new A4(e.__tag,e.__key)}constructor(e,t){super(e,t)}createDOM(e){const t=super.createDOM(e),n=this.getFormatType();return""!==n&&(t.style.textAlign=n),t.style.cssText+=this.getStyle(),t}updateDOM(e){return this.__style!==e.__style}static importDOM(){const e=super.importDOM();return e?Object.assign(Object.assign({},e),{h1:Bp(e.h1),h2:Bp(e.h2),h3:Bp(e.h3),h4:Bp(e.h4),h5:Bp(e.h5),h6:Bp(e.h6)}):null}static importJSON(e){const t=(n=e.tag,new A4(n));var n;return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return Object.assign(Object.assign({},super.exportJSON()),{type:"hsoub-heading"})}}class N4 extends A4{static getType(){return"hsoub-preserved-heading"}static clone(e){return new N4(e.__tag,e.__key)}constructor(e,t){super(e,t)}remove(e){var t;const n=MP(),r=1===n.getChildrenSize();(null===(t=n.getFirstChild())||void 0===t?void 0:t.getKey())===this.getKey()&&r&&null!==n.__cachedText||super.remove(e)}replace(e,t){var n;const r=MP(),i=1===r.getChildrenSize();return!((null===(n=r.getFirstChild())||void 0===n?void 0:n.getKey())!==this.getKey())&&i||super.replace(e,t),this}updateDOM(e){return super.updateDOM(e)}createDOM(e){return super.createDOM(e)}static importDOM(){return super.importDOM()}static importJSON(e){const t=(n=e.tag,new N4(n));var n;return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return Object.assign(Object.assign({},super.exportJSON()),{type:"hsoub-preserved-heading"})}}const O4=e=>{var t;let n=[GU,XU,KH,WH,n0,oK,sK,L0,Q0,v2,iK,VH,T4,uU,xH,CH,c1,cU,A4,N4,{replace:iK,withKlass:v2,with:e=>new v2(e.__headerState,e.__colSpan,e.__style)},{replace:uU,withKlass:T4,with:()=>new T4},{replace:d$,withKlass:VH,with:()=>new VH}];return Object.keys((null==e?void 0:e.extraAttributes)||{}).map((t=>{var r;const i=null===(r=null==e?void 0:e.extraAttributes)||void 0===r?void 0:r[t];if(!i||!i.length)return;const o=n.find((e=>{var n;return"replace"in e&&(null===(n=e.withKlass)||void 0===n?void 0:n.getType())===t||"name"in e&&e.getType()===t}));if(!o)return;let s;"replace"in o?(s=o.withKlass,Sv(s,i)):(s=o,Sv(s,i))})),n.push({replace:cU,withKlass:(null===(t=null==e?void 0:e.heading)||void 0===t?void 0:t.preserve)?N4:A4,with:t=>{var n;return(null===(n=null==e?void 0:e.heading)||void 0===n?void 0:n.preserve)?new N4(t.__tag):new A4(t.__tag)}}),n},j4={placeholder:"editor__placeholder",paragraph:"editor__paragraph",quote:"editor__quote",tableScrollableWrapper:"editor__table-container",heading:{h1:"editor__heading-h1",h2:"editor__heading-h2",h3:"editor__heading-h3",h4:"editor__heading-h4",h5:"editor__heading-h5"},list:{nested:{listitem:"editor__nested-listitem"},ol:"editor__list-ol",ul:"editor__list-ul",olDepth:["editor__list-ol1","editor__list-ol2","editor__list-ol3","editor__list-ol4","editor__list-ol5"],listitem:"editor__listitem",listitemChecked:"editor__listItemChecked",listitemUnchecked:"editor__listItemUnchecked"},lineBreaker:{container:"editor__lineBreaker",button:"editor__lineBreaker-button"},image:"editor__image",video:"editor__video",link:"editor__link",text:{bold:"editor__text-bold",italic:"editor__text-italic",overflowed:"editor__text-overflowed",hashtag:"editor__text-hashtag",underline:"editor__text-underline",strikethrough:"editor__text-strikethrough",underlineStrikethrough:"editor__text-underlineStrikethrough",code:"editor__text-code"},code:"editor__code",codeHighlight:{atrule:"editor__tokenAttr",attr:"editor__tokenAttr",boolean:"editor__tokenProperty",builtin:"editor__tokenSelector",cdata:"editor__tokenComment",char:"editor__tokenSelector",class:"editor__tokenFunction","class-name":"editor__tokenFunction",comment:"editor__tokenComment",constant:"editor__tokenProperty",deleted:"editor__tokenProperty",doctype:"editor__tokenComment",entity:"editor__tokenOperator",function:"editor__tokenFunction",important:"editor__tokenVariable",inserted:"editor__tokenSelector",keyword:"editor__tokenAttr",namespace:"editor__tokenVariable",number:"editor__tokenProperty",operator:"editor__tokenOperator",prolog:"editor__tokenComment",property:"editor__tokenProperty",punctuation:"editor__tokenPunctuation",regex:"editor__tokenVariable",selector:"editor__tokenSelector",string:"editor__tokenSelector",symbol:"editor__tokenProperty",tag:"editor__tokenProperty",url:"editor__tokenOperator",variable:"editor__tokenVariable"},table:"editor__table",tableAddColumns:"editor__tableAddColumns",tableAddRows:"editor__tableAddRows",tableCell:"editor__tableCell",tableCellActionButton:"editor__tableCellActionButton",tableCellActionButtonContainer:"editor__tableCellActionButtonContainer",tableCellEditing:"editor__tableCellEditing",tableCellHeader:"editor__tableCellHeader",tableCellResizer:"editor__tableCellResizer",tableCellSelected:"editor__tableCellSelected",tableResizeRuler:"editor__tableCellResizeRuler",tableSelected:"editor__tableSelected",tableSelection:"editor__tableSelection",mention:"editor__mention"};var M4=Object.freeze({__proto__:null,default:function(e){let{src:t,altText:n,nodeKey:r,width:i,loading:o,maxWidth:s,className:a,showCaption:l,caption:c}=e;var u,d,f,h,p,m,g;const{hsoubEditorProps:v,toolbar:y}=v0(),b=x0(),[_,w]=(0,MS.useState)(!0),C=(0,MS.useRef)(null),x=(0,MS.useRef)(null),E=(0,MS.useRef)(null),[S,k]=(0,MS.useState)(!1),[D]=kK(),T=(0,MS.useRef)(null),A=null===(d=null===(u=T.current)||void 0===u?void 0:u._window)||void 0===d?void 0:d.document,N=(()=>{const e=(0,MS.useRef)(!1);return(0,MS.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e})(),O=(null===(p=null===(h=null===(f=y.image)||void 0===f?void 0:f.selection)||void 0===h?void 0:h.node)||void 0===p?void 0:p.__key)===r,j=(0,MS.useCallback)((e=>{const t=RP(),n=x.current;if(O&&YP(t)&&1===t.getNodes().length){if(l)return uI(null),e.preventDefault(),c.focus(),!0;if(null!==n&&n!==(null==A?void 0:A.activeElement))return e.preventDefault(),n.focus(),!0}return!1}),[c,O,l]),M=(0,MS.useCallback)((e=>(T.current===c||x.current===e.target)&&(uI(null),D.update((()=>{N.current&&Y0(D,r,!0);const e=D.getRootElement();null!==e&&e.focus()})),!0)),[c,D,r]);f2(p$,((e,t)=>(T.current=t,!1)),kI),f2(wI,(e=>{const t=e;return!!S||!(t.target!==C.current||!N.current)&&(t.shiftKey?Y0(D,r,!O):(J0(D),Y0(D,r,!0)),!0)}),kI,[r,O,D]),f2(n$,j,kI,[j]),f2(r$,M,kI,[M]);const R=o||_;(0,MS.useLayoutEffect)((()=>{var e;const t=()=>Dv(this,void 0,void 0,(function*(){var e;if(yield $y(),!E.current||!C.current)return;const{top:t,left:n,width:r}=(null===(e=C.current)||void 0===e?void 0:e.getBoundingClientRect())||{};E.current.style.top=t+"px",E.current.style.left=n+"px",E.current.style.width=r+"px"}));return R&&(setTimeout((()=>{t()}),0),null===(e=null==D?void 0:D._window)||void 0===e||e.addEventListener("scroll",t)),()=>{var e;null===(e=null==D?void 0:D._window)||void 0===e||e.removeEventListener("scroll",t)}}),[R,D,t,_,C.current]);const F=O||S;return MS.createElement(MS.Fragment,null,MS.createElement(EE,{className:a+(F?" focused "+(YP(null===(m=null==y?void 0:y.selection)||void 0===m?void 0:m.lexicalSelection)?"draggable":""):""),src:t,pending:R,onImageLoaded:()=>{w(!1)},altText:n,imageRef:C,width:i,maxWidth:s}),R&&MS.createElement("div",{ref:E,className:"loading",style:{pointerEvents:"none",position:"fixed",height:"auto",objectFit:"contain",display:_?"none":""}},MS.createElement("div",{className:"loader"})),YP(null===(g=null==y?void 0:y.selection)||void 0===g?void 0:g.lexicalSelection)&&F&&!R&&v.editable&&b.image.enable&&MS.createElement(xE,{editor:D,buttonRef:x,imageRef:C,maxWidth:s,onResizeStart:()=>{k(!0)},onResizeEnd:e=>{setTimeout((()=>{k(!1)}),200),D.update((()=>{const t=NP(r);sC(t)&&t.setWidth(e+"px")}))}}))}}),R4=e(333),F4=e.n(R4),L4=e(9993),P4=e.n(L4),I4=e(2534),$4=e.n(I4);const z4={ar:{formPlaceholder:"\u0627\u0643\u062a\u0628 \u0631\u0633\u0627\u0644\u062a\u0643 ...",today:"\u0627\u0644\u064a\u0648\u0645",yesterday:"\u0627\u0644\u0628\u0627\u0631\u062d\u0629",send:"\u0625\u0631\u0633\u0627\u0644",resend:"\u0625\u0639\u0627\u062f\u0629 \u0625\u0631\u0633\u0627\u0644",save:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621",edit:"\u062a\u0639\u062f\u064a\u0644",delete:"\u062d\u0630\u0641",deleteAll:"\u062d\u0630\u0641 \u0627\u0644\u0643\u0644",reply:"\u0625\u0642\u062a\u0628\u0627\u0633",edited:"\u0645\u0639\u062f\u0644",noMsgsyet:"\u0644\u0627 \u0631\u0633\u0627\u0626\u0644 \u0628\u0639\u062f",areYouSure:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0647\u0630\u0647 \u0627\u0644\u062e\u0637\u0648\u0629\u061f",deletedFile:"\u062a\u0645 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0645\u0644\u0641",deletedMessage:"\u062a\u0645 \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0631\u0633\u0627\u0644\u0629",deletedMessageBy:"\u062a\u0645 \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0628\u0648\u0627\u0633\u0637\u0629",deletedFileBy:"\u062a\u0645 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0645\u0644\u0641 \u0628\u0648\u0627\u0633\u0637\u0629",deletedAccount:"\u062d\u0633\u0627\u0628 \u0645\u062d\u0630\u0648\u0641",SomethingWrong:"\u062d\u0635\u0644 \u062e\u0637\u0623 \u0645\u0627\u060c \u0627\u0644\u0645\u0631\u062c\u0648 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629.",voiceRecording:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u0633\u062c\u064a\u0644...",attachFiles:"\u0625\u0631\u0641\u0627\u0642 \u0645\u0644\u0641\u0627\u062a",screenRecording:"\u062c\u0627\u0631\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0634\u0627\u0634\u0629...",videoRecording:"\u062c\u0627\u0631\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0641\u064a\u062f\u064a\u0648...",removeRecording:"\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0633\u062c\u064a\u0644",recorderPreview:"\u0645\u0639\u0627\u064a\u0646\u0629 \u0627\u0644\u062a\u0633\u062c\u064a\u0644",voiceMessage:"\u0631\u0633\u0627\u0644\u0629 \u0635\u0648\u062a\u064a\u0629",videoMessage:"\u0631\u0633\u0627\u0644\u0629 \u0641\u064a\u062f\u064a\u0648",screenRecorder:"\u062a\u0633\u062c\u064a\u0644 \u0634\u0627\u0634\u0629 ",stopRecording:"\u0625\u064a\u0642\u0627\u0641 \u0627\u0644\u062a\u0633\u062c\u064a\u0644",resumeRecording:"\u0627\u0633\u062a\u0626\u0646\u0627\u0641 \u0627\u0644\u062a\u0633\u062c\u064a\u0644",videoProceessing:"\u062a\u062a\u0645 \u0645\u0639\u0627\u0644\u062c\u0629 \u0627\u0644\u0641\u064a\u062f\u064a\u0648",formattedDate:"%{date} \u0627\u0644\u0633\u0627\u0639\u0629 %{time} %{timeZone}",typing:{one:"%{fullName} \u064a\u0643\u062a\u0628...",two:"%{firstFullName} \u0648 %{secondFullName} \u064a\u0643\u062a\u0628\u0627\u0646...",multiple:"%{size} \u0623\u0634\u062e\u0627\u0635 \u064a\u0643\u062a\u0628\u0648\u0646..."},errors:{accessibilityAuthentication:"\u064a\u0631\u062c\u0649 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0644\u062a\u062a\u0645\u0643\u0646 \u0645\u0646 \u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0645\u0644\u0641",recorderNotSupport:"\u0645\u062a\u0635\u0641\u062d\u0643 \u0644\u0627 \u064a\u062f\u0639\u0645 \u0647\u0630\u0647 \u0627\u0644\u0645\u064a\u0632\u0629",micNotFound:"\u0627\u0644\u0645\u062a\u0635\u0641\u062d \u063a\u064a\u0631 \u0642\u0627\u062f\u0631 \u0639\u0644\u0649 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0627\u0644\u0645\u064a\u0643\u0631\u0648\u0641\u0648\u0646 \u0627\u0644\u062e\u0627\u0635 \u0628\u0643",micNotAllowed:"\u0623\u0646\u062a \u0644\u0627 \u062a\u0633\u0645\u062d \u0644\u0644\u0645\u062a\u0635\u0641\u062d \u0628\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0645\u064a\u0643\u0631\u0648\u0641\u0648\u0646 \u0627\u0644\u062e\u0627\u0635 \u0628\u0643",cameraNotFound:"\u0627\u0644\u0645\u062a\u0635\u0641\u062d \u063a\u064a\u0631 \u0642\u0627\u062f\u0631 \u0639\u0644\u0649 \u0627\u0644\u0648\u0635\u0648\u0644 \u0627\u0644\u0649 \u0627\u0644\u0645\u064a\u0643\u0631\u0648\u0641\u0648\u0646/\u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0643",cameraNotAllowed:" \u0623\u0646\u062a \u0644\u0627 \u062a\u0633\u0645\u062d \u0644\u0644\u0645\u062a\u0635\u0641\u062d \u0628\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0645\u064a\u0643\u0648\u0641\u0648\u0646 \u0623\u0648 \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627",screenNotAllowed:"  \u0623\u0646\u062a \u0644\u0627 \u062a\u0633\u0645\u062d \u0644\u0644\u0645\u062a\u0635\u0641\u062d \u0628\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0645\u064a\u0643\u0631\u0648\u0641\u0648\u0646 \u0627\u0644\u062e\u0627\u0635 \u0628\u0643\u060c \u0623\u0648 \u062a\u0631\u0641\u0636 \u0645\u0634\u0627\u0631\u0643\u0629 \u0627\u0644\u0634\u0627\u0634\u0629",recordError:"\u062d\u062f\u062b \u062e\u0637\u0623 \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",maxRecordingSize:"\u0648\u0635\u0644\u062a \u0644\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u062d\u062c\u0645 \u0627\u0644\u062a\u0633\u062c\u064a\u0644  \u0641\u064a \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u062d\u0627\u0644\u064a\u0629",maxRecordingTime:"\u0648\u0635\u0644\u062a \u0644\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0645\u062f\u0629 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0641\u064a \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u062d\u0627\u0644\u064a\u0629",attachmentsLimitExceeded:"\u062a\u062c\u0627\u0648\u0632 \u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0639\u062f\u062f \u0627\u0644\u0645\u0644\u0641\u0627\u062a \u0627\u0644\u0645\u0633\u0645\u0648\u062d \u0628\u0647",blockedExtension:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0631\u0641\u0639 \u0647\u0630\u0627 \u0627\u0644\u0646\u0648\u0639 \u0645\u0646 \u0627\u0644\u0645\u0644\u0641\u0627\u062a",audio:{network:"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0623\u062b\u0646\u0627\u0621 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0644\u0641",aborted:"\u062a\u0645 \u0625\u064a\u0642\u0627\u0641 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0644\u0641 \u0645\u0646 \u0642\u0628\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",decode:"\u0641\u0634\u0644 \u0627\u0644\u0645\u062a\u0635\u0641\u062d \u0641\u064a \u0641\u0643 \u062a\u0631\u0645\u064a\u0632 \u0627\u0644\u0645\u0644\u0641",default:"\u0627\u0644\u0635\u064a\u063a\u0629 \u063a\u064a\u0631 \u0645\u062f\u0639\u0648\u0645\u0629 \u0623\u0648 \u0631\u0627\u0628\u0637 \u0627\u0644\u0645\u0644\u0641 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d"},emptyMessageNotAllowed:"\u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0641\u0627\u0631\u063a\u0629. \u064a\u0631\u062c\u0649 \u0643\u062a\u0627\u0628\u0629 \u0646\u0635 \u0623\u0648 \u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0639\u062f\u064a\u0644",emptyQuotedMessageNotAllowed:"\u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0641\u0627\u0631\u063a\u0629. \u064a\u0631\u062c\u0649 \u0643\u062a\u0627\u0628\u0629 \u0646\u0635 \u0623\u0648 \u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u0627\u0642\u062a\u0628\u0627\u0633",messageDeleteExpired:"\u0627\u0646\u062a\u0647\u062a \u0635\u0644\u0627\u062d\u064a\u0629 \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0631\u0633\u0627\u0644\u0629",messageEditExpired:"\u0627\u0646\u062a\u0647\u062a \u0635\u0644\u0627\u062d\u064a\u0629 \u062a\u0639\u062f\u064a\u0644 \u0647\u0630\u0647 \u0627\u0644\u0631\u0633\u0627\u0644\u0629",messageReplyExpired:"\u0627\u0646\u062a\u0647\u062a \u0635\u0644\u0627\u062d\u064a\u0629 \u0627\u0644\u0631\u062f \u0639\u0644\u0649 \u0647\u0630\u0647 \u0627\u0644\u0631\u0633\u0627\u0644\u0629",messageResendExpired:"\u0627\u0646\u062a\u0647\u062a \u0635\u0644\u0627\u062d\u064a\u0629 \u0625\u0639\u0627\u062f\u0629 \u0625\u0631\u0633\u0627\u0644 \u0647\u0630\u0647 \u0627\u0644\u0631\u0633\u0627\u0644\u0629"}},en:{formPlaceholder:"Write your message...",today:"Today",yesterday:"Yesterday",send:"Send",resend:"Resend",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",deleteAll:"Delete all",reply:"Reply",edited:"Edited",noMsgsyet:"Nothing yet",areYouSure:"Are you sure?",deletedFile:"This file was deleted",deletedMessage:"This message was deleted",deletedMessageBy:"This message was deleted by",deletedFileBy:"This file was deleted by",deletedAccount:"Deleted account",SomethingWrong:"Something went wrong, please try again.",attachFiles:"Attach files",voiceRecording:"Recording...",screenRecording:"Screen recording...",videoRecording:"\u064dVideo Recording...",removeRecording:"Remove recording",recorderPreview:"Recorder preview",audioMessage:"Audio message",voiceMessage:"Voice message",videoMessage:"Video message",screenRecorder:"Screen recorder",stopRecording:"Stop recording",resumeRecording:"Resume recording",videoProceessing:"The video is being processed",formattedDate:"%{date} at %{time} %{timeZone}",typing:{one:"%{fullName} is typing...",two:"%{firstFullName} and %{secondFullName} are typing...",multiple:"%{size} people are typing..."},errors:{accessibilityAuthentication:"Please login to access the file",recorderNotSupport:"Your browser didn't support this feature",micNotFound:"The browser is unable to access your microphone",micNotAllowed:"You are not allowing the browser to access your microphone",cameraNotFound:"The browser is unable to access your mic / camera",cameraNotAllowed:"You do not allow the browser to access the microphone or camera",screenNotAllowed:"You do not allow the browser to access your microphone, or you refuse to share the screen",recordError:"Something wrong, please try again",maxRecordingSize:"You have reached the maximum recording size for the current message",maxRecordingTime:"You have reached the maximum recording time for the current message",attachmentsLimitExceeded:"The maximum number of files allowed has been exceeded",blockedExtension:"This type of file cannot be uploaded",audio:{network:"A connection error occurred while uploading the file",aborted:"The file upload was stopped by the user",decode:"The browser failed to decode the file",default:"The format is not supported or the file URL is incorrect"},emptyMessageNotAllowed:"Message content is empty. Type something or cancel the edit",emptyQuotedMessageNotAllowed:"Message content is empty. Type something or cancel the quote",messageDeleteExpired:"This message can no longer be deleted",messageEditExpired:"This message can no longer be edited",messageReplyExpired:"This message can no longer be replied to",messageResendExpired:"This message can no longer be resent"}}},B4=e=>{const t=e.split(".");if(t.length>1){const e=t.pop();return`${e?.toLowerCase()}`}return null},U4=[".3gp",".7z",".7zip",".ai",".apk",".avi",".bin",".bmp",".bz2",".css",".csv",".doc",".docx",".egg",".flv",".gif",".gz",".h264",".htm",".html",".ia",".icns",".ico",".jpeg",".jpg",".m4v",".markdown",".md",".mdb",".mkv",".mov",".mp3",".mp4",".mpa",".mpeg",".mpg",".mpga",".octet-stream",".odp",".ods",".odt",".ogg",".otf",".pak",".pdf",".pea",".png",".pps",".ppt",".pptx",".psd",".rar",".rm",".rss",".rtf",".s7z",".sql",".svg",".tar",".tar.gz",".tbz2",".tex",".tgz",".tif",".tiff",".tlz",".ttf",".txt",".vob",".wav",".wma",".wmv",".xhtml",".xlr",".xls",".xlsx",".xml",".z",".zip",".zipx"],H4="accessibilityAuthentication",W4=100,K4="attachmentsLimitExceeded",q4="blockedExtension",V4="emptyMessageNotAllowed",Y4="emptyQuotedMessageNotAllowed",J4="messageDeleteExpired",G4="messageEditExpired",X4="messageReplyExpired",Q4="messageResendExpired",Z4=MS.createContext(),e6=e=>{function t(e){_(e),n()}function n(){W((e=>({...e,messageToEdit:!1,messageToReply:null})))}function r(e){if(!e||!e.length)return;const t=Object.values(e);if(t.length>y)return void T({type:K4,message:B(`errors.${K4}`)});let n=!1;t.forEach((e=>{if(!e)return;const t=B4(e.name);if(!F.includes(`.${t}`))return void(n=!0);const r=FE(e,A,"file");E(e,r,"file")})),n&&T({type:q4,message:B(`errors.${q4}`)})}let{permissions:i=[],actions:o=[],language:s,messages:a,typists:l=[],children:c,isLoading:u=!1,onlineOnly:d=[],useVoiceRecorder:f=!1,useScreenRecorder:h=!1,useVideoRecorder:p=!1,disableEmojis:m=!1,maxRecorderSize:g=102400,maxRecorderTime:v=5,maxAttachmentsCount:y=10,onInputValueChange:b,onCreateMessage:_=(()=>{}),onUpdateMessage:w=(()=>{}),onDeleteMessage:C=(()=>{}),onDeleteGroup:x,onUpload:E=(()=>{}),onAttachMessage:S,onLoadMore:k=(()=>{}),onTyping:D=(()=>{}),onError:T=(()=>{}),currentUser:A,translations:N,validation:O={messageMaxLength:-1},timeZone:j,components:M={},groupConfig:R={},allowedExtensions:F=U4,mentions:L={enable:!1},actionsOrder:P=[],disableDeleteOnEmpty:I=!1,disableMessageGrouping:$=!1,shouldHideOption:z=(()=>!1)}=e;const{_e:B,_d:U}=ct(s,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ar:{},en:{}};return e?{ar:{...z4.ar,...e.ar},en:{...z4.en,...e.en}}:z4}(N)[s],j),[H,W]=MS.useState({messageToEdit:!1,messageToReply:null});return MS.createElement(Z4.Provider,{value:{_d:U,_e:B,permissions:i,actions:o,messages:a,typists:l,language:s,useVoiceRecorder:f,useScreenRecorder:h,useVideoRecorder:p,disableEmojis:m,maxRecorderSize:g,maxRecorderTime:v,maxAttachmentsCount:y,...H,createMessage:t,createRecorderMessage:function(e,t){const n=function(e,t){const n=function(e){const t=/^\s*([^;\s]*)(?:;|\s|$)/.exec(e);return{"video/ogg":"ogg","video/mp4":"mp4","video/x-matroska":"mkv","video/webm":"webm","audio/mp4":"m4a","audio/mpeg":"mp3","audio/aac":"aac","audio/flac":"flac","audio/ogg":"ogg","audio/wav":"wav","audio/webm":"webm"}[t&&t[1].toLowerCase()]}(e.type),r=`${t}-${(new Date).getTime()}.${n}`;return new File([e],r,{type:e.type})}(e,t),r=FE(n,A,t);E(n,r,t)},deleteMessage:function(e){if(jE(e)){const n=(t=e,function(e){const[,,,t]=e.split("|");return t}(t?.body||""));if(n)return void C(e,n)}var t;C(e),n()},deleteGroup:function(e){x?x(e):e?.forEach((e=>C(e))),n()},updateMessage:function(e){const t=SE(a,e.id);w(e,t),n()},onTyping:D,onLoadMore:k,setMessageToEdit:function(e){W((t=>({...t,messageToEdit:e})))},setMessageToReply:function(e){W((t=>({...t,messageToReply:e})))},resendMessage:function(e){e.created_at?w(e):_(e)},isLoading:u,currentUser:A,isLoggedIn:Boolean(A),uploadHandler:r,attacheHandler:function(e,n){if(!e||!e.length)return;const i="string"==typeof n?LE({message:n,messageToReply:H.messageToReply,currentUser:A}):PE({message:n,messageToReply:H.messageToReply,currentUser:A}),o=e.map((e=>({file:e,category:"file",message:FE(e,A,"file")})));S?S(i,o):(("string"!=typeof n||n.trim().length)&&t(i),r(e))},validation:O,isSupportedOffline:function(e){return!d.includes(e)},onError:T,onInputValueChange:b,components:M,groupConfig:R,allowedExtensions:F,mentions:L,actionsOrder:P,disableDeleteOnEmpty:I,disableMessageGrouping:$,shouldHideOption:z}},c)};var t6={"smileys-people":[{emoji:"\ud83d\ude00",title:"grinning face"},{emoji:"\ud83d\ude01",title:"beaming face with smiling eyes"},{emoji:"\ud83d\ude02",title:"face with tears of joy"},{emoji:"\ud83e\udd23",title:"rolling on the floor laughing"},{emoji:"\ud83d\ude03",title:"grinning face with big eyes"},{emoji:"\ud83d\ude04",title:"grinning face with smiling eyes"},{emoji:"\ud83d\ude05",title:"grinning face with sweat"},{emoji:"\ud83d\ude06",title:"grinning squinting face"},{emoji:"\ud83d\ude09",title:"winking face"},{emoji:"\ud83d\ude0a",title:"smiling face with smiling eyes"},{emoji:"\ud83d\ude0b",title:"face savoring food"},{emoji:"\ud83d\ude0e",title:"smiling face with sunglasses"},{emoji:"\ud83d\ude0d",title:"smiling face with heart-eyes"},{emoji:"\ud83d\ude18",title:"face blowing a kiss"},{emoji:"\ud83d\ude17",title:"kissing face"},{emoji:"\ud83d\ude19",title:"kissing face with smiling eyes"},{emoji:"\ud83d\ude1a",title:"kissing face with closed eyes"},{emoji:"\u263a\ufe0f",title:"smiling face"},{emoji:"\ud83d\ude42",title:"slightly smiling face"},{emoji:"\ud83e\udd17",title:"hugging face"},{emoji:"\ud83e\udd29",title:"star-struck"},{emoji:"\ud83e\udd14",title:"thinking face"},{emoji:"\ud83e\udd28",title:"face with raised eyebrow"},{emoji:"\ud83d\ude10",title:"neutral face"},{emoji:"\ud83d\ude11",title:"expressionless face"},{emoji:"\ud83d\ude36",title:"face without mouth"},{emoji:"\ud83d\ude44",title:"face with rolling eyes"},{emoji:"\ud83d\ude0f",title:"smirking face"},{emoji:"\ud83d\ude23",title:"persevering face"},{emoji:"\ud83d\ude25",title:"sad but relieved face"},{emoji:"\ud83d\ude2e",title:"face with open mouth"},{emoji:"\ud83e\udd10",title:"zipper-mouth face"},{emoji:"\ud83d\ude2f",title:"hushed face"},{emoji:"\ud83d\ude2a",title:"sleepy face"},{emoji:"\ud83d\ude2b",title:"tired face"},{emoji:"\ud83d\ude34",title:"sleeping face"},{emoji:"\ud83d\ude0c",title:"relieved face"},{emoji:"\ud83d\ude1b",title:"face with tongue"},{emoji:"\ud83d\ude1c",title:"winking face with tongue"},{emoji:"\ud83d\ude1d",title:"squinting face with tongue"},{emoji:"\ud83e\udd24",title:"drooling face"},{emoji:"\ud83d\ude12",title:"unamused face"},{emoji:"\ud83d\ude13",title:"downcast face with sweat"},{emoji:"\ud83d\ude14",title:"pensive face"},{emoji:"\ud83d\ude15",title:"confused face"},{emoji:"\ud83d\ude43",title:"upside-down face"},{emoji:"\ud83e\udd11",title:"money-mouth face"},{emoji:"\ud83d\ude32",title:"astonished face"},{emoji:"\u2639\ufe0f",title:"frowning face"},{emoji:"\ud83d\ude41",title:"slightly frowning face"},{emoji:"\ud83d\ude16",title:"confounded face"},{emoji:"\ud83d\ude1e",title:"disappointed face"},{emoji:"\ud83d\ude1f",title:"worried face"},{emoji:"\ud83d\ude24",title:"face with steam from nose"},{emoji:"\ud83d\ude22",title:"crying face"},{emoji:"\ud83d\ude2d",title:"loudly crying face"},{emoji:"\ud83d\ude26",title:"frowning face with open mouth"},{emoji:"\ud83d\ude27",title:"anguished face"},{emoji:"\ud83d\ude28",title:"fearful face"},{emoji:"\ud83d\ude29",title:"weary face"},{emoji:"\ud83e\udd2f",title:"exploding head"},{emoji:"\ud83d\ude2c",title:"grimacing face"},{emoji:"\ud83d\ude30",title:"anxious face with sweat"},{emoji:"\ud83d\ude31",title:"face screaming in fear"},{emoji:"\ud83d\ude33",title:"flushed face"},{emoji:"\ud83e\udd2a",title:"crazy face"},{emoji:"\ud83d\ude35",title:"dizzy face"},{emoji:"\ud83d\ude21",title:"pouting face"},{emoji:"\ud83d\ude20",title:"angry face"},{emoji:"\ud83e\udd2c",title:"face with symbols on mouth"},{emoji:"\ud83d\ude37",title:"face with medical mask"},{emoji:"\ud83e\udd12",title:"face with thermometer"},{emoji:"\ud83e\udd15",title:"face with head-bandage"},{emoji:"\ud83e\udd22",title:"nauseated face"},{emoji:"\ud83e\udd2e",title:"face vomiting"},{emoji:"\ud83e\udd27",title:"sneezing face"},{emoji:"\ud83d\ude07",title:"smiling face with halo"},{emoji:"\ud83e\udd20",title:"cowboy hat face"},{emoji:"\ud83e\udd21",title:"clown face"},{emoji:"\ud83e\udd25",title:"lying face"},{emoji:"\ud83e\udd2b",title:"shushing face"},{emoji:"\ud83e\udd2d",title:"face with hand over mouth"},{emoji:"\ud83e\uddd0",title:"face with monocle"},{emoji:"\ud83e\udd13",title:"nerd face"},{emoji:"\ud83d\ude08",title:"smiling face with horns"},{emoji:"\ud83d\udc7f",title:"angry face with horns"},{emoji:"\ud83d\udc79",title:"ogre"},{emoji:"\ud83d\udc7a",title:"goblin"},{emoji:"\ud83d\udc80",title:"skull"},{emoji:"\u2620\ufe0f",title:"skull and crossbones"},{emoji:"\ud83d\udc7b",title:"ghost"},{emoji:"\ud83d\udc7d",title:"alien"},{emoji:"\ud83d\udc7e",title:"alien monster"},{emoji:"\ud83e\udd16",title:"robot face"},{emoji:"\ud83d\udca9",title:"pile of poo"},{emoji:"\ud83d\ude3a",title:"grinning cat face"},{emoji:"\ud83d\ude38",title:"grinning cat face with smiling eyes"},{emoji:"\ud83d\ude39",title:"cat face with tears of joy"},{emoji:"\ud83d\ude3b",title:"smiling cat face with heart-eyes"},{emoji:"\ud83d\ude3c",title:"cat face with wry smile"},{emoji:"\ud83d\ude3d",title:"kissing cat face"},{emoji:"\ud83d\ude40",title:"weary cat face"},{emoji:"\ud83d\ude3f",title:"crying cat face"},{emoji:"\ud83d\ude3e",title:"pouting cat face"},{emoji:"\ud83d\ude48",title:"see-no-evil monkey"},{emoji:"\ud83d\ude49",title:"hear-no-evil monkey"},{emoji:"\ud83d\ude4a",title:"speak-no-evil monkey"},{emoji:"\ud83d\udc76",title:"baby"},{emoji:"\ud83e\uddd2",title:"child"},{emoji:"\ud83d\udc66",title:"boy"},{emoji:"\ud83d\udc67",title:"girl"},{emoji:"\ud83e\uddd1",title:"adult"},{emoji:"\ud83d\udc68",title:"man"},{emoji:"\ud83d\udc69",title:"woman"},{emoji:"\ud83e\uddd3",title:"older adult"},{emoji:"\ud83d\udc74",title:"old man"},{emoji:"\ud83d\udc75",title:"old woman"},{emoji:"\ud83d\udc68\u200d\u2695\ufe0f",title:"man health worker"},{emoji:"\ud83d\udc69\u200d\u2695\ufe0f",title:"woman health worker"},{emoji:"\ud83d\udc68\u200d\ud83c\udf93",title:"man student"},{emoji:"\ud83d\udc69\u200d\ud83c\udf93",title:"woman student"},{emoji:"\ud83d\udc68\u200d\ud83c\udfeb",title:"man teacher"},{emoji:"\ud83d\udc69\u200d\ud83c\udfeb",title:"woman teacher"},{emoji:"\ud83d\udc68\u200d\u2696\ufe0f",title:"man judge"},{emoji:"\ud83d\udc69\u200d\u2696\ufe0f",title:"woman judge"},{emoji:"\ud83d\udc68\u200d\ud83c\udf3e",title:"man farmer"},{emoji:"\ud83d\udc69\u200d\ud83c\udf3e",title:"woman farmer"},{emoji:"\ud83d\udc68\u200d\ud83c\udf73",title:"man cook"},{emoji:"\ud83d\udc69\u200d\ud83c\udf73",title:"woman cook"},{emoji:"\ud83d\udc68\u200d\ud83d\udd27",title:"man mechanic"},{emoji:"\ud83d\udc69\u200d\ud83d\udd27",title:"woman mechanic"},{emoji:"\ud83d\udc68\u200d\ud83c\udfed",title:"man factory worker"},{emoji:"\ud83d\udc69\u200d\ud83c\udfed",title:"woman factory worker"},{emoji:"\ud83d\udc68\u200d\ud83d\udcbc",title:"man office worker"},{emoji:"\ud83d\udc69\u200d\ud83d\udcbc",title:"woman office worker"},{emoji:"\ud83d\udc68\u200d\ud83d\udd2c",title:"man scientist"},{emoji:"\ud83d\udc69\u200d\ud83d\udd2c",title:"woman scientist"},{emoji:"\ud83d\udc68\u200d\ud83d\udcbb",title:"man technologist"},{emoji:"\ud83d\udc69\u200d\ud83d\udcbb",title:"woman technologist"},{emoji:"\ud83d\udc68\u200d\ud83c\udfa4",title:"man singer"},{emoji:"\ud83d\udc69\u200d\ud83c\udfa4",title:"woman singer"},{emoji:"\ud83d\udc68\u200d\ud83c\udfa8",title:"man artist"},{emoji:"\ud83d\udc69\u200d\ud83c\udfa8",title:"woman artist"},{emoji:"\ud83d\udc68\u200d\u2708\ufe0f",title:"man pilot"},{emoji:"\ud83d\udc69\u200d\u2708\ufe0f",title:"woman pilot"},{emoji:"\ud83d\udc68\u200d\ud83d\ude80",title:"man astronaut"},{emoji:"\ud83d\udc69\u200d\ud83d\ude80",title:"woman astronaut"},{emoji:"\ud83d\udc68\u200d\ud83d\ude92",title:"man firefighter"},{emoji:"\ud83d\udc69\u200d\ud83d\ude92",title:"woman firefighter"},{emoji:"\ud83d\udc6e",title:"police officer"},{emoji:"\ud83d\udc6e\u200d\u2642\ufe0f",title:"man police officer"},{emoji:"\ud83d\udc6e\u200d\u2640\ufe0f",title:"woman police officer"},{emoji:"\ud83d\udd75\ufe0f",title:"detective"},{emoji:"\ud83d\udd75\ufe0f\u200d\u2642\ufe0f",title:"man detective"},{emoji:"\ud83d\udd75\ufe0f\u200d\u2640\ufe0f",title:"woman detective"},{emoji:"\ud83d\udc82",title:"guard"},{emoji:"\ud83d\udc82\u200d\u2642\ufe0f",title:"man guard"},{emoji:"\ud83d\udc82\u200d\u2640\ufe0f",title:"woman guard"},{emoji:"\ud83d\udc77",title:"construction worker"},{emoji:"\ud83d\udc77\u200d\u2642\ufe0f",title:"man construction worker"},{emoji:"\ud83d\udc77\u200d\u2640\ufe0f",title:"woman construction worker"},{emoji:"\ud83e\udd34",title:"prince"},{emoji:"\ud83d\udc78",title:"princess"},{emoji:"\ud83d\udc73",title:"person wearing turban"},{emoji:"\ud83d\udc73\u200d\u2642\ufe0f",title:"man wearing turban"},{emoji:"\ud83d\udc73\u200d\u2640\ufe0f",title:"woman wearing turban"},{emoji:"\ud83d\udc72",title:"man with Chinese cap"},{emoji:"\ud83e\uddd5",title:"woman with headscarf"},{emoji:"\ud83e\uddd4",title:"bearded person"},{emoji:"\ud83d\udc71",title:"blond-haired person"},{emoji:"\ud83d\udc71\u200d\u2642\ufe0f",title:"blond-haired man"},{emoji:"\ud83d\udc71\u200d\u2640\ufe0f",title:"blond-haired woman"},{emoji:"\ud83e\udd35",title:"man in tuxedo"},{emoji:"\ud83d\udc70",title:"bride with veil"},{emoji:"\ud83e\udd30",title:"pregnant woman"},{emoji:"\ud83e\udd31",title:"breast-feeding"},{emoji:"\ud83d\udc7c",title:"baby angel"},{emoji:"\ud83c\udf85",title:"Santa Claus"},{emoji:"\ud83e\udd36",title:"Mrs. Claus"},{emoji:"\ud83e\uddd9",title:"mage"},{emoji:"\ud83e\uddd9\u200d\u2640\ufe0f",title:"woman mage"},{emoji:"\ud83e\uddd9\u200d\u2642\ufe0f",title:"man mage"},{emoji:"\ud83e\uddda",title:"fairy"},{emoji:"\ud83e\uddda\u200d\u2640\ufe0f",title:"woman fairy"},{
emoji:"\ud83e\uddda\u200d\u2642\ufe0f",title:"man fairy"},{emoji:"\ud83e\udddb",title:"vampire"},{emoji:"\ud83e\udddb\u200d\u2640\ufe0f",title:"woman vampire"},{emoji:"\ud83e\udddb\u200d\u2642\ufe0f",title:"man vampire"},{emoji:"\ud83e\udddc",title:"merperson"},{emoji:"\ud83e\udddc\u200d\u2640\ufe0f",title:"mermaid"},{emoji:"\ud83e\udddc\u200d\u2642\ufe0f",title:"merman"},{emoji:"\ud83e\udddd",title:"elf"},{emoji:"\ud83e\udddd\u200d\u2640\ufe0f",title:"woman elf"},{emoji:"\ud83e\udddd\u200d\u2642\ufe0f",title:"man elf"},{emoji:"\ud83e\uddde",title:"genie"},{emoji:"\ud83e\uddde\u200d\u2640\ufe0f",title:"woman genie"},{emoji:"\ud83e\uddde\u200d\u2642\ufe0f",title:"man genie"},{emoji:"\ud83e\udddf",title:"zombie"},{emoji:"\ud83e\udddf\u200d\u2640\ufe0f",title:"woman zombie"},{emoji:"\ud83e\udddf\u200d\u2642\ufe0f",title:"man zombie"},{emoji:"\ud83d\ude4d",title:"person frowning"},{emoji:"\ud83d\ude4d\u200d\u2642\ufe0f",title:"man frowning"},{emoji:"\ud83d\ude4d\u200d\u2640\ufe0f",title:"woman frowning"},{emoji:"\ud83d\ude4e",title:"person pouting"},{emoji:"\ud83d\ude4e\u200d\u2642\ufe0f",title:"man pouting"},{emoji:"\ud83d\ude4e\u200d\u2640\ufe0f",title:"woman pouting"},{emoji:"\ud83d\ude45",title:"person gesturing NO"},{emoji:"\ud83d\ude45\u200d\u2642\ufe0f",title:"man gesturing NO"},{emoji:"\ud83d\ude45\u200d\u2640\ufe0f",title:"woman gesturing NO"},{emoji:"\ud83d\ude46",title:"person gesturing OK"},{emoji:"\ud83d\ude46\u200d\u2642\ufe0f",title:"man gesturing OK"},{emoji:"\ud83d\ude46\u200d\u2640\ufe0f",title:"woman gesturing OK"},{emoji:"\ud83d\udc81",title:"person tipping hand"},{emoji:"\ud83d\udc81\u200d\u2642\ufe0f",title:"man tipping hand"},{emoji:"\ud83d\udc81\u200d\u2640\ufe0f",title:"woman tipping hand"},{emoji:"\ud83d\ude4b",title:"person raising hand"},{emoji:"\ud83d\ude4b\u200d\u2642\ufe0f",title:"man raising hand"},{emoji:"\ud83d\ude4b\u200d\u2640\ufe0f",title:"woman raising hand"},{emoji:"\ud83d\ude47",title:"person bowing"},{emoji:"\ud83d\ude47\u200d\u2642\ufe0f",title:"man bowing"},{emoji:"\ud83d\ude47\u200d\u2640\ufe0f",title:"woman bowing"},{emoji:"\ud83e\udd26",title:"person facepalming"},{emoji:"\ud83e\udd26\u200d\u2642\ufe0f",title:"man facepalming"},{emoji:"\ud83e\udd26\u200d\u2640\ufe0f",title:"woman facepalming"},{emoji:"\ud83e\udd37",title:"person shrugging"},{emoji:"\ud83e\udd37\u200d\u2642\ufe0f",title:"man shrugging"},{emoji:"\ud83e\udd37\u200d\u2640\ufe0f",title:"woman shrugging"},{emoji:"\ud83d\udc86",title:"person getting massage"},{emoji:"\ud83d\udc86\u200d\u2642\ufe0f",title:"man getting massage"},{emoji:"\ud83d\udc86\u200d\u2640\ufe0f",title:"woman getting massage"},{emoji:"\ud83d\udc87",title:"person getting haircut"},{emoji:"\ud83d\udc87\u200d\u2642\ufe0f",title:"man getting haircut"},{emoji:"\ud83d\udc87\u200d\u2640\ufe0f",title:"woman getting haircut"},{emoji:"\ud83d\udeb6",title:"person walking"},{emoji:"\ud83d\udeb6\u200d\u2642\ufe0f",title:"man walking"},{emoji:"\ud83d\udeb6\u200d\u2640\ufe0f",title:"woman walking"},{emoji:"\ud83c\udfc3",title:"person running"},{emoji:"\ud83c\udfc3\u200d\u2642\ufe0f",title:"man running"},{emoji:"\ud83c\udfc3\u200d\u2640\ufe0f",title:"woman running"},{emoji:"\ud83d\udc83",title:"woman dancing"},{emoji:"\ud83d\udd7a",title:"man dancing"},{emoji:"\ud83d\udc6f",title:"people with bunny ears"},{emoji:"\ud83d\udc6f\u200d\u2642\ufe0f",title:"men with bunny ears"},{emoji:"\ud83d\udc6f\u200d\u2640\ufe0f",title:"women with bunny ears"},{emoji:"\ud83e\uddd6",title:"person in steamy room"},{emoji:"\ud83e\uddd6\u200d\u2640\ufe0f",title:"woman in steamy room"},{emoji:"\ud83e\uddd6\u200d\u2642\ufe0f",title:"man in steamy room"},{emoji:"\ud83e\uddd7",title:"person climbing"},{emoji:"\ud83e\uddd7\u200d\u2640\ufe0f",title:"woman climbing"},{emoji:"\ud83e\uddd7\u200d\u2642\ufe0f",title:"man climbing"},{emoji:"\ud83e\uddd8",title:"person in lotus position"},{emoji:"\ud83e\uddd8\u200d\u2640\ufe0f",title:"woman in lotus position"},{emoji:"\ud83e\uddd8\u200d\u2642\ufe0f",title:"man in lotus position"},{emoji:"\ud83d\udec0",title:"person taking bath"},{emoji:"\ud83d\udecc",title:"person in bed"},{emoji:"\ud83d\udd74\ufe0f",title:"man in suit levitating"},{emoji:"\ud83d\udde3\ufe0f",title:"speaking head"},{emoji:"\ud83d\udc64",title:"bust in silhouette"},{emoji:"\ud83d\udc65",title:"busts in silhouette"},{emoji:"\ud83e\udd3a",title:"person fencing"},{emoji:"\ud83c\udfc7",title:"horse racing"},{emoji:"\u26f7\ufe0f",title:"skier"},{emoji:"\ud83c\udfc2",title:"snowboarder"},{emoji:"\ud83c\udfcc\ufe0f",title:"person golfing"},{emoji:"\ud83c\udfcc\ufe0f\u200d\u2642\ufe0f",title:"man golfing"},{emoji:"\ud83c\udfcc\ufe0f\u200d\u2640\ufe0f",title:"woman golfing"},{emoji:"\ud83c\udfc4",title:"person surfing"},{emoji:"\ud83c\udfc4\u200d\u2642\ufe0f",title:"man surfing"},{emoji:"\ud83c\udfc4\u200d\u2640\ufe0f",title:"woman surfing"},{emoji:"\ud83d\udea3",title:"person rowing boat"},{emoji:"\ud83d\udea3\u200d\u2642\ufe0f",title:"man rowing boat"},{emoji:"\ud83d\udea3\u200d\u2640\ufe0f",title:"woman rowing boat"},{emoji:"\ud83c\udfca",title:"person swimming"},{emoji:"\ud83c\udfca\u200d\u2642\ufe0f",title:"man swimming"},{emoji:"\ud83c\udfca\u200d\u2640\ufe0f",title:"woman swimming"},{emoji:"\u26f9\ufe0f",title:"person bouncing ball"},{emoji:"\u26f9\ufe0f\u200d\u2642\ufe0f",title:"man bouncing ball"},{emoji:"\u26f9\ufe0f\u200d\u2640\ufe0f",title:"woman bouncing ball"},{emoji:"\ud83c\udfcb\ufe0f",title:"person lifting weights"},{emoji:"\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f",title:"man lifting weights"},{emoji:"\ud83c\udfcb\ufe0f\u200d\u2640\ufe0f",title:"woman lifting weights"},{emoji:"\ud83d\udeb4",title:"person biking"},{emoji:"\ud83d\udeb4\u200d\u2642\ufe0f",title:"man biking"},{emoji:"\ud83d\udeb4\u200d\u2640\ufe0f",title:"woman biking"},{emoji:"\ud83d\udeb5",title:"person mountain biking"},{emoji:"\ud83d\udeb5\u200d\u2642\ufe0f",title:"man mountain biking"},{emoji:"\ud83d\udeb5\u200d\u2640\ufe0f",title:"woman mountain biking"},{emoji:"\ud83c\udfce\ufe0f",title:"racing car"},{emoji:"\ud83c\udfcd\ufe0f",title:"motorcycle"},{emoji:"\ud83e\udd38",title:"person cartwheeling"},{emoji:"\ud83e\udd38\u200d\u2642\ufe0f",title:"man cartwheeling"},{emoji:"\ud83e\udd38\u200d\u2640\ufe0f",title:"woman cartwheeling"},{emoji:"\ud83e\udd3c",title:"people wrestling"},{emoji:"\ud83e\udd3c\u200d\u2642\ufe0f",title:"men wrestling"},{emoji:"\ud83e\udd3c\u200d\u2640\ufe0f",title:"women wrestling"},{emoji:"\ud83e\udd3d",title:"person playing water polo"},{emoji:"\ud83e\udd3d\u200d\u2642\ufe0f",title:"man playing water polo"},{emoji:"\ud83e\udd3d\u200d\u2640\ufe0f",title:"woman playing water polo"},{emoji:"\ud83e\udd3e",title:"person playing handball"},{emoji:"\ud83e\udd3e\u200d\u2642\ufe0f",title:"man playing handball"},{emoji:"\ud83e\udd3e\u200d\u2640\ufe0f",title:"woman playing handball"},{emoji:"\ud83e\udd39",title:"person juggling"},{emoji:"\ud83e\udd39\u200d\u2642\ufe0f",title:"man juggling"},{emoji:"\ud83e\udd39\u200d\u2640\ufe0f",title:"woman juggling"},{emoji:"\ud83d\udc6b",title:"man and woman holding hands"},{emoji:"\ud83d\udc6c",title:"two men holding hands"},{emoji:"\ud83d\udc6d",title:"two women holding hands"},{emoji:"\ud83d\udc8f",title:"kiss"},{emoji:"\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68",title:"kiss: woman, man"},{emoji:"\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68",title:"kiss: man, man"},{emoji:"\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69",title:"kiss: woman, woman"},{emoji:"\ud83d\udc91",title:"couple with heart"},{emoji:"\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc68",title:"couple with heart: woman, man"},{emoji:"\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68",title:"couple with heart: man, man"},{emoji:"\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc69",title:"couple with heart: woman, woman"},{emoji:"\ud83d\udc6a",title:"family"},{emoji:"\ud83d\udc68\u200d\ud83d\udc66",title:"family: man, boy"},{emoji:"\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66",title:"family: man, boy, boy"},{emoji:"\ud83d\udc68\u200d\ud83d\udc67",title:"family: man, girl"},{emoji:"\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc66",title:"family: man, girl, boy"},{emoji:"\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc67",title:"family: man, girl, girl"},{emoji:"\ud83d\udc69\u200d\ud83d\udc66",title:"family: woman, boy"},{emoji:"\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66",title:"family: woman, boy, boy"},{emoji:"\ud83d\udc69\u200d\ud83d\udc67",title:"family: woman, girl"},{emoji:"\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66",title:"family: woman, girl, boy"},{emoji:"\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc67",title:"family: woman, girl, girl"},{emoji:"\ud83e\udd33",title:"selfie"},{emoji:"\ud83d\udcaa",title:"flexed biceps"},{emoji:"\ud83d\udc48",title:"backhand index pointing left"},{emoji:"\ud83d\udc49",title:"backhand index pointing right"},{emoji:"\u261d\ufe0f",title:"index pointing up"},{emoji:"\ud83d\udc46",title:"backhand index pointing up"},{emoji:"\ud83d\udd95",title:"middle finger"},{emoji:"\ud83d\udc47",title:"backhand index pointing down"},{emoji:"\u270c\ufe0f",title:"victory hand"},{emoji:"\ud83e\udd1e",title:"crossed fingers"},{emoji:"\ud83d\udd96",title:"vulcan salute"},{emoji:"\ud83e\udd18",title:"sign of the horns"},{emoji:"\ud83e\udd19",title:"call me hand"},{emoji:"\ud83d\udd90\ufe0f",title:"hand with fingers splayed"},{emoji:"\u270b",title:"raised hand"},{emoji:"\ud83d\udc4c",title:"OK hand"},{emoji:"\ud83d\udc4d",title:"thumbs up"},{emoji:"\ud83d\udc4e",title:"thumbs down"},{emoji:"\u270a",title:"raised fist"},{emoji:"\ud83d\udc4a",title:"oncoming fist"},{emoji:"\ud83e\udd1b",title:"left-facing fist"},{emoji:"\ud83e\udd1c",title:"right-facing fist"},{emoji:"\ud83e\udd1a",title:"raised back of hand"},{emoji:"\ud83d\udc4b",title:"waving hand"},{emoji:"\ud83e\udd1f",title:"love-you gesture"},{emoji:"\u270d\ufe0f",title:"writing hand"},{emoji:"\ud83d\udc4f",title:"clapping hands"},{emoji:"\ud83d\udc50",title:"open hands"},{emoji:"\ud83d\ude4c",title:"raising hands"},{emoji:"\ud83e\udd32",title:"palms up together"},{emoji:"\ud83d\ude4f",title:"folded hands"},{emoji:"\ud83e\udd1d",title:"handshake"},{emoji:"\ud83d\udc85",title:"nail polish"},{emoji:"\ud83d\udc42",title:"ear"},{emoji:"\ud83d\udc43",title:"nose"},{emoji:"\ud83d\udc63",title:"footprints"},{emoji:"\ud83d\udc40",title:"eyes"},{emoji:"\ud83d\udc41\ufe0f",title:"eye"},{emoji:"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f",title:"eye in speech bubble"},{emoji:"\ud83e\udde0",title:"brain"},{emoji:"\ud83d\udc45",title:"tongue"},{emoji:"\ud83d\udc44",title:"mouth"},{emoji:"\ud83d\udc8b",title:"kiss mark"},{emoji:"\ud83d\udc98",title:"heart with arrow"},{emoji:"\u2764\ufe0f",title:"red heart"},{emoji:"\ud83d\udc93",title:"beating heart"},{emoji:"\ud83d\udc94",title:"broken heart"},{emoji:"\ud83d\udc95",title:"two hearts"},{emoji:"\ud83d\udc96",title:"sparkling heart"},{emoji:"\ud83d\udc97",title:"growing heart"},{emoji:"\ud83d\udc99",title:"blue heart"},{emoji:"\ud83d\udc9a",title:"green heart"},{emoji:"\ud83d\udc9b",title:"yellow heart"},{emoji:"\ud83e\udde1",title:"orange heart"},{emoji:"\ud83d\udc9c",title:"purple heart"},{emoji:"\ud83d\udda4",title:"black heart"},{emoji:"\ud83d\udc9d",title:"heart with ribbon"},{emoji:"\ud83d\udc9e",title:"revolving hearts"},{emoji:"\ud83d\udc9f",title:"heart decoration"},{emoji:"\u2763\ufe0f",title:"heavy heart exclamation"},{emoji:"\ud83d\udc8c",title:"love letter"},{emoji:"\ud83d\udca4",title:"zzz"},{emoji:"\ud83d\udca2",title:"anger symbol"},{emoji:"\ud83d\udca3",title:"bomb"},{emoji:"\ud83d\udca5",title:"collision"},{emoji:"\ud83d\udca6",title:"sweat droplets"},{emoji:"\ud83d\udca8",title:"dashing away"},{emoji:"\ud83d\udcab",title:"dizzy"},{emoji:"\ud83d\udcac",title:"speech balloon"},{emoji:"\ud83d\udde8\ufe0f",title:"left speech bubble"},{emoji:"\ud83d\uddef\ufe0f",title:"right anger bubble"},{emoji:"\ud83d\udcad",title:"thought balloon"},{emoji:"\ud83d\udd73\ufe0f",title:"hole"},{emoji:"\ud83d\udc53",title:"glasses"},{emoji:"\ud83d\udd76\ufe0f",title:"sunglasses"},{emoji:"\ud83d\udc54",title:"necktie"},{emoji:"\ud83d\udc55",title:"t-shirt"},{emoji:"\ud83d\udc56",title:"jeans"},{emoji:"\ud83e\udde3",title:"scarf"},{emoji:"\ud83e\udde4",title:"gloves"},{emoji:"\ud83e\udde5",title:"coat"},{emoji:"\ud83e\udde6",title:"socks"},{emoji:"\ud83d\udc57",title:"dress"},{emoji:"\ud83d\udc58",title:"kimono"},{emoji:"\ud83d\udc59",title:"bikini"},{emoji:"\ud83d\udc5a",title:"woman\u2019s clothes"},{emoji:"\ud83d\udc5b",title:"purse"},{emoji:"\ud83d\udc5c",title:"handbag"},{emoji:"\ud83d\udc5d",title:"clutch bag"},{emoji:"\ud83d\udecd\ufe0f",title:"shopping bags"},{emoji:"\ud83c\udf92",title:"school backpack"},{emoji:"\ud83d\udc5e",title:"man\u2019s shoe"},{emoji:"\ud83d\udc5f",title:"running shoe"},{emoji:"\ud83d\udc60",title:"high-heeled shoe"},{emoji:"\ud83d\udc61",title:"woman\u2019s sandal"},{emoji:"\ud83d\udc62",title:"woman\u2019s boot"},{emoji:"\ud83d\udc51",title:"crown"},{emoji:"\ud83d\udc52",title:"woman\u2019s hat"},{emoji:"\ud83c\udfa9",title:"top hat"},{emoji:"\ud83c\udf93",title:"graduation cap"},{emoji:"\ud83e\udde2",title:"billed cap"},{emoji:"\u26d1\ufe0f",title:"rescue worker\u2019s helmet"},{emoji:"\ud83d\udcff",title:"prayer beads"},{emoji:"\ud83d\udc84",title:"lipstick"},{emoji:"\ud83d\udc8d",title:"ring"},{emoji:"\ud83d\udc8e",title:"gem stone"}],"animals-nature":[{emoji:"\ud83d\udc35",title:"monkey face"},{emoji:"\ud83d\udc12",title:"monkey"},{emoji:"\ud83e\udd8d",title:"gorilla"},{emoji:"\ud83d\udc36",title:"dog face"},{emoji:"\ud83d\udc15",title:"dog"},{emoji:"\ud83d\udc29",title:"poodle"},{emoji:"\ud83d\udc3a",title:"wolf face"},{emoji:"\ud83e\udd8a",title:"fox face"},{emoji:"\ud83d\udc31",title:"cat face"},{emoji:"\ud83d\udc08",title:"cat"},{emoji:"\ud83e\udd81",title:"lion face"},{emoji:"\ud83d\udc2f",title:"tiger face"},{emoji:"\ud83d\udc05",title:"tiger"},{emoji:"\ud83d\udc06",title:"leopard"},{emoji:"\ud83d\udc34",title:"horse face"},{emoji:"\ud83d\udc0e",title:"horse"},{emoji:"\ud83e\udd84",title:"unicorn face"},{emoji:"\ud83e\udd93",title:"zebra"},{emoji:"\ud83e\udd8c",title:"deer"},{emoji:"\ud83d\udc2e",title:"cow face"},{emoji:"\ud83d\udc02",title:"ox"},{emoji:"\ud83d\udc03",title:"water buffalo"},{emoji:"\ud83d\udc04",title:"cow"},{emoji:"\ud83d\udc37",title:"pig face"},{emoji:"\ud83d\udc16",title:"pig"},{emoji:"\ud83d\udc17",title:"boar"},{emoji:"\ud83d\udc3d",title:"pig nose"},{emoji:"\ud83d\udc0f",title:"ram"},{emoji:"\ud83d\udc11",title:"ewe"},{emoji:"\ud83d\udc10",title:"goat"},{emoji:"\ud83d\udc2a",title:"camel"},{emoji:"\ud83d\udc2b",title:"two-hump camel"},{emoji:"\ud83e\udd92",title:"giraffe"},{emoji:"\ud83d\udc18",title:"elephant"},{emoji:"\ud83e\udd8f",title:"rhinoceros"},{emoji:"\ud83d\udc2d",title:"mouse face"},{emoji:"\ud83d\udc01",title:"mouse"},{emoji:"\ud83d\udc00",title:"rat"},{emoji:"\ud83d\udc39",title:"hamster face"},{emoji:"\ud83d\udc30",title:"rabbit face"},{emoji:"\ud83d\udc07",title:"rabbit"},{emoji:"\ud83d\udc3f\ufe0f",title:"chipmunk"},{emoji:"\ud83e\udd94",title:"hedgehog"},{emoji:"\ud83e\udd87",title:"bat"},{emoji:"\ud83d\udc3b",title:"bear face"},{emoji:"\ud83d\udc28",title:"koala"},{emoji:"\ud83d\udc3c",title:"panda face"},{emoji:"\ud83d\udc3e",title:"paw prints"},{emoji:"\ud83e\udd83",title:"turkey"},{emoji:"\ud83d\udc14",title:"chicken"},{emoji:"\ud83d\udc13",title:"rooster"},{emoji:"\ud83d\udc23",title:"hatching chick"},{emoji:"\ud83d\udc24",title:"baby chick"},{emoji:"\ud83d\udc25",title:"front-facing baby chick"},{emoji:"\ud83d\udc26",title:"bird"},{emoji:"\ud83d\udc27",title:"penguin"},{emoji:"\ud83d\udd4a\ufe0f",title:"dove"},{emoji:"\ud83e\udd85",title:"eagle"},{emoji:"\ud83e\udd86",title:"duck"},{emoji:"\ud83e\udd89",title:"owl"},{emoji:"\ud83d\udc38",title:"frog face"},{emoji:"\ud83d\udc0a",title:"crocodile"},{emoji:"\ud83d\udc22",title:"turtle"},{emoji:"\ud83e\udd8e",title:"lizard"},{emoji:"\ud83d\udc0d",title:"snake"},{emoji:"\ud83d\udc32",title:"dragon face"},{emoji:"\ud83d\udc09",title:"dragon"},{emoji:"\ud83e\udd95",title:"sauropod"},{emoji:"\ud83e\udd96",title:"T-Rex"},{emoji:"\ud83d\udc33",title:"spouting whale"},{emoji:"\ud83d\udc0b",title:"whale"},{emoji:"\ud83d\udc2c",title:"dolphin"},{emoji:"\ud83d\udc1f",title:"fish"},{emoji:"\ud83d\udc20",title:"tropical fish"},{emoji:"\ud83d\udc21",title:"blowfish"},{emoji:"\ud83e\udd88",title:"shark"},{emoji:"\ud83d\udc19",title:"octopus"},{emoji:"\ud83d\udc1a",title:"spiral shell"},{emoji:"\ud83e\udd80",title:"crab"},{emoji:"\ud83e\udd90",title:"shrimp"},{emoji:"\ud83e\udd91",title:"squid"},{emoji:"\ud83d\udc0c",title:"snail"},{emoji:"\ud83e\udd8b",title:"butterfly"},{emoji:"\ud83d\udc1b",title:"bug"},{emoji:"\ud83d\udc1c",title:"ant"},{emoji:"\ud83d\udc1d",title:"honeybee"},{emoji:"\ud83d\udc1e",title:"lady beetle"},{emoji:"\ud83e\udd97",title:"cricket"},{emoji:"\ud83d\udd77\ufe0f",title:"spider"},{emoji:"\ud83d\udd78\ufe0f",title:"spider web"},{emoji:"\ud83e\udd82",title:"scorpion"},{emoji:"\ud83d\udc90",title:"bouquet"},{emoji:"\ud83c\udf38",title:"cherry blossom"},{emoji:"\ud83d\udcae",title:"white flower"},{emoji:"\ud83c\udff5\ufe0f",title:"rosette"},{emoji:"\ud83c\udf39",title:"rose"},{emoji:"\ud83e\udd40",title:"wilted flower"},{emoji:"\ud83c\udf3a",title:"hibiscus"},{emoji:"\ud83c\udf3b",title:"sunflower"},{emoji:"\ud83c\udf3c",title:"blossom"},{emoji:"\ud83c\udf37",title:"tulip"},{emoji:"\ud83c\udf31",title:"seedling"},{emoji:"\ud83c\udf32",title:"evergreen tree"},{emoji:"\ud83c\udf33",title:"deciduous tree"},{emoji:"\ud83c\udf34",title:"palm tree"},{emoji:"\ud83c\udf35",title:"cactus"},{emoji:"\ud83c\udf3e",title:"sheaf of rice"},{emoji:"\ud83c\udf3f",title:"herb"},{emoji:"\u2618\ufe0f",title:"shamrock"},{emoji:"\ud83c\udf40",title:"four leaf clover"},{emoji:"\ud83c\udf41",title:"maple leaf"},{emoji:"\ud83c\udf42",title:"fallen leaf"},{emoji:"\ud83c\udf43",title:"leaf fluttering in wind"}],"food-drink":[{emoji:"\ud83c\udf47",title:"grapes"},{emoji:"\ud83c\udf48",title:"melon"},{emoji:"\ud83c\udf49",title:"watermelon"},{emoji:"\ud83c\udf4a",title:"tangerine"},{emoji:"\ud83c\udf4b",title:"lemon"},{emoji:"\ud83c\udf4c",title:"banana"},{emoji:"\ud83c\udf4d",title:"pineapple"},{emoji:"\ud83c\udf4e",title:"red apple"},{emoji:"\ud83c\udf4f",title:"green apple"},{emoji:"\ud83c\udf50",title:"pear"},{emoji:"\ud83c\udf51",title:"peach"},{emoji:"\ud83c\udf52",title:"cherries"},{emoji:"\ud83c\udf53",title:"strawberry"},{emoji:"\ud83e\udd5d",title:"kiwi fruit"},{emoji:"\ud83c\udf45",title:"tomato"},{emoji:"\ud83e\udd65",title:"coconut"},{emoji:"\ud83e\udd51",title:"avocado"},{emoji:"\ud83c\udf46",title:"eggplant"},{emoji:"\ud83e\udd54",title:"potato"},{emoji:"\ud83e\udd55",title:"carrot"},{emoji:"\ud83c\udf3d",title:"ear of corn"},{emoji:"\ud83c\udf36\ufe0f",title:"hot pepper"},{emoji:"\ud83e\udd52",title:"cucumber"},{emoji:"\ud83e\udd66",title:"broccoli"},{emoji:"\ud83c\udf44",title:"mushroom"},{emoji:"\ud83e\udd5c",title:"peanuts"},{emoji:"\ud83c\udf30",title:"chestnut"},{emoji:"\ud83c\udf5e",title:"bread"},{emoji:"\ud83e\udd50",title:"croissant"},{emoji:"\ud83e\udd56",title:"baguette bread"},{emoji:"\ud83e\udd68",title:"pretzel"},{emoji:"\ud83e\udd5e",title:"pancakes"},{emoji:"\ud83e\uddc0",title:"cheese wedge"},{emoji:"\ud83c\udf56",title:"meat on bone"},{emoji:"\ud83c\udf57",title:"poultry leg"},{emoji:"\ud83e\udd69",title:"cut of meat"},{emoji:"\ud83e\udd53",title:"bacon"},{emoji:"\ud83c\udf54",title:"hamburger"},{emoji:"\ud83c\udf5f",title:"french fries"},{emoji:"\ud83c\udf55",title:"pizza"},{emoji:"\ud83c\udf2d",title:"hot dog"},{emoji:"\ud83e\udd6a",title:"sandwich"},{emoji:"\ud83c\udf2e",title:"taco"},{emoji:"\ud83c\udf2f",title:"burrito"},{emoji:"\ud83e\udd59",title:"stuffed flatbread"},{emoji:"\ud83e\udd5a",title:"egg"},{emoji:"\ud83c\udf73",title:"cooking"},{emoji:"\ud83e\udd58",title:"shallow pan of food"},{emoji:"\ud83c\udf72",title:"pot of food"},{emoji:"\ud83e\udd63",title:"bowl with spoon"},{emoji:"\ud83e\udd57",title:"green salad"},{emoji:"\ud83c\udf7f",title:"popcorn"},{emoji:"\ud83e\udd6b",title:"canned food"},{emoji:"\ud83c\udf71",title:"bento box"},{emoji:"\ud83c\udf58",title:"rice cracker"},{emoji:"\ud83c\udf59",title:"rice ball"},{emoji:"\ud83c\udf5a",title:"cooked rice"},{emoji:"\ud83c\udf5b",title:"curry rice"},{emoji:"\ud83c\udf5c",title:"steaming bowl"},{emoji:"\ud83c\udf5d",title:"spaghetti"},{emoji:"\ud83c\udf60",title:"roasted sweet potato"},{emoji:"\ud83c\udf62",title:"oden"},{emoji:"\ud83c\udf63",title:"sushi"},{emoji:"\ud83c\udf64",title:"fried shrimp"},{emoji:"\ud83c\udf65",title:"fish cake with swirl"},{emoji:"\ud83c\udf61",title:"dango"},{emoji:"\ud83e\udd5f",title:"dumpling"},{emoji:"\ud83e\udd60",title:"fortune cookie"},{emoji:"\ud83e\udd61",title:"takeout box"},{emoji:"\ud83c\udf66",title:"soft ice cream"},{emoji:"\ud83c\udf67",title:"shaved ice"},{emoji:"\ud83c\udf68",title:"ice cream"},{emoji:"\ud83c\udf69",title:"doughnut"},{emoji:"\ud83c\udf6a",title:"cookie"},{emoji:"\ud83c\udf82",title:"birthday cake"},{emoji:"\ud83c\udf70",title:"shortcake"},{emoji:"\ud83e\udd67",title:"pie"},{emoji:"\ud83c\udf6b",title:"chocolate bar"},{emoji:"\ud83c\udf6c",title:"candy"},{emoji:"\ud83c\udf6d",title:"lollipop"},{emoji:"\ud83c\udf6e",title:"custard"},{emoji:"\ud83c\udf6f",title:"honey pot"},{emoji:"\ud83c\udf7c",title:"baby bottle"},{emoji:"\ud83e\udd5b",title:"glass of milk"},{emoji:"\u2615",title:"hot beverage"},{emoji:"\ud83c\udf75",title:"teacup without handle"},{emoji:"\ud83c\udf76",title:"sake"},{emoji:"\ud83c\udf7e",title:"bottle with popping cork"},{emoji:"\ud83c\udf77",title:"wine glass"},{emoji:"\ud83c\udf78",title:"cocktail glass"},{emoji:"\ud83c\udf79",title:"tropical drink"},{emoji:"\ud83c\udf7a",title:"beer mug"},{emoji:"\ud83c\udf7b",title:"clinking beer mugs"},{emoji:"\ud83e\udd42",title:"clinking glasses"},{emoji:"\ud83e\udd43",title:"tumbler glass"},{emoji:"\ud83e\udd64",title:"cup with straw"},{emoji:"\ud83e\udd62",title:"chopsticks"},{emoji:"\ud83c\udf7d\ufe0f",title:"fork and knife with plate"},{emoji:"\ud83c\udf74",title:"fork and knife"},{emoji:"\ud83e\udd44",title:"spoon"},{emoji:"\ud83d\udd2a",title:"kitchen knife"},{emoji:"\ud83c\udffa",title:"amphora"}],"travel-places":[{emoji:"\ud83c\udf0d",title:"globe showing Europe-Africa"},{emoji:"\ud83c\udf0e",title:"globe showing Americas"},{emoji:"\ud83c\udf0f",title:"globe showing Asia-Australia"},{emoji:"\ud83c\udf10",title:"globe with meridians"},{emoji:"\ud83d\uddfa\ufe0f",title:"world map"},{emoji:"\ud83d\uddfe",title:"map of Japan"},{emoji:"\ud83c\udfd4\ufe0f",title:"snow-capped mountain"},{emoji:"\u26f0\ufe0f",title:"mountain"},{emoji:"\ud83c\udf0b",title:"volcano"},{emoji:"\ud83d\uddfb",title:"mount fuji"},{emoji:"\ud83c\udfd5\ufe0f",title:"camping"},{emoji:"\ud83c\udfd6\ufe0f",title:"beach with umbrella"},{emoji:"\ud83c\udfdc\ufe0f",title:"desert"},{emoji:"\ud83c\udfdd\ufe0f",title:"desert island"},{emoji:"\ud83c\udfde\ufe0f",title:"national park"},{emoji:"\ud83c\udfdf\ufe0f",title:"stadium"},{emoji:"\ud83c\udfdb\ufe0f",title:"classical building"},{emoji:"\ud83c\udfd7\ufe0f",title:"building construction"},{emoji:"\ud83c\udfd8\ufe0f",title:"houses"},{emoji:"\ud83c\udfd9\ufe0f",title:"cityscape"},{emoji:"\ud83c\udfda\ufe0f",title:"derelict house"},{emoji:"\ud83c\udfe0",title:"house"},{emoji:"\ud83c\udfe1",title:"house with garden"},{emoji:"\ud83c\udfe2",title:"office building"},{emoji:"\ud83c\udfe3",title:"Japanese post office"},{emoji:"\ud83c\udfe4",title:"post office"},{emoji:"\ud83c\udfe5",title:"hospital"},{emoji:"\ud83c\udfe6",title:"bank"},{emoji:"\ud83c\udfe8",title:"hotel"},{emoji:"\ud83c\udfe9",title:"love hotel"},{emoji:"\ud83c\udfea",title:"convenience store"},{emoji:"\ud83c\udfeb",title:"school"},{emoji:"\ud83c\udfec",title:"department store"},{emoji:"\ud83c\udfed",title:"factory"},{emoji:"\ud83c\udfef",title:"Japanese castle"},{emoji:"\ud83c\udff0",title:"castle"},{emoji:"\ud83d\udc92",title:"wedding"},{emoji:"\ud83d\uddfc",title:"Tokyo tower"},{emoji:"\ud83d\uddfd",title:"Statue of Liberty"},{emoji:"\u26ea",title:"church"},{emoji:"\ud83d\udd4c",title:"mosque"},{emoji:"\ud83d\udd4d",title:"synagogue"},{emoji:"\u26e9\ufe0f",title:"shinto shrine"},{emoji:"\ud83d\udd4b",title:"kaaba"},{emoji:"\u26f2",title:"fountain"},{emoji:"\u26fa",title:"tent"},{emoji:"\ud83c\udf01",title:"foggy"},{emoji:"\ud83c\udf03",title:"night with stars"},{emoji:"\ud83c\udf04",title:"sunrise over mountains"},{emoji:"\ud83c\udf05",title:"sunrise"},{emoji:"\ud83c\udf06",title:"cityscape at dusk"},{emoji:"\ud83c\udf07",title:"sunset"},{emoji:"\ud83c\udf09",title:"bridge at night"},{emoji:"\u2668\ufe0f",title:"hot springs"},{emoji:"\ud83c\udf0c",title:"milky way"},{emoji:"\ud83c\udfa0",title:"carousel horse"},{emoji:"\ud83c\udfa1",title:"ferris wheel"},{emoji:"\ud83c\udfa2",title:"roller coaster"},{emoji:"\ud83d\udc88",title:"barber pole"},{emoji:"\ud83c\udfaa",title:"circus tent"},{emoji:"\ud83c\udfad",title:"performing arts"},{emoji:"\ud83d\uddbc\ufe0f",title:"framed picture"},{emoji:"\ud83c\udfa8",title:"artist palette"},{emoji:"\ud83c\udfb0",title:"slot machine"},{emoji:"\ud83d\ude82",title:"locomotive"},{emoji:"\ud83d\ude83",title:"railway car"},{emoji:"\ud83d\ude84",title:"high-speed train"},{emoji:"\ud83d\ude85",title:"bullet train"},{emoji:"\ud83d\ude86",title:"train"},{emoji:"\ud83d\ude87",title:"metro"},{emoji:"\ud83d\ude88",title:"light rail"},{emoji:"\ud83d\ude89",title:"station"},{emoji:"\ud83d\ude8a",title:"tram"},{emoji:"\ud83d\ude9d",title:"monorail"},{emoji:"\ud83d\ude9e",title:"mountain railway"},{emoji:"\ud83d\ude8b",title:"tram car"},{emoji:"\ud83d\ude8c",title:"bus"},{emoji:"\ud83d\ude8d",title:"oncoming bus"},{emoji:"\ud83d\ude8e",title:"trolleybus"},{emoji:"\ud83d\ude90",title:"minibus"},{emoji:"\ud83d\ude91",title:"ambulance"},{emoji:"\ud83d\ude92",title:"fire engine"},{emoji:"\ud83d\ude93",title:"police car"},{emoji:"\ud83d\ude94",title:"oncoming police car"},{emoji:"\ud83d\ude95",title:"taxi"},{emoji:"\ud83d\ude96",title:"oncoming taxi"},{emoji:"\ud83d\ude97",title:"automobile"},{emoji:"\ud83d\ude98",title:"oncoming automobile"},{emoji:"\ud83d\ude99",title:"sport utility vehicle"},{emoji:"\ud83d\ude9a",title:"delivery truck"},{emoji:"\ud83d\ude9b",title:"articulated lorry"},{emoji:"\ud83d\ude9c",title:"tractor"},{emoji:"\ud83d\udeb2",title:"bicycle"},{emoji:"\ud83d\udef4",title:"kick scooter"},{emoji:"\ud83d\udef5",title:"motor scooter"},{emoji:"\ud83d\ude8f",title:"bus stop"},{emoji:"\ud83d\udee3\ufe0f",title:"motorway"},{emoji:"\ud83d\udee4\ufe0f",title:"railway track"},{emoji:"\u26fd",title:"fuel pump"},{emoji:"\ud83d\udea8",title:"police car light"},{emoji:"\ud83d\udea5",title:"horizontal traffic light"},{emoji:"\ud83d\udea6",title:"vertical traffic light"},{emoji:"\ud83d\udea7",title:"construction"},{emoji:"\ud83d\uded1",title:"stop sign"},{emoji:"\u2693",title:"anchor"},{emoji:"\u26f5",title:"sailboat"},{emoji:"\ud83d\udef6",title:"canoe"},{emoji:"\ud83d\udea4",title:"speedboat"},{emoji:"\ud83d\udef3\ufe0f",title:"passenger ship"},{emoji:"\u26f4\ufe0f",title:"ferry"},{emoji:"\ud83d\udee5\ufe0f",title:"motor boat"},{emoji:"\ud83d\udea2",title:"ship"},{emoji:"\u2708\ufe0f",title:"airplane"},{emoji:"\ud83d\udee9\ufe0f",title:"small airplane"},{emoji:"\ud83d\udeeb",title:"airplane departure"},{emoji:"\ud83d\udeec",title:"airplane arrival"},{emoji:"\ud83d\udcba",title:"seat"},{emoji:"\ud83d\ude81",title:"helicopter"},{emoji:"\ud83d\ude9f",title:"suspension railway"},{emoji:"\ud83d\udea0",title:"mountain cableway"},{emoji:"\ud83d\udea1",title:"aerial tramway"},{emoji:"\ud83d\udef0\ufe0f",title:"satellite"},{emoji:"\ud83d\ude80",title:"rocket"},{emoji:"\ud83d\udef8",title:"flying saucer"},{emoji:"\ud83d\udece\ufe0f",title:"bellhop bell"},{emoji:"\ud83d\udeaa",title:"door"},{emoji:"\ud83d\udecf\ufe0f",title:"bed"},{emoji:"\ud83d\udecb\ufe0f",title:"couch and lamp"},{emoji:"\ud83d\udebd",title:"toilet"},{emoji:"\ud83d\udebf",title:"shower"},{emoji:"\ud83d\udec1",title:"bathtub"},{emoji:"\u231b",title:"hourglass done"},{emoji:"\u23f3",title:"hourglass not done"},{emoji:"\u231a",title:"watch"},{emoji:"\u23f0",title:"alarm clock"},{emoji:"\u23f1\ufe0f",title:"stopwatch"},{emoji:"\u23f2\ufe0f",title:"timer clock"},{emoji:"\ud83d\udd70\ufe0f",title:"mantelpiece clock"},{emoji:"\ud83d\udd5b",title:"twelve o\u2019clock"},{emoji:"\ud83d\udd67",title:"twelve-thirty"},{emoji:"\ud83d\udd50",title:"one o\u2019clock"},{emoji:"\ud83d\udd5c",title:"one-thirty"},{emoji:"\ud83d\udd51",title:"two o\u2019clock"},{emoji:"\ud83d\udd5d",title:"two-thirty"},{emoji:"\ud83d\udd52",title:"three o\u2019clock"},{emoji:"\ud83d\udd5e",title:"three-thirty"},{emoji:"\ud83d\udd53",title:"four o\u2019clock"},{emoji:"\ud83d\udd5f",title:"four-thirty"},{emoji:"\ud83d\udd54",title:"five o\u2019clock"},{emoji:"\ud83d\udd60",title:"five-thirty"},{emoji:"\ud83d\udd55",title:"six o\u2019clock"},{emoji:"\ud83d\udd61",title:"six-thirty"},{emoji:"\ud83d\udd56",title:"seven o\u2019clock"},{emoji:"\ud83d\udd62",title:"seven-thirty"},{emoji:"\ud83d\udd57",title:"eight o\u2019clock"},{emoji:"\ud83d\udd63",title:"eight-thirty"},{emoji:"\ud83d\udd58",title:"nine o\u2019clock"},{emoji:"\ud83d\udd64",title:"nine-thirty"},{emoji:"\ud83d\udd59",title:"ten o\u2019clock"},{emoji:"\ud83d\udd65",title:"ten-thirty"},{emoji:"\ud83d\udd5a",title:"eleven o\u2019clock"},{emoji:"\ud83d\udd66",title:"eleven-thirty"},{emoji:"\ud83c\udf11",title:"new moon"},{emoji:"\ud83c\udf12",title:"waxing crescent moon"},{emoji:"\ud83c\udf13",title:"first quarter moon"},{emoji:"\ud83c\udf14",title:"waxing gibbous moon"},{emoji:"\ud83c\udf15",title:"full moon"},{emoji:"\ud83c\udf16",title:"waning gibbous moon"},{emoji:"\ud83c\udf17",title:"last quarter moon"},{emoji:"\ud83c\udf18",title:"waning crescent moon"},{emoji:"\ud83c\udf19",title:"crescent moon"},{emoji:"\ud83c\udf1a",title:"new moon face"},{emoji:"\ud83c\udf1b",title:"first quarter moon face"},{emoji:"\ud83c\udf1c",title:"last quarter moon face"},{emoji:"\ud83c\udf21\ufe0f",title:"thermometer"},{emoji:"\u2600\ufe0f",title:"sun"},{emoji:"\ud83c\udf1d",title:"full moon face"},{emoji:"\ud83c\udf1e",title:"sun with face"},{emoji:"\u2b50",title:"white medium star"},{emoji:"\ud83c\udf1f",title:"glowing star"},{emoji:"\ud83c\udf20",title:"shooting star"},{emoji:"\u2601\ufe0f",title:"cloud"},{emoji:"\u26c5",title:"sun behind cloud"},{emoji:"\u26c8\ufe0f",title:"cloud with lightning and rain"},{emoji:"\ud83c\udf24\ufe0f",title:"sun behind small cloud"},{emoji:"\ud83c\udf25\ufe0f",title:"sun behind large cloud"},{emoji:"\ud83c\udf26\ufe0f",title:"sun behind rain cloud"},{emoji:"\ud83c\udf27\ufe0f",title:"cloud with rain"},{emoji:"\ud83c\udf28\ufe0f",title:"cloud with snow"},{emoji:"\ud83c\udf29\ufe0f",title:"cloud with lightning"},{emoji:"\ud83c\udf2a\ufe0f",title:"tornado"},{emoji:"\ud83c\udf2b\ufe0f",title:"fog"},{emoji:"\ud83c\udf2c\ufe0f",title:"wind face"},{emoji:"\ud83c\udf00",title:"cyclone"},{emoji:"\ud83c\udf08",title:"rainbow"},{emoji:"\ud83c\udf02",title:"closed umbrella"},{emoji:"\u2602\ufe0f",title:"umbrella"},{emoji:"\u2614",title:"umbrella with rain drops"},{emoji:"\u26f1\ufe0f",title:"umbrella on ground"},{emoji:"\u26a1",title:"high voltage"},{emoji:"\u2744\ufe0f",title:"snowflake"},{emoji:"\u2603\ufe0f",title:"snowman"},{emoji:"\u26c4",title:"snowman without snow"},{emoji:"\u2604\ufe0f",title:"comet"},{emoji:"\ud83d\udd25",title:"fire"},{emoji:"\ud83d\udca7",title:"droplet"},{emoji:"\ud83c\udf0a",title:"water wave"}],activities:[{emoji:"\ud83c\udf83",title:"jack-o-lantern"},{emoji:"\ud83c\udf84",title:"Christmas tree"},{emoji:"\ud83c\udf86",title:"fireworks"},{emoji:"\ud83c\udf87",title:"sparkler"},{emoji:"\u2728",title:"sparkles"},{emoji:"\ud83c\udf88",title:"balloon"},{emoji:"\ud83c\udf89",title:"party popper"},{emoji:"\ud83c\udf8a",title:"confetti ball"},{emoji:"\ud83c\udf8b",title:"tanabata tree"},{emoji:"\ud83c\udf8d",title:"pine decoration"},{emoji:"\ud83c\udf8e",title:"Japanese dolls"},{emoji:"\ud83c\udf8f",title:"carp streamer"},{emoji:"\ud83c\udf90",title:"wind chime"},{emoji:"\ud83c\udf91",title:"moon viewing ceremony"},{emoji:"\ud83c\udf80",title:"ribbon"},{emoji:"\ud83c\udf81",title:"wrapped gift"},{emoji:"\ud83c\udf97\ufe0f",title:"reminder ribbon"},{emoji:"\ud83c\udf9f\ufe0f",title:"admission tickets"},{emoji:"\ud83c\udfab",title:"ticket"},{emoji:"\ud83c\udf96\ufe0f",title:"military medal"},{emoji:"\ud83c\udfc6",title:"trophy"},{emoji:"\ud83c\udfc5",title:"sports medal"},{emoji:"\ud83e\udd47",title:"1st place medal"},{emoji:"\ud83e\udd48",title:"2nd place medal"},{emoji:"\ud83e\udd49",title:"3rd place medal"},{emoji:"\u26bd",title:"soccer ball"},{emoji:"\u26be",title:"baseball"},{emoji:"\ud83c\udfc0",
title:"basketball"},{emoji:"\ud83c\udfd0",title:"volleyball"},{emoji:"\ud83c\udfc8",title:"american football"},{emoji:"\ud83c\udfc9",title:"rugby football"},{emoji:"\ud83c\udfbe",title:"tennis"},{emoji:"\ud83c\udfb1",title:"pool 8 ball"},{emoji:"\ud83c\udfb3",title:"bowling"},{emoji:"\ud83c\udfcf",title:"cricket game"},{emoji:"\ud83c\udfd1",title:"field hockey"},{emoji:"\ud83c\udfd2",title:"ice hockey"},{emoji:"\ud83c\udfd3",title:"ping pong"},{emoji:"\ud83c\udff8",title:"badminton"},{emoji:"\ud83e\udd4a",title:"boxing glove"},{emoji:"\ud83e\udd4b",title:"martial arts uniform"},{emoji:"\ud83e\udd45",title:"goal net"},{emoji:"\ud83c\udfaf",title:"direct hit"},{emoji:"\u26f3",title:"flag in hole"},{emoji:"\u26f8\ufe0f",title:"ice skate"},{emoji:"\ud83c\udfa3",title:"fishing pole"},{emoji:"\ud83c\udfbd",title:"running shirt"},{emoji:"\ud83c\udfbf",title:"skis"},{emoji:"\ud83d\udef7",title:"sled"},{emoji:"\ud83e\udd4c",title:"curling stone"},{emoji:"\ud83c\udfae",title:"video game"},{emoji:"\ud83d\udd79\ufe0f",title:"joystick"},{emoji:"\ud83c\udfb2",title:"game die"},{emoji:"\u2660\ufe0f",title:"spade suit"},{emoji:"\u2665\ufe0f",title:"heart suit"},{emoji:"\u2666\ufe0f",title:"diamond suit"},{emoji:"\u2663\ufe0f",title:"club suit"},{emoji:"\ud83c\udccf",title:"joker"},{emoji:"\ud83c\udc04",title:"mahjong red dragon"},{emoji:"\ud83c\udfb4",title:"flower playing cards"}],objects:[{emoji:"\ud83d\udd07",title:"muted speaker"},{emoji:"\ud83d\udd08",title:"speaker low volume"},{emoji:"\ud83d\udd09",title:"speaker medium volume"},{emoji:"\ud83d\udd0a",title:"speaker high volume"},{emoji:"\ud83d\udce2",title:"loudspeaker"},{emoji:"\ud83d\udce3",title:"megaphone"},{emoji:"\ud83d\udcef",title:"postal horn"},{emoji:"\ud83d\udd14",title:"bell"},{emoji:"\ud83d\udd15",title:"bell with slash"},{emoji:"\ud83c\udfbc",title:"musical score"},{emoji:"\ud83c\udfb5",title:"musical note"},{emoji:"\ud83c\udfb6",title:"musical notes"},{emoji:"\ud83c\udf99\ufe0f",title:"studio microphone"},{emoji:"\ud83c\udf9a\ufe0f",title:"level slider"},{emoji:"\ud83c\udf9b\ufe0f",title:"control knobs"},{emoji:"\ud83c\udfa4",title:"microphone"},{emoji:"\ud83c\udfa7",title:"headphone"},{emoji:"\ud83d\udcfb",title:"radio"},{emoji:"\ud83c\udfb7",title:"saxophone"},{emoji:"\ud83c\udfb8",title:"guitar"},{emoji:"\ud83c\udfb9",title:"musical keyboard"},{emoji:"\ud83c\udfba",title:"trumpet"},{emoji:"\ud83c\udfbb",title:"violin"},{emoji:"\ud83e\udd41",title:"drum"},{emoji:"\ud83d\udcf1",title:"mobile phone"},{emoji:"\ud83d\udcf2",title:"mobile phone with arrow"},{emoji:"\u260e\ufe0f",title:"telephone"},{emoji:"\ud83d\udcde",title:"telephone receiver"},{emoji:"\ud83d\udcdf",title:"pager"},{emoji:"\ud83d\udce0",title:"fax machine"},{emoji:"\ud83d\udd0b",title:"battery"},{emoji:"\ud83d\udd0c",title:"electric plug"},{emoji:"\ud83d\udcbb",title:"laptop computer"},{emoji:"\ud83d\udda5\ufe0f",title:"desktop computer"},{emoji:"\ud83d\udda8\ufe0f",title:"printer"},{emoji:"\u2328\ufe0f",title:"keyboard"},{emoji:"\ud83d\uddb1\ufe0f",title:"computer mouse"},{emoji:"\ud83d\uddb2\ufe0f",title:"trackball"},{emoji:"\ud83d\udcbd",title:"computer disk"},{emoji:"\ud83d\udcbe",title:"floppy disk"},{emoji:"\ud83d\udcbf",title:"optical disk"},{emoji:"\ud83d\udcc0",title:"dvd"},{emoji:"\ud83c\udfa5",title:"movie camera"},{emoji:"\ud83c\udf9e\ufe0f",title:"film frames"},{emoji:"\ud83d\udcfd\ufe0f",title:"film projector"},{emoji:"\ud83c\udfac",title:"clapper board"},{emoji:"\ud83d\udcfa",title:"television"},{emoji:"\ud83d\udcf7",title:"camera"},{emoji:"\ud83d\udcf8",title:"camera with flash"},{emoji:"\ud83d\udcf9",title:"video camera"},{emoji:"\ud83d\udcfc",title:"videocassette"},{emoji:"\ud83d\udd0d",title:"magnifying glass tilted left"},{emoji:"\ud83d\udd0e",title:"magnifying glass tilted right"},{emoji:"\ud83d\udd2c",title:"microscope"},{emoji:"\ud83d\udd2d",title:"telescope"},{emoji:"\ud83d\udce1",title:"satellite antenna"},{emoji:"\ud83d\udd6f\ufe0f",title:"candle"},{emoji:"\ud83d\udca1",title:"light bulb"},{emoji:"\ud83d\udd26",title:"flashlight"},{emoji:"\ud83c\udfee",title:"red paper lantern"},{emoji:"\ud83d\udcd4",title:"notebook with decorative cover"},{emoji:"\ud83d\udcd5",title:"closed book"},{emoji:"\ud83d\udcd6",title:"open book"},{emoji:"\ud83d\udcd7",title:"green book"},{emoji:"\ud83d\udcd8",title:"blue book"},{emoji:"\ud83d\udcd9",title:"orange book"},{emoji:"\ud83d\udcda",title:"books"},{emoji:"\ud83d\udcd3",title:"notebook"},{emoji:"\ud83d\udcd2",title:"ledger"},{emoji:"\ud83d\udcc3",title:"page with curl"},{emoji:"\ud83d\udcdc",title:"scroll"},{emoji:"\ud83d\udcc4",title:"page facing up"},{emoji:"\ud83d\udcf0",title:"newspaper"},{emoji:"\ud83d\uddde\ufe0f",title:"rolled-up newspaper"},{emoji:"\ud83d\udcd1",title:"bookmark tabs"},{emoji:"\ud83d\udd16",title:"bookmark"},{emoji:"\ud83c\udff7\ufe0f",title:"label"},{emoji:"\ud83d\udcb0",title:"money bag"},{emoji:"\ud83d\udcb4",title:"yen banknote"},{emoji:"\ud83d\udcb5",title:"dollar banknote"},{emoji:"\ud83d\udcb6",title:"euro banknote"},{emoji:"\ud83d\udcb7",title:"pound banknote"},{emoji:"\ud83d\udcb8",title:"money with wings"},{emoji:"\ud83d\udcb3",title:"credit card"},{emoji:"\ud83d\udcb9",title:"chart increasing with yen"},{emoji:"\ud83d\udcb1",title:"currency exchange"},{emoji:"\ud83d\udcb2",title:"heavy dollar sign"},{emoji:"\u2709\ufe0f",title:"envelope"},{emoji:"\ud83d\udce7",title:"e-mail"},{emoji:"\ud83d\udce8",title:"incoming envelope"},{emoji:"\ud83d\udce9",title:"envelope with arrow"},{emoji:"\ud83d\udce4",title:"outbox tray"},{emoji:"\ud83d\udce5",title:"inbox tray"},{emoji:"\ud83d\udce6",title:"package"},{emoji:"\ud83d\udceb",title:"closed mailbox with raised flag"},{emoji:"\ud83d\udcea",title:"closed mailbox with lowered flag"},{emoji:"\ud83d\udcec",title:"open mailbox with raised flag"},{emoji:"\ud83d\udced",title:"open mailbox with lowered flag"},{emoji:"\ud83d\udcee",title:"postbox"},{emoji:"\ud83d\uddf3\ufe0f",title:"ballot box with ballot"},{emoji:"\u270f\ufe0f",title:"pencil"},{emoji:"\u2712\ufe0f",title:"black nib"},{emoji:"\ud83d\udd8b\ufe0f",title:"fountain pen"},{emoji:"\ud83d\udd8a\ufe0f",title:"pen"},{emoji:"\ud83d\udd8c\ufe0f",title:"paintbrush"},{emoji:"\ud83d\udd8d\ufe0f",title:"crayon"},{emoji:"\ud83d\udcdd",title:"memo"},{emoji:"\ud83d\udcbc",title:"briefcase"},{emoji:"\ud83d\udcc1",title:"file folder"},{emoji:"\ud83d\udcc2",title:"open file folder"},{emoji:"\ud83d\uddc2\ufe0f",title:"card index dividers"},{emoji:"\ud83d\udcc5",title:"calendar"},{emoji:"\ud83d\udcc6",title:"tear-off calendar"},{emoji:"\ud83d\uddd2\ufe0f",title:"spiral notepad"},{emoji:"\ud83d\uddd3\ufe0f",title:"spiral calendar"},{emoji:"\ud83d\udcc7",title:"card index"},{emoji:"\ud83d\udcc8",title:"chart increasing"},{emoji:"\ud83d\udcc9",title:"chart decreasing"},{emoji:"\ud83d\udcca",title:"bar chart"},{emoji:"\ud83d\udccb",title:"clipboard"},{emoji:"\ud83d\udccc",title:"pushpin"},{emoji:"\ud83d\udccd",title:"round pushpin"},{emoji:"\ud83d\udcce",title:"paperclip"},{emoji:"\ud83d\udd87\ufe0f",title:"linked paperclips"},{emoji:"\ud83d\udccf",title:"straight ruler"},{emoji:"\ud83d\udcd0",title:"triangular ruler"},{emoji:"\u2702\ufe0f",title:"scissors"},{emoji:"\ud83d\uddc3\ufe0f",title:"card file box"},{emoji:"\ud83d\uddc4\ufe0f",title:"file cabinet"},{emoji:"\ud83d\uddd1\ufe0f",title:"wastebasket"},{emoji:"\ud83d\udd12",title:"locked"},{emoji:"\ud83d\udd13",title:"unlocked"},{emoji:"\ud83d\udd0f",title:"locked with pen"},{emoji:"\ud83d\udd10",title:"locked with key"},{emoji:"\ud83d\udd11",title:"key"},{emoji:"\ud83d\udddd\ufe0f",title:"old key"},{emoji:"\ud83d\udd28",title:"hammer"},{emoji:"\u26cf\ufe0f",title:"pick"},{emoji:"\u2692\ufe0f",title:"hammer and pick"},{emoji:"\ud83d\udee0\ufe0f",title:"hammer and wrench"},{emoji:"\ud83d\udde1\ufe0f",title:"dagger"},{emoji:"\u2694\ufe0f",title:"crossed swords"},{emoji:"\ud83d\udd2b",title:"pistol"},{emoji:"\ud83c\udff9",title:"bow and arrow"},{emoji:"\ud83d\udee1\ufe0f",title:"shield"},{emoji:"\ud83d\udd27",title:"wrench"},{emoji:"\ud83d\udd29",title:"nut and bolt"},{emoji:"\u2699\ufe0f",title:"gear"},{emoji:"\ud83d\udddc\ufe0f",title:"clamp"},{emoji:"\u2697\ufe0f",title:"alembic"},{emoji:"\u2696\ufe0f",title:"balance scale"},{emoji:"\ud83d\udd17",title:"link"},{emoji:"\u26d3\ufe0f",title:"chains"},{emoji:"\ud83d\udc89",title:"syringe"},{emoji:"\ud83d\udc8a",title:"pill"},{emoji:"\ud83d\udeac",title:"cigarette"},{emoji:"\u26b0\ufe0f",title:"coffin"},{emoji:"\u26b1\ufe0f",title:"funeral urn"},{emoji:"\ud83d\uddff",title:"moai"},{emoji:"\ud83d\udee2\ufe0f",title:"oil drum"},{emoji:"\ud83d\udd2e",title:"crystal ball"},{emoji:"\ud83d\uded2",title:"shopping cart"}],symbols:[{emoji:"\ud83c\udfe7",title:"ATM sign"},{emoji:"\ud83d\udeae",title:"litter in bin sign"},{emoji:"\ud83d\udeb0",title:"potable water"},{emoji:"\u267f",title:"wheelchair symbol"},{emoji:"\ud83d\udeb9",title:"men\u2019s room"},{emoji:"\ud83d\udeba",title:"women\u2019s room"},{emoji:"\ud83d\udebb",title:"restroom"},{emoji:"\ud83d\udebc",title:"baby symbol"},{emoji:"\ud83d\udebe",title:"water closet"},{emoji:"\ud83d\udec2",title:"passport control"},{emoji:"\ud83d\udec3",title:"customs"},{emoji:"\ud83d\udec4",title:"baggage claim"},{emoji:"\ud83d\udec5",title:"left luggage"},{emoji:"\u26a0\ufe0f",title:"warning"},{emoji:"\ud83d\udeb8",title:"children crossing"},{emoji:"\u26d4",title:"no entry"},{emoji:"\ud83d\udeab",title:"prohibited"},{emoji:"\ud83d\udeb3",title:"no bicycles"},{emoji:"\ud83d\udead",title:"no smoking"},{emoji:"\ud83d\udeaf",title:"no littering"},{emoji:"\ud83d\udeb1",title:"non-potable water"},{emoji:"\ud83d\udeb7",title:"no pedestrians"},{emoji:"\ud83d\udcf5",title:"no mobile phones"},{emoji:"\ud83d\udd1e",title:"no one under eighteen"},{emoji:"\u2622\ufe0f",title:"radioactive"},{emoji:"\u2623\ufe0f",title:"biohazard"},{emoji:"\u2b06\ufe0f",title:"up arrow"},{emoji:"\u2197\ufe0f",title:"up-right arrow"},{emoji:"\u27a1\ufe0f",title:"right arrow"},{emoji:"\u2198\ufe0f",title:"down-right arrow"},{emoji:"\u2b07\ufe0f",title:"down arrow"},{emoji:"\u2199\ufe0f",title:"down-left arrow"},{emoji:"\u2b05\ufe0f",title:"left arrow"},{emoji:"\u2196\ufe0f",title:"up-left arrow"},{emoji:"\u2195\ufe0f",title:"up-down arrow"},{emoji:"\u2194\ufe0f",title:"left-right arrow"},{emoji:"\u21a9\ufe0f",title:"right arrow curving left"},{emoji:"\u21aa\ufe0f",title:"left arrow curving right"},{emoji:"\u2934\ufe0f",title:"right arrow curving up"},{emoji:"\u2935\ufe0f",title:"right arrow curving down"},{emoji:"\ud83d\udd03",title:"clockwise vertical arrows"},{emoji:"\ud83d\udd04",title:"counterclockwise arrows button"},{emoji:"\ud83d\udd19",title:"BACK arrow"},{emoji:"\ud83d\udd1a",title:"END arrow"},{emoji:"\ud83d\udd1b",title:"ON! arrow"},{emoji:"\ud83d\udd1c",title:"SOON arrow"},{emoji:"\ud83d\udd1d",title:"TOP arrow"},{emoji:"\ud83d\uded0",title:"place of worship"},{emoji:"\u269b\ufe0f",title:"atom symbol"},{emoji:"\ud83d\udd49\ufe0f",title:"om"},{emoji:"\u2721\ufe0f",title:"star of David"},{emoji:"\u2638\ufe0f",title:"wheel of dharma"},{emoji:"\u262f\ufe0f",title:"yin yang"},{emoji:"\u271d\ufe0f",title:"latin cross"},{emoji:"\u2626\ufe0f",title:"orthodox cross"},{emoji:"\u262a\ufe0f",title:"star and crescent"},{emoji:"\u262e\ufe0f",title:"peace symbol"},{emoji:"\ud83d\udd4e",title:"menorah"},{emoji:"\ud83d\udd2f",title:"dotted six-pointed star"},{emoji:"\u2648",title:"Aries"},{emoji:"\u2649",title:"Taurus"},{emoji:"\u264a",title:"Gemini"},{emoji:"\u264b",title:"Cancer"},{emoji:"\u264c",title:"Leo"},{emoji:"\u264d",title:"Virgo"},{emoji:"\u264e",title:"Libra"},{emoji:"\u264f",title:"Scorpius"},{emoji:"\u2650",title:"Sagittarius"},{emoji:"\u2651",title:"Capricorn"},{emoji:"\u2652",title:"Aquarius"},{emoji:"\u2653",title:"Pisces"},{emoji:"\u26ce",title:"Ophiuchus"},{emoji:"\ud83d\udd00",title:"shuffle tracks button"},{emoji:"\ud83d\udd01",title:"repeat button"},{emoji:"\ud83d\udd02",title:"repeat single button"},{emoji:"\u25b6\ufe0f",title:"play button"},{emoji:"\u23e9",title:"fast-forward button"},{emoji:"\u23ed\ufe0f",title:"next track button"},{emoji:"\u23ef\ufe0f",title:"play or pause button"},{emoji:"\u25c0\ufe0f",title:"reverse button"},{emoji:"\u23ea",title:"fast reverse button"},{emoji:"\u23ee\ufe0f",title:"last track button"},{emoji:"\ud83d\udd3c",title:"up button"},{emoji:"\u23eb",title:"fast up button"},{emoji:"\ud83d\udd3d",title:"down button"},{emoji:"\u23ec",title:"fast down button"},{emoji:"\u23f8\ufe0f",title:"pause button"},{emoji:"\u23f9\ufe0f",title:"stop button"},{emoji:"\u23fa\ufe0f",title:"record button"},{emoji:"\u23cf\ufe0f",title:"eject button"},{emoji:"\ud83c\udfa6",title:"cinema"},{emoji:"\ud83d\udd05",title:"dim button"},{emoji:"\ud83d\udd06",title:"bright button"},{emoji:"\ud83d\udcf6",title:"antenna bars"},{emoji:"\ud83d\udcf3",title:"vibration mode"},{emoji:"\ud83d\udcf4",title:"mobile phone off"},{emoji:"\u2640\ufe0f",title:"female sign"},{emoji:"\u2642\ufe0f",title:"male sign"},{emoji:"\u2695\ufe0f",title:"medical symbol"},{emoji:"\u267b\ufe0f",title:"recycling symbol"},{emoji:"\u269c\ufe0f",title:"fleur-de-lis"},{emoji:"\ud83d\udd31",title:"trident emblem"},{emoji:"\ud83d\udcdb",title:"name badge"},{emoji:"\ud83d\udd30",title:"Japanese symbol for beginner"},{emoji:"\u2b55",title:"heavy large circle"},{emoji:"\u2705",title:"white heavy check mark"},{emoji:"\u2611\ufe0f",title:"ballot box with check"},{emoji:"\u2714\ufe0f",title:"heavy check mark"},{emoji:"\u2716\ufe0f",title:"heavy multiplication x"},{emoji:"\u274c",title:"cross mark"},{emoji:"\u274e",title:"cross mark button"},{emoji:"\u2795",title:"heavy plus sign"},{emoji:"\u2796",title:"heavy minus sign"},{emoji:"\u2797",title:"heavy division sign"},{emoji:"\u27b0",title:"curly loop"},{emoji:"\u27bf",title:"double curly loop"},{emoji:"\u303d\ufe0f",title:"part alternation mark"},{emoji:"\u2733\ufe0f",title:"eight-spoked asterisk"},{emoji:"\u2734\ufe0f",title:"eight-pointed star"},{emoji:"\u2747\ufe0f",title:"sparkle"},{emoji:"\u203c\ufe0f",title:"double exclamation mark"},{emoji:"\u2049\ufe0f",title:"exclamation question mark"},{emoji:"\u2753",title:"question mark"},{emoji:"\u2754",title:"white question mark"},{emoji:"\u2755",title:"white exclamation mark"},{emoji:"\u2757",title:"exclamation mark"},{emoji:"\u3030\ufe0f",title:"wavy dash"},{emoji:"\xa9\ufe0f",title:"copyright"},{emoji:"\xae\ufe0f",title:"registered"},{emoji:"\u2122\ufe0f",title:"trade mark"},{emoji:"#\ufe0f\u20e3",title:"keycap: #"},{emoji:"*\ufe0f\u20e3",title:"keycap: *"},{emoji:"0\ufe0f\u20e3",title:"keycap: 0"},{emoji:"1\ufe0f\u20e3",title:"keycap: 1"},{emoji:"2\ufe0f\u20e3",title:"keycap: 2"},{emoji:"3\ufe0f\u20e3",title:"keycap: 3"},{emoji:"4\ufe0f\u20e3",title:"keycap: 4"},{emoji:"5\ufe0f\u20e3",title:"keycap: 5"},{emoji:"6\ufe0f\u20e3",title:"keycap: 6"},{emoji:"7\ufe0f\u20e3",title:"keycap: 7"},{emoji:"8\ufe0f\u20e3",title:"keycap: 8"},{emoji:"9\ufe0f\u20e3",title:"keycap: 9"},{emoji:"\ud83d\udd1f",title:"keycap 10"},{emoji:"\ud83d\udcaf",title:"hundred points"},{emoji:"\ud83d\udd20",title:"input latin uppercase"},{emoji:"\ud83d\udd21",title:"input latin lowercase"},{emoji:"\ud83d\udd22",title:"input numbers"},{emoji:"\ud83d\udd23",title:"input symbols"},{emoji:"\ud83d\udd24",title:"input latin letters"},{emoji:"\ud83c\udd70\ufe0f",title:"A button (blood type)"},{emoji:"\ud83c\udd8e",title:"AB button (blood type)"},{emoji:"\ud83c\udd71\ufe0f",title:"B button (blood type)"},{emoji:"\ud83c\udd91",title:"CL button"},{emoji:"\ud83c\udd92",title:"COOL button"},{emoji:"\ud83c\udd93",title:"FREE button"},{emoji:"\u2139\ufe0f",title:"information"},{emoji:"\ud83c\udd94",title:"ID button"},{emoji:"\u24c2\ufe0f",title:"circled M"},{emoji:"\ud83c\udd95",title:"NEW button"},{emoji:"\ud83c\udd96",title:"NG button"},{emoji:"\ud83c\udd7e\ufe0f",title:"O button (blood type)"},{emoji:"\ud83c\udd97",title:"OK button"},{emoji:"\ud83c\udd7f\ufe0f",title:"P button"},{emoji:"\ud83c\udd98",title:"SOS button"},{emoji:"\ud83c\udd99",title:"UP! button"},{emoji:"\ud83c\udd9a",title:"VS button"},{emoji:"\ud83c\ude01",title:"Japanese \u201chere\u201d button"},{emoji:"\ud83c\ude02\ufe0f",title:"Japanese \u201cservice charge\u201d button"},{emoji:"\ud83c\ude37\ufe0f",title:"Japanese \u201cmonthly amount\u201d button"},{emoji:"\ud83c\ude36",title:"Japanese \u201cnot free of charge\u201d button"},{emoji:"\ud83c\ude2f",title:"Japanese \u201creserved\u201d button"},{emoji:"\ud83c\ude50",title:"Japanese \u201cbargain\u201d button"},{emoji:"\ud83c\ude39",title:"Japanese \u201cdiscount\u201d button"},{emoji:"\ud83c\ude1a",title:"Japanese \u201cfree of charge\u201d button"},{emoji:"\ud83c\ude32",title:"Japanese \u201cprohibited\u201d button"},{emoji:"\ud83c\ude51",title:"Japanese \u201cacceptable\u201d button"},{emoji:"\ud83c\ude38",title:"Japanese \u201capplication\u201d button"},{emoji:"\ud83c\ude34",title:"Japanese \u201cpassing grade\u201d button"},{emoji:"\ud83c\ude33",title:"Japanese \u201cvacancy\u201d button"},{emoji:"\u3297\ufe0f",title:"Japanese \u201ccongratulations\u201d button"},{emoji:"\u3299\ufe0f",title:"Japanese \u201csecret\u201d button"},{emoji:"\ud83c\ude3a",title:"Japanese \u201copen for business\u201d button"},{emoji:"\ud83c\ude35",title:"Japanese \u201cno vacancy\u201d button"},{emoji:"\u25aa\ufe0f",title:"black small square"},{emoji:"\u25ab\ufe0f",title:"white small square"},{emoji:"\u25fb\ufe0f",title:"white medium square"},{emoji:"\u25fc\ufe0f",title:"black medium square"},{emoji:"\u25fd",title:"white medium-small square"},{emoji:"\u25fe",title:"black medium-small square"},{emoji:"\u2b1b",title:"black large square"},{emoji:"\u2b1c",title:"white large square"},{emoji:"\ud83d\udd36",title:"large orange diamond"},{emoji:"\ud83d\udd37",title:"large blue diamond"},{emoji:"\ud83d\udd38",title:"small orange diamond"},{emoji:"\ud83d\udd39",title:"small blue diamond"},{emoji:"\ud83d\udd3a",title:"red triangle pointed up"},{emoji:"\ud83d\udd3b",title:"red triangle pointed down"},{emoji:"\ud83d\udca0",title:"diamond with a dot"},{emoji:"\ud83d\udd18",title:"radio button"},{emoji:"\ud83d\udd32",title:"black square button"},{emoji:"\ud83d\udd33",title:"white square button"},{emoji:"\u26aa",title:"white circle"},{emoji:"\u26ab",title:"black circle"},{emoji:"\ud83d\udd34",title:"red circle"},{emoji:"\ud83d\udd35",title:"blue circle"}],flags:[{emoji:"\ud83c\udfc1",title:"chequered flag"},{emoji:"\ud83d\udea9",title:"triangular flag"},{emoji:"\ud83c\udf8c",title:"crossed flags"},{emoji:"\ud83c\udff4",title:"black flag"},{emoji:"\ud83c\udff3\ufe0f",title:"white flag"},{emoji:"\ud83c\udff3\ufe0f\u200d\ud83c\udf08",title:"rainbow flag"},{emoji:"\ud83c\udde6\ud83c\udde8",title:"Ascension Island"},{emoji:"\ud83c\udde6\ud83c\udde9",title:"Andorra"},{emoji:"\ud83c\udde6\ud83c\uddea",title:"United Arab Emirates"},{emoji:"\ud83c\udde6\ud83c\uddeb",title:"Afghanistan"},{emoji:"\ud83c\udde6\ud83c\uddec",title:"Antigua & Barbuda"},{emoji:"\ud83c\udde6\ud83c\uddee",title:"Anguilla"},{emoji:"\ud83c\udde6\ud83c\uddf1",title:"Albania"},{emoji:"\ud83c\udde6\ud83c\uddf2",title:"Armenia"},{emoji:"\ud83c\udde6\ud83c\uddf4",title:"Angola"},{emoji:"\ud83c\udde6\ud83c\uddf6",title:"Antarctica"},{emoji:"\ud83c\udde6\ud83c\uddf7",title:"Argentina"},{emoji:"\ud83c\udde6\ud83c\uddf8",title:"American Samoa"},{emoji:"\ud83c\udde6\ud83c\uddf9",title:"Austria"},{emoji:"\ud83c\udde6\ud83c\uddfa",title:"Australia"},{emoji:"\ud83c\udde6\ud83c\uddfc",title:"Aruba"},{emoji:"\ud83c\udde6\ud83c\uddfd",title:"\xc5land Islands"},{emoji:"\ud83c\udde6\ud83c\uddff",title:"Azerbaijan"},{emoji:"\ud83c\udde7\ud83c\udde6",title:"Bosnia & Herzegovina"},{emoji:"\ud83c\udde7\ud83c\udde7",title:"Barbados"},{emoji:"\ud83c\udde7\ud83c\udde9",title:"Bangladesh"},{emoji:"\ud83c\udde7\ud83c\uddea",title:"Belgium"},{emoji:"\ud83c\udde7\ud83c\uddeb",title:"Burkina Faso"},{emoji:"\ud83c\udde7\ud83c\uddec",title:"Bulgaria"},{emoji:"\ud83c\udde7\ud83c\udded",title:"Bahrain"},{emoji:"\ud83c\udde7\ud83c\uddee",title:"Burundi"},{emoji:"\ud83c\udde7\ud83c\uddef",title:"Benin"},{emoji:"\ud83c\udde7\ud83c\uddf1",title:"St. Barth\xe9lemy"},{emoji:"\ud83c\udde7\ud83c\uddf2",title:"Bermuda"},{emoji:"\ud83c\udde7\ud83c\uddf3",title:"Brunei"},{emoji:"\ud83c\udde7\ud83c\uddf4",title:"Bolivia"},{emoji:"\ud83c\udde7\ud83c\uddf6",title:"Caribbean Netherlands"},{emoji:"\ud83c\udde7\ud83c\uddf7",title:"Brazil"},{emoji:"\ud83c\udde7\ud83c\uddf8",title:"Bahamas"},{emoji:"\ud83c\udde7\ud83c\uddf9",title:"Bhutan"},{emoji:"\ud83c\udde7\ud83c\uddfb",title:"Bouvet Island"},{emoji:"\ud83c\udde7\ud83c\uddfc",title:"Botswana"},{emoji:"\ud83c\udde7\ud83c\uddfe",title:"Belarus"},{emoji:"\ud83c\udde7\ud83c\uddff",title:"Belize"},{emoji:"\ud83c\udde8\ud83c\udde6",title:"Canada"},{emoji:"\ud83c\udde8\ud83c\udde8",title:"Cocos (Keeling) Islands"},{emoji:"\ud83c\udde8\ud83c\udde9",title:"Congo - Kinshasa"},{emoji:"\ud83c\udde8\ud83c\uddeb",title:"Central African Republic"},{emoji:"\ud83c\udde8\ud83c\uddec",title:"Congo - Brazzaville"},{emoji:"\ud83c\udde8\ud83c\udded",title:"Switzerland"},{emoji:"\ud83c\udde8\ud83c\uddee",title:"C\xf4te d\u2019Ivoire"},{emoji:"\ud83c\udde8\ud83c\uddf0",title:"Cook Islands"},{emoji:"\ud83c\udde8\ud83c\uddf1",title:"Chile"},{emoji:"\ud83c\udde8\ud83c\uddf2",title:"Cameroon"},{emoji:"\ud83c\udde8\ud83c\uddf3",title:"China"},{emoji:"\ud83c\udde8\ud83c\uddf4",title:"Colombia"},{emoji:"\ud83c\udde8\ud83c\uddf5",title:"Clipperton Island"},{emoji:"\ud83c\udde8\ud83c\uddf7",title:"Costa Rica"},{emoji:"\ud83c\udde8\ud83c\uddfa",title:"Cuba"},{emoji:"\ud83c\udde8\ud83c\uddfb",title:"Cape Verde"},{emoji:"\ud83c\udde8\ud83c\uddfc",title:"Cura\xe7ao"},{emoji:"\ud83c\udde8\ud83c\uddfd",title:"Christmas Island"},{emoji:"\ud83c\udde8\ud83c\uddfe",title:"Cyprus"},{emoji:"\ud83c\udde8\ud83c\uddff",title:"Czechia"},{emoji:"\ud83c\udde9\ud83c\uddea",title:"Germany"},{emoji:"\ud83c\udde9\ud83c\uddec",title:"Diego Garcia"},{emoji:"\ud83c\udde9\ud83c\uddef",title:"Djibouti"},{emoji:"\ud83c\udde9\ud83c\uddf0",title:"Denmark"},{emoji:"\ud83c\udde9\ud83c\uddf2",title:"Dominica"},{emoji:"\ud83c\udde9\ud83c\uddf4",title:"Dominican Republic"},{emoji:"\ud83c\udde9\ud83c\uddff",title:"Algeria"},{emoji:"\ud83c\uddea\ud83c\udde6",title:"Ceuta & Melilla"},{emoji:"\ud83c\uddea\ud83c\udde8",title:"Ecuador"},{emoji:"\ud83c\uddea\ud83c\uddea",title:"Estonia"},{emoji:"\ud83c\uddea\ud83c\uddec",title:"Egypt"},{emoji:"\ud83c\uddea\ud83c\udded",title:"Western Sahara"},{emoji:"\ud83c\uddea\ud83c\uddf7",title:"Eritrea"},{emoji:"\ud83c\uddea\ud83c\uddf8",title:"Spain"},{emoji:"\ud83c\uddea\ud83c\uddf9",title:"Ethiopia"},{emoji:"\ud83c\uddea\ud83c\uddfa",title:"European Union"},{emoji:"\ud83c\uddeb\ud83c\uddee",title:"Finland"},{emoji:"\ud83c\uddeb\ud83c\uddef",title:"Fiji"},{emoji:"\ud83c\uddeb\ud83c\uddf0",title:"Falkland Islands"},{emoji:"\ud83c\uddeb\ud83c\uddf2",title:"Micronesia"},{emoji:"\ud83c\uddeb\ud83c\uddf4",title:"Faroe Islands"},{emoji:"\ud83c\uddeb\ud83c\uddf7",title:"France"},{emoji:"\ud83c\uddec\ud83c\udde6",title:"Gabon"},{emoji:"\ud83c\uddec\ud83c\udde7",title:"United Kingdom"},{emoji:"\ud83c\uddec\ud83c\udde9",title:"Grenada"},{emoji:"\ud83c\uddec\ud83c\uddea",title:"Georgia"},{emoji:"\ud83c\uddec\ud83c\uddeb",title:"French Guiana"},{emoji:"\ud83c\uddec\ud83c\uddec",title:"Guernsey"},{emoji:"\ud83c\uddec\ud83c\udded",title:"Ghana"},{emoji:"\ud83c\uddec\ud83c\uddee",title:"Gibraltar"},{emoji:"\ud83c\uddec\ud83c\uddf1",title:"Greenland"},{emoji:"\ud83c\uddec\ud83c\uddf2",title:"Gambia"},{emoji:"\ud83c\uddec\ud83c\uddf3",title:"Guinea"},{emoji:"\ud83c\uddec\ud83c\uddf5",title:"Guadeloupe"},{emoji:"\ud83c\uddec\ud83c\uddf6",title:"Equatorial Guinea"},{emoji:"\ud83c\uddec\ud83c\uddf7",title:"Greece"},{emoji:"\ud83c\uddec\ud83c\uddf8",title:"South Georgia & South Sandwich Islands"},{emoji:"\ud83c\uddec\ud83c\uddf9",title:"Guatemala"},{emoji:"\ud83c\uddec\ud83c\uddfa",title:"Guam"},{emoji:"\ud83c\uddec\ud83c\uddfc",title:"Guinea-Bissau"},{emoji:"\ud83c\uddec\ud83c\uddfe",title:"Guyana"},{emoji:"\ud83c\udded\ud83c\uddf0",title:"Hong Kong SAR China"},{emoji:"\ud83c\udded\ud83c\uddf2",title:"Heard & McDonald Islands"},{emoji:"\ud83c\udded\ud83c\uddf3",title:"Honduras"},{emoji:"\ud83c\udded\ud83c\uddf7",title:"Croatia"},{emoji:"\ud83c\udded\ud83c\uddf9",title:"Haiti"},{emoji:"\ud83c\udded\ud83c\uddfa",title:"Hungary"},{emoji:"\ud83c\uddee\ud83c\udde8",title:"Canary Islands"},{emoji:"\ud83c\uddee\ud83c\udde9",title:"Indonesia"},{emoji:"\ud83c\uddee\ud83c\uddea",title:"Ireland"},{emoji:"\ud83c\uddee\ud83c\uddf1",title:"Israel"},{emoji:"\ud83c\uddee\ud83c\uddf2",title:"Isle of Man"},{emoji:"\ud83c\uddee\ud83c\uddf3",title:"India"},{emoji:"\ud83c\uddee\ud83c\uddf4",title:"British Indian Ocean Territory"},{emoji:"\ud83c\uddee\ud83c\uddf6",title:"Iraq"},{emoji:"\ud83c\uddee\ud83c\uddf7",title:"Iran"},{emoji:"\ud83c\uddee\ud83c\uddf8",title:"Iceland"},{emoji:"\ud83c\uddee\ud83c\uddf9",title:"Italy"},{emoji:"\ud83c\uddef\ud83c\uddea",title:"Jersey"},{emoji:"\ud83c\uddef\ud83c\uddf2",title:"Jamaica"},{emoji:"\ud83c\uddef\ud83c\uddf4",title:"Jordan"},{emoji:"\ud83c\uddef\ud83c\uddf5",title:"Japan"},{emoji:"\ud83c\uddf0\ud83c\uddea",title:"Kenya"},{emoji:"\ud83c\uddf0\ud83c\uddec",title:"Kyrgyzstan"},{emoji:"\ud83c\uddf0\ud83c\udded",title:"Cambodia"},{emoji:"\ud83c\uddf0\ud83c\uddee",title:"Kiribati"},{emoji:"\ud83c\uddf0\ud83c\uddf2",title:"Comoros"},{emoji:"\ud83c\uddf0\ud83c\uddf3",title:"St. Kitts & Nevis"},{emoji:"\ud83c\uddf0\ud83c\uddf5",title:"North Korea"},{emoji:"\ud83c\uddf0\ud83c\uddf7",title:"South Korea"},{emoji:"\ud83c\uddf0\ud83c\uddfc",title:"Kuwait"},{emoji:"\ud83c\uddf0\ud83c\uddfe",title:"Cayman Islands"},{emoji:"\ud83c\uddf0\ud83c\uddff",title:"Kazakhstan"},{emoji:"\ud83c\uddf1\ud83c\udde6",title:"Laos"},{emoji:"\ud83c\uddf1\ud83c\udde7",title:"Lebanon"},{emoji:"\ud83c\uddf1\ud83c\udde8",title:"St. Lucia"},{emoji:"\ud83c\uddf1\ud83c\uddee",title:"Liechtenstein"},{emoji:"\ud83c\uddf1\ud83c\uddf0",title:"Sri Lanka"},{emoji:"\ud83c\uddf1\ud83c\uddf7",title:"Liberia"},{emoji:"\ud83c\uddf1\ud83c\uddf8",title:"Lesotho"},{emoji:"\ud83c\uddf1\ud83c\uddf9",title:"Lithuania"},{emoji:"\ud83c\uddf1\ud83c\uddfa",title:"Luxembourg"},{emoji:"\ud83c\uddf1\ud83c\uddfb",title:"Latvia"},{emoji:"\ud83c\uddf1\ud83c\uddfe",title:"Libya"},{emoji:"\ud83c\uddf2\ud83c\udde6",title:"Morocco"},{emoji:"\ud83c\uddf2\ud83c\udde8",title:"Monaco"},{emoji:"\ud83c\uddf2\ud83c\udde9",title:"Moldova"},{emoji:"\ud83c\uddf2\ud83c\uddea",title:"Montenegro"},{emoji:"\ud83c\uddf2\ud83c\uddeb",title:"St. Martin"},{emoji:"\ud83c\uddf2\ud83c\uddec",title:"Madagascar"},{emoji:"\ud83c\uddf2\ud83c\udded",title:"Marshall Islands"},{emoji:"\ud83c\uddf2\ud83c\uddf0",title:"Macedonia"},{emoji:"\ud83c\uddf2\ud83c\uddf1",title:"Mali"},{emoji:"\ud83c\uddf2\ud83c\uddf2",title:"Myanmar (Burma)"},{emoji:"\ud83c\uddf2\ud83c\uddf3",title:"Mongolia"},{emoji:"\ud83c\uddf2\ud83c\uddf4",title:"Macau SAR China"},{emoji:"\ud83c\uddf2\ud83c\uddf5",title:"Northern Mariana Islands"},{emoji:"\ud83c\uddf2\ud83c\uddf6",title:"Martinique"},{emoji:"\ud83c\uddf2\ud83c\uddf7",title:"Mauritania"},{emoji:"\ud83c\uddf2\ud83c\uddf8",title:"Montserrat"},{emoji:"\ud83c\uddf2\ud83c\uddf9",title:"Malta"},{emoji:"\ud83c\uddf2\ud83c\uddfa",title:"Mauritius"},{emoji:"\ud83c\uddf2\ud83c\uddfb",title:"Maldives"},{emoji:"\ud83c\uddf2\ud83c\uddfc",title:"Malawi"},{emoji:"\ud83c\uddf2\ud83c\uddfd",title:"Mexico"},{emoji:"\ud83c\uddf2\ud83c\uddfe",title:"Malaysia"},{emoji:"\ud83c\uddf2\ud83c\uddff",title:"Mozambique"},{emoji:"\ud83c\uddf3\ud83c\udde6",title:"Namibia"},{emoji:"\ud83c\uddf3\ud83c\udde8",title:"New Caledonia"},{emoji:"\ud83c\uddf3\ud83c\uddea",title:"Niger"},{emoji:"\ud83c\uddf3\ud83c\uddeb",title:"Norfolk Island"},{emoji:"\ud83c\uddf3\ud83c\uddec",title:"Nigeria"},{emoji:"\ud83c\uddf3\ud83c\uddee",title:"Nicaragua"},{emoji:"\ud83c\uddf3\ud83c\uddf1",title:"Netherlands"},{emoji:"\ud83c\uddf3\ud83c\uddf4",title:"Norway"},{emoji:"\ud83c\uddf3\ud83c\uddf5",title:"Nepal"},{emoji:"\ud83c\uddf3\ud83c\uddf7",title:"Nauru"},{emoji:"\ud83c\uddf3\ud83c\uddfa",title:"Niue"},{emoji:"\ud83c\uddf3\ud83c\uddff",title:"New Zealand"},{emoji:"\ud83c\uddf4\ud83c\uddf2",title:"Oman"},{emoji:"\ud83c\uddf5\ud83c\udde6",title:"Panama"},{emoji:"\ud83c\uddf5\ud83c\uddea",title:"Peru"},{emoji:"\ud83c\uddf5\ud83c\uddeb",title:"French Polynesia"},{emoji:"\ud83c\uddf5\ud83c\uddec",title:"Papua New Guinea"},{emoji:"\ud83c\uddf5\ud83c\udded",title:"Philippines"},{emoji:"\ud83c\uddf5\ud83c\uddf0",title:"Pakistan"},{emoji:"\ud83c\uddf5\ud83c\uddf1",title:"Poland"},{emoji:"\ud83c\uddf5\ud83c\uddf2",title:"St. Pierre & Miquelon"},{emoji:"\ud83c\uddf5\ud83c\uddf3",title:"Pitcairn Islands"},{emoji:"\ud83c\uddf5\ud83c\uddf7",title:"Puerto Rico"},{emoji:"\ud83c\uddf5\ud83c\uddf8",title:"Palestinian Territories"},{emoji:"\ud83c\uddf5\ud83c\uddf9",title:"Portugal"},{emoji:"\ud83c\uddf5\ud83c\uddfc",title:"Palau"},{emoji:"\ud83c\uddf5\ud83c\uddfe",title:"Paraguay"},{emoji:"\ud83c\uddf6\ud83c\udde6",title:"Qatar"},{emoji:"\ud83c\uddf7\ud83c\uddea",title:"R\xe9union"},{emoji:"\ud83c\uddf7\ud83c\uddf4",title:"Romania"},{emoji:"\ud83c\uddf7\ud83c\uddf8",title:"Serbia"},{emoji:"\ud83c\uddf7\ud83c\uddfa",title:"Russia"},{emoji:"\ud83c\uddf7\ud83c\uddfc",title:"Rwanda"},{emoji:"\ud83c\uddf8\ud83c\udde6",title:"Saudi Arabia"},{emoji:"\ud83c\uddf8\ud83c\udde7",title:"Solomon Islands"},{emoji:"\ud83c\uddf8\ud83c\udde8",title:"Seychelles"},{emoji:"\ud83c\uddf8\ud83c\udde9",title:"Sudan"},{emoji:"\ud83c\uddf8\ud83c\uddea",title:"Sweden"},{emoji:"\ud83c\uddf8\ud83c\uddec",title:"Singapore"},{emoji:"\ud83c\uddf8\ud83c\udded",title:"St. Helena"},{emoji:"\ud83c\uddf8\ud83c\uddee",title:"Slovenia"},{emoji:"\ud83c\uddf8\ud83c\uddef",title:"Svalbard & Jan Mayen"},{emoji:"\ud83c\uddf8\ud83c\uddf0",title:"Slovakia"},{emoji:"\ud83c\uddf8\ud83c\uddf1",title:"Sierra Leone"},{emoji:"\ud83c\uddf8\ud83c\uddf2",title:"San Marino"},{emoji:"\ud83c\uddf8\ud83c\uddf3",title:"Senegal"},{emoji:"\ud83c\uddf8\ud83c\uddf4",title:"Somalia"},{emoji:"\ud83c\uddf8\ud83c\uddf7",title:"Suriname"},{emoji:"\ud83c\uddf8\ud83c\uddf8",title:"South Sudan"},{emoji:"\ud83c\uddf8\ud83c\uddf9",title:"S\xe3o Tom\xe9 & Pr\xedncipe"},{emoji:"\ud83c\uddf8\ud83c\uddfb",title:"El Salvador"},{emoji:"\ud83c\uddf8\ud83c\uddfd",title:"Sint Maarten"},{emoji:"\ud83c\uddf8\ud83c\uddfe",title:"Syria"},{emoji:"\ud83c\uddf8\ud83c\uddff",title:"Swaziland"},{emoji:"\ud83c\uddf9\ud83c\udde6",title:"Tristan da Cunha"},{emoji:"\ud83c\uddf9\ud83c\udde8",title:"Turks & Caicos Islands"},{emoji:"\ud83c\uddf9\ud83c\udde9",title:"Chad"},{emoji:"\ud83c\uddf9\ud83c\uddeb",title:"French Southern Territories"},{emoji:"\ud83c\uddf9\ud83c\uddec",title:"Togo"},{emoji:"\ud83c\uddf9\ud83c\udded",title:"Thailand"},{emoji:"\ud83c\uddf9\ud83c\uddef",title:"Tajikistan"},{emoji:"\ud83c\uddf9\ud83c\uddf0",title:"Tokelau"},{emoji:"\ud83c\uddf9\ud83c\uddf1",title:"Timor-Leste"},{emoji:"\ud83c\uddf9\ud83c\uddf2",title:"Turkmenistan"},{emoji:"\ud83c\uddf9\ud83c\uddf3",title:"Tunisia"},{emoji:"\ud83c\uddf9\ud83c\uddf4",title:"Tonga"},{emoji:"\ud83c\uddf9\ud83c\uddf7",title:"Turkey"},{emoji:"\ud83c\uddf9\ud83c\uddf9",title:"Trinidad & Tobago"},{emoji:"\ud83c\uddf9\ud83c\uddfb",title:"Tuvalu"},{emoji:"\ud83c\uddf9\ud83c\uddfc",title:"Taiwan"},{emoji:"\ud83c\uddf9\ud83c\uddff",title:"Tanzania"},{emoji:"\ud83c\uddfa\ud83c\udde6",title:"Ukraine"},{emoji:"\ud83c\uddfa\ud83c\uddec",title:"Uganda"},{emoji:"\ud83c\uddfa\ud83c\uddf2",title:"U.S. Outlying Islands"},{emoji:"\ud83c\uddfa\ud83c\uddf3",title:"United Nations"},{emoji:"\ud83c\uddfa\ud83c\uddf8",title:"United States"},{emoji:"\ud83c\uddfa\ud83c\uddfe",title:"Uruguay"},{emoji:"\ud83c\uddfa\ud83c\uddff",title:"Uzbekistan"},{emoji:"\ud83c\uddfb\ud83c\udde6",title:"Vatican City"},{emoji:"\ud83c\uddfb\ud83c\udde8",title:"St. Vincent & Grenadines"},{emoji:"\ud83c\uddfb\ud83c\uddea",title:"Venezuela"},{emoji:"\ud83c\uddfb\ud83c\uddec",title:"British Virgin Islands"},{emoji:"\ud83c\uddfb\ud83c\uddee",title:"U.S. Virgin Islands"},{emoji:"\ud83c\uddfb\ud83c\uddf3",title:"Vietnam"},{emoji:"\ud83c\uddfb\ud83c\uddfa",title:"Vanuatu"},{emoji:"\ud83c\uddfc\ud83c\uddeb",title:"Wallis & Futuna"},{emoji:"\ud83c\uddfc\ud83c\uddf8",title:"Samoa"},{emoji:"\ud83c\uddfd\ud83c\uddf0",title:"Kosovo"},{emoji:"\ud83c\uddfe\ud83c\uddea",title:"Yemen"},{emoji:"\ud83c\uddfe\ud83c\uddf9",title:"Mayotte"},{emoji:"\ud83c\uddff\ud83c\udde6",title:"South Africa"},{emoji:"\ud83c\uddff\ud83c\uddf2",title:"Zambia"},{emoji:"\ud83c\uddff\ud83c\uddfc",title:"Zimbabwe"},{emoji:"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f",title:"England"},{emoji:"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f",title:"Scotland"},{
emoji:"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f",title:"Wales"}]};const n6=()=>{const[e,t]=MS.useState("undefined"==typeof navigator||"boolean"!=typeof navigator.onLine||navigator.onLine),n=()=>t(!0),r=()=>t(!1);return MS.useEffect((()=>(window?.addEventListener("online",n),window?.addEventListener("offline",r),()=>{window?.removeEventListener("online",n),window?.removeEventListener("offline",r)})),[]),e},r6=()=>MS.useContext(Z4),i6="DELETE_MESSAGE",o6=e=>{let{mimeType:t,file:n}=e;return!!n?.mime_type?.match(t)?.[0]},s6=e=>{let{extension:t,file:n}=e;return n?.extension===t||o6({mimeType:t,file:n})||n?.name?.endsWith(`.${t}`)},a6=e=>{let{onClose:t,toggler:n,editorApiRef:r}=e;const{language:i}=r6(),o=MS.useRef(null),s=MS.useRef(null),a=["smiling face"],l=["flags"],c=e=>{!o.current||o.current.contains(e?.target||null)||n.contains(e?.target||null)||!o.current||r.current?.contains(e?.target||null)||t()};return MS.useEffect((()=>(window?.addEventListener("click",c),()=>{window?.removeEventListener("click",c)})),[]),MS.createElement("div",{ref:o,className:"chat-emojis open"},MS.createElement("div",{className:"chat-emojis-categories"},Object.keys(t6).map((e=>{if(!l.includes(e))return MS.createElement("button",{key:e,className:`chat-emojis-category-item bg-${e}-emoji`,onClick:()=>(e=>{const t=s.current?.querySelector(`#${e}`);t&&t.scrollIntoView({behavior:"smooth",block:"nearest"})})(e)})}))),MS.createElement("div",{className:"chat-emojis-body",lang:i,ref:s},Object.entries(t6).map((e=>{let[t,n]=e;if("flags"!==t)return n.map(((e,n)=>{var i;if(!a.includes(e.title))return MS.createElement("button",{id:0===n?t:"",key:`${e.emoji}-${n}`,onClick:(i=e.emoji,e=>{e.preventDefault(),r.current&&(r.current.focus(),r.current.insertTextAtCaret(i))}),title:e.title},e.emoji)}))}))))};var l6;const c6=e=>MS.createElement("svg",KE({xmlns:"http://www.w3.org/2000/svg",height:24,width:18,viewBox:"0 0 384 512"},e),l6||(l6=MS.createElement("path",{d:"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80v352c0 17.4 9.4 33.4 24.5 41.9S58.2 482 73 473l288-176c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"})));var u6;const d6=e=>MS.createElement("svg",qE({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},e),u6||(u6=MS.createElement("path",{d:"M48 64C21.5 64 0 85.5 0 112v288c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48v288c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48h-32z"})));var f6,h6;const p6=e=>MS.createElement("svg",VE({xmlns:"http://www.w3.org/2000/svg",width:24,height:24},e),f6||(f6=MS.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),h6||(h6=MS.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))),m6=function(e){const t=YE(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),[n,r]=MS.useState(!1);return MS.useEffect((()=>{t&&!n&&r(!0)}),[t,n]),n};var g6,v6;const y6=e=>MS.createElement("svg",JE({xmlns:"http://www.w3.org/2000/svg",height:36,viewBox:"0 0 24 24",width:36},e),g6||(g6=MS.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),v6||(v6=MS.createElement("path",{d:"M12 3v9.28a4.39 4.39 0 0 0-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z"})));var b6,_6;const w6=e=>MS.createElement("svg",GE({xmlns:"http://www.w3.org/2000/svg",height:36,viewBox:"0 0 24 24",width:36},e),b6||(b6=MS.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),_6||(_6=MS.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})));var C6,x6="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='36px' viewBox='0 0 24 24' width='36px' fill='black'%3e%3cpath d='M0 0h24v24H0z' fill='none'/%3e%3cpath d='M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z'/%3e%3c/svg%3e";const E6=e=>MS.createElement("svg",XE({xmlns:"http://www.w3.org/2000/svg",height:20,width:15,viewBox:"0 0 384 512"},e),C6||(C6=MS.createElement("path",{d:"M320 464c8.8 0 16-7.2 16-16V160h-80c-17.7 0-32-14.3-32-32V48H64c-8.8 0-16 7.2-16 16v384c0 8.8 7.2 16 16 16h256zM0 64C0 28.7 28.7 0 64 0h165.5c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64z"})));var S6;const k6=e=>MS.createElement("svg",QE({xmlns:"http://www.w3.org/2000/svg",height:20,width:22.5,viewBox:"0 0 576 512"},e),S6||(S6=MS.createElement("path",{d:"M0 128c0-35.3 28.7-64 64-64h256c35.3 0 64 28.7 64 64v256c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128zm559.1-28.2c10.4 5.6 16.9 16.4 16.9 28.2v256c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64-14.2-9.5V174.9l14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z"}))),D6=e=>{let{type:t}=e;const n=e=>t?.match(e)?.[0];return n("image")?MS.createElement(w6,null):n("audio")?MS.createElement(y6,null):n("video")?MS.createElement(k6,null):MS.createElement(E6,null)},T6=e=>{let{file:t,icon:n=null}=e;const r=t?.extension||B4(t?.name);return MS.createElement("div",{className:"preview-file"},n||MS.createElement(D6,{type:t?.mime_type||t?.type}),MS.createElement("small",{dir:"ltr",className:"preview-file-info"},r,MS.createElement("br",null),ZE(t?.size)))},A6=e=>{let{file:t,uploading:n=!1,onLoadCapture:r=(()=>{}),onError:i=(()=>{}),...o}=e;const s=MS.useRef(null),a=s?.current?.src===x6,[l,c]=MS.useState(!1);return MS.createElement(MS.Fragment,null,!l&&MS.createElement("div",{className:"lazy-load"}),MS.createElement("img",HE({key:`uploading-${n}`,ref:s,src:(()=>{if(s6({file:t,extension:"svg"})||s6({file:t,extension:"psd"}))return x6;const e="#"===t.url?null:t.url;return t.thumbnail_url||e||x6})(),onLoadCapture:e=>{n||(c(!0),r(e))},onError:e=>{s.current.src=x6,c(!0),i(e)},alt:"",style:{visibility:l?"visible":"hidden",width:a?"100%":"",backgroundColor:a?"inherit":"",opacity:a?.6:""}},o)))};var N6=MS.memo(A6,((e,t)=>e?.uploading===t?.uploading&&e?.file?.thumbnail_url===t?.file?.thumbnail_url&&e?.file?.url===t?.file?.url));const O6=e=>{let{type:t,isLoaded:n,file:r,uploading:i}=e;return"image"===t?n?MS.createElement(N6,{file:r,uploading:i,className:"preview-image"}):MS.createElement("div",{className:"lazy-load"}):MS.createElement(T6,{file:r})},j6=e=>{let{onClick:t=(()=>{}),uploading:n=!1,options:r=null,type:i="",body:o=null,file:s={url:"",thumbnail_url:"",name:"",size:0,mime_type:null}}=e;const a=MS.useRef(null),l=m6(a);return MS.createElement("div",{className:"preview-card",ref:a},MS.createElement("div",{className:"preview-body"},o||MS.createElement("button",{className:F4()("icon",{uploading:n}),onClick:t},MS.createElement(O6,{file:s,type:i,isLoaded:l,uploading:n}))),MS.createElement("small",{dir:"auto",className:"preview-title",title:s?.name},s?.name),r)};var M6=MS.memo(j6,((e,t)=>e?.uploading===t?.uploading&&e?.file?.thumbnail_url===t?.file?.thumbnail_url&&e?.file?.url===t?.file?.url));const R6=1e3,F6=e=>{function t(e){const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};w((t=>({...t,loading:!1,isError:!0,...e})))};if(e)switch(e.code){case e.MEDIA_ERR_NETWORK:_.retry<=3?(p.current=parseInt(`${u.current.currentTime}`),w((e=>({...e,retry:e.retry+1}))),C()):t({message:"errors.audio.network"});break;case e.MEDIA_ERR_ABORTED:t({message:"errors.audio.aborted"});break;case e.MEDIA_ERR_DECODE:t({message:"errors.audio.decode"});break;default:t({message:l("errors.audio.default")})}else t({message:l("errors.audio.default")})}function n(e){if(_.isError)return;const{value:t}=e.target;w((e=>({...e,progress:t,isProgressUpdates:!0}))),x(t)}let{message:r,file:i,uploading:o=!1,isGroup:s=!1,options:a=null,_e:l}=e;const c=MS.useRef(!1),u=MS.useRef(null),d=MS.useRef(null),f=MS.useRef(0),h=YE(d),p=MS.useRef(0),m=Array.isArray(i)?i:[i],g=h&&!o,v=e=>isNaN(e)||e===1/0,[y,b]=MS.useState(0),[_,w]=MS.useState({progress:0,loading:!1,label:"00:00",retry:0,isProgressUpdates:!1,isError:!1,message:""}),C=()=>{w((e=>({...e,loading:!0,isError:!1,message:""}))),p.current&&(u.current.currentTime=p.current);const e=u.current.play();void 0!==e&&e.then((function(){p.current=0,w((e=>({...e,loading:!1,retry:0,isError:!1,message:""})))})).catch((function(){t(u.current.error)}))},x=MS.useCallback($4()((function(e){const t=u.current,n=parseInt(e)*f.current/R6;w((e=>({...e,isProgressUpdates:!1}))),t.currentTime=n}),300),[]);MS.useEffect((()=>()=>{x.cancel()}),[]);const E=e=>{if(!e)return 0;const{currentTime:t}=e;return v(f.current)||0===f.current||v(t)?0:((e,t)=>R6*e/t)(t,f.current)};MS.useEffect((()=>{function e(){w((e=>({...e,loading:!1})))}function t(e){const t=E(e.target),{currentTime:n}=e.target;v(f.current)||v(n)||w((e=>({...e,loading:!1,label:WE(n,f.current),progress:e.isProgressUpdates?e.progress:t})))}const n=u.current;return n&&(n.addEventListener("ended",e),n.addEventListener("timeupdate",t)),()=>{n&&(n.removeEventListener("ended",e),n.removeEventListener("timeupdate",t))}}),[_.isProgressUpdates]),MS.useEffect((()=>{function e(){if(c.current)return;const e=u?.current?.duration||0;c.current=!v(e),f.current=v(e)?0:e,w((e=>({...e,label:WE(f.current)})))}if(!o)return u?.current?.addEventListener("loadedmetadata",e),()=>{u?.current?.removeEventListener("loadedmetadata",e)}}),[o]);const S={backgroundImage:`linear-gradient(90deg, #2ba9e1 0%, #2ba9e1 ${_.progress/10}%, #ccc ${_.progress/10}%)`},k=!!u.current&&!1!=!u.current.paused,D=()=>_.isError?MS.createElement("span",{title:_.message},MS.createElement(p6,{width:22,height:22})):k?MS.createElement(d6,{width:22,height:22}):MS.createElement(c6,{width:20,height:22}),T=e=>{let{children:t}=e;return MS.createElement("button",{className:F4()("icon",{uploading:o||_.loading}),onClick:e=>{o?e.preventDefault():k?u.current.pause():C()}},t)},A=()=>s?MS.createElement(M6,{options:a,file:r.file,body:MS.createElement("div",{className:"preview-file"},MS.createElement(T,null,MS.createElement(T6,{file:r.file,icon:MS.createElement(D,null)})))}):MS.createElement(MS.Fragment,null,MS.createElement(T,null,MS.createElement(D,null)),MS.createElement("div",{className:"metas"},MS.createElement("small",null,_.label),MS.createElement("input",{min:0,step:1,max:R6,type:"range",value:_.progress,disabled:o,onChange:n,style:S})));return MS.createElement("div",{className:"audio-container",ref:d},MS.createElement("audio",{ref:u,src:m[y]?.url,preload:g?"metadata":"none",onError:e=>{const n=y+1;n<m.length?b(n):t(e.currentTarget?.error)}}),MS.createElement(A,null))},L6=e=>{function t(e){e.preventDefault(),window.open(r.url)}function n(e){e.preventDefault()}let{file:r,uploading:i=!1,isGroup:o=!1,options:s=null,className:a=""}=e;return o?MS.createElement(M6,{onClick:i?n:t,uploading:i,options:s,file:r}):MS.createElement(MS.Fragment,null,MS.createElement("button",{className:F4()(`icon ${a}`,{uploading:i}),onClick:i?n:t},MS.createElement(D6,{type:r?.mime_type})),"#"===r.url?MS.createElement("div",{className:`metas ${a}`},MS.createElement("strong",null,r.name),MS.createElement("small",null,ZE(r.size))):MS.createElement("a",{href:r.url,target:"_blank",rel:"noreferrer",className:`metas ${a}`},MS.createElement("strong",null,r.name),MS.createElement("small",null,ZE(r.size))))},P6=e=>{let{body:t}=e;return MS.createElement("p",{className:"inner"},t)},I6=e=>{let{url:t,name:n,size:r=null}=e;const i=MS.createElement("strong",{dir:"auto"},n),o=r?MS.createElement("small",null,ZE(r)):null;return"#"===t?MS.createElement("div",{className:"metas"},i,o):MS.createElement("a",{href:t,target:"_blank",rel:"noreferrer",className:"metas"},i,o)},$6=e=>{function t(e){e.preventDefault(),window.open(r.url)}function n(e){e.preventDefault()}let{file:r,uploading:i=!1,isGroup:o=!1,isQuote:s=!1,options:a=null}=e;const l=MS.useRef(null),c=m6(l,{rootMargin:"500px 0px",threshold:.01,root:l?.current?.closest(".messages-list-content")}),[u,d]=(0,MS.useState)(!1);return o?MS.createElement(M6,{type:"image",onClick:i?n:t,uploading:i,options:a,file:r}):s?MS.createElement(MS.Fragment,null,MS.createElement("button",{className:F4()("icon"),onClick:t},MS.createElement(N6,{file:r})),MS.createElement(I6,{url:r.url,name:r.name,size:r.size})):MS.createElement("div",{key:r.created_at,ref:l,className:"single-image-container"},MS.createElement("button",{className:F4()("icon",{uploading:i,loaded:u}),onClick:i?n:t},c?MS.createElement(N6,{file:r,uploading:i,onLoadCapture:()=>d(!0),onError:()=>d(!0)}):MS.createElement("div",{className:"lazy-load"})),MS.createElement(I6,{url:r.url,name:r.name}))};var z6=["hsoub.com","academy.hsoub.com","ana.hsoub.com","baaeed.com","io.hsoub.com","mostaql.com","picalica.com","khamsat.com","wiki.hsoub.com","zaetoon.com"];const B6=e=>{let{text:t}=e;const n=(e,t)=>MS.createElement("span",{key:t},e),r=(e,t,n)=>MS.createElement("a",{key:n,href:t,target:"_blank",rel:eS(t)},e),i=(e,t)=>MS.createElement("a",{key:t,href:"mailto:"+e},e),o=(e,t)=>{const n=[];let r,i=0;for(;null!==(r=e.exec(t));)r.index>i&&n.push(t.substring(i,r.index)),i=r.index+r[0].length,n.push(t.substring(i,r.index));return t.length>i&&n.push(t.substring(i)),n};return MS.createElement("span",null,(e=>{const t=/\b(https?|ftp):\/\/[\u0621-\u064A\w.-]+\.[a-z]{2,10}\b([/?#][^\s]*[^\s.,!?])?/gi,s=/(^|[^/])(www\.[\w.-]+\.[a-z]{2,10}\b([/?#][^\s]*)?)/gi,a=/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-z]{2,10}/gi,l=new RegExp(`${t.source}|${s.source}|${a.source}`,"gi");if(""===e)return e;if(!e.match(l))return e;const c=[],u=o(l,e);for(const e in u){let o;const l=u[e];o=l.match(t)?r(l,l,e):l.match(s)?r(l,`http://${l}`,e):l.match(a)?i(l,e):n(l,e),c.push(o)}return c})(t))},U6=e=>{let{body:t}=e;return MS.createElement(B6,{text:t})},H6=e=>{let{message:t,file:n,uploading:r=!1,poster:i,isGroup:o=!1,options:s=null,sourceFile:a}=e;const l=MS.useRef(null),c=MS.useRef(null),u=MS.useRef(0),[d,f]=MS.useState(!1),h=YE(c),p=!r&&(h||d),[m,g]=MS.useState(!1),[v,y]=MS.useState(0);return MS.useEffect((()=>{const e=()=>{f(!0)};return l?.current?.addEventListener("loadedmetadata",e),()=>{l?.current?.removeEventListener("loadedmetadata",e)}}),[n.length,r]),MS.useEffect((()=>{if(!l.current)return;0!==u.current&&(l.current.currentTime=u.current,l?.current?.play());const e=e=>{e.target.error.code===e.target.error.MEDIA_ERR_NETWORK&&(u.current=l?.current?.currentTime,y((e=>e+1)))};return l?.current?.addEventListener("error",e),()=>{l?.current?.removeEventListener("error",e)}}),[v]),MS.useEffect((()=>{m&&(f(!0),g(!1))}),[n.length]),o?MS.createElement(M6,{onClick:r?function(e){e.preventDefault()}:function(e){e.preventDefault(),window.open(t?.file.url)},uploading:r,options:s,file:t?.file}):m?MS.createElement(L6,{file:a,className:"fallback",uploading:r,isGroup:o,options:s}):MS.createElement("div",{className:"message-item__video_container",ref:c},MS.createElement("video",{controls:!0,key:v,preload:p?"metadata":"none",ref:l,poster:i,onError:()=>{g(!0)}},p&&n.map(((e,n)=>MS.createElement("source",{key:n,src:`${e.url}?version=${t.file.updated_at}`,type:e.mime_type})))),!p&&MS.createElement("div",{className:"video-loading"},MS.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABQAAAALQCAMAAAD4oy1kAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAS9QTFRFzMzMwsLCsrKyqqqqpKSknp6empqaoKCgpqamrKystbW1t7e3mJiYg4ODb29vZmZmfn5+l5eXsLCwuLi4k5OTcnJyampqh4eHqKioxsbGgYGBaWlpxMTEtra2fHx8lpaWyMjIkpKSZ2dnbW1to6OjcXFxe3t7ubm5x8fHcHBwqampiIiIvr6+ioqKycnJc3NziYmJwMDAa2try8vLd3d3oqKijo6ObGxsbm5upaWlnJycu7u7aGholJSUgICAv7+/ysrKkZGRdHR0s7Ozvb29eHh4j4+PfX19vLy8hISEdnZ2i4uLenp6urq6f39/hoaGnZ2djIyMmZmZn5+fq6urgoKCkJCQp6enhYWFjY2NlZWVm5uboaGhtLS0dXV1wcHBrq6uw8PDsbGxeXl5ra2tPPQ/RwAADb9JREFUeJzt3XtfFgUexuFE0TRzUoE0AvVBW0iLMBJSVJTU1lBTs7bT1m69/9ewuHZUDs9hZu6Z57muVzBz//H9wEd+42uvAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0376x/QfGDx56/fCR9JMA1OiNo28eK/701vET6ScCqMPJicniFVNvnzqdfjCAao2982r9XpieeDf9cADVmZndKX///zHwjJ8CgSF19lxnt/5tmTuffkaAKpy4sEf+nnvvH+nHBCjdgS7yt6Vzbj79pADlmuiuf1sW3k8/K0CZLnbdvy3vXEo/LkBpPuilf0UxffTD9BMDlONMb/3bsjiWfmaAMpzvuX9bPtqXfmyAgS1N9RPA4vL4x+knBxjQW331b8vyTPrRAQbySb/923LFcRzQYvMrAwSwWP00/fwAfbs6SP+2zF5LvwFAf84O9APgc2vXz6ZfAqAf44P2b8uFw+m3AOjDYgkBLIobN9PvAdCrmVL6VxTTB9fTrwLQm1slBbAobm+k3wWgJ6ulBdBxHNAun5XYv6JYOeQ4DmiNU6UGsCjunEy/EUCXuv8OdJc6dx3HAe1wo+wAFsXcgfRLAXTjTvkBLIp7n6dfC2Bvk1UEsFg744v5QOMNfAi8g0nHcUDTVdS/Lf9cSr8bwK6qC2AxdXU9/XYAu6gwgEVx33Ec0GCVBrAovng3/YIAO6k4gMXKJ+k3BNhB1QEsis0H6XcE2Fb1ASw6txzHAU1UQwCLYuFU+jUBXlVLAIvi4aX0iwK8rKYAFmvHHccBDVNXAIti8kT6XQH+pr4AFsUjX8wHmqTOABZTX/piPtActQawKJaPpF8Y4Hc1B7AoHjuOAxqi9gD6Yj7QFPUHsChmHccBTZAIYNGZmE+/N0AmgEWxsD/94gChABbFjZvpVwdGXSyAxfQTx3FAVC6ARbE4ln57YKQlA1gUFx3HATnZABaXnzqOA1LCASyK5Zn0BMCoSvdvyxVfzAci0vV7bvXT9ArASErH74V719I7ACMonb7frF0/m14CGDnp8v3hwlfpKYBRk+7eXzxzHAfUKl29v5o6uJ6eAxgl6ej93e2N9B7ACEkn72Uf+GI+UJd08F6xcshxHFCPdO+2cedkehRgNKRrt53O147jgBqkY7e9Y9+kdwFGQDp1O7n3eXoZYOilQ7ejtTO+mA9UK925XUyeSI8DDLd05Xb1r6X0PMAwSzdud1NX19MDAcMrnbi93D+SXggYWunA7e0Lx3FANdJ568LKJ+mRgOGUrltXNh+kZwKGUbpt3emcm08PBQyfdNq6tXAqvRQwdNJh697DS+mtgCGTzloP1o46jgPKlK5aTxYdxwElSjetR2/vSw8GDI900Xp1edwX84GSpIPWu2XHcUA50jnrx7eO44AypGPWl7kD6dmAYZBuWZ9mr6WHA9ovXbJ+dSYcxwEDSoesfxf2p7cDWi6dsUHcuJleD2i1dMQGMv3EcRzQv3TDBrQ4lh4QaK90wQZ20XEc0Kd0vwZ3+anjOKAv6XyV4c5MekWgldLxKsfd0+kdgRZKp6skq6+nhwTaJ12u0txzHAf0KN2t8qx9dzY9JtAu6WyVafJwek2gVdLRKtezpfSeQIukk1Wyqe/X04sCrZEuVulub6QnBdoi3asKfOCL+UBX0rWqwsoPjuOALqRjVY07J9O7Ai2QTlVFOl87jgP2ki5VZY59k54WaLp0pyr08PP0uECzpStVpbUzvpgP7CIdqWpNnkjvCzRYOlFVe+Q4DthJOlCVm7q6nt4YaKh0n2pw/0h6ZKCZ0nWqxWPHccA20m2qx9z59M5AA6XTVJfNB+mlgcZJh6k+t+bTWwMNk85SjSZ/TI8NNEu6SrU65zIE+It0k+q16RsxwJ/SSarZ8r704EBzpItUt0WnccDv0kGq3b/9Fgz8Jt2j+j30H4YAL6RzFHA3vTnQEOkaJYylRweaIR2jhNv+HBB4Lh2jiCfp1YFGSLco46f07EATpFOUcS49O9AE6RRlTPlCKjCqASy+S+8ONEC6RCEL6d2BBkiXKGUjPTyQlw5Ryq308EBeOkQpx9LDA3npEMX4MCCQ7lDMz+nlgbh0h2IOppcH4tIdirmYXh6IS3co5mF6eSAu3aGY5fTyQFy6QzH+DgZIdygnvTwQl85QzEp6eSAu3aGYxfTyQFy6QzGb6eWBuHSHYt5MLw/EpTsU45OoQLpDMe+nlwfi0h2K+Sy9PBCX7lCKv4IBRjaA36aHB/LSIUo5kR4eyEuHKGTu4/TwQF66RCET6d2BBkiXKGPN/wgCjGoAv07PDjRBOkUZfgAEXhvRAB5Nrw40QrpFCYsfplcHGiEdo4Sx9OhAM6RjFOBfQIAX0jWq30N/Aw28kM5R7e6fTk8ONEW6R3W7vZReHGiMdJBqduc/6cGB5kgXqV6z8+m9gQZJJ6lOnevr6bmBJklHqUaTM+mxgWZJV6k+5/z6C/xdOkt12XyQXhponHSY6jF3Pr0z0EDpNNXi8bvpmYEmSrepBstH0iMDzZSuU+Uuj7v9BbaX7lPV3vbxZ2An6UBVa9F//wvsLJ2oKk0f9elnYBfpSFXoxqX0uECzpStVmYX309MCTZfuVEU6Ew7fgL2kS1WNWYdvwN7SqarC3IH0qkArpGNVgW8dvgFdSdeqdMu++gd0Kd2rkjl8A7qXLla5Ljp8A7qXTlaZFsfSawKtko5WeaafOHwDepLOVmlu3ExPCbRNulslubA/PSTQPulylWLtusM3oHfpdpVh9lp6RaCV0vEa3Oqn6Q2Blkrna2BXTqcnBNoq3a8BOXwD+pcu2EAuP3X4BvQv3bBBOHwDBpKOWP9uO3wDBpPOWL+mD66npwPaLh2yPjl8AwaXLllfLnyVng0YBumW9WHt+tn0asBQSNesd/ccvgHlSOesV6uvpxcDhkY6aD266/ANKE26aD25czI9FzBM0k3rwcohh29AmdJV695HDt+AcqWz1q3bG+mlgKGTDlt3phy+AeVLp60rz5bSMwHDKN22LkweTo8EDKd03fa09t3Z9EbAkEr3bS/3Pk8vBAytdOB2d8zhG1CddOJ20/na4RtQoXTkduHwDahWunI7WvnB4RtQrXTndvLBu+llgKGXDt327jt8A6qXTt12pr5fT88CjIJ07Lbh8A2oR7p2r3D4BtQl3buXrJ35ML0IMDLSxfu7hw7fgPqkk/dXx75JrwGMlHT0/uTwDahZOnt/2HT4BtQs3b3frHySHgIYPenyvfCFwzegfun0PXf/SHoFYCSl41cUU1fX0yMAoymdv+KRwzcgJJy/yRPpAYDRFc3f2nGHb0BOsn8PL6XfHhhpufwtnEq/OzDiUvnr3HL4BoSF+rf5IP3iAJH8zTl8Axog0b/HDt+AJqg/fw7fgIaoO39TX66nXxnghZr792hf+oUBfldr/hYdvgENUmP+1o46fAOapL7+OXwDGqau/C28n35TgJfUk7/Oufn0iwK8rJb+zTp8AxqohvzNnU+/JMB2qu/ftw7fgGaqOn/LDt+Apqo2f5fHP06/IMBOKu3f2w7fgAarMH+LY+mXA9jNdFX5m3b4BjTcQkX9u+HwDWi65Uryt7A//V4Ae3qrgvx1Jhy+AS1wsfz+3XP4BrTC1bLzt3og/UoA3flvyf274vANaIvTpeZveSb9PgDd+6W8/E2Np18GoBcHS+vfRYdvQLt8VlL+HL4B7VPK78DTTxy+Ae3zQwn9e+bwDWij9clB83fB4RvQUgcGy9/a9bPpNwDo1/1B+jd7Lf34AP3b6D9/q5+mHx5gIHf77d+V0+lHBxjM/IW+8nfH4RvQfj/2kb+pQ+mnBijDr51e+/eRwzdgSPT4tzC3Hb4Bw+NpL/07mH5agDLt7/p/yHx2M/2sAOU6stJV/ia/Sj8oQOmW3ts7fw7fgCG159dR33L4BgyrN2Z3y98vP6efD6BCG+/slL/3fk0/G0DFTk4svFq/1e/88guMhJnjz1b/jN/m4/GN9BMB1OinjbGxsR8fLPngCwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCX/wHonM8jsOOIlAAAAABJRU5ErkJggg==",alt:""})))};var W6=Object.hasOwnProperty,K6=Object.setPrototypeOf,q6=Object.isFrozen,V6=Object.getPrototypeOf,Y6=Object.getOwnPropertyDescriptor,J6=Object.freeze,G6=Object.seal,X6=Object.create,Q6="undefined"!=typeof Reflect&&Reflect,Z6=Q6.apply,e8=Q6.construct;Z6||(Z6=function(e,t,n){return e.apply(t,n)}),J6||(J6=function(e){return e}),G6||(G6=function(e){return e}),e8||(e8=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var t8=tS(Array.prototype.forEach),n8=tS(Array.prototype.pop),r8=tS(Array.prototype.push),i8=tS(String.prototype.toLowerCase),o8=tS(String.prototype.match),s8=tS(String.prototype.replace),a8=tS(String.prototype.indexOf),l8=tS(String.prototype.trim),c8=tS(RegExp.prototype.test),u8=function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e8(e,n)}}(TypeError),d8=J6(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),f8=J6(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),h8=J6(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),p8=J6(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),m8=J6(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),g8=J6(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),v8=J6(["#text"]),y8=J6(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),b8=J6(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_8=J6(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),w8=J6(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),C8=G6(/\{\{[\s\S]*|[\s\S]*\}\}/gm),x8=G6(/<%[\s\S]*|[\s\S]*%>/gm),E8=G6(/^data-[\-\w.\u00B7-\uFFFF]/),S8=G6(/^aria-[\-\w]+$/),k8=G6(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),D8=G6(/^(?:\w+script|data):/i),T8=G6(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),A8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N8=function(){return"undefined"==typeof window?null:window},O8=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N8(),n=function(t){return e(t)};if(n.version="2.3.3",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,i=t.document,o=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,l=t.Element,c=t.NodeFilter,u=t.NamedNodeMap,d=void 0===u?t.NamedNodeMap||t.MozNamedAttrMap:u,f=t.Text,h=t.Comment,p=t.DOMParser,m=t.trustedTypes,g=l.prototype,v=iS(g,"cloneNode"),y=iS(g,"nextSibling"),b=iS(g,"childNodes"),_=iS(g,"parentNode");if("function"==typeof s){var w=i.createElement("template");w.content&&w.content.ownerDocument&&(i=w.content.ownerDocument)}var C=function(e,t){if("object"!==(void 0===e?"undefined":A8(e))||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(m,r),x=C&&te?C.createHTML(""):"",E=i,S=E.implementation,k=E.createNodeIterator,D=E.createDocumentFragment,T=E.getElementsByTagName,A=r.importNode,N={};try{N=rS(i).documentMode?i.documentMode:{}}catch(e){}var O={};n.isSupported="function"==typeof _&&S&&void 0!==S.createHTMLDocument&&9!==N;var j=C8,M=x8,R=E8,F=S8,L=D8,P=T8,I=k8,$=null,z=nS({},[].concat(oS(d8),oS(f8),oS(h8),oS(m8),oS(v8))),B=null,U=nS({},[].concat(oS(y8),oS(b8),oS(_8),oS(w8))),H=null,W=null,K=!0,q=!0,V=!1,Y=!1,J=!1,G=!1,X=!1,Q=!1,Z=!1,ee=!0,te=!1,ne=!0,re=!0,ie=!1,oe={},se=null,ae=nS({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),le=null,ce=nS({},["audio","video","img","source","image","track"]),ue=null,de=nS({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),fe="http://www.w3.org/1998/Math/MathML",he="http://www.w3.org/2000/svg",pe="http://www.w3.org/1999/xhtml",me=pe,ge=!1,ve=void 0,ye=["application/xhtml+xml","text/html"],be=void 0,_e=null,we=i.createElement("form"),Ce=function(e){_e&&_e===e||(e&&"object"===(void 0===e?"undefined":A8(e))||(e={}),e=rS(e),$="ALLOWED_TAGS"in e?nS({},e.ALLOWED_TAGS):z,B="ALLOWED_ATTR"in e?nS({},e.ALLOWED_ATTR):U,ue="ADD_URI_SAFE_ATTR"in e?nS(rS(de),e.ADD_URI_SAFE_ATTR):de,le="ADD_DATA_URI_TAGS"in e?nS(rS(ce),e.ADD_DATA_URI_TAGS):ce,se="FORBID_CONTENTS"in e?nS({},e.FORBID_CONTENTS):ae,H="FORBID_TAGS"in e?nS({},e.FORBID_TAGS):{},W="FORBID_ATTR"in e?nS({},e.FORBID_ATTR):{},oe="USE_PROFILES"in e&&e.USE_PROFILES,K=!1!==e.ALLOW_ARIA_ATTR,q=!1!==e.ALLOW_DATA_ATTR,V=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=e.SAFE_FOR_TEMPLATES||!1,J=e.WHOLE_DOCUMENT||!1,Q=e.RETURN_DOM||!1,Z=e.RETURN_DOM_FRAGMENT||!1,ee=!1!==e.RETURN_DOM_IMPORT,te=e.RETURN_TRUSTED_TYPE||!1,X=e.FORCE_BODY||!1,ne=!1!==e.SANITIZE_DOM,re=!1!==e.KEEP_CONTENT,ie=e.IN_PLACE||!1,I=e.ALLOWED_URI_REGEXP||I,me=e.NAMESPACE||pe,ve=ve=-1===ye.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,be="application/xhtml+xml"===ve?function(e){return e}:i8,Y&&(q=!1),Z&&(Q=!0),oe&&($=nS({},[].concat(oS(v8))),B=[],!0===oe.html&&(nS($,d8),nS(B,y8)),!0===oe.svg&&(nS($,f8),nS(B,b8),nS(B,w8)),!0===oe.svgFilters&&(nS($,h8),nS(B,b8),nS(B,w8)),!0===oe.mathMl&&(nS($,m8),nS(B,_8),nS(B,w8))),e.ADD_TAGS&&($===z&&($=rS($)),nS($,e.ADD_TAGS)),e.ADD_ATTR&&(B===U&&(B=rS(B)),nS(B,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&nS(ue,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(se===ae&&(se=rS(se)),nS(se,e.FORBID_CONTENTS)),re&&($["#text"]=!0),J&&nS($,["html","head","body"]),$.table&&(nS($,["tbody"]),delete H.tbody),J6&&J6(e),_e=e)},xe=nS({},["mi","mo","mn","ms","mtext"]),Ee=nS({},["foreignobject","desc","title","annotation-xml"]),Se=nS({},f8);nS(Se,h8),nS(Se,p8);var ke=nS({},m8);nS(ke,g8);var De=function(e){r8(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=x}catch(t){e.remove()}}},Te=function(e,t){try{r8(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){r8(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!B[e])if(Q||Z)try{De(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Ae=function(e){var t=void 0,n=void 0;if(X)e="<remove></remove>"+e;else{var r=o8(e,/^[\r\n\t ]+/);n=r&&r[0]}
"application/xhtml+xml"===ve&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=C?C.createHTML(e):e;if(me===pe)try{t=(new p).parseFromString(o,ve)}catch(e){}if(!t||!t.documentElement){t=S.createDocument(me,"template",null);try{t.documentElement.innerHTML=ge?"":o}catch(e){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(i.createTextNode(n),s.childNodes[0]||null),me===pe?T.call(t,J?"html":"body")[0]:J?t.documentElement:s},Ne=function(e){return k.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Oe=function(e){return"object"===(void 0===a?"undefined":A8(a))?e instanceof a:e&&"object"===(void 0===e?"undefined":A8(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},je=function(e,t,r){O[e]&&t8(O[e],(function(e){e.call(n,t,r,_e)}))},Me=function(e){var t,r=void 0;if(je("beforeSanitizeElements",e,null),!((t=e)instanceof f||t instanceof h||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof d&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute&&"string"==typeof t.namespaceURI&&"function"==typeof t.insertBefore))return De(e),!0;if(o8(e.nodeName,/[\u0080-\uFFFF]/))return De(e),!0;var i=be(e.nodeName);if(je("uponSanitizeElement",e,{tagName:i,allowedTags:$}),!Oe(e.firstElementChild)&&(!Oe(e.content)||!Oe(e.content.firstElementChild))&&c8(/<[/\w]/g,e.innerHTML)&&c8(/<[/\w]/g,e.textContent))return De(e),!0;if("select"===i&&c8(/<template/i,e.innerHTML))return De(e),!0;if(!$[i]||H[i]){if(re&&!se[i]){var o=_(e)||e.parentNode,s=b(e)||e.childNodes;if(s&&o)for(var a=s.length-1;a>=0;--a)o.insertBefore(v(s[a],!0),y(e))}return De(e),!0}return e instanceof l&&!function(e){var t=_(e);t&&t.tagName||(t={namespaceURI:pe,tagName:"template"});var n=i8(e.tagName),r=i8(t.tagName);if(e.namespaceURI===he)return t.namespaceURI===pe?"svg"===n:t.namespaceURI===fe?"svg"===n&&("annotation-xml"===r||xe[r]):Boolean(Se[n]);if(e.namespaceURI===fe)return t.namespaceURI===pe?"math"===n:t.namespaceURI===he?"math"===n&&Ee[r]:Boolean(ke[n]);if(e.namespaceURI===pe){if(t.namespaceURI===he&&!Ee[r])return!1;if(t.namespaceURI===fe&&!xe[r])return!1;var i=nS({},["title","style","font","a","script"]);return!ke[n]&&(i[n]||!Se[n])}return!1}(e)?(De(e),!0):"noscript"!==i&&"noembed"!==i||!c8(/<\/no(script|embed)/i,e.innerHTML)?(Y&&3===e.nodeType&&(r=e.textContent,r=s8(r,j," "),r=s8(r,M," "),e.textContent!==r&&(r8(n.removed,{element:e.cloneNode()}),e.textContent=r)),je("afterSanitizeElements",e,null),!1):(De(e),!0)},Re=function(e,t,n){if(ne&&("id"===t||"name"===t)&&(n in i||n in we))return!1;if(q&&!W[t]&&c8(R,t));else if(K&&c8(F,t));else{if(!B[t]||W[t])return!1;if(ue[t]);else if(c8(I,s8(n,P,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==a8(n,"data:")||!le[e])if(V&&!c8(L,s8(n,P,"")));else if(n)return!1}return!0},Fe=function(e){var t=void 0,r=void 0,i=void 0,o=void 0;je("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:B};for(o=s.length;o--;){var l=t=s[o],c=l.name,u=l.namespaceURI;if(r=l8(t.value),i=be(c),a.attrName=i,a.attrValue=r,a.keepAttr=!0,a.forceKeepAttr=void 0,je("uponSanitizeAttribute",e,a),r=a.attrValue,!a.forceKeepAttr&&(Te(c,e),a.keepAttr))if(c8(/\/>/i,r))Te(c,e);else{Y&&(r=s8(r,j," "),r=s8(r,M," "));var d=be(e.nodeName);if(Re(d,i,r))try{u?e.setAttributeNS(u,c,r):e.setAttribute(c,r),n8(n.removed)}catch(e){}}}je("afterSanitizeAttributes",e,null)}},Le=function e(t){var n=void 0,r=Ne(t);for(je("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)je("uponSanitizeShadowNode",n,null),Me(n)||(n.content instanceof o&&e(n.content),Fe(n));je("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,i){var s=void 0,l=void 0,c=void 0,u=void 0,d=void 0;if((ge=!e)&&(e="<!-->"),"string"!=typeof e&&!Oe(e)){if("function"!=typeof e.toString)throw u8("toString is not a function");if("string"!=typeof(e=e.toString()))throw u8("dirty is not a string, aborting")}if(!n.isSupported){if("object"===A8(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Oe(e))return t.toStaticHTML(e.outerHTML)}return e}if(G||Ce(i),n.removed=[],"string"==typeof e&&(ie=!1),ie);else if(e instanceof a)1===(l=(s=Ae("<!---->")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?s=l:s.appendChild(l);else{if(!Q&&!Y&&!J&&-1===e.indexOf("<"))return C&&te?C.createHTML(e):e;if(!(s=Ae(e)))return Q?null:x}s&&X&&De(s.firstChild);for(var f=Ne(ie?e:s);c=f.nextNode();)3===c.nodeType&&c===u||Me(c)||(c.content instanceof o&&Le(c.content),Fe(c),u=c);if(u=null,ie)return e;if(Q){if(Z)for(d=D.call(s.ownerDocument);s.firstChild;)d.appendChild(s.firstChild);else d=s;return ee&&(d=A.call(r,d,!0)),d}var h=J?s.outerHTML:s.innerHTML;return Y&&(h=s8(h,j," "),h=s8(h,M," ")),C&&te?C.createHTML(h):h},n.setConfig=function(e){Ce(e),G=!0},n.clearConfig=function(){_e=null,G=!1},n.isValidAttribute=function(e,t,n){_e||Ce({});var r=be(e),i=be(t);return Re(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&(O[e]=O[e]||[],r8(O[e],t))},n.removeHook=function(e){O[e]&&n8(O[e])},n.removeHooks=function(e){O[e]&&(O[e]=[])},n.removeAllHooks=function(){O={}},n}();const j8=e=>{let{body:t,disableMentionsAt:n=!1}=e;const r=MS.useMemo((()=>function(e){const t=C$({nodes:O4()});return t.parseEditorState(e).read((()=>wB(t)))}(t)),[t]),i=MS.useMemo((()=>function(e){const t=O8.sanitize(e,{ADD_ATTR:["target"],ALLOW_UNKNOWN_PROTOCOLS:!0});return O8.removed.length?t:e}(r)),[r]),o=n?i.replace(/(<span[^>]*data-lexical-mention="true"[^>]*>)(@)([^<]*<\/span>)/g,((e,t,n,r)=>t+r)):i;return MS.createElement("div",{dangerouslySetInnerHTML:{__html:o}})},M8=e=>{function t(){s({type:H4,message:o(`errors.${H4}`)})}let{file:n,isGroup:r,options:i=null}=e;const{_e:o,onError:s}=r6();return r?MS.createElement(M6,{onClick:t,options:i,file:n}):MS.createElement(MS.Fragment,null,MS.createElement("button",{className:F4()("icon"),onClick:t},MS.createElement(D6,{type:n?.mime_type})),MS.createElement("div",{className:"metas",onClick:t},MS.createElement("strong",null,n?.name),MS.createElement("small",null,ZE(n?.size))))},R8=e=>{let{body:t}=e;return t},F8=e=>{let{message:t,components:n,isFile:r,_e:i}=e;return MS.createElement("div",{className:"content deleted"},n?.DeletedMessage?MS.createElement(n.DeletedMessage,{message:t,_e:i}):t?.deleted_at&&t?.deleted_by_user&&t?.deleted_by_user.id!==t?.user.id?MS.createElement(j8,{disableMentionsAt:!0,body:UE(t.deleted_by_user,r,i)}):MS.createElement("span",null,i(r?"deletedFile":"deletedMessage")))},L8=e=>{let{message:t,_e:n,isLoggedIn:r,isGroup:i,options:o,isQuote:s}=e;const{components:a}=r6();if("text"===t.type||"emoji"===t.type||"custom"===t.type||"json"===t.type){if(!t.body)return MS.createElement(F8,{message:t,components:a,_e:n});switch(t.type){case"custom":return MS.createElement(R8,{body:t.body});case"emoji":return MS.createElement(P6,{body:t.body});case"json":return MS.createElement(j8,{body:t.body});default:{const e=t.body;return ME(e)?MS.createElement(P6,{body:e}):MS.createElement(U6,{body:e})}}}const l=t?.file?.encodings||[],c=t.file,u=[...l,c],d={file:t.file,uploading:"uploading"in t&&t.uploading,isGroup:i,isQuote:s,options:o,message:t,_e:n};if(t?.file){if("authenticated"===t.file.accessibility&&!r)return MS.createElement(M8,d);if("file"===t?.file.category){const e=e=>o6({file:t?.file,mimeType:e});return e("image")?MS.createElement($6,d):e("video")?MS.createElement(H6,HE({},d,{file:u,poster:t?.file.thumbnail_url,sourceFile:c})):e("audio")?MS.createElement(F6,HE({},d,{file:l?.length?u:c})):MS.createElement(L6,d)}if("voice"===t?.file.category)return MS.createElement(F6,HE({},d,{file:l?.length?u:c}));if("screen"===t?.file.category||"video"===t?.file.category)return MS.createElement(H6,HE({},d,{file:u,poster:t?.file.thumbnail_url,sourceFile:c}))}return MS.createElement(F8,{message:t,components:a,isFile:!0,_e:n})},P8=e=>{let{message:t,isLoggedIn:n,_e:r,children:i=null,isGroup:o,isQuote:s}=e;return t?.messages?.length?MS.createElement("div",{className:"content"},MS.createElement("div",{className:"multiple-messages-content"},t?.messages?.map((e=>MS.createElement("div",{key:e.id,className:F4()("content",IE(e),{error:e.hasError})},MS.createElement("div",{className:"message-item-container"},MS.createElement(L8,{message:e,_e:r,isLoggedIn:n,isQuote:s})))))),i):MS.createElement("div",{className:F4()("content",IE(t),{error:t.hasError})},MS.createElement("div",{className:"message-item-container"},MS.createElement(L8,{message:t,_e:r,isLoggedIn:n,isGroup:o,isQuote:s,options:i})),o?null:i)},I8=e=>{let{message:t}=e;const n=`${t.user.first_name} ${t.user.last_name}`;return t?.user?.url?MS.createElement("a",{href:t.user.url,className:"metas-title",dir:"auto"},n):MS.createElement("div",{className:"metas-title",dir:"auto"},n)},$8=e=>{let{message:t}=e;return MS.createElement("img",{src:t.user.avatar,alt:""})},z8=e=>{let{message:t,time:n}=e;const{components:r}=r6();return r?.MessageUser?MS.createElement(r.MessageUser,{userImage:MS.createElement($8,{message:t}),userTitle:MS.createElement(I8,{message:t}),message:t,time:n}):MS.createElement(MS.Fragment,null,MS.createElement($8,{message:t}),MS.createElement("div",{className:"metas"},MS.createElement(I8,{message:t}),n))},B8=e=>{let{date:t,_e:n}=e;return n("formattedDate",{date:t.utc().format("DD MMMM YYYY"),time:t.utc().format("HH:mm:ss"),timeZone:"GMT"})},U8=e=>{let{_d:t,date:n,isActive:r=!0}=e;const i=(0,MS.useRef)(null),[o,s]=(0,MS.useState)(new Date),a=(0,MS.useMemo)((()=>t(o).subtract(1,"day")),[o]),l=(0,MS.useMemo)((()=>t(n)),[n]),c=(0,MS.useMemo)((()=>l.isSame(o,"day")),[l,o]),u=(0,MS.useMemo)((()=>l.isSame(a,"day")),[l,a]);return(0,MS.useEffect)((()=>(r?i.current=setInterval((()=>{s(new Date)}),6e4):i.current&&(clearInterval(i.current),i.current=null),()=>{i.current&&clearInterval(i.current)})),[r]),{isToday:c,isYesterday:u}};var H8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAAAAAA7VNdtAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQflARAOKSZ78WmiAAABaklEQVRIx+3U23KCMBAGYN//uTYJoIK2aK1jPRSxM7QgytSqCOlJK4FlQ6960/+ab0j2kBb7dVr/5K8IABeCAzQmYA4en+NNuLyzoBEBMd5k8itZMjFAT6ATnMFn8tAGHYFuLJUkDmiIGcpS4raGzGUlS5JA961Kjn2gyFQi8ai/8AgjW4Mg7R1GjmqhFQJOipHsliB9nLgEsY8YOd3UE2a9YmTfoSoWYGQtqL6Mc4RMqVYya1sVO/VcZQL3p0q9JkASxr3y0Z4EowkTflYEeWAyHWH8YX8Vh7nBtATEYFOYyKHQLjJ3I6UAp8jlJAHLr0xZ6ltEX8BZo913amcMeolEk/QAJ2DXiA9TXLICMSNZm8hEiSeJeAgBN6VIel3mH2KEkkxolAmMMppkIygR/iI1CYVKat4W5TaXd/ZCFjoh5UIlItaTWBQJ2Ac9OZxH4EyGuZ7kQ4XM9ELKWZGwVROyUq4fNCHB97fvU/JgZUI9kjAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDEtMTZUMTQ6NDE6MzgtMDU6MDBGK+k6AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTAxLTE2VDE0OjQxOjM4LTA1OjAwN3ZRhgAAAABJRU5ErkJggg==";const W8=e=>{let{_e:t,_d:n,message:r,isLoggedIn:i,setMessageToReply:o,editorApiRef:s={current:null}}=e;const a="date"in r?r.date:r.created_at,l=MS.useRef(null),c=YE(l),{isToday:u}=U8({_d:n,date:a,isActive:c}),d=()=>{const e=n(a);let r=e.format("DD MMMM");return u&&(r=e.format("HH:mm")),MS.createElement("time",{dateTime:a,title:B8({date:e,_e:t})},r)};return MS.useEffect((()=>{r&&s.current&&s.current.focus()}),[r]),MS.createElement("div",{ref:l,className:F4()("quotted-message",{})},MS.createElement("blockquote",null,r.user?MS.createElement(z8,{message:r,time:MS.createElement(d,null)}):MS.createElement(MS.Fragment,null,MS.createElement("img",{src:H8,alt:t("deletedAccount")}),MS.createElement("div",{className:"metas"},MS.createElement("strong",null,t("deletedAccount")),MS.createElement(d,null))),MS.createElement(P8,{message:r,_e:t,isLoggedIn:i,isQuote:!0})),MS.createElement("button",{type:"button",onClick:async function(e){e.preventDefault(),o(null)}},"\xd7"))};var K8=MS.memo(W8),q8="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e.g?e.g:"undefined"!=typeof self?self:{},V8={exports:{}};!function(e){function t(e,i){function a(t){t&&(i.initCallback=function(){t(),t=i.initCallback=null});var n=new r(e,i);(p=new n(e,i)).record(),f("recording"),i.disableLogs||console.log("Initialized recorderType:",p.constructor.name,"for output-type:",i.type)}function l(e){function t(t){if(p){Object.keys(p).forEach((function(e){"function"!=typeof p[e]&&(m[e]=p[e])}));var n=p.blob;if(!n){if(!t)throw"Recording failed.";p.blob=n=t}if(n&&!i.disableLogs&&console.log(n.type,"->",o(n.size)),e){var r;try{r=E.createObjectURL(n)}catch(e){}"function"==typeof e.call?e.call(m,r):e(r)}i.autoWriteToDisk&&u((function(e){var t={};t[i.type+"Blob"]=e,M.Store(t)}))}else"function"==typeof e.call?e.call(m,""):e("")}if(e=e||function(){},p){if("paused"===m.state)return m.resumeRecording(),void setTimeout((function(){l(e)}),1);"recording"===m.state||i.disableLogs||console.warn('Recording state should be: "recording", however current state is: ',m.state),i.disableLogs||console.log("Stopped recording "+i.type+" stream."),"gif"!==i.type?p.stop(t):(p.stop(),t()),f("stopped")}else h()}function c(e){postMessage((new FileReaderSync).readAsDataURL(e))}function u(e,t){if(!e)throw"Pass a callback function over getDataURL.";var n=t?t.blob:(p||{}).blob;if(!n)return i.disableLogs||console.warn("Blob encoder did not finish its job yet."),void setTimeout((function(){u(e,t)}),1e3);if("undefined"==typeof Worker||navigator.mozGetUserMedia){var r=new FileReader;r.readAsDataURL(n),r.onload=function(t){e(t.target.result)}}else{var o=function(e){try{var t=E.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return E.revokeObjectURL(t),n}catch(e){}}(c);o.onmessage=function(t){e(t.data)},o.postMessage(n)}}function d(e){e=e||0,"paused"!==m.state?"stopped"!==m.state&&(e>=m.recordingDuration?l(m.onRecordingStopped):(e+=1e3,setTimeout((function(){d(e)}),1e3))):setTimeout((function(){d(e)}),1e3)}function f(e){m&&(m.state=e,"function"==typeof m.onStateChanged.call?m.onStateChanged.call(m,e):m.onStateChanged(e))}function h(){!0!==i.disableLogs&&console.warn(g)}if(!e)throw"First parameter is required.";i=new n(e,i=i||{type:"video"});var p,m=this,g='It seems that recorder is destroyed or "startRecording" is not invoked for '+i.type+" recorder.",v={startRecording:function(t){return i.disableLogs||console.log("RecordRTC version: ",m.version),t&&(i=new n(e,t)),i.disableLogs||console.log("started recording "+i.type+" stream."),p?(p.clearRecordedData(),p.record(),f("recording"),m.recordingDuration&&d(),m):(a((function(){m.recordingDuration&&d()})),m)},stopRecording:l,pauseRecording:function(){p?"recording"===m.state?(f("paused"),p.pause(),i.disableLogs||console.log("Paused recording.")):i.disableLogs||console.warn("Unable to pause the recording. Recording state: ",m.state):h()},resumeRecording:function(){p?"paused"===m.state?(f("recording"),p.resume(),i.disableLogs||console.log("Resumed recording.")):i.disableLogs||console.warn("Unable to resume the recording. Recording state: ",m.state):h()},initRecorder:a,setRecordingDuration:function(e,t){if(void 0===e)throw"recordingDuration is required.";if("number"!=typeof e)throw"recordingDuration must be a number.";return m.recordingDuration=e,m.onRecordingStopped=t||function(){},{onRecordingStopped:function(e){m.onRecordingStopped=e}}},clearRecordedData:function(){p?(p.clearRecordedData(),i.disableLogs||console.log("Cleared old recorded data.")):h()},getBlob:function(){if(p)return p.blob;h()},getDataURL:u,toURL:function(){if(p)return E.createObjectURL(p.blob);h()},getInternalRecorder:function(){return p},save:function(e){p?s(p.blob,e):h()},getFromDisk:function(e){p?t.getFromDisk(i.type,e):h()},setAdvertisementArray:function(e){i.advertisement=[];for(var t=e.length,n=0;n<t;n++)i.advertisement.push({duration:n,image:e[n]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){"recording"!==m.state||i.disableLogs||console.warn("Stop an active recorder."),p&&"function"==typeof p.clearRecordedData&&p.clearRecordedData(),p=null,f("inactive"),m.blob=null},onStateChanged:function(e){i.disableLogs||console.log("Recorder state changed:",e)},state:"inactive",getState:function(){return m.state},destroy:function(){var e=i.disableLogs;i={disableLogs:!0},m.reset(),f("destroyed"),v=m=null,O.AudioContextConstructor&&(O.AudioContextConstructor.close(),O.AudioContextConstructor=null),i.disableLogs=e,i.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return m=v,v;for(var y in v)this[y]=v[y];return m=this,v}function n(e,t){return t.recorderType||t.type||(t.audio&&t.video?t.type="video":t.audio&&!t.video&&(t.type="audio")),t.recorderType&&!t.type&&(t.recorderType===p||t.recorderType===h||t.recorderType===y?t.type="video":t.recorderType===m?t.type="gif":t.recorderType===f?t.type="audio":t.recorderType===d&&(l(e,"audio").length&&l(e,"video").length||!l(e,"audio").length&&l(e,"video").length?t.type="video":l(e,"audio").length&&!l(e,"video").length&&(t.type="audio"))),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(t.mimeType||(t.mimeType="video/webm"),t.type||(t.type=t.mimeType.split("/")[0]),t.bitsPerSecond),t.type||(t.mimeType&&(t.type=t.mimeType.split("/")[0]),t.type||(t.type="audio")),t}function r(e,t){var n;return(T||S||k)&&(n=f),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&!T&&(n=d),"video"===t.type&&(T||k)&&(n=p,"undefined"!=typeof ReadableStream&&(n=y)),"gif"===t.type&&(n=m),"canvas"===t.type&&(n=h),u()&&n!==h&&n!==m&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(l(e,"video").length||l(e,"audio").length)&&("audio"===t.type?"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm")&&(n=d):"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("video/webm")&&(n=d)),e instanceof Array&&e.length&&(n=v),t.recorderType&&(n=t.recorderType),!t.disableLogs&&n&&n.name&&console.log("Using recorderType:",n.name||n.constructor.name),!n&&A&&(n=d),n}function i(e){this.addStream=function(t){t&&(e=t)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var n,r=this.mediaType,i=this.mimeType||{audio:null,video:null,gif:null};if("function"!=typeof r.audio&&u()&&!l(e,"audio").length&&(r.audio=!1),"function"!=typeof r.video&&u()&&!l(e,"video").length&&(r.video=!1),"function"!=typeof r.gif&&u()&&!l(e,"video").length&&(r.gif=!1),!r.audio&&!r.video&&!r.gif)throw"MediaStream must have either audio or video tracks.";if(r.audio&&(n=null,"function"==typeof r.audio&&(n=r.audio),this.audioRecorder=new t(e,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:n,mimeType:i.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),r.video||this.audioRecorder.startRecording()),r.video){n=null,"function"==typeof r.video&&(n=r.video);var o=e;if(u()&&r.audio&&"function"==typeof r.audio){var s=l(e,"video")[0];D?((o=new N).addTrack(s),n&&n===p&&(n=d)):(o=new N).addTrack(s)}this.videoRecorder=new t(o,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:n,mimeType:i.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),r.audio||this.videoRecorder.startRecording()}if(r.audio&&r.video){var a=this,c=!0===u();(r.audio instanceof f&&r.video||!0!==r.audio&&!0!==r.video&&r.audio!==r.video)&&(c=!1),!0===c?(a.audioRecorder=null,a.videoRecorder.startRecording()):a.videoRecorder.initRecorder((function(){a.audioRecorder.initRecorder((function(){a.videoRecorder.startRecording(),a.audioRecorder.startRecording()}))}))}r.gif&&(n=null,"function"==typeof r.gif&&(n=r.gif),this.gifRecorder=new t(e,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:n,mimeType:i.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(e){e=e||function(){},this.audioRecorder&&this.audioRecorder.stopRecording((function(t){e(t,"audio")})),this.videoRecorder&&this.videoRecorder.stopRecording((function(t){e(t,"video")})),this.gifRecorder&&this.gifRecorder.stopRecording((function(t){e(t,"gif")}))},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(e){var t={};return this.audioRecorder&&(t.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(t.video=this.videoRecorder.getBlob()),this.gifRecorder&&(t.gif=this.gifRecorder.getBlob()),e&&e(t),t},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(e){function t(e,t){if("undefined"!=typeof Worker){var n=function(e){var t,n=E.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),r=new Worker(n);if(void 0!==E)t=E;else{if("undefined"==typeof webkitURL)throw"Neither URL nor webkitURL detected.";t=webkitURL}return t.revokeObjectURL(n),r}((function(e){postMessage((new FileReaderSync).readAsDataURL(e))}));n.onmessage=function(e){t(e.data)},n.postMessage(e)}else{var r=new FileReader;r.readAsDataURL(e),r.onload=function(e){t(e.target.result)}}}this.getBlob((function(n){n.audio&&n.video?t(n.audio,(function(r){t(n.video,(function(t){e({audio:r,video:t})}))})):n.audio?t(n.audio,(function(t){e({audio:t})})):n.video&&t(n.video,(function(t){e({video:t})}))}))},this.writeToDisk=function(){t.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(e){(e=e||{audio:!0,video:!0,gif:!0}).audio&&this.audioRecorder&&this.audioRecorder.save("string"==typeof e.audio?e.audio:""),e.video&&this.videoRecorder&&this.videoRecorder.save("string"==typeof e.video?e.video:""),e.gif&&this.gifRecorder&&this.gifRecorder.save("string"==typeof e.gif?e.gif:"")}}function o(e){if(0===e)return"0 Bytes";var t=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return(e/Math.pow(1e3,t)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][t]}function s(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(e){}var n=(e.type||"video/webm").split("/")[1];if(-1!==n.indexOf(";")&&(n=n.split(";")[0]),t&&-1!==t.indexOf(".")){var r=t.split(".");t=r[0],n=r[1]}var i=(t||Math.round(9999999999*Math.random())+888888888)+"."+n;if(void 0!==navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,i);if(void 0!==navigator.msSaveBlob)return navigator.msSaveBlob(e,i);var o=document.createElement("a");o.href=E.createObjectURL(e),o.download=i,o.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(o),"function"==typeof o.click?o.click():(o.target="_blank",o.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),E.revokeObjectURL(o.href)}function a(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}function l(e,t){return e&&e.getTracks?e.getTracks().filter((function(e){return e.kind===(t||"audio")})):[]}function c(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}function u(){if(D||A||S)return!0;var e,t,n=navigator.userAgent,r=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10);return(T||k)&&(e=n.indexOf("Chrome"),r=n.substring(e+7)),-1!==(t=r.indexOf(";"))&&(r=r.substring(0,t)),-1!==(t=r.indexOf(" "))&&(r=r.substring(0,t)),i=parseInt(""+r,10),isNaN(i)&&(r=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10)),i>=49}function d(e,t){function n(){a.timestamps.push((new Date).getTime()),"function"==typeof t.onTimeStamp&&t.onTimeStamp(a.timestamps[a.timestamps.length-1],a.timestamps)}function r(e){return c&&c.mimeType?c.mimeType:e.mimeType||"video/webm"}function i(){d=[],c=null,a.timestamps=[]}var s,a=this;if(void 0===e)throw'First argument "MediaStream" is required.';if("undefined"==typeof MediaRecorder)throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";"audio"===(t=t||{mimeType:"video/webm"}).type&&(l(e,"video").length&&l(e,"audio").length&&(navigator.mozGetUserMedia?(s=new N).addTrack(l(e,"audio")[0]):s=new N(l(e,"audio")),e=s),t.mimeType&&-1!==t.mimeType.toString().toLowerCase().indexOf("audio")||(t.mimeType=T?"audio/webm":"audio/ogg"),t.mimeType&&"audio/ogg"!==t.mimeType.toString().toLowerCase()&&navigator.mozGetUserMedia&&(t.mimeType="audio/ogg"));var c,d=[];this.getArrayOfBlobs=function(){return d},this.record=function(){a.blob=null,a.clearRecordedData(),a.timestamps=[],f=[],d=[];var i=t;t.disableLogs||console.log("Passing following config over MediaRecorder API.",i),c&&(c=null),T&&!u()&&(i="video/vp8"),"function"==typeof MediaRecorder.isTypeSupported&&i.mimeType&&(MediaRecorder.isTypeSupported(i.mimeType)||(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",i.mimeType),i.mimeType="audio"===t.type?"audio/webm":"video/webm"));try{c=new MediaRecorder(e,i),t.mimeType=i.mimeType}catch(t){c=new MediaRecorder(e)}i.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in c&&!1===c.canRecordMimeType(i.mimeType)&&(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",i.mimeType)),c.ondataavailable=function(e){if(e.data&&f.push("ondataavailable: "+o(e.data.size)),"number"!=typeof t.timeSlice)!e.data||!e.data.size||e.data.size<100||a.blob?a.recordingCallback&&(a.recordingCallback(new Blob([],{type:r(i)})),a.recordingCallback=null):(a.blob=t.getNativeBlob?e.data:new Blob([e.data],{type:r(i)}),a.recordingCallback&&(a.recordingCallback(a.blob),a.recordingCallback=null));else if(e.data&&e.data.size&&(d.push(e.data),n(),"function"==typeof t.ondataavailable)){var s=t.getNativeBlob?e.data:new Blob([e.data],{type:r(i)});t.ondataavailable(s)}},c.onstart=function(){f.push("started")},c.onpause=function(){f.push("paused")},c.onresume=function(){f.push("resumed")},c.onstop=function(){f.push("stopped")},c.onerror=function(e){e&&(e.name||(e.name="UnknownError"),f.push("error: "+e),t.disableLogs||(-1!==e.name.toString().toLowerCase().indexOf("invalidstate")?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",e):-1!==e.name.toString().toLowerCase().indexOf("notsupported")?console.error("MIME type (",i.mimeType,") is not supported.",e):-1!==e.name.toString().toLowerCase().indexOf("security")?console.error("MediaRecorder security error",e):"OutOfMemory"===e.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"IllegalStreamModification"===e.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"OtherRecordingError"===e.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"GenericError"===e.name?console.error("The UA cannot provide the codec or recording option that has been requested.",e):console.error("MediaRecorder Error",e)),function(){if(!a.manuallyStopped&&c&&"inactive"===c.state)return delete t.timeslice,void c.start(6e5);setTimeout(void 0,1e3)}(),"inactive"!==c.state&&"stopped"!==c.state&&c.stop())},"number"==typeof t.timeSlice?(n(),c.start(t.timeSlice)):c.start(36e5),t.initCallback&&t.initCallback()},this.timestamps=[],this.stop=function(e){e=e||function(){},a.manuallyStopped=!0,c&&(this.recordingCallback=e,"recording"===c.state&&c.stop(),"number"==typeof t.timeSlice&&setTimeout((function(){a.blob=new Blob(d,{type:r(t)}),a.recordingCallback(a.blob)}),100))},this.pause=function(){c&&"recording"===c.state&&c.pause()},this.resume=function(){c&&"paused"===c.state&&c.resume()},this.clearRecordedData=function(){c&&"recording"===c.state&&a.stop(i),i()},this.getInternalRecorder=function(){return c},this.blob=null,this.getState=function(){return c&&c.state||"inactive"};var f=[];this.getAllStates=function(){return f},void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!1),a=this,function n(){if(c&&!1!==t.checkForInactiveTracks)return!1===function(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}()?(t.disableLogs||console.log("MediaStream seems stopped."),void a.stop()):void setTimeout(n,1e3)}(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}function f(e,n){function r(){if(!1===n.checkForInactiveTracks)return!0;if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}function i(e,t){function n(e,t){function n(e,t,n){var i=Math.round(e.length*(t/n)),o=[],s=Number((e.length-1)/(i-1));o[0]=e[0];for(var a=1;a<i-1;a++){var l=a*s,c=Number(Math.floor(l)).toFixed(),u=Number(Math.ceil(l)).toFixed(),d=l-c;o[a]=r(e[c],e[u],d)}return o[i-1]=e[e.length-1],o}function r(e,t,n){return e+(t-e)*n}function i(e,t){for(var n=new Float64Array(t),r=0,i=e.length,o=0;o<i;o++){var s=e[o];n.set(s,r),r+=s.length}return n}function o(e,t,n){for(var r=n.length,i=0;i<r;i++)e.setUint8(t+i,n.charCodeAt(i))}var s,a=e.numberOfAudioChannels,l=e.leftBuffers.slice(0),c=e.rightBuffers.slice(0),u=e.sampleRate,d=e.internalInterleavedLength,f=e.desiredSampRate;2===a&&(l=i(l,d),c=i(c,d),f&&(l=n(l,f,u),c=n(c,f,u))),1===a&&(l=i(l,d),f&&(l=n(l,f,u))),f&&(u=f),2===a&&(s=function(e,t){for(var n=e.length+t.length,r=new Float64Array(n),i=0,o=0;o<n;)r[o++]=e[i],r[o++]=t[i],i++;return r}(l,c)),1===a&&(s=l);var h=s.length,p=new ArrayBuffer(44+2*h),m=new DataView(p);o(m,0,"RIFF"),m.setUint32(4,36+2*h,!0),o(m,8,"WAVE"),o(m,12,"fmt "),m.setUint32(16,16,!0),m.setUint16(20,1,!0),m.setUint16(22,a,!0),m.setUint32(24,u,!0),m.setUint32(28,u*a*2,!0),m.setUint16(32,2*a,!0),m.setUint16(34,16,!0),o(m,36,"data"),m.setUint32(40,2*h,!0);for(var g=h,v=44,y=0;y<g;y++)m.setInt16(v,32767*s[y],!0),v+=2;if(t)return t({buffer:p,view:m});postMessage({buffer:p,view:m})}if(e.noWorker)n(e,(function(e){t(e.buffer,e.view)}));else{var r=function(e){var t=E.createObjectURL(new Blob([e.toString(),";this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return n.workerURL=t,n}(n);r.onmessage=function(e){t(e.data.buffer,e.data.view),E.revokeObjectURL(r.workerURL),r.terminate()},r.postMessage(e)}}function o(){d=[],f=[],p=0,x=!1,h=!1,C=!1,v=null,u.leftchannel=d,u.rightchannel=f,u.numberOfAudioChannels=m,u.desiredSampRate=g,u.sampleRate=w,u.recordingLength=p,S={left:[],right:[],recordingLength:0}}function s(){c&&(c.onaudioprocess=null,c.disconnect(),c=null),y&&(y.disconnect(),y=null),o()}function a(){h&&"function"==typeof n.ondataavailable&&void 0!==n.timeSlice&&(S.left.length?(i({desiredSampRate:g,sampleRate:w,numberOfAudioChannels:m,internalInterleavedLength:S.recordingLength,leftBuffers:S.left,rightBuffers:1===m?[]:S.right},(function(e,t){var r=new Blob([t],{type:"audio/wav"});n.ondataavailable(r),setTimeout(a,n.timeSlice)})),S={left:[],right:[],recordingLength:0}):setTimeout(a,n.timeSlice))}if(!l(e,"audio").length)throw"Your stream has no audio tracks.";var c,u=this,d=[],f=[],h=!1,p=0,m=2,g=(n=n||{}).desiredSampRate;!0===n.leftChannel&&(m=1),1===n.numberOfAudioChannels&&(m=1),(!m||m<1)&&(m=2),n.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+m),void 0===n.checkForInactiveTracks&&(n.checkForInactiveTracks=!0),this.record=function(){if(!1===r())throw"Please make sure MediaStream is active.";o(),x=C=!1,h=!0,void 0!==n.timeSlice&&a()},this.stop=function(e){e=e||function(){},h=!1,i({desiredSampRate:g,sampleRate:w,numberOfAudioChannels:m,internalInterleavedLength:p,leftBuffers:d,rightBuffers:1===m?[]:f,noWorker:n.noWorker
},(function(t,n){u.blob=new Blob([n],{type:"audio/wav"}),u.buffer=new ArrayBuffer(n.buffer.byteLength),u.view=n,u.sampleRate=g||w,u.bufferSize=_,u.length=p,x=!1,e&&e(u.blob)}))},void 0===t.Storage&&(t.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),t.Storage.AudioContextConstructor&&"closed"!==t.Storage.AudioContextConstructor.state||(t.Storage.AudioContextConstructor=new t.Storage.AudioContext);var v=t.Storage.AudioContextConstructor,y=v.createMediaStreamSource(e),b=[0,256,512,1024,2048,4096,8192,16384],_=void 0===n.bufferSize?4096:n.bufferSize;if(-1===b.indexOf(_)&&(n.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(b,null,"\t"))),v.createJavaScriptNode)c=v.createJavaScriptNode(_,m,m);else{if(!v.createScriptProcessor)throw"WebAudio API has no support on this browser.";c=v.createScriptProcessor(_,m,m)}y.connect(c),n.bufferSize||(_=c.bufferSize);var w=void 0!==n.sampleRate?n.sampleRate:v.sampleRate||44100;(w<22050||w>96e3)&&(n.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),n.disableLogs||n.desiredSampRate&&console.log("Desired sample-rate: "+n.desiredSampRate);var C=!1;this.pause=function(){C=!0},this.resume=function(){if(!1===r())throw"Please make sure MediaStream is active.";if(!h)return n.disableLogs||console.log("Seems recording has been restarted."),void this.record();C=!1},this.clearRecordedData=function(){n.checkForInactiveTracks=!1,h&&this.stop(s),s()},this.name="StereoAudioRecorder",this.toString=function(){return this.name};var x=!1;c.onaudioprocess=function(e){if(!C)if(!1===r()&&(n.disableLogs||console.log("MediaStream seems stopped."),c.disconnect(),h=!1),h){x||(x=!0,n.onAudioProcessStarted&&n.onAudioProcessStarted(),n.initCallback&&n.initCallback());var t=e.inputBuffer.getChannelData(0),i=new Float32Array(t);if(d.push(i),2===m){var o=e.inputBuffer.getChannelData(1),s=new Float32Array(o);f.push(s)}p+=_,u.recordingLength=p,void 0!==n.timeSlice&&(S.recordingLength+=_,S.left.push(i),2===m&&S.right.push(s))}else y&&(y.disconnect(),y=null)},v.createMediaStreamDestination?c.connect(v.createMediaStreamDestination()):c.connect(v.destination),this.leftchannel=d,this.rightchannel=f,this.numberOfAudioChannels=m,this.desiredSampRate=g,this.sampleRate=w,u.recordingLength=p;var S={left:[],right:[],recordingLength:0}}function h(e,t){function n(){g.frames=[],c=!1,p=!1}function r(){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),t}function i(){if(p)return m=(new Date).getTime(),setTimeout(i,500);if("canvas"===e.nodeName.toLowerCase()){var n=(new Date).getTime()-m;return m=(new Date).getTime(),g.frames.push({image:r(),duration:n}),void(c&&setTimeout(i,t.frameInterval))}html2canvas(e,{grabMouse:void 0===t.showMousePointer||t.showMousePointer,onrendered:function(e){var n=(new Date).getTime()-m;if(!n)return setTimeout(i,t.frameInterval);m=(new Date).getTime(),g.frames.push({image:e.toDataURL("image/webp",1),duration:n}),c&&setTimeout(i,t.frameInterval)}})}if("undefined"==typeof html2canvas)throw"Please link: https://www.webrtc-experiment.com/screenshot.js";(t=t||{}).frameInterval||(t.frameInterval=10);var o=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach((function(e){e in document.createElement("canvas")&&(o=!0)}));var s,a,c,u=!(!window.webkitRTCPeerConnection&&!window.webkitGetUserMedia||!window.chrome),f=50,h=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(u&&h&&h[2]&&(f=parseInt(h[2],10)),u&&f<52&&(o=!1),t.useWhammyRecorder&&(o=!1),o)if(t.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),e instanceof HTMLCanvasElement)s=e;else{if(!(e instanceof CanvasRenderingContext2D))throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";s=e.canvas}else navigator.mozGetUserMedia&&(t.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));this.record=function(){if(c=!0,o&&!t.useWhammyRecorder){var e;"captureStream"in s?e=s.captureStream(25):"mozCaptureStream"in s?e=s.mozCaptureStream(25):"webkitCaptureStream"in s&&(e=s.webkitCaptureStream(25));try{var n=new N;n.addTrack(l(e,"video")[0]),e=n}catch(e){}if(!e)throw"captureStream API are NOT available.";(a=new d(e,{mimeType:t.mimeType||"video/webm"})).record()}else g.frames=[],m=(new Date).getTime(),i();t.initCallback&&t.initCallback()},this.getWebPImages=function(n){if("canvas"===e.nodeName.toLowerCase()){var r=g.frames.length;g.frames.forEach((function(e,n){var i=r-n;t.disableLogs||console.log(i+"/"+r+" frames remaining"),t.onEncodingCallback&&t.onEncodingCallback(i,r);var o=e.image.toDataURL("image/webp",1);g.frames[n].image=o})),t.disableLogs||console.log("Generating WebM"),n()}else n()},this.stop=function(e){c=!1;var n=this;o&&a?a.stop(e):this.getWebPImages((function(){g.compile((function(r){t.disableLogs||console.log("Recording finished!"),n.blob=r,n.blob.forEach&&(n.blob=new Blob([],{type:"video/webm"})),e&&e(n.blob),g.frames=[]}))}))};var p=!1;this.pause=function(){p=!0,a instanceof d&&a.pause()},this.resume=function(){p=!1,a instanceof d?a.resume():c||this.record()},this.clearRecordedData=function(){c&&this.stop(n),n()},this.name="CanvasRecorder",this.toString=function(){return this.name};var m=(new Date).getTime(),g=new j.Video(100)}function p(e,t){function n(e){e=void 0!==e?e:10;var t=(new Date).getTime()-l;return t?s?(l=(new Date).getTime(),setTimeout(n,100)):(l=(new Date).getTime(),a.paused&&a.play(),f.drawImage(a,0,0,d.width,d.height),u.frames.push({duration:t,image:d.toDataURL("image/webp")}),void(o||setTimeout(n,e,e))):setTimeout(n,e,e)}function r(e,t,n,r,i){var o=document.createElement("canvas");o.width=d.width,o.height=d.height;var s=o.getContext("2d"),a=[],l=-1===t,c=t&&t>0&&t<=e.length?t:e.length,u=0,f=0,h=0,p=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),m=n&&n>=0&&n<=1?n:0,g=r&&r>=0&&r<=1?r:0,v=!1;!function(e){var t=-1,n=e.length;!function r(){++t!==n?setTimeout((function(){e.functionToLoop(r,t)}),1):e.callback()}()}({length:c,functionToLoop:function(t,n){var r,i,o,c=function(){!v&&o-r<=o*g||(l&&(v=!0),a.push(e[n])),t()};if(v)c();else{var y=new Image;y.onload=function(){s.drawImage(y,0,0,d.width,d.height);var e=s.getImageData(0,0,d.width,d.height);r=0,i=e.data.length,o=e.data.length/4;for(var t=0;t<i;t+=4){var n={r:e.data[t],g:e.data[t+1],b:e.data[t+2]};Math.sqrt(Math.pow(n.r-u,2)+Math.pow(n.g-f,2)+Math.pow(n.b-h,2))<=p*m&&r++}c()},y.src=e[n].image}},callback:function(){(a=a.concat(e.slice(c))).length<=0&&a.push(e[e.length-1]),i(a)}})}function i(){u.frames=[],o=!0,s=!1}(t=t||{}).frameInterval||(t.frameInterval=10),t.disableLogs||console.log("Using frames-interval:",t.frameInterval),this.record=function(){t.width||(t.width=320),t.height||(t.height=240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),d.width=t.canvas.width||320,d.height=t.canvas.height||240,f=d.getContext("2d"),t.video&&t.video instanceof HTMLVideoElement?(a=t.video.cloneNode(),t.initCallback&&t.initCallback()):(a=document.createElement("video"),c(e,a),a.onloadedmetadata=function(){t.initCallback&&t.initCallback()},a.width=t.video.width,a.height=t.video.height),a.muted=!0,a.play(),l=(new Date).getTime(),u=new j.Video,t.disableLogs||(console.log("canvas resolutions",d.width,"*",d.height),console.log("video width/height",a.width||d.width,"*",a.height||d.height)),n(t.frameInterval)};var o=!1;this.stop=function(e){e=e||function(){},o=!0;var n=this;setTimeout((function(){r(u.frames,-1,null,null,(function(r){u.frames=r,t.advertisement&&t.advertisement.length&&(u.frames=t.advertisement.concat(u.frames)),u.compile((function(t){n.blob=t,n.blob.forEach&&(n.blob=new Blob([],{type:"video/webm"})),e&&e(n.blob)}))}))}),10)};var s=!1;this.pause=function(){s=!0},this.resume=function(){s=!1,o&&this.record()},this.clearRecordedData=function(){o||this.stop(i),i()},this.name="WhammyRecorder",this.toString=function(){return this.name};var a,l,u,d=document.createElement("canvas"),f=d.getContext("2d")}function m(e,t){if("undefined"==typeof GIFEncoder){var n=document.createElement("script");n.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(n)}t=t||{};var r=e instanceof CanvasRenderingContext2D||e instanceof HTMLCanvasElement;this.record=function(){"undefined"!=typeof GIFEncoder&&a?(r||(t.width||(t.width=l.offsetWidth||320),t.height||(t.height=l.offsetHeight||240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),o.width=t.canvas.width||320,o.height=t.canvas.height||240,l.width=t.video.width||320,l.height=t.video.height||240),(d=new GIFEncoder).setRepeat(0),d.setDelay(t.frameRate||200),d.setQuality(t.quality||10),d.start(),"function"==typeof t.onGifRecordingStarted&&t.onGifRecordingStarted(),f=_((function e(n){if(!0!==h.clearedRecordedData){if(i)return setTimeout((function(){e(n)}),100);f=_(e),void 0===typeof u&&(u=n),n-u<90||(!r&&l.paused&&l.play(),r||s.drawImage(l,0,0,o.width,o.height),t.onGifPreview&&t.onGifPreview(o.toDataURL("image/png")),d.addFrame(s),u=n)}})),t.initCallback&&t.initCallback()):setTimeout(h.record,1e3)},this.stop=function(e){e=e||function(){},f&&C(f),this.blob=new Blob([new Uint8Array(d.stream().bin)],{type:"image/gif"}),e(this.blob),d.stream().bin=[]};var i=!1;this.pause=function(){i=!0},this.resume=function(){i=!1},this.clearRecordedData=function(){h.clearedRecordedData=!0,d&&(d.stream().bin=[])},this.name="GifRecorder",this.toString=function(){return this.name};var o=document.createElement("canvas"),s=o.getContext("2d");r&&(e instanceof CanvasRenderingContext2D?o=(s=e).canvas:e instanceof HTMLCanvasElement&&(s=e.getContext("2d"),o=e));var a=!0;if(!r){var l=document.createElement("video");l.muted=!0,l.autoplay=!0,l.playsInline=!0,a=!1,l.onloadedmetadata=function(){a=!0},c(e,l),l.play()}var u,d,f=null,h=this}function g(e,t){function n(){if(!a){var e=s.length,t=!1,i=[];if(s.forEach((function(e){e.stream||(e.stream={}),e.stream.fullcanvas?t=e:i.push(e)})),t)l.width=t.stream.width,l.height=t.stream.height;else if(i.length){l.width=e>1?2*i[0].width:i[0].width;var o=1;3!==e&&4!==e||(o=2),5!==e&&6!==e||(o=3),7!==e&&8!==e||(o=4),9!==e&&10!==e||(o=5),l.height=i[0].height*o}else l.width=u.width||360,l.height=u.height||240;t&&t instanceof HTMLVideoElement&&r(t),i.forEach((function(e,t){r(e,t)})),setTimeout(n,u.frameInterval)}}function r(e,t){if(!a){var n=0,r=0,i=e.width,o=e.height;1===t&&(n=e.width),2===t&&(r=e.height),3===t&&(n=e.width,r=e.height),4===t&&(r=2*e.height),5===t&&(n=e.width,r=2*e.height),6===t&&(r=3*e.height),7===t&&(n=e.width,r=3*e.height),void 0!==e.stream.left&&(n=e.stream.left),void 0!==e.stream.top&&(r=e.stream.top),void 0!==e.stream.width&&(i=e.stream.width),void 0!==e.stream.height&&(o=e.stream.height),c.drawImage(e,n,r,i,o),"function"==typeof e.stream.onRender&&e.stream.onRender(c,n,r,i,o,t)}}function i(e){var n=document.createElement("video");return function(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}(e,n),n.className=t,n.muted=!0,n.volume=0,n.width=e.width||u.width||360,n.height=e.height||u.height||240,n.play(),n}function o(t){s=[],(t=t||e).forEach((function(e){if(e.getTracks().filter((function(e){return"video"===e.kind})).length){var t=i(e);t.stream=e,s.push(t)}}))}t=t||"multi-streams-mixer";var s=[],a=!1,l=document.createElement("canvas"),c=l.getContext("2d");l.style.opacity=0,l.style.position="absolute",l.style.zIndex=-1,l.style.top="-1000em",l.style.left="-1000em",l.className=t,(document.body||document.documentElement).appendChild(l),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var u=this,d=window.AudioContext;void 0===d&&("undefined"!=typeof webkitAudioContext&&(d=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(d=mozAudioContext));var f=window.URL;void 0===f&&"undefined"!=typeof webkitURL&&(f=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var h=window.MediaStream;void 0===h&&"undefined"!=typeof webkitMediaStream&&(h=webkitMediaStream),void 0!==h&&void 0===h.prototype.stop&&(h.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))});var p={};void 0!==d?p.AudioContext=d:"undefined"!=typeof webkitAudioContext&&(p.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){n()},this.appendStreams=function(t){if(!t)throw"First parameter is required.";t instanceof Array||(t=[t]),t.forEach((function(t){var n=new h;if(t.getTracks().filter((function(e){return"video"===e.kind})).length){var r=i(t);r.stream=t,s.push(r),n.addTrack(t.getTracks().filter((function(e){return"video"===e.kind}))[0])}if(t.getTracks().filter((function(e){return"audio"===e.kind})).length){var o=u.audioContext.createMediaStreamSource(t);u.audioDestination=u.audioContext.createMediaStreamDestination(),o.connect(u.audioDestination),n.addTrack(u.audioDestination.stream.getTracks().filter((function(e){return"audio"===e.kind}))[0])}e.push(n)}))},this.releaseStreams=function(){s=[],a=!0,u.gainNode&&(u.gainNode.disconnect(),u.gainNode=null),u.audioSources.length&&(u.audioSources.forEach((function(e){e.disconnect()})),u.audioSources=[]),u.audioDestination&&(u.audioDestination.disconnect(),u.audioDestination=null),u.audioContext&&u.audioContext.close(),u.audioContext=null,c.clearRect(0,0,l.width,l.height),l.stream&&(l.stream.stop(),l.stream=null)},this.resetVideoStreams=function(e){!e||e instanceof Array||(e=[e]),o(e)},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=function(){a=!1;var t=function(){var e;o(),"captureStream"in l?e=l.captureStream():"mozCaptureStream"in l?e=l.mozCaptureStream():u.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var t=new h;return e.getTracks().filter((function(e){return"video"===e.kind})).forEach((function(e){t.addTrack(e)})),l.stream=t,t}(),n=function(){p.AudioContextConstructor||(p.AudioContextConstructor=new p.AudioContext),u.audioContext=p.AudioContextConstructor,u.audioSources=[],!0===u.useGainNode&&(u.gainNode=u.audioContext.createGain(),u.gainNode.connect(u.audioContext.destination),u.gainNode.gain.value=0);var t=0;if(e.forEach((function(e){if(e.getTracks().filter((function(e){return"audio"===e.kind})).length){t++;var n=u.audioContext.createMediaStreamSource(e);!0===u.useGainNode&&n.connect(u.gainNode),u.audioSources.push(n)}})),t)return u.audioDestination=u.audioContext.createMediaStreamDestination(),u.audioSources.forEach((function(e){e.connect(u.audioDestination)})),u.audioDestination.stream}();return n&&n.getTracks().filter((function(e){return"audio"===e.kind})).forEach((function(e){t.addTrack(e)})),e.forEach((function(e){e.fullcanvas})),t}}function v(e,t){e=e||[];var n,r,i=this;(t=t||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}}).frameInterval||(t.frameInterval=10),t.video||(t.video={}),t.video.width||(t.video.width=360),t.video.height||(t.video.height=240),this.record=function(){n=new g(e,t.elementClass||"multi-streams-mixer"),function(){var t=[];return e.forEach((function(e){l(e,"video").forEach((function(e){t.push(e)}))})),t}().length&&(n.frameInterval=t.frameInterval||10,n.width=t.video.width||360,n.height=t.video.height||240,n.startDrawingFrames()),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(n.getMixedStream()),(r=new d(n.getMixedStream(),t)).record()},this.stop=function(e){r&&r.stop((function(t){i.blob=t,e(t),i.clearRecordedData()}))},this.pause=function(){r&&r.pause()},this.resume=function(){r&&r.resume()},this.clearRecordedData=function(){r&&(r.clearRecordedData(),r=null),n&&(n.releaseStreams(),n=null)},this.addStreams=function(i){if(!i)throw"First parameter is required.";i instanceof Array||(i=[i]),e.concat(i),r&&n&&(n.appendStreams(i),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(n.getMixedStream()))},this.resetVideoStreams=function(e){n&&(!e||e instanceof Array||(e=[e]),n.resetVideoStreams(e))},this.getMixer=function(){return n},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}function y(e,t){function n(){return new ReadableStream({start:function(n){var r=document.createElement("canvas"),o=document.createElement("video"),s=!0;o.srcObject=e,o.muted=!0,o.height=t.height,o.width=t.width,o.volume=0,o.onplaying=function(){r.width=t.width,r.height=t.height;var e=r.getContext("2d"),a=1e3/t.frameRate,l=setInterval((function(){if(i&&(clearInterval(l),n.close()),s&&(s=!1,t.onVideoProcessStarted&&t.onVideoProcessStarted()),e.drawImage(o,0,0),"closed"!==n._controlledReadableStream.state)try{n.enqueue(e.getImageData(0,0,t.width,t.height))}catch(e){}}),a)},o.play()}})}function r(e,l){if(!t.workerPath&&!l)return i=!1,void fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then((function(t){t.arrayBuffer().then((function(t){r(e,t)}))}));if(!t.workerPath&&l instanceof ArrayBuffer){var c=new Blob([l],{type:"text/javascript"});t.workerPath=E.createObjectURL(c)}t.workerPath||console.error("workerPath parameter is missing."),(o=new Worker(t.workerPath)).postMessage(t.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),o.addEventListener("message",(function(e){"READY"===e.data?(o.postMessage({width:t.width,height:t.height,bitrate:t.bitrate||1200,timebaseDen:t.frameRate||30,realtime:t.realtime}),n().pipeTo(new WritableStream({write:function(e){i?console.error("Got image, but recorder is finished!"):o.postMessage(e.data.buffer,[e.data.buffer])}}))):e.data&&(s||a.push(e.data))}))}var i,o,s;"undefined"!=typeof ReadableStream&&"undefined"!=typeof WritableStream||console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),(t=t||{}).width=t.width||640,t.height=t.height||480,t.frameRate=t.frameRate||30,t.bitrate=t.bitrate||1200,t.realtime=t.realtime||!0,this.record=function(){a=[],s=!1,this.blob=null,r(e),"function"==typeof t.initCallback&&t.initCallback()},this.pause=function(){s=!0},this.resume=function(){s=!1};var a=[];this.stop=function(e){i=!0;var t=this;!function(e){o?(o.addEventListener("message",(function(t){null===t.data&&(o.terminate(),o=null,e&&e())})),o.postMessage(null)):e&&e()}((function(){t.blob=new Blob(a,{type:"video/webm"}),e(t.blob)}))},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){a=[],s=!1,this.blob=null},this.blob=null}var b;t.version="5.6.2",e.exports=t,t.getFromDisk=function(e,t){if(!t)throw"callback is mandatory.";console.log("Getting recorded "+("all"===e?"blobs":e+" blob ")+" from disk!"),M.Fetch((function(n,r){"all"!==e&&r===e+"Blob"&&t&&t(n),"all"===e&&t&&t(n,r.replace("Blob",""))}))},t.writeToDisk=function(e){console.log("Writing recorded blob(s) to disk!"),(e=e||{}).audio&&e.video&&e.gif?e.audio.getDataURL((function(t){e.video.getDataURL((function(n){e.gif.getDataURL((function(e){M.Store({audioBlob:t,videoBlob:n,gifBlob:e})}))}))})):e.audio&&e.video?e.audio.getDataURL((function(t){e.video.getDataURL((function(e){M.Store({audioBlob:t,videoBlob:e})}))})):e.audio&&e.gif?e.audio.getDataURL((function(t){e.gif.getDataURL((function(e){M.Store({audioBlob:t,gifBlob:e})}))})):e.video&&e.gif?e.video.getDataURL((function(t){e.gif.getDataURL((function(e){M.Store({videoBlob:t,gifBlob:e})}))})):e.audio?e.audio.getDataURL((function(e){M.Store({audioBlob:e})})):e.video?e.video.getDataURL((function(e){M.Store({videoBlob:e})})):e.gif&&e.gif.getDataURL((function(e){M.Store({gifBlob:e})}))},i.getFromDisk=t.getFromDisk,i.writeToDisk=t.writeToDisk,t.MRecordRTC=i,(b=void 0!==q8?q8:null)&&"undefined"==typeof window&&void 0!==q8&&(q8.navigator={userAgent:"Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45",getUserMedia:function(){}},q8.console||(q8.console={}),void 0!==q8.console.log&&void 0!==q8.console.error||(q8.console.error=q8.console.log=q8.console.log||function(){console.log(arguments)}),"undefined"==typeof document&&(b.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},b.HTMLVideoElement=function(){}),"undefined"==typeof location&&(b.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(b.screen={width:0,height:0}),void 0===E&&(b.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),b.window=q8);var _=window.requestAnimationFrame;if(void 0===_)if("undefined"!=typeof webkitRequestAnimationFrame)_=webkitRequestAnimationFrame;else if("undefined"!=typeof mozRequestAnimationFrame)_=mozRequestAnimationFrame;else if("undefined"!=typeof msRequestAnimationFrame)_=msRequestAnimationFrame;else if(void 0===_){var w=0;_=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-w)),r=setTimeout((function(){e(t+n)}),n);return w=t+n,r}}var C=window.cancelAnimationFrame;void 0===C&&("undefined"!=typeof webkitCancelAnimationFrame?C=webkitCancelAnimationFrame:"undefined"!=typeof mozCancelAnimationFrame?C=mozCancelAnimationFrame:"undefined"!=typeof msCancelAnimationFrame?C=msCancelAnimationFrame:void 0===C&&(C=function(e){clearTimeout(e)}));var x=window.AudioContext;void 0===x&&("undefined"!=typeof webkitAudioContext&&(x=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(x=mozAudioContext));var E=window.URL;void 0===E&&"undefined"!=typeof webkitURL&&(E=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var S=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveBlob&&!navigator.msSaveOrOpenBlob),k=!!window.opera||-1!==navigator.userAgent.indexOf("OPR/"),D=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),T=!k&&!S&&!!navigator.webkitGetUserMedia||a()||-1!==navigator.userAgent.toLowerCase().indexOf("chrome/"),A=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);A&&!T&&-1!==navigator.userAgent.indexOf("CriOS")&&(A=!1,T=!0);var N=window.MediaStream;void 0===N&&"undefined"!=typeof webkitMediaStream&&(N=webkitMediaStream),void 0!==N&&void 0===N.prototype.stop&&(N.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))}),t.invokeSaveAsDialog=s,t.getTracks=l,t.getSeekableBlob=function(e,t){if("undefined"==typeof EBML)throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var n=new EBML.Reader,r=new EBML.Decoder,i=EBML.tools,o=new FileReader;o.onload=function(){r.decode(this.result).forEach((function(e){n.read(e)})),n.stop();var e=i.makeMetadataSeekable(n.metadatas,n.duration,n.cues),o=this.result.slice(n.metadataSize),s=new Blob([e,o],{type:"video/webm"});t(s)},o.readAsArrayBuffer(e)},t.bytesToSize=o,t.isElectron=a;var O={};void 0!==x?O.AudioContext=x:"undefined"!=typeof webkitAudioContext&&(O.AudioContext=webkitAudioContext),t.Storage=O,t.MediaStreamRecorder=d,t.StereoAudioRecorder=f,t.CanvasRecorder=h,t.WhammyRecorder=p;var j=function(){function e(e){this.frames=[],this.duration=e||1,this.quality=.8}function t(e){function t(e,t,n){return[{data:e,id:231}].concat(n.map((function(e){var n=function(e){var t=0;if(e.keyframe&&(t|=128),e.invisible&&(t|=8),e.lacing&&(t|=e.lacing<<1),e.discardable&&(t|=1),e.trackNum>127)throw"TrackNumber > 127 not supported";return[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map((function(e){return String.fromCharCode(e)})).join("")+e.frame}({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:n,id:163}})))}function n(e){for(var t=[];e>0;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function r(e){var t=[];e=(e.length%8?new Array(9-e.length%8).join("0"):"")+e;for(var n=0;n<e.length;n+=8)t.push(parseInt(e.substr(n,8),2));return new Uint8Array(t)}function i(e){for(var t=[],o=0;o<e.length;o++){var s=e[o].data;"object"==typeof s&&(s=i(s)),"number"==typeof s&&(s=r(s.toString(2))),"string"==typeof s&&(s=new Uint8Array(s.split("").map((function(e){return e.charCodeAt(0)}))));var a=s.size||s.byteLength||s.length,l=Math.ceil(Math.ceil(Math.log(a)/Math.log(2))/8),c=a.toString(2),u=new Array(7*l+7+1-c.length).join("0")+c,d=new Array(l).join("0")+"1"+u;t.push(n(e[o].id)),t.push(r(d)),t.push(s)}return new Blob(t,{type:"video/webm"})}function o(e,t){return parseInt(e.substr(t+4,4).split("").map((function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t})).join(""),2)}function s(e){for(var t=0,n={};t<e.length;){var r=e.substr(t,4),i=o(e,t),a=e.substr(t+4+4,i);t+=8+i,n[r]=n[r]||[],"RIFF"===r||"LIST"===r?n[r].push(s(a)):n[r].push(a)}return n}var a=new function(e){var n=function(e){if(e[0]){for(var t=e[0].width,n=e[0].height,r=e[0].duration,i=1;i<e.length;i++)r+=e[i].duration;return{duration:r,width:t,height:n}}postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."})}(e);if(!n)return[];for(var r,o=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:(r=n.duration,[].slice.call(new Uint8Array(new Float64Array([r]).buffer),0).map((function(e){return String.fromCharCode(e)})).reverse().join("")),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:n.width,id:176},{data:n.height,id:186}]}]}]}]}],s=0,a=0;s<e.length;){var l=[],c=0;do{l.push(e[s]),c+=e[s].duration,s++}while(s<e.length&&c<3e4);var u={id:524531317,data:t(a,0,l)};o[1].data.push(u),a+=c}return i(o)}(e.map((function(e){var t=function(e){for(var t=e.RIFF[0].WEBP[0],n=t.indexOf("\x9d\x01*"),r=0,i=[];r<4;r++)i[r]=t.charCodeAt(n+3+r);return{width:16383&(i[1]<<8|i[0]),height:16383&(i[3]<<8|i[2]),data:t,riff:e}}(s(atob(e.image.slice(23))));return t.duration=e.duration,t})));postMessage(a)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(e){var n=function(e){var t=E.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return E.revokeObjectURL(t),n}(t);n.onmessage=function(t){t.data.error?console.error(t.data.error):e(t.data)},n.postMessage(this.frames)},{Video:e}}();t.Whammy=j;var M={init:function(){function e(e){e.createObjectStore(n.dataStoreName)}function t(){function e(e){t.objectStore(n.dataStoreName).get(e).onsuccess=function(t){n.callback&&n.callback(t.target.result,e)}}var t=r.transaction([n.dataStoreName],"readwrite");n.videoBlob&&t.objectStore(n.dataStoreName).put(n.videoBlob,"videoBlob"),n.gifBlob&&t.objectStore(n.dataStoreName).put(n.gifBlob,"gifBlob"),n.audioBlob&&t.objectStore(n.dataStoreName).put(n.audioBlob,"audioBlob"),e("audioBlob"),e("videoBlob"),e("gifBlob")}var n=this;if("undefined"!=typeof indexedDB&&void 0!==indexedDB.open){var r,i=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),o=indexedDB.open(i,1);o.onerror=n.onError,o.onsuccess=function(){(r=o.result).onerror=n.onError,r.setVersion&&1!==r.version?r.setVersion(1).onsuccess=function(){e(r),t()}:t()},o.onupgradeneeded=function(t){e(t.target.result)}}else console.error("IndexedDB API are not available in this browser.")},Fetch:function(e){return this.callback=e,this.init(),this},Store:function(e){return this.audioBlob=e.audioBlob,this.videoBlob=e.videoBlob,this.gifBlob=e.gifBlob,this.init(),this},onError:function(e){console.error(JSON.stringify(e,null,"\t"))},dataStoreName:"recordRTC",dbName:null};t.DiskStorage=M,t.GifRecorder=m,t.MultiStreamRecorder=v,t.RecordRTCPromisesHandler=function(e,n){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(void 0===e)throw'First argument "MediaStream" is required.';var r=this;r.recordRTC=new t(e,n),this.startRecording=function(){return new Promise((function(e,t){try{r.recordRTC.startRecording(),e()}catch(e){t(e)}}))},this.stopRecording=function(){return new Promise((function(e,t){try{r.recordRTC.stopRecording((function(n){r.blob=r.recordRTC.getBlob(),r.blob&&r.blob.size?e(n):t("Empty blob.",r.blob)}))}catch(e){t(e)}}))},this.pauseRecording=function(){return new Promise((function(e,t){try{r.recordRTC.pauseRecording(),e()}catch(e){t(e)}}))},this.resumeRecording=function(){return new Promise((function(e,t){try{r.recordRTC.resumeRecording(),e()}catch(e){t(e)}}))},this.getDataURL=function(){return new Promise((function(e,t){try{r.recordRTC.getDataURL((function(t){e(t)}))}catch(e){t(e)}}))},this.getBlob=function(){return new Promise((function(e,t){try{e(r.recordRTC.getBlob())}catch(e){t(e)}}))},this.getInternalRecorder=function(){return new Promise((function(e,t){try{e(r.recordRTC.getInternalRecorder())}catch(e){t(e)}}))},this.reset=function(){return new Promise((function(e,t){try{e(r.recordRTC.reset())}catch(e){t(e)}}))},this.destroy=function(){return new Promise((function(e,t){try{e(r.recordRTC.destroy())}catch(e){t(e)}}))},this.getState=function(){return new Promise((function(e,t){try{e(r.recordRTC.getState())}catch(e){t(e)}}))},this.blob=null,this.version="5.6.2"},t.WebAssemblyRecorder=y}(V8);var Y8=V8.exports,J8=sS(Y8);const G8={state:null,blob:null,url:null,stream:null,activeTarget:null},X8=(e,t)=>{const n=(e=>{const t=MS.useRef(e);return t.current=e,t})(t);MS.useEffect((()=>{const t=t=>{e.current&&!e.current.contains(t.target)&&n.current()};return document.addEventListener("click",t),()=>document.addEventListener("click",t)}),[])};var Q8;const Z8=e=>MS.createElement("svg",lS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},e),Q8||(Q8=MS.createElement("path",{d:"M192 0c-53 0-96 43-96 96v160c0 53 43 96 96 96s96-43 96-96V96c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 89.1 66.2 162.7 152 174.4V464h-48c-13.3 0-24 10.7-24 24s10.7 24 24 24h144c13.3 0 24-10.7 24-24s-10.7-24-24-24h-48v-33.6c85.8-11.7 152-85.3 152-174.4v-40c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 70.7-57.3 128-128 128S64 326.7 64 256v-40z"})));var e5;const t5=e=>MS.createElement("svg",cS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},e),e5||(e5=MS.createElement("path",{d:"M32 32C14.3 32 0 46.3 0 64v96c0 17.7 14.3 32 32 32s32-14.3 32-32V96h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zm32 320c0-17.7-14.3-32-32-32S0 334.3 0 352v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H64v-64zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h64v64c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32h-96zm128 320c0-17.7-14.3-32-32-32s-32 14.3-32 32v64h-64c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32v-96z"})));var n5;const r5=e=>MS.createElement("svg",uS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},e),n5||(n5=MS.createElement("path",{d:"M364.2 83.8c-24.4-24.4-64-24.4-88.4 0l-184 184c-42.1 42.1-42.1 110.3 0 152.4s110.3 42.1 152.4 0l152-152c10.9-10.9 28.7-10.9 39.6 0s10.9 28.7 0 39.6l-152 152c-64 64-167.6 64-231.6 0s-64-167.6 0-231.6l184-184c46.3-46.3 121.3-46.3 167.6 0s46.3 121.3 0 167.6l-176 176c-28.6 28.6-75 28.6-103.6 0s-28.6-75 0-103.6l144-144c10.9-10.9 28.7-10.9 39.6 0s10.9 28.7 0 39.6l-144 144c-6.7 6.7-6.7 17.7 0 24.4s17.7 6.7 24.4 0l176-176c24.4-24.4 24.4-64 0-88.4z"})));var i5;const o5=e=>MS.createElement("svg",dS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),i5||(i5=MS.createElement("path",{d:"M464 256a208 208 0 1 0-416 0 208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0 256 256 0 1 1-512 0zm224-72v144c0 13.3-10.7 24-24 24s-24-10.7-24-24V184c0-13.3 10.7-24 24-24s24 10.7 24 24zm112 0v144c0 13.3-10.7 24-24 24s-24-10.7-24-24V184c0-13.3 10.7-24 24-24s24 10.7 24 24z"})));var s5;const a5=e=>MS.createElement("svg",fS({
xmlns:"http://www.w3.org/2000/svg",height:24,width:22,viewBox:"0 0 448 512"},e),s5||(s5=MS.createElement("path",{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0h120.4c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64s14.3-32 32-32h96l7.2-14.3zM32 128h384v320c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16v224c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16v224c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16v224c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"})));var l5;const c5=e=>MS.createElement("svg",hS({xmlns:"http://www.w3.org/2000/svg",height:20,width:20,viewBox:"0 0 512 512"},e),l5||(l5=MS.createElement("path",{d:"M0 96c0-35.3 28.7-64 64-64h384c35.3 0 64 28.7 64 64v320c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zm48 272v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16zm368-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16h-32zM48 240v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16zm368-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16h-32zM48 112v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16zm368-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16h-32zm-256 32v64c0 17.7 14.3 32 32 32h128c17.7 0 32-14.3 32-32v-64c0-17.7-14.3-32-32-32H192c-17.7 0-32 14.3-32 32zm32 160c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32h128c17.7 0 32-14.3 32-32v-64c0-17.7-14.3-32-32-32H192z"})));var u5;const d5=e=>MS.createElement("svg",pS({xmlns:"http://www.w3.org/2000/svg",height:24,width:21,viewBox:"0 0 448 512"},e),u5||(u5=MS.createElement("path",{d:"M224 32c13.5 0 26.3 5.6 35.4 15.6l176 192c12.9 14 16.2 34.3 8.6 51.8S419 320 400 320H48c-19 0-36.3-11.2-43.9-28.7s-4.3-37.7 8.6-51.8l176-192c9-9.9 21.8-15.5 35.3-15.5zM0 432c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48s-21.5 48-48 48H48c-26.5 0-48-21.5-48-48z"}))),f5=e=>{let{remove:t,pause:n,resume:r,recorder:i,target:o}=e;const{_e:s}=r6(),[a,l]=(0,MS.useState)(!1),c=F4()({"ana-chat-recorder":!0,"video-recorder":"video"===i.activeTarget,"is-recording":"recording"===i.state,"is-paused":"paused"===i.state||"stopped"===i.state}),u=F4()({"ana-chat-recorder__resume":!0,"ana-chat-recorder__resume-desactivate":"screen"===i.activeTarget&&"stopped"===i.state});return MS.useEffect((()=>()=>t()),[]),MS.createElement("div",{className:c},i.activeTarget&&MS.createElement("div",{className:"ana-chat-recorder__container"},MS.createElement("div",{className:"ana-chat-recorder__body"},"recording"===i.state&&MS.createElement("div",{className:"ana-chat-recorder__recording"},MS.createElement("div",{className:"ana-chat-recorder__indicator"},MS.createElement("div",{className:"recording-pulse"},MS.createElement("span",null)),MS.createElement("span",{className:"ana-chat-recorder__indicator_title"},s(`${o}Recording`))),MS.createElement("label",{className:"ana-chat-recorder__pause",title:s("stopRecording")},MS.createElement(o5,{onClick:n,width:22,height:22}))),("paused"===i.state||"stopped"===i.state)&&MS.createElement("div",{className:"ana-chat-recorder__result"},MS.createElement("label",{className:"remove-recording",title:s("removeRecording")},MS.createElement(a5,{onClick:()=>{t(),l(!1)},width:18,height:18})),"voice"===o&&MS.createElement(MS.Fragment,null,MS.createElement(bS,{src:i.url}),MS.createElement("label",{className:"ana-chat-recorder__start-voice",title:s("resumeRecording")},MS.createElement(Z8,{width:20,height:20,onClick:r}))),("video"===o||"screen"===o)&&MS.createElement(MS.Fragment,null,MS.createElement("label",{className:"ana-chat-recorder__preview",onClick:e=>{e.stopPropagation(),l((e=>!e))}},MS.createElement(c5,{width:18,height:18}),MS.createElement("span",null,s("recorderPreview"))),MS.createElement("label",{className:u,title:s("resumeRecording")},"paused"===i.state&&MS.createElement(d5,{onClick:r})))))),MS.createElement(MS.Fragment,null,a&&MS.createElement(mS,{url:i.url,onClose:()=>l(!1)})),MS.createElement(_S,{recorder:i,isActive:"video"===i.activeTarget&&"recording"===i.state}))},h5=e=>{function t(e){x(e),_(!1)}function n(){s(null,null),S()}function r(){const{blob:e}=D();return e}async function i(e){e.preventDefault();const{target:t}=e,n=t.files;n&&c(n),_(!1),t.value=""}let{onRecordingComplete:o,recordingState:s,onClearRecording:a,onBlobAvailable:l,onAttachFile:c}=e;const{_e:u,useVoiceRecorder:d,useScreenRecorder:f,useVideoRecorder:h,maxRecorderSize:p,maxRecorderTime:m,onError:g,components:v,allowedExtensions:y}=r6(),[b,_]=MS.useState(!1),w=MS.useRef(null),{recorder:C,start:x,resume:E,remove:S,pause:k,getRealTimeBlob:D}=aS(p,m,g);MS.useImperativeHandle(a,(()=>({removeRecord:n}))),MS.useImperativeHandle(l,(()=>({getAvailableBlobs:r}))),MS.useEffect((()=>{o(C.blob),s(C.state,C.activeTarget)}),[C.state]);const T=F4()({"chat-form__menu":!0,"chat-form__menu-show":b}),A=[d,f,h].some((e=>!0===e));X8(w,(()=>_(!1)));const N=()=>{const e=MS.createElement(r5,{width:20,height:20});return v.MessageFormMenuLabel?MS.createElement(v.MessageFormMenuLabel,{defaultMenuLabel:e}):e},O=e=>MS.createElement("label",{className:"attach"},e?.children||MS.createElement(MS.Fragment,null,MS.createElement(r5,{width:20,height:20}),MS.createElement("span",null,u("attachFiles"))),MS.createElement("input",{type:"file",onChange:i,multiple:!0,accept:y?.join()})),j=e=>d?MS.createElement("label",{className:"ana-chat-recorder__start-voice",onClick:()=>t("voice")},e?.children||MS.createElement(MS.Fragment,null,MS.createElement(Z8,{width:20,height:20}),MS.createElement("span",null,u("voiceMessage")))):null,M=e=>h?MS.createElement("label",{className:"ana-chat-recorder__start-video",onClick:()=>t("video")},e?.children||MS.createElement(MS.Fragment,null,MS.createElement(k6,{width:20}),MS.createElement("span",null,u("videoMessage")))):null,R=e=>f?MS.createElement("label",{className:"ana-chat-recorder__start-screen",onClick:()=>t("screen")},e?.children||MS.createElement(MS.Fragment,null,MS.createElement(t5,{width:20,height:20}),MS.createElement("span",null,u("screenRecorder")))):null;return MS.createElement(MS.Fragment,null,MS.createElement("div",{className:"chat-form__multimedia",ref:w},MS.createElement("div",{className:T},v?.MessageFormMenu?MS.createElement(v.MessageFormMenu,{components:{AttachFiles:O,VoiceMessage:j,VideoMessage:M,ScreenRecorder:R}}):MS.createElement(MS.Fragment,null,MS.createElement(O,null),MS.createElement(j,null),MS.createElement(M,null),MS.createElement(R,null))),null===C.state?A?MS.createElement("label",{className:"attach",onClick:e=>{e.stopPropagation(),_(!b)}},MS.createElement(N,null)):MS.createElement("label",{className:"attach"},MS.createElement(N,null),MS.createElement("input",{type:"file",onChange:i,multiple:!0})):null),MS.createElement(f5,{remove:n,pause:function(){k()},resume:function(){E()},recorder:C,target:C.activeTarget}))};var p5;const m5=e=>MS.createElement("svg",wS({width:64,height:64,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"none"},e),p5||(p5=MS.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M9 17a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 1 0-2 0v6H3a1 1 0 0 0 0 2h6v6z"})));var g5;const v5=e=>MS.createElement("svg",CS({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24},e),g5||(g5=MS.createElement("path",{d:"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"}))),y5=e=>{let{file:t}=e;return/^image\/(jpeg|png|gif|bmp|webp)$/.test(t.type)?MS.createElement("img",{src:URL.createObjectURL(t),alt:t.name,className:"preview-image",draggable:"false"}):MS.createElement(T6,{file:t})},b5=e=>{let{file:t,onRemove:n}=e;return MS.createElement("div",{className:"preview-card"},MS.createElement("div",{className:"preview-body"},MS.createElement(y5,{file:t})),MS.createElement("small",{dir:"auto",className:"preview-title",title:t.name},t.name),MS.createElement("div",{className:"close-icon",onClick:()=>n(t)},MS.createElement(v5,null)))},_5=e=>{let{onChange:t}=e;const n=MS.useRef(null);return MS.createElement("div",{className:"preview-card"},MS.createElement("div",{className:"preview-body",onClick:()=>{n?.current?.click()}},MS.createElement("div",{className:"add-card"},MS.createElement(m5,null),MS.createElement("input",{ref:n,type:"file",multiple:!0,onChange:e=>{e.preventDefault();const n=e.target.files;n&&t(Array.from(n)),e.target.value=""}}))))},w5=e=>{let{files:t=[],appendFiles:n=(()=>{}),removeFile:r=(()=>{})}=e;return t?.length?MS.createElement("div",{className:"preview-files-container"},MS.createElement("div",{className:"preview-row"},t?.map(((e,t)=>MS.createElement(b5,{key:t,file:e,onRemove:r}))),MS.createElement(_5,{onChange:n}))):null};var C5;const x5=e=>MS.createElement("svg",ES({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24},e),C5||(C5=MS.createElement("path",{d:"M120-160v-640l760 320-760 320Zm80-120 474-200-474-200v140l240 60-240 60v140Zm0 0v-400 400Z"})));var E5;const S5=e=>MS.createElement("svg",SS({xmlns:"http://www.w3.org/2000/svg",height:20,width:20,viewBox:"0 0 512 512"},e),E5||(E5=MS.createElement("path",{d:"M464 256a208 208 0 1 0-416 0 208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0 256 256 0 1 1-512 0zm177.6 62.1c15.2 16.4 41.2 33.9 78.4 33.9s63.2-17.5 78.4-33.9c9-9.7 24.2-10.4 33.9-1.4s10.4 24.2 1.4 33.9c-22 23.8-60 49.4-113.6 49.4s-91.7-25.5-113.6-49.4c-9-9.7-8.4-24.9 1.4-33.9s24.9-8.4 33.9 1.4zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1-64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"})));var k5;const D5=e=>MS.createElement("svg",kS({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},e),k5||(k5=MS.createElement("path",{d:"M64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h320c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7c-12-12-28.3-18.7-45.3-18.7H64zm0 96c0-17.7 14.3-32 32-32h192c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32v-64zm160 160a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"}))),T5=e=>{function t(e){h(e,H.target),W(null),$(null),z.current&&z.current.removeRecord(),B.current&&B.current.removeRecord(),i()}function n(e){if(e.preventDefault(),L(!1),!I||!I.size||(t(I),R(""),O.current?.clear(),o.length&&!v)){if("recording"===H.state&&(t(U.current.getAvailableBlobs()),R(""),O.current?.clear(),!o.length||v))return;if(!v||M){if(g){if(T&&"string"==typeof M&&""===M.trim())return O.current.clear(),O.current.focus(),void S({type:V4,message:c(`errors.${V4}`)});if(A("edit",g))return S({type:G4,message:c(`errors.${G4}`)}),void r();m({...g,body:"string"!=typeof M?$E(M):M.trim(),type:"string"!=typeof M?"json":"text",mentions:BE(g,M)})}else o?.length?(C(o,M),s([]),i(),b(null)):"string"!=typeof M?(p(PE({message:M,messageToReply:v,currentUser:_})),i()):M.trim().length&&(p(LE({message:M,messageToReply:v,currentUser:_})),i());R(""),O.current?.clear(),b(null)}else S({type:Y4,message:c(`errors.${Y4}`)})}}function r(e){e?.preventDefault(),g&&(R(""),y(!1),O.current?.clear())}let{onCreateMessage:i,attachedFiles:o,setAttachedFiles:s,attachFileHandler:a}=e;const{_d:l,_e:c,language:u,permissions:d,isLoggedIn:f,createRecorderMessage:h,createMessage:p,updateMessage:m,messageToEdit:g,messageToReply:v,setMessageToEdit:y,setMessageToReply:b,currentUser:_,onInputValueChange:w,attacheHandler:C,validation:x,components:E,onError:S,disableEmojis:k,mentions:D,disableDeleteOnEmpty:T,shouldHideOption:A}=r6(),N=MS.useRef(null),O=MS.useRef(null),j=MS.useRef(null),[M,R]=MS.useState(""),[F,L]=MS.useState(!1),P=!k&&F,[I,$]=MS.useState(null),z=MS.useRef(null),B=MS.useRef(null),U=MS.useRef(null),[H,W]=MS.useState({state:null,target:null}),K=function(){const{onTyping:e}=r6(),t=MS.useCallback(P4()(e,5e3),[]),n=MS.useRef();return function(e){e&&n.current!==e&&(n.current=e,t())}}();if(MS.useEffect((()=>{if(g){R(g.body),s([]),$(null);const e="string"==typeof g.body?function(e){const t=e.split("\n"),n=[];return t.forEach(((e,r)=>{if(e.length>0){let t,r=0;const i=new RegExp(`${m0.source}|${p0.source}`,m0.flags.includes("u")?"gu":"g");for(;null!==(t=i.exec(e));){const i=t[0],o=t.index;o>r&&n.push({detail:0,format:0,mode:"normal",style:"",text:e.slice(r,o),type:"text",version:1}),n.push({type:"autolink",url:i,rel:"noopener noreferrer nofollow",target:"_blank",title:null,isUnlinked:!1,version:1,children:[{detail:0,format:0,mode:"normal",style:"",text:i,type:"text",version:1}]}),r=o+i.length}r<e.length&&n.push({detail:0,format:0,mode:"normal",style:"",text:e.slice(r),type:"text",version:1})}r<t.length-1&&n.push({type:"linebreak",version:1})})),{root:{children:[{children:n,direction:"",format:"",indent:0,type:"hsoub-paragraph",version:1,textFormat:0,textStyle:"",isAnInline:!1}],direction:"",format:"",indent:0,type:"root",version:1}}}(g.body):g.body;setTimeout((()=>O.current?.setContent(e)),10),setTimeout((()=>{O.current?.moveCaretToEnd()}),300)}}),[g]),function(e,t){const n=MS.useRef(t);MS.useEffect((()=>{t!==n.current&&(n.current=t,e())}),[e,t])}((()=>{if(!O.current)return;const e=O.current.isEmpty();w?.(e?null:M||H.state)}),[M]),!xS(d,"create_msg"))return null;const q={helpers:{editorPlaceholder:c("formPlaceholder")}};return MS.createElement(MS.Fragment,null,MS.createElement(w5,{files:o,appendFiles:a,removeFile:e=>{s((function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((t=>t.key!==e.key))}))}}),P&&MS.createElement(a6,{onClose:()=>L(!1),toggler:N.current,editorApiRef:O}),v&&MS.createElement(K8,{_e:c,_d:l,message:v,setMessageToReply:b,isLoggedIn:f,editorApiRef:O}),E?.BeforeFormSlot?MS.createElement(E.BeforeFormSlot,null):null,MS.createElement("form",{onSubmit:n,className:"chat-form"},MS.createElement("div",{className:F4()("chat-form__inputs")},(null===H.state||"inactive"===H.state)&&MS.createElement(MS.Fragment,null,!k&&MS.createElement("button",{ref:N,type:"button",onClick:function(e){e.preventDefault(),L(!P),O.current?.focus()},className:F4()("emojis",{open:F})},MS.createElement(S5,null)),MS.createElement("div",{className:"editor-wrapper",onKeyDown:function(e){"Tab"===e.key&&j.current&&j.current.focus(),function(e){return(e.ctrlKey||e.metaKey)&&("Enter"===e.key||"NumpadEnter"===e.key)}(e)&&n(e)}},MS.createElement(CE,{editorApiRef:O,editable:!0,isPlainText:!0,lang:u,direction:"en"===u?"ltr":"rtl",config:{image:{enable:!1},mentions:D},debounceDelay:0,onChange:function(e){let{html:t,json:n}=e;const r=(new DOMParser).parseFromString(t,"text/html");let i=zE(r.body);K(i),-1!==x.messageMaxLength&&(i=i.substring(0,x.messageMaxLength));const o=r.querySelector('[data-lexical-mention="true"]');R(o?n:i)},locales:{ar:q,en:q},boundaries:{padding:60}})),g&&MS.createElement(MS.Fragment,null,MS.createElement("button",{type:"button",title:"Cancel",className:"cancel",onClick:r},MS.createElement(v5,null)))),E?.FormActionsSlot?MS.createElement(E.FormActionsSlot,null):null,!g&&MS.createElement(h5,{onRecordingComplete:e=>$(e),onAttachFile:a,recordingState:function(e,t){R(""),O.current.clear(),W((n=>({...n,state:e,target:t})))},onClearRecording:z,onBlobAvailable:U})),MS.createElement(MS.Fragment,null,MS.createElement("hr",null),MS.createElement("button",{type:"submit",className:g?"edit":"send",title:c(g?"save":"send"),ref:j},g?MS.createElement(D5,{width:23,height:23}):MS.createElement(x5,{width:28,height:28})))),E?.AfterFormSlot?MS.createElement(E.AfterFormSlot,null):null)};var A5={exports:{}};A5.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",s="hour",a="day",l="week",c="month",u="quarter",d="year",f="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),o=n-i<0,s=t.clone().add(r+(o?-1:1),c);return+(-(r+(n-i)/(o?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:a,D:f,h:s,m:o,s:i,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",_={};_[b]=g;var w="$isDayjsObject",C=function(e){return e instanceof k||!(!e||!e[w])},x=function e(t,n,r){var i;if(!t)return b;if("string"==typeof t){var o=t.toLowerCase();_[o]&&(i=o),n&&(_[o]=n,i=o);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var a=t.name;_[a]=t,i=a}return!r&&i&&(b=i),i||!r&&b},E=function(e,t){if(C(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new k(n)},S=y;S.l=x,S.i=C,S.w=function(e,t){return E(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function g(e){this.$L=x(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return S},v.isValid=function(){return!(this.$d.toString()===h)},v.isSame=function(e,t){var n=E(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return E(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<E(e)},v.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!S.u(t)||t,u=S.p(e),h=function(e,t){var i=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(a)},p=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return r?h(1,0):h(31,11);case c:return r?h(1,g):h(0,g+1);case l:var b=this.$locale().weekStart||0,_=(m<b?m+7:m)-b;return h(r?v-_:v+(6-_),g);case a:case f:return p(y+"Hours",0);case s:return p(y+"Minutes",1);case o:return p(y+"Seconds",2);case i:return p(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=S.p(e),u="set"+(this.$u?"UTC":""),h=(n={},n[a]=u+"Date",n[f]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[s]=u+"Hours",n[o]=u+"Minutes",n[i]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],p=l===a?this.$D+(t-this.$W):t;if(l===c||l===d){var m=this.clone().set(f,1);m.$d[h](p),m.init(),this.$d=m.set(f,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[S.p(e)]()},v.add=function(r,u){var f,h=this;r=Number(r);var p=S.p(u),m=function(e){var t=E(h);return S.w(t.date(t.date()+Math.round(e*r)),h)};if(p===c)return this.set(c,this.$M+r);if(p===d)return this.set(d,this.$y+r);if(p===a)return m(1);if(p===l)return m(7);var g=(f={},f[o]=t,f[s]=n,f[i]=e,f)[p]||1,v=this.$d.getTime()+r*g;return S.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=S.z(this),o=this.$H,s=this.$m,a=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,d=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},f=function(e){return S.s(o%12||12,e,"0")},p=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return S.s(t.$y,4,"0");case"M":return a+1;case"MM":return S.s(a+1,2,"0");case"MMM":return d(n.monthsShort,a,c,3);case"MMMM":return d(c,a);case"D":return t.$D;case"DD":return S.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,l,2);case"ddd":return d(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(o);case"HH":return S.s(o,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return p(o,s,!0);case"A":return p(o,s,!1);case"m":return String(s);case"mm":return S.s(s,2,"0");case"s":return String(t.$s);case"ss":return S.s(t.$s,2,"0");case"SSS":return S.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,f,h){var p,m=this,g=S.p(f),v=E(r),y=(v.utcOffset()-this.utcOffset())*t,b=this-v,_=function(){return S.m(m,v)};switch(g){case d:p=_()/12;break;case c:p=_();break;case u:p=_()/3;break;case l:p=(b-y)/6048e5;break;case a:p=(b-y)/864e5;break;case s:p=b/n;break;case o:p=b/t;break;case i:p=b/e;break;default:p=b}return h?p:S.a(p)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return _[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=x(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return S.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),D=k.prototype;return E.prototype=D,[["$ms",r],["$s",i],["$m",o],["$H",s],["$W",a],["$M",c],["$y",d],["$D",f]].forEach((function(e){D[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),E.extend=function(e,t){return e.$i||(e(t,k,E),e.$i=!0),E},E.locale=x,E.isDayjs=C,E.unix=function(e){return E(1e3*e)},E.en=_[b],E.Ls=_,E.p={},E}();var N5=sS(A5.exports);const O5=e=>{let{isMenuOpened:t,setIsMenuOpened:n,message:r,messages:i,actions:o,_e:s,Icon:a,showOnHover:l=!1}=e;const c=i?.length?`group-${i[0].id}`:r.id,u=MS.useRef(null),d=MS.useRef(null),f=`actions-${c}`;return X8(u,(()=>n(!1))),MS.useEffect((()=>{const e=document.getElementById(f);if(e){const t=new IntersectionObserver((()=>n(!1)));return t.observe(e),()=>{t.unobserve(e)}}}),[]),MS.useEffect((()=>{t&&(()=>{const e=d?.current,t=e?.closest("#messages-list-scrollable");if(!t||!e)return;e.style.top="";const n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.bottom-r.top,o=e.offsetHeight;i<o&&(e.style.top=`-${o}px`),e.style.visibility="visible"})()}),[t,o.length]),o.length?MS.createElement("div",{id:f,className:"options",onClick:function(e){e.preventDefault(),n(!t)},ref:u},MS.createElement("button",{className:F4()({"show-on-hover":l,show:t})},MS.createElement(a,null)),t&&MS.createElement("div",{id:`${f}-menu`,ref:d,style:{visibility:"hidden"},className:"options-menu"},o.map(((e,t)=>MS.createElement("button",{key:`action-${c}-${t}`,onClick:t=>{e.callback(t,i||r)}},e.Icon&&MS.createElement(e.Icon,null),MS.createElement("span",null,s(e.label))))))):null};var j5,M5,R5;const F5=e=>MS.createElement("svg",DS({xmlns:"http://www.w3.org/2000/svg",width:24,height:24},e),j5||(j5=MS.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),M5||(M5=MS.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),R5||(R5=MS.createElement("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})));var L5;const P5=e=>MS.createElement("svg",TS({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24},e),L5||(L5=MS.createElement("path",{d:"M240-400q-33 0-56.5-23.5T160-480q0-33 23.5-56.5T240-560q33 0 56.5 23.5T320-480q0 33-23.5 56.5T240-400Zm240 0q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm240 0q-33 0-56.5-23.5T640-480q0-33 23.5-56.5T720-560q33 0 56.5 23.5T800-480q0 33-23.5 56.5T720-400Z"})));var I5;const $5=e=>MS.createElement("svg",AS({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24},e),I5||(I5=MS.createElement("path",{d:"M760-200v-160q0-50-35-85t-85-35H273l144 144-57 56-240-240 240-240 57 56-144 144h367q83 0 141.5 58.5T840-360v160h-80Z"})));var z5,B5;const U5=e=>MS.createElement("svg",NS({xmlns:"http://www.w3.org/2000/svg",height:24,width:24},e),z5||(z5=MS.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),B5||(B5=MS.createElement("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83a.996.996 0 0 0 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}))),H5=e=>{let{message:t,_e:n,isGroup:r,...i}=e;const[o,s]=MS.useState(!1),{optionActions:a,onDelete:l}=(e=>{function t(){const e=[];o.isPending&&e.push({label:"resend",action:"create_msg",Icon:x5,callback:async e=>{e.preventDefault(),r("create_msg",o)?i({type:Q4,message:a(`errors.${Q4}`)}):h(o)}}),o.isPending||e.push({label:"reply",action:"reply",Icon:$5,callback:async e=>{e.preventDefault(),r("reply",o)?i({type:X4,message:a(`errors.${X4}`)}):f(o)}});const t=g&&!o.isPending||p("UPDATE_MESSAGE");return!jE(o)&&t&&e.push({label:"edit",action:"edit",Icon:U5,callback:async e=>{e.preventDefault(),r("edit",o)?i({type:G4,message:a(`errors.${G4}`)}):d(o)}}),(g||o.isPending||p(i6))&&e.push({label:"delete",action:"delete",Icon:a5,callback:v}),e.filter((e=>{let{action:t}=e;return xS(o?.permissions?.length?o.permissions:c,t,Boolean(u===o.user?.id))&&!r(t,o)}))}const{actionsOrder:n,shouldHideOption:r,onError:i}=r6(),{message:o,providedActions:s,_e:a,deleteMessage:l,permissions:c,userId:u,setMessageToEdit:d,setMessageToReply:f,resendMessage:h,isSupportedOffline:p,isMenuOpened:m}=e,g=n6(),v=e=>{e.preventDefault();const t=o.isPending||o.hasError;t||!r("delete",o)?(t||window.confirm(a("areYouSure")))&&l(o):i({type:J4,message:a(`errors.${J4}`)})},y=e=>e?e.filter((e=>!r(e.action.toString(),o))).map((e=>({...e,callback:(t,n)=>{if(r(e.action.toString(),o)){const t=`${e.label.charAt(0).toUpperCase()}${e.label.slice(1).toLocaleLowerCase()}`;i({type:`MESSAGE_${e.label.toUpperCase()}_EXPIRED`,message:a(`errors.message${t}Expired`)})}else e.callback(t,n)}}))):[],[b,_]=MS.useState(t());MS.useEffect((()=>{if(_(t()),!m)return;const e=setInterval((()=>{_(t())}),6e4);return()=>clearInterval(e)}),[m,o,g]);const w=[...b,...y(o?.actions),...y(s)],C=function(e,t){return t.length&&e?[...e].sort(((e,n)=>{const r="string"==typeof e.action?e.action:e.label,i="string"==typeof n.action?n.action:n.label,o=t.indexOf(r),s=t.indexOf(i);return(-1===o?1/0:o)-(-1===s?1/0:s)})):e}(o.uploading?[]:w,n);return{optionActions:C,onDelete:v}})({message:t,_e:n,...i,isMenuOpened:o});return t.hasError?MS.createElement("div",{onClick:l,title:n("SomethingWrong"),className:"options"},MS.createElement(v5,{width:"24px",height:"24px"})):t.uploading?r?null:MS.createElement("div",{className:"options"},MS.createElement(F5,null)):t.isPending?MS.createElement(O5,{isMenuOpened:o,setIsMenuOpened:s,message:t,actions:a,Icon:p6,_e:n}):MS.createElement(O5,{isMenuOpened:o,setIsMenuOpened:s,actions:a,message:t,_e:n,Icon:P5,showOnHover:!0})},W5=e=>{let{isFirstOfUser:t,isFirstInDay:n,time:r=null,message:i,_e:o}=e;return t||n?i.user?MS.createElement(z8,{message:i,time:r}):MS.createElement(MS.Fragment,null,MS.createElement("img",{src:H8,alt:o("deletedAccount")}),MS.createElement("div",{className:"metas"},MS.createElement("strong",null,o("deletedAccount")),r)):r},K5=e=>{let{_e:t,_d:n,message:r,setMessageToReply:i,isLoggedIn:o}=e;return MS.createElement(K8,{_e:t,_d:n,message:r.reply_to_message_data,setMessageToReply:i,isLoggedIn:o})},q5=e=>{let{_d:t,_e:n,components:r,message:i,isFirstInDay:o,isVisible:s}=e;const{isToday:a,isYesterday:l}=U8({_d:t,date:i.created_at,isActive:s});if(r?.DaySeparator)return MS.createElement(r.DaySeparator,{message:i,isFirstInDay:o,_d:t,_e:n,isToday:a,isYesterday:l});let c=t(i.created_at).format("DD MMMM YYYY");return a&&(c=n("today")),l&&(c=n("yesterday")),MS.createElement("small",null,c)},V5=e=>{const t=MS.useRef(null),n=YE(t,{rootMargin:"250px 0px",threshold:0});return e?.isFirstInDay?MS.createElement("li",{ref:t,className:"day-separator"},MS.createElement(q5,HE({isVisible:n},e))):null},Y5=e=>{let{_d:t,_e:n,components:r,message:i}=e;if(r?.Time)return MS.createElement(r.Time,{message:i,_d:t,_e:n});const o=t(i.created_at),s=t(i.updated_at),a=i.created_at<i.updated_at;return MS.createElement("div",{className:"message-time"},MS.createElement("time",{title:B8({date:o,_e:n}),dateTime:i.created_at},o.format("HH:mm")),a&&MS.createElement("span",{title:B8({date:s,_e:n})},n("edited")))},J5=e=>{let{_d:t,_e:n,permissions:r,actions:i,userId:o,message:s,language:a,isLoggedIn:l,isFirstInDay:c,isFirstOfUser:u,deleteMessage:d,setMessageToEdit:f,setMessageToReply:h,resendMessage:p,isSupportedOffline:m,components:g,disableDeleteOnEmpty:v=!1}=e;const y=!!s.reply_to_message_data,b=MS.createElement(H5,{_e:n,message:s,language:a,isGroup:!1,deleteMessage:d,permissions:r,userId:o,setMessageToEdit:f,setMessageToReply:h,resendMessage:p,isSupportedOffline:m,isLoggedIn:l,providedActions:i});return MS.createElement(MS.Fragment,null,MS.createElement(V5,{_e:n,_d:t,message:s,components:g,isFirstInDay:c}),MS.createElement("li",{id:s.id,className:F4()("message-item",{"is-a-reply":s.reply_to_message_id,"first-in-group":u||c||v})},MS.createElement(W5,{_e:n,time:MS.createElement(Y5,{_e:n,_d:t,message:s,components:g}),message:s,isFirstOfUser:u||v,isFirstInDay:c}),y&&MS.createElement("div",{className:"quotted-message-container"},MS.createElement(K5,{_e:n,_d:t,message:s,setMessageToReply:h,isLoggedIn:l}),b),MS.createElement(P8,{key:s.id,message:s,_e:n,isLoggedIn:l,children:y?MS.createElement("div",null):b})))};var G5=MS.memo(J5,((e,t)=>e.language===t.language&&e.message===t.message&&e.isFirstInDay===t.isFirstInDay&&e.isFirstOfUser===t.isFirstOfUser));const X5=e=>{let{messages:t,isSupportedOffline:n,userId:r,deleteGroup:i,_e:o,permissions:s}=e;const{shouldHideOption:a}=r6(),[l,c]=MS.useState(!1),u=()=>{const e=[],l=e=>t?.every((t=>!!t?.[e])),c=l("isPending"),u=l("hasError"),f=e=>{e.preventDefault(),(c||u||window.confirm(o("areYouSure")))&&i(t)};return(d||c||n(i6))&&e.push({label:"deleteAll",action:"delete",Icon:a5,callback:f}),e.filter((e=>{let{action:n}=e;return xS(s,n,Boolean(r===t?.[0].user?.id))&&!a(n,t[0])}))},d=n6(),[f,h]=MS.useState(u()),p=t?.map((e=>`${e.created_at}|${e.updated_at}${e.file?.id}`)).join(",");return MS.useEffect((()=>{h(u())}),[l,t?.length,p,d]),t?.some((e=>e.uploading))?MS.createElement("div",{className:"options"},MS.createElement(F5,null)):MS.createElement(O5,{isMenuOpened:l,setIsMenuOpened:c,actions:f,messages:t,_e:o,Icon:P5,showOnHover:!0})},Q5=e=>{let{_d:t,_e:n,permissions:r,userId:i,messages:o,isLoggedIn:s,deleteGroup:a,isSupportedOffline:l,components:c,isFirstInDay:u,isFirstOfUser:d,actions:f,language:h,deleteMessage:p,setMessageToEdit:m,setMessageToReply:g,resendMessage:v}=e;const y=o?.[0],b=o?.[o.length-1],_=o?.every((e=>!e.body&&e.deleted_at&&e.deleted_by_user));return MS.createElement(MS.Fragment,null,MS.createElement(V5,{_e:n,_d:t,message:y,components:c,isFirstInDay:u}),MS.createElement("li",{className:F4()("message-item",{"first-in-group":d||u,"message-item-group":!_})},MS.createElement(W5,{_e:n,message:y,isFirstOfUser:d,isFirstInDay:u,time:MS.createElement(Y5,{_e:n,_d:t,message:b,components:c})}),_?MS.createElement(F8,{message:o?.[0],components:c,isFile:!0,_e:n}):MS.createElement("div",{className:"message-content-group-container content"},MS.createElement("div",{className:"message-content-group "+(o?.length>=4?"max-row-count":"")},o?.map((e=>MS.createElement(P8,{key:e.id,isGroup:!0,message:e,_e:n,isLoggedIn:s},MS.createElement(H5,{_e:n,message:e,language:h,isGroup:!0,deleteMessage:p,permissions:r,userId:i,setMessageToEdit:m,setMessageToReply:g,resendMessage:v,isSupportedOffline:l,isLoggedIn:s,providedActions:f}))))),MS.createElement(X5,{messages:o,isSupportedOffline:l,userId:i,deleteGroup:a,_e:n,permissions:r}))))};var Z5;const e7=e=>MS.createElement("svg",OS({
xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24},e),Z5||(Z5=MS.createElement("path",{d:"M440-800v487L216-537l-56 57 320 320 320-320-56-57-224 224v-487h-80Z"}))),t7=e=>{let{count:t,onClick:n}=e;const[r,i]=MS.useState({});return MS.useEffect((()=>{const e={};t&&(e["data-badge"]=t),i(e)}),[t]),MS.createElement("button",HE({onClick:n},r),MS.createElement(e7,null))};var n7;const r7=e=>MS.createElement("svg",jS({xmlns:"http://www.w3.org/2000/svg",height:32,width:32,viewBox:"0 0 512 512"},e),n7||(n7=MS.createElement("path",{d:"M160 368c26.5 0 48 21.5 48 48v16l72.5-54.4c8.3-6.2 18.4-9.6 28.8-9.6H448c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h96zm48 124-.2.2-5.1 3.8-17.1 12.8c-4.8 3.6-11.3 4.2-16.8 1.5s-8.8-8.2-8.8-14.3v-80H64c-35.3 0-64-28.7-64-64V64C0 28.7 28.7 0 64 0h384c35.3 0 64 28.7 64 64v288c0 35.3-28.7 64-64 64H309.3L208 492z"}))),i7=()=>{const{_d:e,_e:t,permissions:n,actions:r,currentUser:i,language:o,deleteMessage:s,deleteGroup:a,setMessageToEdit:l,setMessageToReply:c,isLoggedIn:u,resendMessage:d,isSupportedOffline:f,components:h,groupConfig:p,messages:m,disableMessageGrouping:g}=r6(),v={_d:e,_e:t,permissions:n,actions:r,language:o,isLoggedIn:u,deleteMessage:s,deleteGroup:a,components:h,userId:i?.id,setMessageToEdit:l,setMessageToReply:c,resendMessage:d,isSupportedOffline:f},y=MS.useMemo((()=>m.filter((e=>!e.isDeleted))),[m]),b=(e=>{let{messages:t=[]}=e;if(!t?.length)return[];const n={};return t.forEach((e=>{const t=N5(e.created_at).format("YYYY-MM-DD");n[t]||(n[t]=[]),n[t].push(e)})),Object.values(n)})({messages:y}),{isEnabled:_=!0}=p;if(!_)return MS.createElement(MS.Fragment,null,b.map((e=>e?.map(((t,n)=>MS.createElement(G5,HE({},v,{key:t.id,message:t,isFirstInDay:0===n,isFirstOfUser:NE(e,n),disableDeleteOnEmpty:g})))))));const w=(e=>{let{messages:t=[],groupConfig:n={},_d:r}=e;const{count:i=50,types:o=["image","file"]}=n;if(!t?.length)return[];const s={};let a="";return t.forEach(((e,n)=>{const i=e?.file?e.file?.mime_type:e?.type,l=N5(e.created_at).format("YYYY-MM-DD"),c=o.find((e=>!!i?.match(e)?.[0])),u=["image","video","audio"].find((e=>!!i?.match(e)?.[0])),d=o.includes("file")&&e?.file&&!u||c?c:n,f=`${l}-${e?.user?.id}-${d}`;let h=`${f}${a}`;s[h]||(s[h]=[]);const p={...e,index:n,isFirstOfUser:NE(t,n),isFirstInDay:!s[h].length&&AE(t,n,r)};s[h].length&&s[h][s[h].length-1].index!==n-1?(a=`-${n}`,h=`${f}${a}`,s[`${h}`]=[p]):s[h].push(p)})),Object.values(s).map((e=>{const t=[];for(let n=0;n<e.length;n+=i)t.push(e.slice(n,n+i));return t})).flat()})({messages:y,groupConfig:p,_d:e});return MS.createElement(MS.Fragment,null,w.map((e=>{const t=e?.[0];return 1===e?.length?MS.createElement(G5,HE({},v,{key:t.id,message:t,isFirstInDay:t?.isFirstInDay,isFirstOfUser:t?.isFirstOfUser,disableDeleteOnEmpty:g})):MS.createElement(Q5,HE({key:`group-${t.id}`},v,{messages:e,isFirstInDay:t?.isFirstInDay,isFirstOfUser:t?.isFirstOfUser}))})))},o7=(e,t)=>{function n(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=d.current;t&&setTimeout((()=>{e?t.scrollTo({left:0,behavior:"smooth",top:t.scrollHeight}):t.scrollTop=t.scrollHeight}))}const{_e:r,messages:i,isLoading:o,onLoadMore:s,components:a,mentions:l,language:c}=r6();MS.useImperativeHandle(t,(()=>({scrollToBottom:()=>n()})));const u=MS.useRef(i.length?i[i.length-1]:null),d=MS.useRef(null),[f,h]=MS.useState(!0),[p,m]=MS.useState(null),g=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null,i=!0;return function(){const o=()=>{e.apply(this,arguments),r=null};n&&i&&(i=!1,o()),r||(r=setTimeout(o,t))}}((()=>{const e=d.current;e&&(-1*e.scrollTop+e.clientHeight>e.scrollHeight-50&&s(),-1*e.scrollTop<50?h(!0):h(!1))}),300);MS.useEffect((()=>{f&&(u.current=i.length?i[i.length-1]:null)}),[f,i]),MS.useEffect((()=>{function e(e){const t=d.current,n=e.target;let r=null;if(t?.contains(n)&&n?.hasAttribute("data-lexical-mention")){const t=n.getAttribute("data-mentioned-id"),i=p?.getAttribute("data-mentioned-id");t&&t!==i&&(e.preventDefault(),r=n)}m(r)}return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[d,p]);const v=l.enable&&l.preview.enable&&p&&l.preview.getUserById(p.getAttribute("data-mentioned-id"));return o&&i.length<1?MS.createElement("div",{className:"messages-list loading"},a?.Loading?MS.createElement(a.Loading,null):null):i.length<1?MS.createElement("div",{className:"messages-list empty"},a?.EmptyMessages?MS.createElement(a.EmptyMessages,null):MS.createElement(MS.Fragment,null,MS.createElement(r7,null),MS.createElement("span",null,r("noMsgsyet")))):MS.createElement("div",{className:"messages-list"},MS.createElement("div",{onScroll:g,ref:d,className:"messages-list-content",id:"messages-list-scrollable"},MS.createElement("ul",null,MS.createElement(i7,null))),!f&&MS.createElement(t7,{onClick:function(e){e.preventDefault(),n()},count:OE(i,u.current)}),v&&MS.createElement(F3,HE({},v,{referenceElement:p,boundaries:{padding:20,boundary:d.current??void 0},direction:"ar"===c?"rtl":"ltr",displayEmail:!1,getEditorParent:()=>d.current?.parentElement?.parentElement?.querySelector(".chat-form")??document.body})))};var s7=MS.forwardRef(o7);const a7=e=>{let{children:t,onDragStart:n=(()=>{}),onDragLeave:r=(()=>{}),onDragOver:i=(()=>{}),onDragEnd:o=(()=>{}),onDrop:s=(()=>{})}=e;return MS.cloneElement(t,{onDragEnter:function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.add("drag-over"),n(e)},onDragOver:function(e){e.preventDefault(),e.stopPropagation(),i(e)},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("drag-over"),r(e)},onDragEnd:function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("drag-over"),o(e)},onDrop:function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("drag-over"),s(e)}})},l7=()=>{const e=MS.useRef(null),{components:t,maxAttachmentsCount:n,onError:r,allowedExtensions:i,_e:o}=r6(),[s,a]=MS.useState([]),l=async e=>{e&&(e=>{let t=!1;a((function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const a=[...s,...e.filter((e=>{const n=s.some((t=>t.name===e.name&&t.size===e.size)),r=B4(e.name),o=i.includes(`.${r}`);return o||(t=!0),o&&!n}))];return a.length>n&&r({type:K4,message:o(`errors.${K4}`)}),a.slice(0,n)})),t&&r({type:q4,message:o(`errors.${q4}`)})})(Array.from(e).map((e=>Object.assign(e,{key:QN()}))))};return MS.createElement(a7,{onDrop:function(e){l(e.dataTransfer.files)}},MS.createElement("div",{className:"ana-react-chat"},MS.createElement(s7,{ref:e}),t?.AfterListSlot?MS.createElement(t.AfterListSlot,null):null,MS.createElement(T5,{onCreateMessage:function(){e.current&&e.current?.scrollToBottom()},attachedFiles:s,setAttachedFiles:a,attachFileHandler:l})))},c7=e=>MS.createElement(e6,e,MS.createElement(l7,null));var u7=MS.memo(c7);const d7={messages:{getMessage:SE,addMessage:function(e,t){const n=[...e];return kE(e,t)?DE(e,t):(n.push(t),n)},addMessages:function(e,t){const n=[];let r=[...t];for(const i of e){const e=t.findIndex((e=>e.id===i.id));if(-1===e){n.push(i);continue}const o=t[e];o.isPending||o.uploading||o.hasError?(n.push(o),r=TE(r,o.id)):n.push(i)}return[...n,...r.filter((e=>{let{isPending:t,uploading:n,hasError:r}=e;return t||n||r}))]},isMessageExist:kE,updateMessage:DE,deleteMessage:TE},message:{createMessage:e=>({...e,isPending:!1,uploading:!0}),createMessageSuccess:e=>(delete e.uploading,delete e.isPending,e),createMessageFailed:e=>({...e,uploading:!1,isPending:!0}),updateMessage:e=>({...e,isPending:!1,uploading:!0}),updateMessageSuccess:e=>(delete e.uploading,delete e.isPending,e),updateMessageFailed:e=>({...e,uploading:!1,isPending:!0}),deleteFile:e=>({...e,isDeleted:!0}),deleteFileFailed:e=>(delete e.isDeleted,e),uploadSuccess:(e,t)=>{const{name:n,size:r,url:i,id:o,mime_type:s}=e;return{...t,body:RE(n,r,i,o),type:"file",file:e}},uploadFailed:e=>({...e,uploading:!1,hasError:!0}),isFile:jE}},f7=e=>(0,ND.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...e,children:[(0,ND.jsx)("style",{children:"@keyframes spinner_T6mA{8.3%{transform:rotate(30deg)}16.6%{transform:rotate(60deg)}25%{transform:rotate(90deg)}33.3%{transform:rotate(120deg)}41.6%{transform:rotate(150deg)}50%{transform:rotate(180deg)}58.3%{transform:rotate(210deg)}66.6%{transform:rotate(240deg)}75%{transform:rotate(270deg)}83.3%{transform:rotate(300deg)}91.6%{transform:rotate(330deg)}100%{transform:rotate(360deg)}"}),(0,ND.jsxs)("g",{style:{transformOrigin:"center",animation:"spinner_T6mA .75s step-end infinite"},children:[(0,ND.jsx)("rect",{x:"11",y:"1",width:"2",height:"5",opacity:".14"}),(0,ND.jsx)("rect",{x:"11",y:"1",width:"2",height:"5",transform:"rotate(30 12 12)",opacity:".29"}),(0,ND.jsx)("rect",{x:"11",y:"1",width:"2",height:"5",transform:"rotate(60 12 12)",opacity:".43"}),(0,ND.jsx)("rect",{x:"11",y:"1",width:"2",height:"5",transform:"rotate(90 12 12)",opacity:".57"}),(0,ND.jsx)("rect",{x:"11",y:"1",width:"2",height:"5",transform:"rotate(120 12 12)",opacity:".71"}),(0,ND.jsx)("rect",{x:"11",y:"1",width:"2",height:"5",transform:"rotate(150 12 12)",opacity:".86"}),(0,ND.jsx)("rect",{x:"11",y:"1",width:"2",height:"5",transform:"rotate(180 12 12)"})]})]}),h7=window.location.origin,p7=$D().create(),m7=["create_msg","reply_own","reply_others"],g7=[""],v7=[""],y7=function(){const[e,t]=MS.useState("ar"),[n,r]=MS.useState([]),[i,o]=(0,MS.useState)(!0),[s,a]=MS.useState(),[l,c]=MS.useState([]),u=document.querySelector("#chat_container"),d=document.getElementById("user_token"),[f,h]=MS.useState(null),[p,m]=(0,MS.useState)(600),g=()=>{let e=function(){let e=$("body").hasClass("hsoub-header-exist"),t=$("body").hasClass("hsoub-tab-bar-exist"),n=$("body").hasClass("hsoub-tab-bar-hidden"),r=$(window).height(),i=parseFloat($(".page_header").css("height")),o=parseFloat($(".tabs").css("height"));Number.isNaN(o)&&(o=0),i=i+parseFloat($(".page_header").css("padding-top"))+o;let s=r-i;return t&&!n&&(s-=parseFloat($(".hsoub-tabs-list").css("height"))),e&&(s-=parseFloat($(".hsoub-header").css("height"))),s}();window.innerWidth>=1024&&e<500&&(e=500),m(e)},v=(e,t)=>{var n="",r="",i="";switch(e){case"messages":n="/admin/messages/delete_message_reply",r="/admin/messages/undelete_message_reply",i="message_id";break;case"orders":n="/admin/comments/delete_comment",r="/admin/comments/undelete_comment",i="comment_id"}return t?[{action:"restore",label:"\u0627\u0633\u062a\u0639\u0627\u062f\u0629",Icon:vT,callback:(e,t)=>{$("#admin-action").attr("action",r),$("#admin-action-note").removeClass("hidden"),$("#delete-reason").addClass("hidden"),$("input[name="+i+"]").val(t.id),$("#admin-action-modal").modal("show")}}]:[{action:"restore",label:"\u062d\u0630\u0641",Icon:mT,callback:(e,t)=>{$("#admin-action").attr("action",n),$("#admin-action-note").addClass("hidden"),$("#delete-reason").removeClass("hidden"),$("input[name="+i+"]").val(t.id),$("#admin-action-modal").modal("show")}}]};(0,MS.useEffect)((()=>(g(),document.body.classList.remove("tab-bar"),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g))),[]),(0,MS.useEffect)((()=>{const e=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){this.addEventListener("load",(function(){if(this.responseURL.includes("/ajax/account"))try{const e=JSON.parse(this.responseText);0!=e.comments_data.length&&e.comments_data.forEach((e=>{b(e)})),window.dispatchEvent(new CustomEvent("externalData",{detail:e}))}catch(e){}}));for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)},(async()=>{Promise.all([await p7.get(h7+"/ajax/"+u.dataset.type+"/"+u.dataset.id)]).then((e=>{h(e[0].data.user),"admin"==u.dataset.target?(a(g7),r(e[0].data.messages.map((e=>({...e,actions:v(u.dataset.type,e.deleted)}))))):(e[0].data.closed||e[0].data.banned?(a(v7),$(".ana-react-chat").append('<div class="alert alert-warning chat-alert mb-0" role="alert"> \u0639\u0630\u0631\u064b\u0627 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0625\u0636\u0627\u0641\u0629 \u0631\u062f\u0648\u062f \u062c\u062f\u064a\u062f\u0629</div>')):a(m7),r(e[0].data.messages)),e[0].data.messages.filter((e=>e.deleted)).map((e=>e.id)).forEach((t=>{if($(`#${t} .content .message-item-container span:last`).addClass("u-clr--danger"),"admin"==u.dataset.target){var n=$(`#actions-${t}`).closest(".ana-react-chat .content");0==n.length&&(n=$(`#actions-${t}`).parent().next(".content")),n.addClass("chat-deleted-message"),n.attr("data-bs-toggle","tooltip"),n.attr("data-bs-placement","top"),n.attr("title",`${e[0].data.messages.find((e=>e.id===t)).delete_reason}`),new bootstrap.Tooltip(n)}})),o(!1)})).then((()=>{}))})()}),[]);const y=(e,t)=>{r((n=>n.map((n=>e.id===n.id?t:n))))},b=e=>{r((t=>d7.messages.addMessage(t,e)))},_=e=>{r((t=>d7.messages.updateMessage(t,e)))},w=e=>{let t;return t=e.file?{type:"file",file:e.file}:{type:e.type,content:e.body},e.reply_to_message_id&&(t.quoted_message_id=e.reply_to_message_id),t},C=(e,t)=>{const n=new FormData;return n.append("file",e),n.append("token",d.value),n.append("category",t),n.append("type",u.dataset.type),n.append("object_id",u.dataset.id),p7.post(h7+"/ajax/attachments/upload",n).then((e=>e.data)).catch((e=>{switch(e.response.status){case 401:Ze("\u063a\u064a\u0631 \u0645\u0635\u0631\u062d \u0644\u0643 \u0625\u062a\u0645\u0627\u0645 \u0627\u0644\u0639\u0645\u0644\u064a\u0629","danger");break;case 422:Ze(e.response.data.error,"danger")}}))},[x,E]=MS.useState(!1);return(0,ND.jsxs)(ND.Fragment,{children:[(0,ND.jsx)("div",{class:"flash-box"}),(0,ND.jsx)("div",{lang:e,className:"ana-plugin",children:(0,ND.jsx)("div",{className:"plugin-content",style:{height:p+"px"},children:(0,ND.jsx)(u7,{id:"khamsat-React-Chat",disableEmojis:!0,permissions:s,actions:l,language:e,messages:n,currentUser:f,useVoiceRecorder:!0,useScreenRecorder:!0,useVideoRecorder:!0,onCreateMessage:async function(e){r((t=>d7.messages.addMessage(t,d7.message.createMessage(e)))),p7.post(h7+"/ajax/"+u.dataset.type+"/"+u.dataset.id,{token:d.value,message:w(e)}).then((t=>{y(e,t.data.message)})).catch((t=>{switch(y(e,{...e,uploading:!1,isPending:!0,permissions:["create_msg","delete_own"]}),t.response.status){case 401:Ze("\u063a\u064a\u0631 \u0645\u0635\u0631\u062d \u0644\u0643 \u0625\u062a\u0645\u0627\u0645 \u0627\u0644\u0639\u0645\u0644\u064a\u0629","danger");break;case 422:Ze(t.response.data.message,"danger")}}))},onMaxRecordingSize:function(e){alert(e.message,e.metaData)},onUpdateMessage:async function(e){r((t=>d7.messages.updateMessage(t,d7.message.updateMessage(e)))),p7.put(h7+"/ajax/"+u.dataset.type+"/"+u.dataset.id+"/update/"+e.id,{token:d.value,message:e}).then((t=>{y(e,t.data.message)})).catch((()=>{}))},onDeleteMessage:function(e){r((t=>d7.messages.deleteMessage(t,e.id))),p7.delete(h7+"/ajax/"+u.dataset.type+"/"+u.dataset.id+"/delete/"+e.id,{token:d.value}).then((()=>{})).catch((()=>{}))},onUpload:(e,t,n)=>{var r=1024*Number(u.dataset.maxsize)*1024;if(e.size>=r)return void Ze(`\u064a\u062c\u0628 \u0623\u0644\u0627 \u064a\u0632\u064a\u062f \u062d\u062c\u0645 \u0627\u0644\u0645\u0644\u0641 \u0639\u0646 ${u.dataset.maxsize} \u0645\u064a\u062c\u0627 \u0628\u0627\u064a\u062a`,"danger");const i=d7.message.createMessage(t);b(i),C(e,n).then((e=>{const t=d7.message.uploadSuccess(e,i);return _(t),t})).then((e=>{p7.post(h7+"/ajax/"+u.dataset.type+"/"+u.dataset.id,{token:d.value,message:w(e)}).then((e=>{y(t,e.data.message)})).catch((()=>{}))})).catch((()=>{const e=d7.message.uploadFailed(i);_(e)}))},onChange:function(e){r(e)},onError:function(e){alert(e.message)},isLoading:i,components:{Loading:()=>($(".messages-list").removeClass("loading"),$(".messages-list").addClass("empty"),(0,ND.jsxs)(ND.Fragment,{children:[(0,ND.jsx)(f7,{}),(0,ND.jsx)("span",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0631\u0633\u0627\u0626\u0644"})]})),MessageUser:e=>{let{userImage:t,userTitle:n,message:r,time:i}=e;return(0,ND.jsxs)(ND.Fragment,{children:[(0,ND.jsx)("a",{href:r.user.profile,children:t}),(0,ND.jsxs)("div",{className:"metas",children:[(0,ND.jsx)("a",{href:r.user.profile,class:"metas-title",dir:"rtl",children:r.user.abbreviation_name}),i]})]})}},allowedExtensions:[".3gp",".7z",".7zip",".ai",".apk",".avi",".bin",".bmp",".bz2",".css",".csv",".doc",".docx",".egg",".flv",".gif",".gz",".h264",".htm",".html",".ia",".icns",".ico",".jpeg",".jpg",".m4v",".markdown",".md",".mdb",".mkv",".mov",".mp3",".mp4",".mpa",".mpeg",".mpg",".mpga",".octet-stream",".odp",".ods",".odt",".ogg",".otf",".pak",".pdf",".pea",".png",".pps",".ppt",".pptx",".psd",".rar",".rm",".rss",".rtf",".s7z",".sql",".svg",".tar",".tar.gz",".tbz2",".tex",".tgz",".tif",".tiff",".tlz",".ttf",".txt",".vob",".wav",".wma",".wmv",".xhtml",".xlr",".xls",".xlsx",".xml",".z",".zip",".zipx",".m4a",".mp4a",".oga",".webm",".webp"]})})})]})};document.getElementById("profile-builder_container")&&FS.render((0,ND.jsx)(hT,{}),document.getElementById("profile-builder_container")),document.getElementById("chat_container")&&FS.render((0,ND.jsx)(y7,{}),document.getElementById("chat_container"))})()})(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).noUiSlider={})}(this,(function(e){"use strict";function t(e){return"object"==typeof e&&"function"==typeof e.to}function n(e){e.parentElement.removeChild(e)}function r(e){return null!=e}function i(e){e.preventDefault()}function o(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function s(e,t,n){0<n&&(u(e,t),setTimeout((function(){d(e,t)}),n))}function a(e){return Math.max(Math.min(e,100),0)}function l(e){return Array.isArray(e)?e:[e]}function c(e){return 1<(e=(e=String(e)).split(".")).length?e[1].length:0}function u(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function d(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function f(e){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:(n?e.documentElement:e.body).scrollLeft,y:t?window.pageYOffset:(n?e.documentElement:e.body).scrollTop}}function h(e,t){return 100/(t-e)}function p(e,t,n){return 100*t/(e[n+1]-e[n])}function m(e,t){for(var n=1;e>=t[n];)n+=1;return n}function g(e,t,n){if(n>=e.slice(-1)[0])return 100;var r=e[(o=m(n,e))-1],i=e[o],o=(e=t[o-1],t[o]);return e+p(i=[r,i],i[0]<0?n+Math.abs(i[0]):n-i[0],0)/h(e,o)}function v(e,t,n,r){if(100===r)return r;var i=m(r,e),o=e[i-1],s=e[i];return n?(s-o)/2<r-o?s:o:t[i-1]?e[i-1]+(e=r-e[i-1],i=t[i-1],Math.round(e/i)*i):r}function y(e,t,n){var r;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.snap=t;var i=[];for(Object.keys(e).forEach((function(t){i.push([l(e[t]),t])})),i.sort((function(e,t){return e[0][0]-t[0][0]})),r=0;r<i.length;r++)this.handleEntryPoint(i[r][1],i[r][0]);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)this.handleStepPoint(r,this.xNumSteps[r])}function b(e,t){if(!o(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function _(e,t){if(!o(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=t}function w(e,t){if(!o(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=t}function C(e,t){if(!o(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=t}function x(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new q(t,e.snap||!1,e.singleStep)}function E(e,t){if(t=l(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function S(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=t}function k(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=t}function D(e,t){if("number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=t}function T(e,t){var n,r=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(n=1;n<e.handles;n++)r.push(t);r.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");r=t}e.connect=r}function A(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function N(e,t){if(!o(t))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==t&&(e.margin=e.spectrum.getDistance(t))}function O(e,t){if(!o(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function j(e,t){var n;if(!o(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&2!==t.length&&!o(t[0])&&!o(t[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==t){for(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getDistance(t[0]),e.spectrum.getDistance(t[1])],n=0;n<e.spectrum.xNumSteps.length-1;n++)if(e.padding[0][n]<0||e.padding[1][n]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var r=t[0]+t[1];t=e.spectrum.xVal[0];if(1<r/(e.spectrum.xVal[e.spectrum.xVal.length-1]-t))throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function M(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function R(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=0<=t.indexOf("tap"),r=0<=t.indexOf("drag"),i=0<=t.indexOf("fixed"),o=0<=t.indexOf("snap"),s=0<=t.indexOf("hover"),a=0<=t.indexOf("unconstrained"),l=0<=t.indexOf("invert-connects"),c=0<=t.indexOf("drag-all");t=0<=t.indexOf("smooth-steps");if(i){if(2!==e.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");N(e,e.start[1]-e.start[0])}if(l&&2!==e.handles)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(a&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:n||o,drag:r,dragAll:c,smoothSteps:t,fixed:i,snap:o,hover:s,unconstrained:a,invertConnects:l}}function F(e,n){if(!1!==n)if(!0===n||t(n)){e.tooltips=[];for(var r=0;r<e.handles;r++)e.tooltips.push(n)}else{if((n=l(n)).length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");n.forEach((function(e){if("boolean"!=typeof e&&!t(e))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})),e.tooltips=n}}function L(e,t){if(t.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=t}function P(e,n){if(!t(n))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=n}function I(e,n){if(!t(r=n)||"function"!=typeof r.from)throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");var r;e.format=n}function $(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=t}function z(e,t){e.documentElement=t}function B(e,t){if("string"!=typeof t&&!1!==t)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function U(e,t){if("object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof e.cssPrefix?(e.cssClasses={},Object.keys(t).forEach((function(n){e.cssClasses[n]=e.cssPrefix+t[n]}))):e.cssClasses=t}function H(e){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:V,format:V},n={step:{r:!1,t:b},keyboardPageMultiplier:{r:!1,t:_},keyboardMultiplier:{r:!1,t:w},keyboardDefaultStep:{r:!1,t:C},start:{r:!0,t:E},connect:{r:!0,t:T},direction:{r:!0,t:M},snap:{r:!1,t:S},animate:{r:!1,t:k},animationDuration:{r:!1,t:D},range:{r:!0,t:x},orientation:{r:!1,t:A},margin:{r:!1,t:N},limit:{r:!1,t:O},padding:{r:!1,t:j},behaviour:{r:!0,t:R},ariaFormat:{r:!1,t:P},format:{r:!1,t:I},tooltips:{r:!1,t:F},keyboardSupport:{r:!0,t:$},documentElement:{r:!1,t:z},cssPrefix:{r:!0,t:B},cssClasses:{r:!0,t:U},handleAttributes:{r:!1,t:L}},i={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:Y,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(n).forEach((function(o){if(r(e[o])||void 0!==i[o])n[o].t(t,(r(e[o])?e:i)[o]);else if(n[o].r)throw new Error("noUiSlider: '"+o+"' is required.")})),t.pips=e.pips;var o=void 0!==(s=document.createElement("div")).style.msTransform,s=void 0!==s.style.transform;return t.transformRule=s?"transform":o?"msTransform":"webkitTransform",t.style=[["left","top"],["right","bottom"]][t.dir][t.ort],t}function W(t,o,c){function h(e,t){var n=ve.createElement("div");return t&&u(n,t),e.appendChild(n),n}function p(e,t){e=h(e,o.cssClasses.origin);var n,r=h(e,o.cssClasses.handle);return h(r,o.cssClasses.touchArea),r.setAttribute("data-handle",String(t)),o.keyboardSupport&&(r.setAttribute("tabindex","0"),r.addEventListener("keydown",(function(e){return function(e,t){if(v()||y(t))return!1;var n=["Left","Right"],r=["Down","Up"],i=["PageDown","PageUp"],s=["Home","End"];o.dir&&!o.ort?n.reverse():o.ort&&!o.dir&&(r.reverse(),i.reverse());var a=e.key.replace("Arrow",""),l=a===i[0],c=a===i[1];i=a===r[0]||a===n[0]||l,r=a===r[1]||a===n[1]||c,n=a===s[0],s=a===s[1];if(!(i||r||n||s))return!0;if(e.preventDefault(),r||i){var u=i?0:1;if(null===(u=Z(t)[u]))return!1;!1===u&&(u=ue.getDefaultStep(fe[t],i,o.keyboardDefaultStep)),u*=c||l?o.keyboardPageMultiplier:o.keyboardMultiplier,u=Math.max(u,1e-7),u*=i?-1:1,u=de[t]+u}else u=s?o.spectrum.xVal[o.spectrum.xVal.length-1]:o.spectrum.xVal[0];return V(t,ue.toStepping(u),!0,!0),$("slide",t),$("update",t),$("change",t),$("set",t),!1}(e,t)}))),void 0!==o.handleAttributes&&(n=o.handleAttributes[t],Object.keys(n).forEach((function(e){r.setAttribute(e,n[e])}))),r.setAttribute("role","slider"),r.setAttribute("aria-orientation",o.ort?"vertical":"horizontal"),0===t?u(r,o.cssClasses.handleLower):t===o.handles-1&&u(r,o.cssClasses.handleUpper),e.handle=r,e}function m(e,t){return!!t&&h(e,o.cssClasses.connect)}function g(e,t){return!(!o.tooltips||!o.tooltips[t])&&h(e.firstChild,o.cssClasses.tooltip)}function v(){return ce.hasAttribute("disabled")}function y(e){return re[e].hasAttribute("disabled")}function b(){se&&(I("update"+J.tooltips),se.forEach((function(e){e&&n(e)})),se=null)}function _(){b(),se=re.map(g),P("update"+J.tooltips,(function(e,t,n){se&&o.tooltips&&!1!==se[t]&&(e=e[t],!0!==o.tooltips[t]&&(e=o.tooltips[t].to(n[t])),se[t].innerHTML=e)}))}function w(e,t){return e.map((function(e){return ue.fromStepping(t?ue.getStep(e):e)}))}function C(t){var n=function(t){if(t.mode===e.PipsMode.Range||t.mode===e.PipsMode.Steps)return ue.xVal;if(t.mode!==e.PipsMode.Count)return t.mode===e.PipsMode.Positions?w(t.values,t.stepped):t.mode===e.PipsMode.Values?t.stepped?t.values.map((function(e){return ue.fromStepping(ue.getStep(ue.toStepping(e)))})):t.values:[];if(t.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var n=t.values-1,r=100/n,i=[];n--;)i[n]=n*r;return i.push(100),w(i,t.stepped)}(t),r={},i=ue.xVal[0],o=ue.xVal[ue.xVal.length-1],s=!1,a=!1,l=0;return(n=n.slice().sort((function(e,t){return e-t})).filter((function(e){return!this[e]&&(this[e]=!0)}),{}))[0]!==i&&(n.unshift(i),s=!0),n[n.length-1]!==o&&(n.push(o),a=!0),n.forEach((function(i,o){var c,u,d,f,h,p,m,g,v=n[o+1],y=t.mode===e.PipsMode.Steps,b=(b=y?ue.xNumSteps[o]:b)||v-i;for(void 0===v&&(v=i),b=Math.max(b,1e-7),c=i;c<=v;c=Number((c+b).toFixed(7))){for(p=(f=(d=ue.toStepping(c))-l)/(t.density||1),g=f/(m=Math.round(p)),u=1;u<=m;u+=1)r[(h=l+u*g).toFixed(5)]=[ue.fromStepping(h),0];p=-1<n.indexOf(c)?e.PipsType.LargeValue:y?e.PipsType.SmallValue:e.PipsType.NoValue,!o&&s&&c!==v&&(p=0),c===v&&a||(r[d.toFixed(5)]=[c,p]),l=d}})),r}function x(t,n,r){function i(e,t){var n=t===o.cssClasses.value;return t+" "+(n?d:f)[o.ort]+" "+(n?l:c)[e]}var s,a=ve.createElement("div"),l=((s={})[e.PipsType.None]="",s[e.PipsType.NoValue]=o.cssClasses.valueNormal,s[e.PipsType.LargeValue]=o.cssClasses.valueLarge,s[e.PipsType.SmallValue]=o.cssClasses.valueSub,s),c=((s={})[e.PipsType.None]="",s[e.PipsType.NoValue]=o.cssClasses.markerNormal,s[e.PipsType.LargeValue]=o.cssClasses.markerLarge,s[e.PipsType.SmallValue]=o.cssClasses.markerSub,s),d=[o.cssClasses.valueHorizontal,o.cssClasses.valueVertical],f=[o.cssClasses.markerHorizontal,o.cssClasses.markerVertical];return u(a,o.cssClasses.pips),u(a,0===o.ort?o.cssClasses.pipsHorizontal:o.cssClasses.pipsVertical),Object.keys(t).forEach((function(s){var l,c,u;c=t[l=s][0],u=t[s][1],(u=n?n(c,u):u)!==e.PipsType.None&&((s=h(a,!1)).className=i(u,o.cssClasses.marker),s.style[o.style]=l+"%",u>e.PipsType.NoValue&&((s=h(a,!1)).className=i(u,o.cssClasses.value),s.setAttribute("data-value",String(c)),s.style[o.style]=l+"%",s.innerHTML=String(r.to(c))))})),a}function E(){oe&&(n(oe),oe=null)}function S(e){E();var t=C(e),n=e.filter;e=e.format||{to:function(e){return String(Math.round(e))}};return oe=ce.appendChild(x(t,n,e))}function k(){var e=te.getBoundingClientRect(),t="offset"+["Width","Height"][o.ort];return 0===o.ort?e.width||te[t]:e.height||te[t]}function D(e,t,n,r){function i(i){var s,a=function(e,t,n){var r=0===e.type.indexOf("touch"),i=0===e.type.indexOf("mouse"),o=0===e.type.indexOf("pointer"),s=0,a=0;if(0===e.type.indexOf("MSPointer")&&(o=!0),"mousedown"===e.type&&!e.buttons&&!e.touches)return!1;if(r){var l=function(t){return(t=t.target)===n||n.contains(t)||e.composed&&e.composedPath().shift()===n};if("touchstart"===e.type){if(1<(r=Array.prototype.filter.call(e.touches,l)).length)return!1;s=r[0].pageX,a=r[0].pageY}else{if(!(l=Array.prototype.find.call(e.changedTouches,l)))return!1;s=l.pageX,a=l.pageY}}return t=t||f(ve),(i||o)&&(s=e.clientX+t.x,a=e.clientY+t.y),e.pageOffset=t,e.points=[s,a],e.cursor=i||o,e}(i,r.pageOffset,r.target||t);return!!a&&!(v()&&!r.doNotReject)&&(s=ce,i=o.cssClasses.tap,!((s.classList?s.classList.contains(i):new RegExp("\\b"+i+"\\b").test(s.className))&&!r.doNotReject)&&!(e===ae.start&&void 0!==a.buttons&&1<a.buttons)&&(!r.hover||!a.buttons)&&(le||a.preventDefault(),a.calcPoint=a.points[o.ort],void n(a,r)))}var s=[];return e.split(" ").forEach((function(e){t.addEventListener(e,i,!!le&&{passive:!0}),s.push([e,i])})),s}function A(e){var t,n,r=a(r=100*(e-(r=te,t=o.ort,n=r.getBoundingClientRect(),r=(e=r.ownerDocument).documentElement,e=f(e),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(e.x=0),t?n.top+e.y-r.clientTop:n.left+e.x-r.clientLeft))/k());return o.dir?100-r:r}function N(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&j(e,t)}function O(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return j(e,t);U(0<(e=(o.dir?-1:1)*(e.calcPoint-t.startCalcPoint)),100*e/t.baseSize,t.locations,t.handleNumbers,t.connect)}function j(e,t){t.handle&&(d(t.handle,o.cssClasses.active),--pe),t.listeners.forEach((function(e){ye.removeEventListener(e[0],e[1])})),0===pe&&(d(ce,o.cssClasses.drag),q(),e.cursor&&(be.style.cursor="",be.removeEventListener("selectstart",i))),o.events.smoothSteps&&(t.handleNumbers.forEach((function(e){V(e,fe[e],!0,!0,!1,!1)})),t.handleNumbers.forEach((function(e){$("update",e)}))),t.handleNumbers.forEach((function(e){$("change",e),$("set",e),$("end",e)}))}function M(e,t){var n,r,s,a;t.handleNumbers.some(y)||(1===t.handleNumbers.length&&(a=re[t.handleNumbers[0]].children[0],pe+=1,u(a,o.cssClasses.active)),e.stopPropagation(),r=D(ae.move,ye,O,{target:e.target,handle:a,connect:t.connect,listeners:n=[],startCalcPoint:e.calcPoint,baseSize:k(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:fe.slice()}),s=D(ae.end,ye,j,{target:e.target,handle:a,listeners:n,doNotReject:!0,handleNumbers:t.handleNumbers}),a=D("mouseout",ye,N,{target:e.target,
handle:a,listeners:n,doNotReject:!0,handleNumbers:t.handleNumbers}),n.push.apply(n,r.concat(s,a)),e.cursor&&(be.style.cursor=getComputedStyle(e.target).cursor,1<re.length&&u(ce,o.cssClasses.drag),be.addEventListener("selectstart",i,!1)),t.handleNumbers.forEach((function(e){$("start",e)})))}function R(e){e.stopPropagation();var t,n,r,i=A(e.calcPoint),a=(t=i,r=!(n=100),re.forEach((function(e,i){var o,s;y(i)||(o=fe[i],((s=Math.abs(o-t))<n||s<=n&&o<t||100===s&&100===n)&&(r=i,n=s))})),r);!1!==a&&(o.events.snap||s(ce,o.cssClasses.tap,o.animationDuration),V(a,i,!0,!0),q(),$("slide",a,!0),$("update",a,!0),o.events.snap?M(e,{handleNumbers:[a]}):($("change",a,!0),$("set",a,!0)))}function F(e){e=A(e.calcPoint),e=ue.getStep(e);var t=ue.fromStepping(e);Object.keys(me).forEach((function(e){"hover"===e.split(".")[0]&&me[e].forEach((function(e){e.call(we,t)}))}))}function L(e){e.fixed||re.forEach((function(e,t){D(ae.start,e.children[0],M,{handleNumbers:[t]})})),e.tap&&D(ae.start,te,R,{}),e.hover&&D(ae.move,te,F,{hover:!0}),e.drag&&ie.forEach((function(t,n){var r,i,s,a,l;!1!==t&&0!==n&&n!==ie.length-1&&(r=re[n-1],i=re[n],s=[t],a=[r,i],l=[n-1,n],u(t,o.cssClasses.draggable),e.fixed&&(s.push(r.children[0]),s.push(i.children[0])),e.dragAll&&(a=re,l=he),s.forEach((function(e){D(ae.start,e,M,{handles:a,handleNumbers:l,connect:t})})))}))}function P(e,t){me[e]=me[e]||[],me[e].push(t),"update"===e.split(".")[0]&&re.forEach((function(e,t){$("update",t)}))}function I(e){var t=e&&e.split(".")[0],n=t?e.substring(t.length):e;Object.keys(me).forEach((function(e){var r=e.split(".")[0],i=e.substring(r.length);t&&t!==r||n&&n!==i||((r=i)!==J.aria&&r!==J.tooltips||n===i)&&delete me[e]}))}function $(e,t,n){Object.keys(me).forEach((function(r){var i=r.split(".")[0];e===i&&me[r].forEach((function(e){e.call(we,de.map(o.format.to),t,de.slice(),n||!1,fe.slice(),we)}))}))}function z(e,t,n,r,i,s,l){var c;return 1<re.length&&!o.events.unconstrained&&(r&&0<t&&(c=ue.getAbsoluteDistance(e[t-1],o.margin,!1),n=Math.max(n,c)),i&&t<re.length-1&&(c=ue.getAbsoluteDistance(e[t+1],o.margin,!0),n=Math.min(n,c))),1<re.length&&o.limit&&(r&&0<t&&(c=ue.getAbsoluteDistance(e[t-1],o.limit,!1),n=Math.min(n,c)),i&&t<re.length-1&&(c=ue.getAbsoluteDistance(e[t+1],o.limit,!0),n=Math.max(n,c))),o.padding&&(0===t&&(c=ue.getAbsoluteDistance(0,o.padding[0],!1),n=Math.max(n,c)),t===re.length-1&&(c=ue.getAbsoluteDistance(100,o.padding[1],!0),n=Math.min(n,c))),!((n=a(n=l?n:ue.getStep(n)))===e[t]&&!s)&&n}function B(e,t){var n=o.ort;return(n?t:e)+", "+(n?e:t)}function U(e,t,n,r,i){var s=n.slice(),a=r[0],l=o.events.smoothSteps,c=[!e,e],u=[e,!e];r=r.slice(),e&&r.reverse(),1<r.length?r.forEach((function(e,n){!1===(n=z(s,e,s[e]+t,c[n],u[n],!1,l))?t=0:(t=n-s[e],s[e]=n)})):c=u=[!0];var d=!1;r.forEach((function(e,r){d=V(e,n[e]+t,c[r],u[r],!1,l)||d})),d&&(r.forEach((function(e){$("update",e),$("slide",e)})),null!=i&&$("drag",a))}function W(e,t){return o.dir?100-e-t:e}function K(e,t){if(fe[e]=t,de[e]=ue.fromStepping(t),t="translate("+B(W(t,0)-_e+"%","0")+")",re[e].style[o.transformRule]=t,o.events.invertConnects&&1<fe.length&&(t=fe.every((function(e,t,n){return 0===t||e>=n[t-1]})),ge!==!t))return ge=!ge,T(o,o.connect.map((function(e){return!e}))),void ee();Y(e),Y(e+1),ge&&(Y(e-1),Y(e+2))}function q(){he.forEach((function(e){var t=50<fe[e]?-1:1;t=3+(re.length+t*e);re[e].style.zIndex=String(t)}))}function V(e,t,n,r,i,o){return!1!==(t=i?t:z(fe,e,t,n,r,!1,o))&&(K(e,t),!0)}function Y(e){var t,n,r;ie[e]&&(t=fe.slice(),ge&&t.sort((function(e,t){return e-t})),r=100,n="translate("+B(W(n=(n=0)!==e?t[e-1]:n,r=(r=e!==ie.length-1?t[e]:r)-n)+"%","0")+")",r="scale("+B(r/100,"1")+")",ie[e].style[o.transformRule]=n+" "+r)}function G(e,t){return null===e||!1===e||void 0===e?fe[t]:("number"==typeof e&&(e=String(e)),!1===(e=!1!==(e=o.format.from(e))?ue.toStepping(e):e)||isNaN(e)?fe[t]:e)}function X(e,t,n){var r=l(e);e=void 0===fe[0];t=void 0===t||t,o.animate&&!e&&s(ce,o.cssClasses.tap,o.animationDuration),he.forEach((function(e){V(e,G(r[e],e),!0,!1,n)}));var i,a=1===he.length?0:1;for(e&&ue.hasNoSize()&&(n=!0,fe[0]=0,1<he.length&&(i=100/(he.length-1),he.forEach((function(e){fe[e]=e*i}))));a<he.length;++a)he.forEach((function(e){V(e,fe[e],!0,!0,n)}));q(),he.forEach((function(e){$("update",e),null!==r[e]&&t&&$("set",e)}))}function Q(e){return(e=void 0!==e&&e)?1===de.length?de[0]:de.slice(0):1===(e=de.map(o.format.to)).length?e[0]:e}function Z(e){var t=fe[e],n=ue.getNearbySteps(t),r=de[e],i=n.thisStep.step;e=null;return o.snap?[r-n.stepBefore.startValue||null,n.stepAfter.startValue-r||null]:(!1!==i&&r+i>n.stepAfter.startValue&&(i=n.stepAfter.startValue-r),e=r>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&r-n.stepBefore.highestStep,100===t?i=null:0===t&&(e=null),t=ue.countStepDecimals(),null!==i&&!1!==i&&(i=Number(i.toFixed(t))),[e=null!==e&&!1!==e?Number(e.toFixed(t)):e,i])}function ee(){for(;ne.firstChild;)ne.removeChild(ne.firstChild);for(var e=0;e<=o.handles;e++)ie[e]=m(ne,o.connect[e]),Y(e);L({drag:o.events.drag,fixed:!0})}var te,ne,re,ie,oe,se,ae=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},le=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),ce=t,ue=o.spectrum,de=[],fe=[],he=[],pe=0,me={},ge=!1,ve=t.ownerDocument,ye=o.documentElement||ve.documentElement,be=ve.body,_e="rtl"===ve.dir||1===o.ort?0:100;u(t=ce,o.cssClasses.target),0===o.dir?u(t,o.cssClasses.ltr):u(t,o.cssClasses.rtl),0===o.ort?u(t,o.cssClasses.horizontal):u(t,o.cssClasses.vertical),u(t,"rtl"===getComputedStyle(t).direction?o.cssClasses.textDirectionRtl:o.cssClasses.textDirectionLtr),te=h(t,o.cssClasses.base),function(e,t){ne=h(t,o.cssClasses.connects),re=[],(ie=[]).push(m(ne,e[0]));for(var n=0;n<o.handles;n++)re.push(p(t,n)),he[n]=n,ie.push(m(ne,e[n+1]))}(o.connect,te),L(o.events),X(o.start),o.pips&&S(o.pips),o.tooltips&&_(),I("update"+J.aria),P("update"+J.aria,(function(e,t,n,r,i){he.forEach((function(e){var t=re[e],r=z(fe,e,0,!0,!0,!0),s=z(fe,e,100,!0,!0,!0),a=i[e];e=String(o.ariaFormat.to(n[e])),r=ue.fromStepping(r).toFixed(1),s=ue.fromStepping(s).toFixed(1),a=ue.fromStepping(a).toFixed(1);t.children[0].setAttribute("aria-valuemin",r),t.children[0].setAttribute("aria-valuemax",s),t.children[0].setAttribute("aria-valuenow",a),t.children[0].setAttribute("aria-valuetext",e)}))}));var we={destroy:function(){for(I(J.aria),I(J.tooltips),Object.keys(o.cssClasses).forEach((function(e){d(ce,o.cssClasses[e])}));ce.firstChild;)ce.removeChild(ce.firstChild);delete ce.noUiSlider},steps:function(){return he.map(Z)},on:P,off:I,get:Q,set:X,setHandle:function(e,t,n,r){if(!(0<=(e=Number(e))&&e<he.length))throw new Error("noUiSlider: invalid handle number, got: "+e);V(e,G(t,e),!0,!0,r),$("update",e),n&&$("set",e)},reset:function(e){X(o.start,e)},disable:function(e){null!=e?(re[e].setAttribute("disabled",""),re[e].handle.removeAttribute("tabindex")):(ce.setAttribute("disabled",""),re.forEach((function(e){e.handle.removeAttribute("tabindex")})))},enable:function(e){null!=e?(re[e].removeAttribute("disabled"),re[e].handle.setAttribute("tabindex","0")):(ce.removeAttribute("disabled"),re.forEach((function(e){e.removeAttribute("disabled"),e.handle.setAttribute("tabindex","0")})))},__moveHandles:function(e,t,n){U(e,t,fe,n)},options:c,updateOptions:function(e,t){var n=Q(),i=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];i.forEach((function(t){void 0!==e[t]&&(c[t]=e[t])}));var s=H(c);i.forEach((function(t){void 0!==e[t]&&(o[t]=s[t])})),ue=s.spectrum,o.margin=s.margin,o.limit=s.limit,o.padding=s.padding,o.pips?S(o.pips):E(),(o.tooltips?_:b)(),fe=[],X(r(e.start)?e.start:n,t),e.connect&&ee()},target:ce,removePips:E,removeTooltips:b,getPositions:function(){return fe.slice()},getTooltips:function(){return se},getOrigins:function(){return re},pips:S};return we}function K(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");return t=W(e,H(t),t),e.noUiSlider=t}e.PipsMode=void 0,(G=e.PipsMode||(e.PipsMode={})).Range="range",G.Steps="steps",G.Positions="positions",G.Count="count",G.Values="values",e.PipsType=void 0,(G=e.PipsType||(e.PipsType={}))[G.None=-1]="None",G[G.NoValue=0]="NoValue",G[G.LargeValue=1]="LargeValue",G[G.SmallValue=2]="SmallValue";var q=(y.prototype.getDistance=function(e){for(var t=[],n=0;n<this.xNumSteps.length-1;n++)t[n]=p(this.xVal,e,n);return t},y.prototype.getAbsoluteDistance=function(e,t,n){var r=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[r+1];)r++;else e===this.xPct[this.xPct.length-1]&&(r=this.xPct.length-2);n||e!==this.xPct[r+1]||r++;for(var i,o=1,s=(t=null===t?[]:t)[r],a=0,l=0,c=0,u=n?(e-this.xPct[r])/(this.xPct[r+1]-this.xPct[r]):(this.xPct[r+1]-e)/(this.xPct[r+1]-this.xPct[r]);0<s;)i=this.xPct[r+1+c]-this.xPct[r+c],100<t[r+c]*o+100-100*u?(a=i*u,o=(s-100*u)/t[r+c],u=1):(a=t[r+c]*i/100*o,o=0),n?(l-=a,1<=this.xPct.length+c&&c--):(l+=a,1<=this.xPct.length-c&&c++),s=t[r+c]*o;return e+l},y.prototype.toStepping=function(e){return g(this.xVal,this.xPct,e)},y.prototype.fromStepping=function(e){return function(e,t,n){if(100<=n)return e.slice(-1)[0];var r,i=e[(r=m(n,t))-1],o=e[r];return(n-(e=t[r-1]))*h(e,r=t[r])*((o=[i,o])[1]-o[0])/100+o[0]}(this.xVal,this.xPct,e)},y.prototype.getStep=function(e){return v(this.xPct,this.xSteps,this.snap,e)},y.prototype.getDefaultStep=function(e,t,n){var r=m(e,this.xPct);return(100===e||t&&e===this.xPct[r-1])&&(r=Math.max(r-1,1)),(this.xVal[r]-this.xVal[r-1])/n},y.prototype.getNearbySteps=function(e){return e=m(e,this.xPct),{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},y.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(c);return Math.max.apply(null,e)},y.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},y.prototype.convert=function(e){return this.getStep(this.toStepping(e))},y.prototype.handleEntryPoint=function(e,t){if(!o(e="min"===e?0:"max"===e?100:parseFloat(e))||!o(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(e),this.xVal.push(t[0]),t=Number(t[1]),e?this.xSteps.push(!isNaN(t)&&t):isNaN(t)||(this.xSteps[0]=t),this.xHighestCompleteStep.push(0)},y.prototype.handleStepPoint=function(e,t){t&&(this.xVal[e]!==this.xVal[e+1]?(this.xSteps[e]=p([this.xVal[e],this.xVal[e+1]],t,0)/h(this.xPct[e],this.xPct[e+1]),t=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],t=Math.ceil(Number(t.toFixed(3))-1),t=this.xVal[e]+this.xNumSteps[e]*t,this.xHighestCompleteStep[e]=t):this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e])},y),V={to:function(e){return void 0===e?"":e.toFixed(2)},from:Number},Y={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},J={tooltips:".__tooltips",aria:".__aria"},G={__spectrum:q,cssClasses:Y,create:K};e.create=K,e.cssClasses=Y,e.default=G,Object.defineProperty(e,"__esModule",{value:!0})}));